% html4.4ht (2021-02-14-13:56), generated from tex4ht-html4.tex
% Copyright 2009-2020 TeX Users Group
% Copyright 1997-2009 Eitan M. Gurari
%
% This work may be distributed and/or modified under the
% conditions of the LaTeX Project Public License, either
% version 1.3c of this license or (at your option) any
% later version. The latest version of this license is in
%   http://www.latex-project.org/lppl.txt
% and version 1.3c or later is part of all distributions
% of LaTeX version 2005/12/01 or later.
%
% This work has the LPPL maintenance status "maintained".
%
% The Current Maintainer of this work
% is the TeX4ht Project <http://tug.org/tex4ht>.
%
% If you modify this program, changing the
% version identification would be appreciated.
\immediate\write-1{version 2021-02-14-13:56}

\exit:ifnot{8859-6,% 
CJK,% 
IEEEtran,% 
JHEP,% 
Preamble,% 
ProTex,% 
SIunits,% 
aa,% 
abidir,% 
acm-proc-article-sp,% 
adjustbox,% 
algorithm,% 
algorithmic,% 
algorithmicx,% 
alltt,% 
alphanum,% 
amsart,% 
amsbook,% 
amscd,% 
amsdtx,% 
amsmath,% 
amsppt,% 
amsproc,% 
amstex1,% 
amsthm,% 
animate,% 
apa,% 
appendix,% 
arabicore,% 
array,% 
article,% 
austrian,% 
awesomebox,% 
babel,% 
beamer,% 
biblatex,% 
bibtopic,% 
book,% 
booktabs,% 
boxedminipage,% 
bussproofs,% 
catalan,% 
cgloss4e,% 
chapterbib,% 
color,% 
colortbl,% 
context,% 
covington,% 
cp1250,% 
cp1252,% 
cp1256,% 
cp437,% 
cp437de,% 
cp850,% 
cp852,% 
cp862,% 
cp865,% 
croatian,% 
csquotes,% 
curve,% 
czech,% 
danish,% 
debug,% 
diagram,% 
diagrams,% 
doc,% 
dratex,% 
dutch,% 
elsart,% 
emulateapj,% 
endfloat,% 
endnotes,% 
english,% 
enumerate,% 
enumitem,% 
epigraph,% 
eplain,% 
epsf,% 
esperant,% 
estonian,% 
europecv,% 
eurosym,% 
exam,% 
exerquiz,% 
fancybox,% 
fancyvrb,% 
finnish,% 
floatflt,% 
foils,% 
fontspec,% 
framed,% 
francais,% 
frenchb,% 
g-brief,% 
galician,% 
german,% 
germanb,% 
gloss,% 
glossary,% 
go,% 
graphics,% 
graphicx,% 
greek,% 
harvard,% 
hebrew,% 
hebtex,% 
hyperref,% 
index,% 
jeep,% 
jurabib,% 
koi8-r,% 
latex,% 
latin1,% 
latin2,% 
letter,% 
lineno,% 
linguex,% 
listings,% 
llncs,% 
lncse,% 
longdiv,% 
longtable,% 
ltugboat,% 
ltugproc,% 
ltxguide,% 
manju,% 
manmac,% 
mdframed,% 
mdwlist,% 
mdwtab,% 
memoir,% 
mex,% 
mfpic,% 
minitoc,% 
minted,% 
mls,% 
moreverb,% 
multicol,% 
multind,% 
multirow,% 
mwart,% 
mwbk,% 
mwrep,% 
ngerman,% 
ngermanb,% 
nicefrac,% 
nomencl,% 
norsk,% 
ntheorem,% 
ot4enc,% 
overpic,% 
paralist,% 
path,% 
pb-diagram,% 
pd1enc,% 
pgf,% 
picins,% 
pictex,% 
pifont,% 
plain,% 
polish,% 
polski,% 
polyglossia,% 
portuges,% 
powerdot,% 
proof,% 
prosper,% 
psfig,% 
pst-all,% 
pstricks,% 
pythontex,% 
reading,% 
report,% 
res,% 
resume,% 
revtex4,% 
rlbabel,% 
romanian,% 
rotating,% 
russianb,% 
scottish,% 
scrartcl,% 
scrbook,% 
scrjura,% 
scrreprt,% 
sectionbreak,% 
seminar,% 
seslideb,% 
sistyle,% 
skak,% 
slides,% 
slidesec,% 
slovak,% 
slovene,% 
soul,% 
spanish,% 
subcaption,% 
subeqnarray,% 
subfigure,% 
subscript,% 
supertabular,% 
sverb,% 
swedish,% 
syntax,% 
t2benc,% 
tabulary,% 
tcilatex,% 
tcolorbox,% 
tex4ht,% 
tex4ht2,% 
texinfo,% 
th4,% 
titlesec,% 
tugboat,% 
turkish,% 
ukraineb,% 
ulem,% 
url,% 
usorbian,% 
vanilla,% 
verbatim,% 
verse,% 
vowel,% 
web,% 
welsh,% 
wrapfig,% 
writer,% 
xcolor,% 
xy}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{Preamble}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    
\Configure{PROLOG}{VERSION,DOCTYPE,*XML-STYLESHEET}
\:CheckOption{mouseover} \if:Option
   \:CheckOption{xhtml} \if:Option  \else
   \:CheckOption{DOCTYPE} \if:Option
    \Log:Note{to request a DOCTYPE declaration
          use the command line option `DOCTYPE'}
   \else
      \edef\Preamble{\Preamble,no-DOCTYPE}
   \fi
\fi

\fi
\:CheckOption{no-DOCTYPE} \if:Option
  \:CheckOption{no-VERSION} \if:Option
     \Configure{PROLOG}{*XML-STYLESHEET}
  \else
     \Configure{PROLOG}{VERSION,*XML-STYLESHEET}
     \Log:Note{to remove the <?xml version=...?>  processing instruction
          use the command line option `no-VERSION'}

  \fi
\else
  \:CheckOption{no-VERSION} \if:Option
     \Configure{PROLOG}{DOCTYPE,*XML-STYLESHEET}
  \else
     \Log:Note{to remove the <?xml version=...?>  processing instruction
          use the command line option `no-VERSION'}

  \fi
  \Log:Note{to remove the DOCTYPE declaration
          use the command line option `no-DOCTYPE'}
\fi
\:CheckOption{frames-fn}  \if:Option
   \edef\Preamble{\Preamble,frames}
\fi

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{tex4ht}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \NewConfigure{frames-altDOCTYPE}{1}
\Configure{frames-altDOCTYPE}
   {\:CheckOption{xhtml}  \if:Option
   
\Configure{VERSION}
    {\HCode{<?xml version="1.0" encoding="\expandafter\ifx \csname a:charset\endcsname\relax
         \expandafter\:encoding\A:charset
   \else \expandafter\:encoding\a:charset\fi"
 ?>\Hnewline}}
%
\Configure{DOCTYPE}
  {\HCode{<!DOCTYPE html \xhtml:DOCTYPE>            \Hnewline
    <!--http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd-->
    \Hnewline}}
\def\xhtml:DOCTYPE{PUBLIC
    "-//W3C//DTD XHTML 1.0 Transitional//\expandafter
\ifx \csname a:dtd-lang\endcsname\relax EN\else
  \csname a:dtd-lang\endcsname
\fi
"\Hnewline
    \space\space
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"}
\Configure{@DOCTYPE}
  {<!ENTITY \% xhtml.dtd \xhtml:DOCTYPE>\Hnewline\%xhtml.dtd; \Hnewline}
%
   \def\:DTD{xhtml}
\else
   \Configure{DOCTYPE}{\IgnorePar\HCode
   {<!DOCTYPE html PUBLIC
              "-//W3C//DTD HTML 4.01 Transitional//\expandafter
\ifx \csname a:dtd-lang\endcsname\relax EN\else
  \csname a:dtd-lang\endcsname
\fi
"
    \Hnewline\space\space "http://www.w3.org/TR/html4/loose.dtd">
    \Hnewline}}
%
\fi
}
\:CheckOption{7}
    \if:Option \else \:CheckOption{6}\fi
    \if:Option \else \:CheckOption{5}\fi
    \if:Option \else \:CheckOption{4}\fi
    \if:Option \else \:CheckOption{3}\fi
    \if:Option \else \:CheckOption{2}\fi
    \if:Option \else \:CheckOption{1}\fi
\if:Option
    \:CheckOption{sec-filename}
    \if:Option
       \Configure{CutAt-filename}{%
   \ifx \:NxtNwFN\:Undef
      \tmp:toks={#2}%
\immediate\openout15=\jobname .tmp
\immediate\write15{\string\next{\the\tmp:toks}}%
\immediate\closeout15
\bgroup
  \def\next{\csname no:catcodes\endcsname{92}{92}{9}%
            \xdef\:temp}%
  \csname no:catcodes\endcsname{32}{47}{9}%
  \csname no:catcodes\endcsname{58}{64}{9}%
  \csname no:catcodes\endcsname{91}{91}{9}%
  \csname no:catcodes\endcsname{93}{96}{9}%
  \csname no:catcodes\endcsname{126}{126}{9}%
  \csname a:sec-filename*\endcsname
  \input \jobname .tmp
\egroup
%
      \immediate\openout15=\jobname .tmp
\immediate\write15{\string\next[\:temp]}%
\immediate\closeout15
\bgroup
  \def\next{\xdef\:temp}%
  \csname no:catcodes\endcsname{91}{91}{1}%
  \csname no:catcodes\endcsname{93}{93}{2}%
  \csname no:catcodes\endcsname{123}{123}{9}%
  \csname no:catcodes\endcsname{125}{125}{9}%
  \input \jobname .tmp
\egroup
%
      \tmp:cnt=0       \uniq:fn
   \fi
}
\def\uniq:fn{%
   \expandafter\ifx
        \csname ct:fn\:temp
                \ifnum \tmp:cnt>0 \the\tmp:cnt\fi\endcsname\relax
      \expandafter\global\expandafter\let
                  \csname ct:fn\:temp
                          \ifnum\tmp:cnt>0 \the\tmp:cnt\fi
                           \endcsname=\def
      \ifx \:temp\empty \else
         \NextFile{\:temp
                   \ifnum \tmp:cnt>0 \the\tmp:cnt\fi .\:html}%
      \fi
   \else
      \advance\tmp:cnt by 1 \expandafter\uniq:fn
   \fi
}
\NewConfigure{sec-filename*}{1}

    \else
       \Log:Note{For section filenames that reflect on
                 their titles use the command line
                 option `sec-filename'}
    \fi
\fi
\def\getClass#1{\expandafter
   \ifx \csname a:#1Class\endcsname\relax\else
      \csname a:#1Class\endcsname
   \fi}
\def\afterGetClass#1{\csname b:#1Class\endcsname}
\if:latex  \Hinclude{\input #1.4ht}{latex}

\else      \ifx \contextversion\Un:def
   \Hinclude{\input #1.4ht}{plain}
   \def\:temp{t}%
   \ifx \eplain\:temp
      \Hinclude{\input #1.4ht}{eplain}
   \fi
   \def\:temp{M\kern-.111em\lower.6ex\hbox{E}\kern-.075emX}
\ifx \nM@X\:temp
   \expandafter\ifx\csname emulateplain\endcsname\relax \else
     \Hinclude{\input #1.4ht}{mex}
\fi\fi

   \ifx \d@nger\:UnDef \else
      \let\leftheadline\empty
      \let\rightheadline\empty
      \Hinclude{\input #1.4ht}{manmac}
   \fi
\else
   \Hinclude{\input #1.4ht}{context}
\fi
  \fi
\NewConfigure{charset}[1]{\def\a:charset{#1}}
\def\:temp#1charset=#2,#3!*?: {%
   \if !#2!%
     \Log:Note{for alternative charset, use
          the command line option `charset=...'}
   \else \Configure{charset}{charset=#2}\fi}
\expandafter\:temp\Preamble ,charset=,!*?: 
\Configure{Link}{a}{href=}{id=}{}
\:CheckOption{NoFonts} \if:Option
   \NoFonts
\else
   \Log:Note{to ignore CSS font decoration, use the `NoFonts'
       command line option}
\fi
\Configure{HVerbatim+}{\z@}{\:nbsp}
\:CheckOption{jpg} \if:Option
   \Configure{Picture}{.jpg}
\else
   \Log:Note{for jpg bitmaps of pictures, use the `jpg'
       command line option. (Character bitmaps are controled only by `g' records of tex4ht.env and `-g'
switches of tex4ht.c)
}
\fi
\:CheckOption{gif} \if:Option
   \Configure{Picture}{.gif}
\else
   \Log:Note{for gif bitmaps of pictures, use the `gif'
       command line option. (Character bitmaps are controled only by `g' records of tex4ht.env and `-g'
switches of tex4ht.c)
}
\fi
\:CheckOption{hooks++} \if:Option
    \else \:CheckOption{hooks+}
          \if:Option \else \:CheckOption{hooks}\fi
    \fi
\if:Option
   \Configure{hooks}
      {\HCode{<strong class="hooks">&lt;}}{\HCode{&gt;</strong>}}{}{}
\fi

\:CheckOption{-css} \if:Option
   \def\Css#1{}
   \NewConfigure{CssFile}{2}
\else
   \ScriptCommand{\CssFile}{%
    \immediate\write-1{--- file \aa:CssFile\space ---}%
    \def\FontSize##1##2{\:Context{##1}\ht:special{t4ht;\%##2}\%}%
    \def\FontName##1{\:Context{##1}\ht:special{t4ht;=}}%
    \def\:Context##1{\ht:special{t4ht>\jobname.tmp}##1\ht:special
       {t4ht>\aa:CssFile}}%
    \ht:special{t4ht>\jobname.tmp}\ht:special{t4ht>\aa:CssFile}%
    \bgroup \everypar{}\NoFonts  \bb:CssFile \hfil\break}
  {\egroup \EndNoFonts
    \ht:special{t4ht<\aa:CssFile}\ht:special{t4ht<\jobname.tmp}}
\let\Css:File\CssFile
\def\CssFile{\futurelet\:temp\Css:Fl}
\def\Css:Fl{\ifx [\:temp  \expandafter\Css:fl
   \else \expand:after{\Css:File \space}\fi}
\def\Css:fl[#1]{\Css:File\space \css:files #1,,!*?: }
\def\css:files#1,#2!*?: {\def\:temp{#1}\ifx \:temp\empty
   \else \def\:temp{\in:css#1.!*?: \css:files#2,,!*?: }\fi
   \:temp }
\def\in:css#1.#2!*?: {\def\:temp{#2}\ifx \:temp\empty
      \inc:ss#1.css!*?: 
   \else \inc:ss#1.#2!*?: \fi}
\def\inc:ss#1.!*?: {     \immediate\openin15=#1
     \ifeof15 \immediate\closein15
        \:warning{Missing file: #1}%
     \else \immediate\closein15     \input #1 \fi
 }
\NewConfigure{CssFile}[2]{\def\aa:CssFile{#1}\def\bb:CssFile{#2}}
\def\Css#1{{\def\:temp{\Configure{Needs}}%
   \expandafter\:temp\expandafter{\aa:Css}\Needs{#1}}}

   \Configure{Preamble}
      {{\ifdim \lastskip>\z@ \unskip\fi  \IgnorePar\parindent\z@
\leavevmode}%
\immediate\write-1{--- file \aa:CssFile\space ---}%
\ht:special{t4ht>\aa:CssFile}\ht:special{t4ht=\Hnewline /* css.sty */}%
\ht:special{t4ht<\aa:CssFile}%
} {}
\fi

\ifx \a:FontCss:\:UnDef
   \Configure{FontCss}{Font\string_Css##1}
                   {Font\string_Css\string_Plus\space##1}
\fi
\expandafter\ifx \csname aa:Css\endcsname\relax
   \Configure{Css}{Css: ##1}
\fi
\:CheckOption{edit} \if:Option
   \Configure{edit}{\HCode{<strong>&lt;}}{\HCode{&gt;</strong>}}
                {<strong>&lt;}{&gt;</strong>}
\fi
\:CheckOption{hooks++} \if:Option
\else \:CheckOption{hooks+}  \if:Option
\else \:CheckOption{hooks}  \if:Option
\fi\fi\fi
\if:Option
   \Configure{hooks}
      {\HCode{<strong class="hooks">&lt;}}{\HCode{&gt;</strong>}}{}{}
\fi
\Configure{ExitHPage}{exit}{exit }{}
\Configure{TocLink}{\Link{#2}{#3}#4\ifvmode\IgnorePar\fi\EndLink}
\Configure{MiniHalign}{\hlg:a}{\hlg:b}\hlg:c\hlg:d{\hlg:e}\hlg:f
\:CheckOption{no-halign} \if:Option \else
  \Configure{noalign-}{}{}
\fi
\Configure{PictureAlt*+}
   {\let\sv:HtmlPar\HtmlPar   \let\HtmlPar\empty
     \def\PsCode##1{{\ht:special{\PsCodeSpecial##1}}}%
%
     \iffalse{\fi
\let\sv:halign\halign
\let\sv:cr\cr
\let\sv:crcr\crcr
\iffalse}\fi
\RecallTeXcr \let\halign \TeXhalign
%
     \NoFonts\csname PauseMathClass\endcsname \SUBOff \SUPOff
     \let\HCode\:gobble     
     \let\EndPicture\empty}
   {\let\HCode\:HCode
     \let\EndPicture\:UnDef \let\HtmlPar\sv:HtmlPar \SUBOn \SUPOn
     \csname EndPauseMathClass\endcsname \EndNoFonts
     \iffalse{\fi
\let\halign\sv:halign
\let\cr\sv:cr
\let\crcr\sv:crcr
\iffalse}\fi
%
     \let\PsCode\relax
}


\NewConfigure{AddCss}[1]{%
  {\Configure{Needs}{File: #1}\Needs{}}
  \Configure{@HEAD}{\HCode{<link rel="stylesheet" type="text/css" href="#1" />\Hnewline}}
}

\NewConfigure{AddJs}[1]{%
  {\Configure{Needs}{File: #1}\Needs{}}
  \Configure{@HEAD}{\HCode{\Hnewline<script type="text/javascript" src="#1"></script>\Hnewline}}
}


% \newcommand\AddFontFace[4]{%
\def\AddFontFace#1#2#3#4{%
\Css{@font-face {
    font-family: #1;
    src: local("#2"),
        url('#3');
    #4
 }}
 {\Configure{Needs}{File: #3}\Needs{}}
}


% If more font families are used, they need to have different names
\NewConfigure{FontFamily}{2}

\Configure{FontFamily}{rmfamily}{Latin Modern}

% Declarations for common font styles, just local family name and font file name are needed to be provided
\NewConfigure{NormalFont}[1]{\AddFontFace{\a:FontFamily}{\b:FontFamily}{#1}{font-weight: normal;font-style: normal;}}
\NewConfigure{BoldFont}[1]{\AddFontFace{\a:FontFamily}{\b:FontFamily}{#1}{font-weight: bold;font-style: normal;}}
\NewConfigure{ItalicFont}[1]{\AddFontFace{\a:FontFamily}{\b:FontFamily}{#1}{font-weight: normal;font-style: italic;}}
\NewConfigure{BoldItalicFont}[1]{\AddFontFace{\a:FontFamily}{\b:FontFamily}{#1}{font-weight: bold;font-style: italic;}}

  \Configure{writetoc}{}
\Configure{CutAtTITLE+}{}
\Configure{HPageTITLE+}{}
\Configure{AtBeginDocument}
  {\edef\recallcatcodes{%
      \catcode`\noexpand\_\the\catcode`\_
      \catcode`\noexpand\^\the\catcode`\^ }%
   \catcode`\_=8\catcode`\^=7}
  {\recallcatcodes}
\Configure{crosslinks}{[}{]
   }{next}{prev}{prev-tail}{front}{tail}{up}
\:CheckOption{next}     \if:Option
   \Configure{next+}
     {\ShowPar\par\noindent \HCode{<span class="next">}[}
     {]\HCode{</span>}}
   \Css{@media print {span.next {visibility:hidden;}}}
\fi

\Configure{halignTB}{\HCode{<table }}{\HCode{>}}
\def\R:HA{\HCode{<tr \Hnewline}\halignTR\HCode{>}}
\def\r:HA{\HCode{</tr>}}
\def\D:HA{\SaveEndP
 \HCode{<td
   \ifnum \HMultispan>1 colspan="\HMultispan"\fi}%
   \halignTD \HCode{\Hnewline>}\ShowPar\par}
\def\d:HA{\ifvmode \IgnorePar \fi \EndP\HCode{</td>}\RecallEndP
}
\Configure{HVerbatim+}{\z@}{\:nbsp}
\Configure{CssFile}{\jobname.css}
  {/* \aa:CssFile\space from \jobname.tex (TeX4ht) */}
\Configure{Picture+}{}{}
\Configure{Picture*}{}{}
\Configure{Picture-alt}{[Picture]}
\Configure{Needs}{l.
   \the\inputlineno\space--- needs --- #1 ---}
\Configure{Needs-}{l.
   \the\inputlineno\space--- needs --- #1 ---}
   \def\SPAN:#1{\HCode{<span class="#1">}}
   \def\EndSPAN:{\HCode{</span>}}
   \def\DIV:#1{\HCode{<div class="#1">}}
   \def\EndDIV:{\HCode{</div>}}

\Configure{moveright}{\leavevmode\endgraf }
\Configure{HChar}{x}

\Configure{TITLE+}{\HCode{\jobname.\:html}}

\ifx \a:DOCTYPE\relax
   \:CheckOption{frames}  \if:Option
      \:CheckOption{xhtml} \if:Option
   
\Configure{VERSION}
    {\HCode{<?xml version="1.0" encoding="\expandafter\ifx \csname a:charset\endcsname\relax
         \expandafter\:encoding\A:charset
   \else \expandafter\:encoding\a:charset\fi"
 ?>\Hnewline}}
%
   \Configure{DOCTYPE}
   {\HCode{<!DOCTYPE html PUBLIC
          "-//W3C//DTD XHTML 1.0 Frameset//\expandafter
\ifx \csname a:dtd-lang\endcsname\relax EN\else
  \csname a:dtd-lang\endcsname
\fi
"
    \Hnewline
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-frameset.dtd">\Hnewline}}
\else
   \Configure{DOCTYPE}
   {\HCode{<!DOCTYPE html PUBLIC
               "-//W3C//DTD HTML 4.01 Frameset//\expandafter
\ifx \csname a:dtd-lang\endcsname\relax EN\else
  \csname a:dtd-lang\endcsname
\fi
"
    \Hnewline "http://www.w3.org/TR/html4/frameset.dtd">\Hnewline}}
\fi

   \else
      \:CheckOption{xhtml}  \if:Option
   \NewConfigure{@DOCTYPE}[1]{\def\:temp{#1}%
      \ifx \:temp\empty  \let\a:@DOCTYPE\empty
      \else \ifx \a:@DOCTYPE\relax  \let\a:@DOCTYPE\empty\fi
        \pend:def\a:@DOCTYPE{#1}\fi}
   \let\a:@DOCTYPE\relax
\fi

      \:CheckOption{xhtml}  \if:Option
   
\Configure{VERSION}
    {\HCode{<?xml version="1.0" encoding="\expandafter\ifx \csname a:charset\endcsname\relax
         \expandafter\:encoding\A:charset
   \else \expandafter\:encoding\a:charset\fi"
 ?>\Hnewline}}
%
\Configure{DOCTYPE}
  {\HCode{<!DOCTYPE html \xhtml:DOCTYPE>            \Hnewline
    <!--http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd-->
    \Hnewline}}
\def\xhtml:DOCTYPE{PUBLIC
    "-//W3C//DTD XHTML 1.0 Transitional//\expandafter
\ifx \csname a:dtd-lang\endcsname\relax EN\else
  \csname a:dtd-lang\endcsname
\fi
"\Hnewline
    \space\space
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"}
\Configure{@DOCTYPE}
  {<!ENTITY \% xhtml.dtd \xhtml:DOCTYPE>\Hnewline\%xhtml.dtd; \Hnewline}
%
   \def\:DTD{xhtml}
\else
   \Configure{DOCTYPE}{\IgnorePar\HCode
   {<!DOCTYPE html PUBLIC
              "-//W3C//DTD HTML 4.01 Transitional//\expandafter
\ifx \csname a:dtd-lang\endcsname\relax EN\else
  \csname a:dtd-lang\endcsname
\fi
"
    \Hnewline\space\space "http://www.w3.org/TR/html4/loose.dtd">
    \Hnewline}}
%
\fi

   \fi
\fi
\def\:encoding#1={}

\ifx \a:HTML\:UnDef
   \Configure{HTML}
     {\IgnorePar\HCode{<html \a:@HTML
       \:xhtml{xmlns="http://www.w3.org/1999/xhtml"
\Hnewline}>\Hnewline}}
     {\ifvmode\IgnorePar\fi\HCode{</html>\Hnewline}}
\fi
\ifx \a:HEAD\:UnDef
   \Configure{HEAD}
      {\IgnorePar\NoFonts\HCode {<head>}}
      {\HCode{</head>}\EndNoFonts}
\fi
\ifx \a:BODY\:UnDef
   \:CheckOption{frames} \if:Option
      \def\Frame:Name{menu}
\:CheckOption{xhtml}  \if:Option
   \NewConfigure{@DOCTYPE}[1]{\def\:temp{#1}%
      \ifx \:temp\empty  \let\a:@DOCTYPE\empty
      \else \ifx \a:@DOCTYPE\relax  \let\a:@DOCTYPE\empty\fi
        \pend:def\a:@DOCTYPE{#1}\fi}
   \let\a:@DOCTYPE\relax
\fi
%
\Configure{BODY}
   {%
    \a:frames    \NoFrames    \PushStack\BODY:stack{}
    \:CheckOption{mouseover} \if:Option
   \Configure{BODY}
      {\PushStack\BODY:stack{x}%
       \:xhtml{\SaveEndP}\IgnorePar\HCode{<body\Hnewline
       \ifx\Frame:Name\empty\else id="tex4ht-\Frame:Name"\fi
       \csname a:!BODY\endcsname
         >}\HCode{<div id="overDiv"
         style="position:absolute;
                      visibility:hidden; z-index:1000;"></div>
}%
\ShowPar\par \let\Frame:Name=\empty}
      {\IgnorePar\:xhtml{\EndP}\PopStack\BODY:stack\:temp
        \ifx \:temp\empty \EndFrames \else
                              \HCode{\Hnewline </body>}\fi
        \:xhtml{\RecallEndP}}%
\else
   \Configure{BODY}
      {\PushStack\BODY:stack{x}%
       \:xhtml{\SaveEndP}\IgnorePar\HCode{<body\Hnewline
       \ifx\Frame:Name\empty\else id="tex4ht-\Frame:Name"\fi
       \csname a:!BODY\endcsname >}\ShowPar\par \let\Frame:Name\empty}
      {\IgnorePar\:xhtml{\EndP}\PopStack\BODY:stack\:temp
        \ifx \:temp\empty \EndFrames
                        \else \HCode{\Hnewline </body>}\fi
        \:xhtml{\RecallEndP}}%
\fi
%
    \csname a:frames-altDOCTYPE\endcsname
%
    \HPage[tex4ht-p1]{table of contents}%
       \par \ShowPar \Link{}{tex4ht-toc}\EndLink
       \bgroup
         \Configure{Link}{a}{target="tex4ht-main"  href=}{ id=}{}
         \b:frames
       \egroup
       \def\Frame:Name{main}
    \EndHPage{tex4ht-p1} \expandafter\Tg<br />
    \HPage[tex4ht-p2]{text}\par\ShowPar
        \Link{}{tex4ht-body}\EndLink
    }
  {\EndHPage{tex4ht-p2}}
\NewConfigure{frames}{2}
\Css{body\#tex4ht-menu {white-space: nowrap; }}

   \else
      \Log:Note{for content and toc
           in 2 frames, use the command line option `frames'}
      \Log:Note{for content, toc, and footnotes
           in 3 frames, use the command line option `frames-fn'}
      \:CheckOption{mouseover} \if:Option
   \Configure{BODY}
      {\:xhtml{\SaveEndP}\IgnorePar\HCode{<body\Hnewline
         \csname a:!BODY\endcsname >}\HCode{<div id="overDiv"
         style="position:absolute;
                      visibility:hidden; z-index:1000;"></div>
}%
\ShowPar\par}
      {\IgnorePar\:xhtml{\EndP}\HCode{\Hnewline
        </body>}\:xhtml{\RecallEndP}}%
\else
   \Configure{BODY}
      {\:xhtml{\SaveEndP}\IgnorePar\HCode{<body\Hnewline
         \csname a:!BODY\endcsname >}\ShowPar\par }
      {\IgnorePar\:xhtml{\EndP}\HCode{\Hnewline
        </body>}\:xhtml{\RecallEndP}}%
\fi

\fi\fi
\ifx \a:TITLE\:UnDef
   \Configure{TITLE}{\Protect\IgnorePar
      \HCode{<title>}}{\HCode{</title>\Hnewline}}
\fi
\ifx \a:@HEAD\relax \let\a:@HEAD=\empty\fi
\ifx \a:@HEAD\empty
   \:CheckOption{xht} \if:Option
   \:CheckOption{xhtml}\if:Option \else \:CheckOption{xml}\fi
\fi
\if:Option \:CheckOption{mathplayer} \if:Option
   \Configure{@HEAD}{\HCode{<!--\Hnewline
   <meta
   http-equiv="Content-Type" content="application/xhtml+xml;
      \expandafter\ifx \csname a:charset\endcsname\relax\A:charset
   \else \a:charset\fi"\xml:empty>\Hnewline
   see http://lists.w3.org/Archives/Public/www-math/2007May/0056.html \Hnewline
   -->\Hnewline}}
\else
   \Configure{@HEAD}{\HCode{<meta
   http-equiv="Content-Type" content="application/xhtml+xml;
      \expandafter\ifx \csname a:charset\endcsname\relax\A:charset
   \else \a:charset\fi"\xml:empty>\Hnewline}}
\fi
\Configure{ext}{xht}

\else      \Log:Note{for file extension name xht, use the command line option `xht'}%
\Configure{@HEAD}{\HCode{<meta
   http-equiv="Content-Type" content="text/html;
   \expandafter\ifx \csname a:charset\endcsname\relax\A:charset
   \else \a:charset\fi"\xml:empty>\Hnewline}}
\fi
\def\:gobbleM#1->{}
\Configure{@HEAD}{\HCode{<meta
    name="generator" content="TeX4ht
      (https://tug.org/tex4ht/)"\xml:empty>\Hnewline}}
\Configure{@HEAD}{\HCode{<meta
    name="originator" content="TeX4ht
      (https://tug.org/tex4ht/)"\xml:empty>\Hnewline
       <!--\space\expandafter\:gobbleM\meaning
               \Preamble\space-->\Hnewline}}

\immediate\write-1{TeX4ht package options:
    \expandafter\:gobbleM\meaning\Preamble}
\Configure{@HEAD}
   {\HCode{<meta name="src"
                 content="\jobname.tex"\xml:empty>\Hnewline}}
\:CheckOption{timestamp}\if:Option
\Configure{@HEAD}
   {\HCode{<meta name="date"
                 content="\:today"\xml:empty>\Hnewline}}
\else
  \Log:Note{To print a timestamp, use the command line option timestamp}
\fi

   \:CheckOption{-css} \if:Option \else
   \Log:Note{to ignore CSS code, use the command line option `-css}
   \:CheckOption{css-in} \if:Option
      \Log:Note{the inline CSS code is extracted from the input of the
          previous compilation, so an extra compilation might be needed}
      \Configure{@HEAD}{\openin15=\jobname .css
\ifeof15   \:warning{Missing file: \jobname .css }%
\else
\bgroup
   \catcode`\{=12  \catcode`\}=12  \catcode`\%=12  \catcode`\#=12
   \HCode{\Hnewline<style type="text/css">\Hnewline <!-- \Hnewline}%
   \loop
      \read15 to \:temp
      \def\:tempa{\par}\ifx \:temp\:tempa \let\:temp\empty \fi
   \ifeof15\else
      \expandafter\tmp:toks\expandafter{\:temp}%
      \HCode{\the\tmp:toks \Hnewline}%
   \repeat
   \HCode{\Hnewline-->\Hnewline</style>\Hnewline}%
\egroup
\fi
\closein15
}
   \else
      \Log:Note{for inline CSS code, use the command line option `css-in'}
      \Configure{@HEAD}{\HCode{<link
         rel="stylesheet" type="text/css"
         href="\aa:CssFile"\xml:empty>\Hnewline}}
   \fi
\fi

   \:CheckOption{uni-html4} \if:Option
   \def\A:charset{charset=utf-8}
   \def\a:charset{charset=utf-8}
\else
   \def\A:charset{charset=iso-8859-1}
\fi

\fi
\:CheckOption{mouseover} \if:Option
  \Configure{@HEAD}
  {\HCode{%
     <script type="text/javascript"
                 src="\jobname-js.js"></script>\Hnewline
     <script type="text/javascript" src="overlib.js"><!-- overLIB (c) Erik Bosrup --></script>
<!--https://github.com/overlib/overlib-->%
}}
\def\js:on{%
  \global\let\js:on=\relax
  \HCode{<!--}%
  \ht:special {t4ht@DCopyTo: \jobname-js.tex From js }%
%
  \HCode{\string\def\string\jstoday{\:today} }%
  \HCode{\string\input\space onmouseover.4ht }%
  \:CheckOption{trace-onmo} \if:Option
      \HCode{<js trace="on">}%
  \else
     \Log:Note{for mouseover tracing of
          compilation, use the command line option `trace-onmo'}
      \HCode{<js>}%
  \fi
  \ht:special {t4ht@DCopyTo: \jobname-js.tex Until js }%
%
  \HCode{-->}%
  \csname a:mouseover-Needs\endcsname
\Css{.js {text-indent:0; background-color:aqua; color:black;
   border:solid 1px black;  margin:2pt; width:99\%;}}
\Css{.js p, .js p.bibitem
, .js p.bibitem-p
 {text-indent:0;
   background-color:aqua; color:black; margin:2pt;}}
\AtEndDocument{{\HCode{<!--}%
  \ht:special {t4ht@DCopyTo: \jobname-js.tex From js }%
%
  \HCode{</js>}%
  \ht:special {t4ht@DCopyTo: \jobname-js.tex Until js }%
%
  \HCode{-->}}}%
}
\HAssign\MO:script = 0
\NewConfigure{mouseover-script}[1]{\bgroup
  \gHAdvance\MO:script by 1
  \expandafter\NextFile \expandafter{\jobname\MO:script.tmp}%
  \HPage{}\IgnorePar \ht:special {t4ht@DCopyTo: \jobname-js.tex From var }%
%
    \HCode{<\if !#1!\else mouseover-script\fi>#1\if !#1!\else =\fi}%
    \everyvbox{\IgnorePar\everyvbox{}\aftergroup\end:movar}%
    \def\end:movar{\everyvbox{}\HCode
                   {</\if !#1!\else mouseover-script\fi>}%
        \ht:special {t4ht@DCopyTo: \jobname-js.tex Until var }%
\EndHPage{}%
        \egroup}%
    \vbox}
\expandafter\def\csname c:mouseover-vars:\endcsname#1#2{%
   \expandafter\def\csname mouseover-#1-init\endcsname##1{}%
   \def\:tempc##1{\expandafter\append:defI\csname
      mouseover-#1-init\endcsname{tex4ht.##1=tex4ht.\expandafter\jsHash
      \expandafter{\expandafter v####1.##1};}}%
   \Mo:vars#2,<>}
\def\Mo:vars#1,#2<>{%
   \if !#1!\else
      \expandafter\def\csname mo#1\endcsname##1{%
          \HCode{<!--}%
          \ht:special{t4ht@DCopyTo: \jobname-js.tex From #1 }%
          \HCode{<#1-var>\jsHash{v##1.#1}=}%
          \ht:special{t4ht@DCopyTo: \jobname-js.tex Skip #1 }%
          \HCode{-->}%
          \ht:special{t4ht@DCopyTo: \jobname-js.tex Cont #1 }%
      }%
      \expandafter\def\csname endmo#1\endcsname{%
          \ht:special{t4ht@DCopyTo: \jobname-js.tex Skip #1 }%
          \HCode{<!--}%
          \ht:special{t4ht@DCopyTo: \jobname-js.tex Cont #1 }%
          \HCode{</#1-var>}%
          \ht:special{t4ht@DCopyTo: \jobname-js.tex Until #1 }%
          \HCode{-->}%
      }%
      \:tempc{#1}%
   \fi
   \if !#2!\else \expand:after{\Mo:vars#2<>}\fi
}
\expandafter\ifx \csname mouseover-Needs\endcsname\relax
  \NewConfigure{mouseover-Needs}{1}
  \Configure{mouseover-Needs}{\Needs{"mk4ht xhtex \jobname-js"}}
\fi
\def\mo:args#1#2#3{\expandafter
  \ifx \csname a:mouseover-#1-#2\endcsname\empty\else
  \expandafter \ifx \csname a:mouseover-#1-#2\endcsname\relax
    \expandafter \ifx \csname a:mouseover-#1\endcsname\empty
      \else
    \Hnewline
    onmouseover="tex4ht.body=tex4ht.#3; tex4ht.caption='#2';
            \expandafter\ifx \csname mouseover-#1-init\endcsname\relax
            \else \csname mouseover-#1-init\endcsname{#2}\fi
%
              return overlib(\csname a:mouseover-#1\endcsname);"
   \Hnewline    onmouseout="nd();"\Hnewline\fi
\else
    \Hnewline
 onmouseover="tex4ht.body=tex4ht.#3; tex4ht.caption='#2';
            \expandafter\ifx \csname mouseover-#1-init\endcsname\relax
            \else \csname mouseover-#1-init\endcsname{#2}\fi
%
            return overlib(\csname a:mouseover-#1-#2\endcsname);"
\Hnewline onmouseout="nd();"\Hnewline
\fi\fi}
\def\jsHash#1{\jsHash:a #1<>}
\def\jsHash:a#1#2<>{%
   \ifnum `#1<`0 JjV\else
   \ifnum `#1>`z jJv\else
   \ifnum `#1>`9
      \ifnum `#1<`A jJV\else
      \ifnum `#1>`Z
         \ifnum `#1<`a jVV\else #1\fi
      \else #1\fi\fi
   \else #1\fi\fi\fi
   \if !#2!\expandafter\done:hash
                       \else\expandafter\jsHash:a\fi#2<>}
\def\done:hash#1>{}
\expandafter\Odef\csname c:mouseover-?:\endcsname[#1]#2{%
  \def\:temp{#2}%
  \if !#1!\expandafter\let\csname a:mouseover-\:tempb\endcsname=\:temp
  \else \om:type#1,!*?: \fi}
\def\om:type#1,#2!*?: {%
  \if !#1!\else\expandafter
     \let\csname a:mouseover-\:tempb-#1\endcsname=\:temp\fi
  \ifx !#2!\else \def\:tempa{\om:type#2!*?: }\expandafter\:tempa \fi
}

\:CheckOption{info} \if:Option
   \Log:Note{Option `mouseover' is powered
  by the overlib.js utility of Erik Bosrup
  (http://www.bosrup.com/web/overlib/).}
\immediate\write-1{}
\immediate\write-1{The option requires two compilations of
  the source file.}
\immediate\write-1{}
\immediate\write-1{Use \string\Configure
  {mouseover-XXX}{...} to introduce extra arguments into the overlib
  function call `return overlib(...)'. XXX stands for
  `cite', `footnote', or 'gloss'. The default body is at tex4ht.body,
  and the default caption at tex4ht.caption. An empty parameter
  requests no  sensitivity of the  mouse for the
  specified type of entries.}
\immediate\write-1{}
\immediate\write-1{The variant \string\Configure
  {mouseover-XXX}[labels]{...} of the above command restricts the
  outcome just to the listed labels (i.e., the values listed
  in tex4ht.caption).}
\immediate\write-1{}
\immediate\write-1{The \string\Configure{mouseover-script}{variable-name}
  {javascript-code} command may be used to introduce code into the
  javascript file, as a content of a global variable when a name is
  given and as a bare code when the name is not given.  To be referenced,
  the name must be prefixed by ``tex4ht.'.}
\immediate\write-1{}
\immediate\write-1{The \string\Configure{mouseover-vars}{XXX}
  {variable-list} command introduces local variables, to be referenced
  with the prefix ``tex4ht.' on their names. In addition, for each
  variable YYY  it introduces a construct \string\moYYY
  {label}...\string\endmoYYY\space for selecting a value for the variable
  at the specified label.}
\immediate\write-1{}
\immediate\write-1{Example:}
\immediate\write-1{
  \string\Configure{mouseover-script}{var}{\HCode{<hr />}}}
\immediate\write-1{\string\Configure{mouseover-vars}{cite}{Author,Title}%
}
\immediate\write-1{\string\Configure {mouseover-cite}
     {tex4ht.body,CAPTION,tex4ht.caption+tex4ht.var,FULLHTML}%
.}
\immediate\write-1{
  \string\moAuthor{bb}A name\string\endmoAuthor }
\immediate\write-1{}
\immediate\write-1{The compilation indirectly invokes the
  command 'xhtex \string\jobname-js'.  An alternative format for
  the command can be requested within a configuration of
  the form \string\Configure{mouseover-Needs}{\string\Needs{"..."}}.
  The default setting is due to
  \string\Configure{mouseover-Needs}{\string\Needs{"xhtex
  \string\jobname-js"}}}
\immediate\write-1{In case \string\Configure{mouseover-Needs} is
  undefined, introduce the instruction
  \string\NewConfigure{mouseover-Needs}{1} before that command.
}

\fi

\else
  \Log:Note{for pop ups on mouse over,
          use the command line option `mouseover'}
\fi

\newif\ifHCond
\Configure{HtmlPar}
  {\EndP\HCode{<!--l. \the\inputlineno-->%
<p \csname a:!P\endcsname
         class="no\ifHCond par\else indent\fi" \a:LRdir>}}
  {\EndP\HCode{<!--l. \the\inputlineno-->%
<p \csname a:!P\endcsname
        class="\ifdim \parindent=\z@ no\fi indent" \a:LRdir>}}
  {\:xhtml{\Tg</p>}}
  {\:xhtml{\Tg</p>}}%

\NewConfigure{!P}[1]{\expandafter\concat:config\csname a:!P\endcsname{#1}}
\expandafter\let\csname a:!P\endcsname\relax
\Configure{!P}{}


\ifOption{p-indent}{%
\Css{p.noindent { text-indent: 0em }}
\Css{td p.noindent { text-indent: 0em; margin-top:0em; }}
\Css{p.nopar { text-indent: 0em; }}
\Css{p.indent{ text-indent: 1.5em }}
\Css{p{margin-top:0;margin-bottom:0}}
\Css{p.noindent  + p.noindent{margin-top:1em;}}
}{%
\Css{p{margin-top:0;margin-bottom:0}}
\Css{p.indent{text-indent:0;}}
\Css{p + p{margin-top:1em;}}
\Css{p + div, p + pre {margin-top:1em;}}
\Css{div + p, pre + p {margin-top:1em;}}
}
\Css{a {
  overflow-wrap: break-word;
  word-wrap: break-word;
  word-break: break-word;
  hyphens: auto;
}}
\NewConfigure{!BODY}[1]{\expandafter\concat:config
  \csname a:!BODY\endcsname{#1}}
\expandafter\let\csname a:!BODY\endcsname\relax
\Configure{!BODY}{}
\NewConfigure{LRdir}[1]{\concat:config\a:LRdir{#1}}
\let\a:LRdir\relax
\Configure{LRdir}{}
\Configure{crosslinks+}
   {\IgnorePar\EndP\HCode{<!--l. \the\inputlineno-->%
%
                          <div class="crosslinks"><p class="noindent">}}
   {\HCode{</p></div>}\par\ShowPar}
   {\IgnorePar\EndP\HCode{<!--l. \the\inputlineno-->%
%
                          <div class="crosslinks"><p class="noindent">}}
   {\HCode{</p></div>}\par\ShowPar}
\Css{@media print {div.crosslinks {visibility:hidden;}}}

\Configure{halignTR}
   {\HCode{ style="vertical-align:baseline;"}}
\Configure{halignTBL}
% %   {t}{\HCode{ valign="top"}}
% %   {b}{\HCode{ valign="baseline"}}
% %   {c}{\HCode{ valign="middle"}}
    {}

\Configure{halign}
   {\EndP
    \PushStack\Table:Stck\TableNo
    \gHAdvance\Next:TableNo by 1
    \global\let\TableNo=\Next:TableNo
    \halignTB{halign}}
   {\HCode{</table>}\PopStack\Table:Stck\TableNo}
   {\HCode{<tr \Hnewline}\halignTR\HCode{ id="TBL-\TableNo-\HRow-">}}
   {\HCode{</tr>}}
   {\SaveEndP
 \HCode{<td \ifnum \HMultispan>1 colspan="\HMultispan"\fi}%
   \halignTD \HCode{\Hnewline id="TBL-\TableNo-\HRow-\HCol">}\ShowPar\par}
   {\ifvmode \IgnorePar \fi \EndP\HCode{</td>}\RecallEndP
}
\Configure{pic-halign}{}
\Configure{halignTB<>}{halign}{\HCode{id="TBL-\TableNo" class="halign"\Hnewline }<>}
\HAssign\Next:TableNo0 \global\let\TableNo=\Next:TableNo
\Configure{halignTD} {}{}
   {<}{\HCode{ style="white-space:nowrap; text-align:left;"}}
   {-}{\HCode{ style="white-space:nowrap; text-align:center;"}}
   {>}{\HCode{ style="white-space:nowrap; text-align:right;"}}
   {^}{\HCode{ style="vertical-align:top; white-space:nowrap;"}}
   {=}{\HCode{ style="vertical-align:baseline; white-space:nowrap;"}}
   {|}{\HCode{ style="vertical-align:middle; white-space:nowrap;"}}
   {_}{\HCode{ style="vertical-align:bottom; white-space:nowrap;"}}
   {p}{\HCode{ style="white-space:normal; text-align:left;"}\Protect\a:HColWidth}
   {m}{\HCode{ style="white-space:nowrap; text-align:left; vertical-align:middle;"}}
   {b}{\HCode{ style="white-space:nowrap; text-align:left; vertical-align:baseline;"}}
   {}
\NewConfigure{HColWidth}{1}
\Configure{HColWidth}{}
\ifx \a:imgdir\:UnDef
   \let\a:imgdir=\empty
   \catcode`\:=12
      \expandafter
      \def\csname :temp\endcsname#1imgdir:#2,#3!*?: {%
         \if !#2!\else \expandafter
                          \def\csname a:imgdir\endcsname{#2}\fi}
      \expandafter\csname :temp\expandafter\endcsname
         \Preamble ,imgdir:,!*?: %
   \catcode`\:=11
   \Log:Note{for addressing images in
       a subdirectory,  use the command line option `imgdir:.../'}
\fi

\Configure{IMG}
  {\ht:special{t4ht=<img\Hnewline src="\a:imgdir  }}
  {\ht:special{t4ht=" alt="}}
  {" }
  {\ht:special{t4ht=" }}
  {\ht:special{t4ht=\xml:empty>}}
\Css{a img { border-top: 0; border-left: 0; border-right: 0; }}
\Configure{htf}{0}{+}{<span\Hnewline
   class="}{\%s}{-\%s}{x-x-\%d}{}{">}{</span>}
\ifx \a:imgdir\:UnDef
   \let\a:imgdir=\empty
   \catcode`\:=12
      \expandafter
      \def\csname :temp\endcsname#1imgdir:#2,#3!*?: {%
         \if !#2!\else \expandafter
                          \def\csname a:imgdir\endcsname{#2}\fi}
      \expandafter\csname :temp\expandafter\endcsname
         \Preamble ,imgdir:,!*?: %
   \catcode`\:=11
   \Log:Note{for addressing images in
       a subdirectory,  use the command line option `imgdir:.../'}
\fi

\Configure{htf}{1}{+}{<img\Hnewline
   src="\a:imgdir  }{" alt="}{" class="}{\%s}{-\%d}{x-x-\%x}{" />}
\Configure{htf}{3}{+}{<img\Hnewline
   src="\a:imgdir  }{" alt="}{" class="\%s-}{\%s}{-\%d}{x-x-\%x}%
   {" style="text-align:middle" />}
\Configure{htf}{4}{+}{<span\Hnewline
   class="}{}{}{}{}{small-caps">}{</span>}
\Configure{htf}{6}{+}{<u\Hnewline
   class="}{}{}{}{}{underline">}{</u>}
\Configure{htf}{8}{+}
   {<sup class="htf">}{}{}{}{}{}{</sup>}
\Configure{htf}{10}{+}
   {<span class="htf-cmbx">}{}{}{}{}{}{</span>}
\Configure{htf}{12}{+}
   {<span\Hnewline class="htf-calligraphy">}{}{}{}{}{}{</span>}
\Configure{htf}{14}{+}
   {<span\Hnewline class="htf-italic">}{}{}{}{}{}{</span>}
\Configure{htf}{16}{+}
   {<span\Hnewline class="htf-bold">}{}{}{}{}{}{</span>}
\Configure{htf}{18}{+}
   {<span\Hnewline class="htf-calligraphy-bold">}{}{}{}{}{}{</span>}
\Configure{htf}{20}{+}
   {<span\Hnewline class="htf-flip-hor">}{}{}{}{}{}{</span>}
\Configure{htf}{22}{+}
   {<sub class="htf">}{}{}{}{}{}{</sub>}
\Configure{htf}{24}{+}{<span\Hnewline
   class="}{}{}{}{}{small-caps">}{</span>}
\Configure{htf-css}{4}{.small-caps{font-variant: small-caps; }}
\Configure{htf-css}{10}{.htf-cmbx {font-weight: bold; font-style:normal;}}
\Configure{htf-css}{12}{.htf-calligraphy {font-family:cursive}}
\Configure{htf-css}{14}{.htf-italic {font-style: italic;}}
\Configure{htf-css}{16}{.htf-bold {font-weight: bold;}}
\Configure{htf-css}{12}{.htf-calligraphy-bold {font-family:cursive ;
   font-weight: bold; }}
\Configure{@Picture}{\:class}
\def\:class#1{ class="#1"
       \expandafter\ifx\csname a:@#1\endcsname\relax\else
       \csname a:@#1\endcsname\fi}
\Css{center { margin-top:1em; margin-bottom:1em; }}
\Css{td center { margin-top:0em; margin-bottom:0em; }}
\NewConfigure{Canvas}[4]{\ht:special{t4ht"%
   *<span\Hnewline class="Canvas">%
   *X<span style="position:relative;\Hnewline
     width:\%.2f#4;"></span></span>%
   **<span\Hnewline style="position:absolute; left:\%.2f#4;
     top:\%.2f#4;"\Hnewline class="Canvas-xy"><span\Hnewline
     class="Canvas-char">%
   *</span></span>%
   *<span class="Canvas-HR"\Hnewline style="position:absolute;
     left:\%.2f#4;top:\%.2f#4;width:\%.2f#4;"
     ><hr\Hnewline style="height:\%.2f#4;"></span>%
   *#1*#2*#1*#2*#3}}
\Configure{Canvas}{0.00000290646}{0.0}{0.5}{ex}
\Css{.Canvas { position:relative; }}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{tex4ht2}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \ifx \a:imgdir\empty\else
   \let\GIF:NAME=\gif:name
   \def\gif:name#1{%
     \let\:temp=\GIF:NAME
     \ifx \gif:nm\cond:imgs
        \def\:next{\edef\:tempa{#1}\expandafter\I:images \:tempa/....}%
     \else
        \def\:next{\GIF:NAME{#1}}%
      \fi \:next}

   \def\cond:imgs{\edef\gif:nm}

   \def\I:images#1/#2....{%
      \edef\:next{\noexpand\:temp{\:tempa}}%
      \if .#2.\else \edef\:next{\noexpand\no:images{\:tempa}}\fi
      \:next}
   \def\no:images#1{\let\a:imgdir=\empty \:temp{#1}}
\fi

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%




%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{latex}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{TocAt}
   {\let\sv:atoc\a:tableofcontents
\let\sv:btoc\b:tableofcontents
\let\sv:ctoc\c:tableofcontents
\let\sv:dtoc\d:tableofcontents
\let\sv:etoc\e:tableofcontents
%
    \Configure{tableofcontents}
       {\IgnorePar\EndP\HCode{<div class="\sec:typ TOCS">}\IgnorePar}
       {}{\IgnorePar\HCode{</div>}\ShowPar}{\HCode{<br />}}{}%
    \ifvmode \IgnorePar\fi \EndP
   }
   {\let\a:tableofcontents\sv:atoc
\let\b:tableofcontents\sv:btoc
\let\c:tableofcontents\sv:ctoc
\let\d:tableofcontents\sv:dtoc
\let\e:tableofcontents\sv:etoc
\par\ShowPar}
\Configure{TocAt*}
   {\let\sv:atoc\a:tableofcontents
\let\sv:btoc\b:tableofcontents
\let\sv:ctoc\c:tableofcontents
\let\sv:dtoc\d:tableofcontents
\let\sv:etoc\e:tableofcontents
%
    \Configure{tableofcontents}
       {\IgnorePar\EndP\HCode{<div class="\sec:typ TOCS">}\IgnorePar}
       {}{\IgnorePar\HCode{</div>}\ShowPar}{\HCode{<br />}}{}%
    \ifvmode \IgnorePar\fi \EndP
   }
   {\let\a:tableofcontents\sv:atoc
\let\b:tableofcontents\sv:btoc
\let\c:tableofcontents\sv:ctoc
\let\d:tableofcontents\sv:dtoc
\let\e:tableofcontents\sv:etoc
\par\ShowPar}
\:CheckOption{minitoc<} \if:Option
   \def\MiniToc:At{\TocAt}
\else
   \Log:Note{For mini tocs immediately aftter the header use the
            command line option `minitoc<'}
   \def\MiniToc:At{\TocAt*}
\fi
\Configure{tableofcontents}
   {\IgnorePar\EndP\HCode{<div class="tableofcontents"\a:LRdir>}\IgnorePar}
   {\ifTag{tex4ht-body}{\HCode{<br />}\Link{tex4ht-body}{}Home\EndLink}{}}
   {\IgnorePar\EndP\HCode{</div>}\ShowPar}
   {\HCode{<br />}}   {}
\Css{li p.indent { text-indent: 0em }}
\Css{li p:first-child{ margin-top:0em; }}
\Css{li p:last-child, li div:last-child { margin-bottom:0.5em; }}
\Css{li p\string ~ul:last-child,
     li p\string ~ol:last-child{ margin-bottom:0.5em; }}
\ConfigureEnv{trivlist}
   {}{\ShowPar
}{}{}
\ConfigureList{trivlist}%
   {\EndP\HCode{<dl \a:LRdir class="trivlist">}%
       \PushMacro\end:itm
\global\let\end:itm=\empty}
   {\PopMacro\end:itm \global\let\end:itm \end:itm
\EndP\HCode{</dd></dl>}\ShowPar}
   {\end:itm \global\def\end:itm{\EndP\Tg</dd>}\HCode{<dt
        class="trivlist">}\bgroup \bf}
   {\egroup\HCode{</dt><dd\Hnewline class="trivlist">}}
\ConfigureEnv{list}
   {}{\ShowPar
}{}{}
\ConfigureList{list}%
   {\EndP\HCode{<dl \a:LRdir class="list\expandafter\the
         \csname @listdepth\endcsname">}%
    \PushMacro\end:itm
\global\let\end:itm=\empty}
   {\PopMacro\end:itm \global\let\end:itm \end:itm
\EndP\HCode{</dd></dl>}\ShowPar}
   {\end:itm \global\def\end:itm{\EndP\Tg</dd>}\HCode{<dt
        class="list">}\bgroup \bf}
   {\egroup\HCode{</dt><dd\Hnewline class="list">}\par\ShowPar}
\ConfigureEnv{itemize}
   {\ifvmode \IgnorePar\fi \EndP}{\ShowPar
}
   {}{}
\ConfigureList{itemize}%
   {\EndP\HCode{<ul \a:LRdir
          class="\getClass{itemize}itemize\expandafter\the
          \csname @itemdepth\endcsname">}%
       \afterGetClass{itemize}%
       \PushMacro\end:itm
\global\let\end:itm=\empty}
   {\PopMacro\end:itm \global\let\end:itm \end:itm
\ifvmode \IgnorePar\fi
    \EndP\HCode{</li></ul>}\ShowPar}
   {\end:itm \global\def\end:itm{\EndP\Tg</li>}\DeleteMark}
   {\HCode{<li class="\getClass{li}itemize">}\afterGetClass{li}}
\NewConfigure{itemizeClass}{2}
\Configure{itemizeClass}{}{}
\NewConfigure{liClass}{2}
\Configure{liClass}{}{}
\ConfigureEnv{enumerate}
   {}{\ShowPar
}{}{}
\:CheckOption{enumerate-} \if:Option
   \ConfigureList{enumerate}%
      {\EndP\HCode{<ol \a:enumerate:\space
      class="enumerate\expandafter\the\csname @enumdepth\endcsname"
      \a:LRdir
     >}\PushMacro\end:itm
\global\let\end:itm=\empty
}
      {\PopMacro\end:itm \global\let\end:itm \end:itm
%
\EndP\HCode{</li></ol>}\ShowPar
}
      {\end:itm \gdef\end:itm{\EndP\Tg</li>}\DeleteMark
}
      {\HCode{<li class="enumerate" value="\expandafter\the\csname
   c@enum\romannumeral\the\@enumdepth\endcsname"\Hnewline>}\AnchorLabel
}
\else
   \:CheckOption{enumerate+} \if:Option
      \ConfigureList{enumerate}%
   {\EndP\HCode{<dl \a:LRdir class="enumerate">}%
      \PushMacro\end:itm
      \global\let\end:itm=\empty}
   {\PopMacro\end:itm \global\let\end:itm \end:itm
      \EndP\HCode{</dd></dl>}\ShowPar}
   {\end:itm \global\def\end:itm{\EndP\Tg</dd>}\HCode{<dt
        class="enumerate">}\bgroup \bf}
   {\egroup\EndP\HCode{</dt><dd\Hnewline class="enumerate">}}
\Css{dd.enumerate {margin-left: 2em;}}
\Css{dt.enumerate {float:left;
              clear:left;
              margin-right:0.5em;
              margin-left:0.5em;
              text-align:right; }}

   \else
      \ConfigureList{enumerate}%
         {\EndP\HCode{<ol \a:enumerate:\space
      class="enumerate\expandafter\the\csname @enumdepth\endcsname"
      \a:LRdir
     >}\PushMacro\end:itm
\global\let\end:itm=\empty
}
         {\PopMacro\end:itm \global\let\end:itm \end:itm
%
\EndP\HCode{</li></ol>}\ShowPar
}
         {\end:itm \gdef\end:itm{\EndP\Tg</li>}\DeleteMark
}
         {{\Configure{Link}{li}{}{ class="enumerate" id=}{}%
 \let\EndLink=\empty \AnchorLabel }%
}
      \Log:Note{for enumerated list elements with valued data,
                      use the command line option `enumerate+'}

   \fi
   \Log:Note{for enumerated list elements li's with value attributes,
                      use the command line option `enumerate-'}
\fi
\:CheckOption{css2} \if:Option
   \bgroup
   \def\textbullet{&\#x2219;}
   \def\textasteriskcentered{&\#x2217;}
   \Css{ul.itemize1 {list-style-type: none;}}
   \Css{ul.itemize1 li.itemize:before { display: marker;
                                  marker-offset: 0.5em;
                                        content: "\labelitemi\space" }}
   \Css{ul.itemize2 {list-style-type: none;}}
   \Css{ul.itemize2 li.itemize:before { display: marker;
                                  marker-offset: 0.5em;
                                        content: "\labelitemii\space" }}
   \Css{ul.itemize3 {list-style-type: none;}}
   \Css{ul.itemize3 li.itemize:before { display: marker;
                                  marker-offset: 0.5em;
                                        content: "\labelitemiii\space" }}
\egroup

\else
   \Log:Note{for CSS2 code, use the command line option `css2'}
\fi
\def\c:enumerate:#1{\c:enu #1!*?: }
\def\c:enu#1#2#3#4#5!*?: {%
\def\a:enumerate:{\ifcase \@enumdepth \or
         #1\or #2\or #3\or #4\else\fi #5}}
\Configure{enumerate}{{}{}{}{}}
\Css{.enumerate1    {list-style-type:decimal;}}
\Css{.enumerate2    {list-style-type:lower-alpha;}}
\Css{.enumerate3    {list-style-type:lower-roman;}}
\Css{.enumerate4    {list-style-type:upper-alpha;}}
\def\PictureAltex{\afterassignment\set:Img\tmp:toks}
\def\set:Img{\Picture*[\special{t4ht*=&&amp;}%
\special{t4ht*="&quot;}%
\special{t4ht*=<&lt;}%
\special{t4ht*=>&gt;}%
   \HCode{\the\tmp:toks}%
\special{t4ht*=}%
]{}\the\tmp:toks\EndPicture}
\Configure{pageref}
   {\HCode{<span class="pageref">}}
   {\HCode{</span>}}
   {\S}
\Configure{newtheorem}
   {\ifvmode\IgnorePar\fi\EndP
     \HCode{<div class="newtheorem">}\par\noindent\HCode{<span
           class="head">}}
   {\HCode{</span>}}
   {\ifvmode\IgnorePar\fi\EndP\HCode{</div>}\par\indent\ShowPar}
\Css{div.newtheorem { margin-bottom: 2em; margin-top: 2em;}}
\Configure{ }{\:nbsp}

\def\end:TTT{\ifvmode\IgnorePar\fi \EndP\HCode{</td></tr></table>}}
\:CheckOption{new-accents}     \if:Option \else
  \Configure{accents}
    {\expandafter\ifx \csname #1-num\endcsname\relax
       \ht:special{t4ht@+\string&{35}x#2{59}}x%
     \else
       \ht:special{t4ht@+\string&\#x#2;}X%
     \fi
    }
    {\expandafter\ifx \csname a:#1-css\endcsname\relax
        \Picture+{ \a:@Picture{#1}}#2{#3}\EndPicture
     \else
        \csname a:#1-css\endcsname #3\csname b:#1-css\endcsname
     \fi
    }
    \expandafter\let\csname ring-num\endcsname=\def
\fi

\Configure{obeylines}
   {\ifvmode \:xhtml{\IgnorePar\EndP}\IgnoreIndent
       \HCode{<div class="obeylines-v">}%
       \gdef\ob:ln{\ht:special{t4ht=</div>}}%
    \else
       \SaveEndP \HCode{<span class="obeylines-h">}%
       \gdef\ob:ln{\ht:special{t4ht=</span>}\RecallEndP}%
    \fi
   }
   {\EndP\ob:ln\ShowPar}
   {\hbox{\HCode{<br />}}}
\Css{.obeylines-h,.obeylines-v {white-space: nowrap; }}
\Css{div.obeylines-v p { margin-top:0; margin-bottom:0; }}
\Configure{overline}
   {\HCode{<span class="overline">}}
   {\HCode{</span>}}
\Css{.overline{ text-decoration:overline; }}
\Css{.overline img{ border-top: 1px solid black;  }}
\Configure{displaylines}
   {\IgnorePar \EndP
     \HCode{<table \Hnewline border="0" width="100\%"
         class="displaylines">}\IgnorePar}
   {\HCode{</table>}}
   {\HCode{<tr class="displaylines"><td \Hnewline
       style="vertical-align:baseline;" class="displaylines"
       >}}{\HCode{</td></tr>}}
\Css{td.displaylines {text-align:center; white-space:nowrap;}}
\def\:zbsp#1{cellpadding="0" border="0" \Hnewline
   class="#1"}
\Configure{centerline}{\ifvmode \IgnorePar
     \fi \EndP\HCode{<div \Hnewline
      class="centerline">}}{\EndP\HCode{</div>}\ShowPar}
\Configure{leftline}{\ifvmode \IgnorePar
     \fi \EndP \HCode{<p\Hnewline  class="leftline">}}
   {\HCode{</p>}\ShowPar}
\Configure{rightline}
   {\IgnorePar\EndP\HCode{<p class="rightline">}}
   {\HCode{</p>}\ShowPar}
\Css{.centerline {text-align:center;}}
\Css{.rightline {text-align:right;}}

\:CheckOption{pic-tabular}  \if:Option
   \ConfigureEnv{tabular}
     {\IgnorePar\EndP\Tg<div class="pic-tabular">\Picture*{}}
     {\EndPicture\Tg</div>}{}{}
   \Css{div.pic-tabular {text-align:center;}}
\else
   \Log:Note{for pictorial tabular,
                      use the command line option `pic-tabular'}
\fi
\Configure{hspace}{}{}{\:nbsp}
\Configure{ref}
   {\Link}
   {\ifx \RefArg\:UnDef\else
      \Tg<!--tex4ht:ref: \RefArg\space-->\fi\EndLink}
   {}
\ConfigureEnv{verbatim}{\env:verb{verbatim}}{\endenv:verb}{}{}
\ConfigureEnv{verbatim*}{\env:verb{verbatim}}{\endenv:verb}{}{}
\HAssign\verbatimN 0
\def\env:verb#1{\ifinner\else \vfill\break\fi
  \IgnorePar\EndP  \HAssign\Verb:N=0
  \gHAdvance\verbatimN by 1
  \HCode{<pre class="#1" id="verbatim-\verbatimN"\a:LRdir>}\EndNoFonts}
\def\endenv:verb{\NoFonts
  \EndP \ht:special{t4ht=</pre>}\ShowPar \par{\HCondtrue\noindent}%
}
\HAssign\Verb:N=0
\Css{pre.verbatim {font-family: monospace,monospace;
                   text-align:left;
                   clear:both;
 }}
\:CheckOption{pic-fbox} \if:Option
  \Configure{fbox}
    {\leavevmode\Picture+[]{ \a:@Picture{fbox}}} {\EndPicture}
\else
  \Log:Note{for bitmap fbox'es, use
          the command line option `pic-fbox'}
  \Configure{fbox}
     {\ifvmode \IgnorePar\EndP
               \HCode{<div class="fbox">}%
               \def\end:bx{\HCode{</div>}\par}%
      \else
               \HCode{<span class="fbox">}%
               \def\end:bx{\HCode{</span>}}%
      \fi}
     {\end:bx}
  \Css{.fbox {padding-left:\the\fboxsep;
                  padding-right:\the\fboxsep;
                  text-indent:0pt;
                  border:solid black \the\fboxrule;
      }}
  \Css{div.fbox {display:table}}
   \Css{div.center div.fbox {text-align:center; clear:both;
                             padding-left:3.0pt; padding-right:3.0pt;
                             text-indent:0pt; border:solid black 0.4pt; }}
\fi
\ConfigureEnv{minipage}
   {\IgnorePar\EndP
    \HCode{<div class="minipage">}%
    {\ifnum 0=`}\fi
   }
   {\ifnum 0=`{\fi}%
    \EndP\HCode{</div>}}
   {}{}
\Css{div.minipage{width:100\%;}}
\ConfigureEnv{picture}
   {\bgroup\ifvmode \Configure{HtmlPar}
      {\EndP\HCode{<!--l. \the\inputlineno-->%
}\HCode{<p
            class="center" \a:LRdir>}}%
      {\EndP\HCode{<!--l. \the\inputlineno-->%
}\HCode{<p
            class="center" \a:LRdir>}}%
      {\:xhtml{\Tg</p>}}{\:xhtml{\Tg</p>}} \ShowPar\leavevmode
    \fi}
   {\egroup}{}{}
\:CheckOption{no-bib} \if:Option\else
   \:CheckOption{mouseover} \if:Option
      \Configure{cite}
  {\HCode{<span class="cite">}}
  {\HCode{</span>}}
  {\Link[ \mo:args{cite}{\@citeb}{\expandafter
              \jsHash\expandafter{\expandafter X\@citeb}}%
]}
  {\EndLink }
\expandafter\def\csname c:mouseover-cite:\endcsname{%
  \def\:tempb{cite}\csname c:mouseover-?:\endcsname}
\Configure{mouseover-cite}{tex4ht.body,FULLHTML}

      \Configure{bibitem}
   {\bibitem:link}
   {\EndLink\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont bib }%
}
\def\bibitem:link#1#2{\ht:special {t4ht@DCopyTo: \jobname-js.tex Skip bib }%
\HCode
   {<!--}\ht:special {t4ht@DCopyTo: \jobname-js.tex Addr1 bib }%
\HCode{#2=}\ht:special {t4ht@DCopyTo: \jobname-js.tex Addr2 bib }%
\HCode
   {-->}\Link{#1}{#2}}

   \else
      \Configure{cite}
   {\HCode{<span class="cite">}}  {\HCode{</span>}}
   {\Link}         {\EndLink}

      \Configure{bibitem}{\Link}{\EndLink}

   \fi
\fi


\:CheckOption{frames}  \if:Option
   \:CheckOption{frames-fn}  \if:Option
      \Configure{frames}
         {\HorFrames[rows="*"]{*,3*}
            \VerFrames[cols="*"]{3*,*}
               \Frame[ name="tex4ht-menu"
                       frameborder="0" ]{tex4ht-toc}
               \Frame[ name="tex4ht-fn"
                       frameborder="0" ]{}
            \EndFrames
            \Frame[ name="tex4ht-main"
                    frameborder="0" ]{tex4ht-body}}
         {\let\contentsname=\empty \tableofcontents}
   \else
      \Configure{frames}
         {\HorFrames[rows="*"]{*,3*}
            \Frame[ name="tex4ht-menu"
                    frameborder="0" ]{tex4ht-toc}
            \Frame[ name="tex4ht-main"
                    frameborder="0" ]{tex4ht-body}}
         {\let\contentsname=\empty  \tableofcontents}
   \fi
\fi
\append:def\center{\par}
\ConfigureEnv{center}
  {\ifvmode \IgnorePar\fi \EndP}{\ShowPar
}
  {\EndP\IgnorePar
   \HCode{<div class="\getClass{center}"\Hnewline>}\ShowPar\endgraf
   \afterGetClass{center}}
  {\IgnorePar\EndP\HCode{</div>}}
\ConfigureEnv{flushleft}
  {\ifvmode \IgnorePar\fi \EndP}{\ShowPar
}
  {\EndP\IgnorePar
   \HCode{<div class="flushleft"\Hnewline>}\ShowPar\endgraf}
  {\IgnorePar\EndP\HCode{</div>}}
\ConfigureEnv{flushright}
  {\ifvmode \IgnorePar\fi \EndP}{\ShowPar
}
  {\EndP\IgnorePar
   \HCode{<div class="flushright"\Hnewline>}\ShowPar\endgraf}
  {\IgnorePar\EndP\HCode{</div>}}
\Css{div.center,
     div.center div.center {text-align: center;
   margin-left:1em; margin-right:1em;}}
\NewConfigure{centerClass}{2}
\Configure{centerClass}{center}{}
\Css{div.center div {text-align: left;}}
\Css{div.flushright,
     div.flushright div.flushright {text-align: right;}}
\Css{div.flushright div {text-align: left;}}
\Css{div.flushleft {text-align: left;}}
\Configure{underline}
   {\HCode{<span class="underline">}\:gobble}
   {\HCode{</span>}}
\Css{.underline{ text-decoration:underline; }}
\Css{.underline img{ border-bottom: 1px solid black;
                     margin-bottom:1pt; }}

\expandafter\let\csname tex4ht:4ht\endcsname\empty
\def\no:dupl#1#2{%
   \expandafter\ifx \csname #1:4ht\endcsname\relax
      \expandafter\let \csname #1:4ht\endcsname\empty
      \expand:after{#2}%
   \fi
}

\ifx\InputIfFileExists\UnDef%
\def\input:if:fileexists#1#2#3{%
   \openin15 #1.4ht%
   \ifeof15%
   #3%
   \else%
   \input #1%
   \fi\closein15%
}%
\else
\let\input:if:fileexists\InputIfFileExists%
\fi%
\Hinclude{\input #1.4ht}{fontmath}
\Hinclude{\@ifpackageloaded{colortbl}{%
      \no:dupl{array}{\input  array.4ht}%
      \no:dupl{color}{\input  color.4ht}%
      \no:dupl{colortbl}{\input  colortbl.4ht}%
    }{}}{colortbl}

\def\:strip:quotes"#1"#2"#3\relax{\if .#1.#2\else #1\fi}
\def\h:input#1.#2.#3!*?: {%
   \edef\:current:package{\:strip:quotes"#1""\relax}
   \:CheckOption{no_\:current:package}\if:Option
      \let\:temp\empty
   \else
      \let\:temp\empty
      \no:dupl{\:current:package}{%
        \def\:warn:msg{}
        \:CheckOption{debug}\if:Option
          \def\:warn:msg{%
            \:warning{No configuration file for \:current:package.\if .#2.tex\else #2\fi}%
          }
        \fi%
        \def\:temp{\input:if:fileexists{\:current:package.4ht}{}{\:warn:msg}}%
       }%
   \fi  \:temp}
\edef\:temp{\noexpand\Hinclude
   {\noexpand\h:input ##1..!*?: }{\@filelist}}
\:temp

\expandafter\let\csname tex4ht:4ht\endcsname\empty
\def\no:dupl#1#2{%
   \expandafter\ifx \csname #1:4ht\endcsname\relax
      \expandafter\let \csname #1:4ht\endcsname\empty
      \expand:after{#2}%
   \fi
}

\Hinclude{\ifx \PsfigVersion\:UnDef \else
      \no:dupl{#1}{\expand:after{\input psfig.4ht}}\fi}
   {psfig}
\Hinclude{\:CheckOption{#1}
   \if:Option     \no:dupl{#1}{\expand:after{\input #1.4ht}}\fi}
   {pictex}
\Hinclude{%
   \expandafter\ifx \csname PSTricksLoaded\endcsname\relax\else
                  \no:dupl{#1}{\expand:after{\input #1.4ht}}\fi}
   {pstricks}
\Hinclude{%
   \ifx \:DraCatCodes\:UnDef \else
                  \no:dupl{#1}{\expand:after{\input #1.4ht}}\fi}
   {dratex}
\Hinclude{%
   \ifx \xyloaded\:UnDef \else
                  \no:dupl{#1}{\expand:after{\input #1.4ht}}\fi}
   {xy}

\Hinclude{%
   \ifx \epsfsetgraph\:UnDef \else
                  \no:dupl{#1}{\expand:after{\input #1.4ht}}\fi}
   {epsf}

\Hinclude{%
   \ifx \diagram@help@messages\:UnDef \else
                  \no:dupl{#1}{\expand:after{\input #1.4ht}}\fi}
   {diagrams}

\Hinclude{%
   \ifx \figvisu\:UnDef \else
                  \no:dupl{#1}{\expand:after{\input #1.4ht}}\fi}
   {fig4tex}

\Hinclude{}
   {pctable}
\Hinclude{%
   \:CheckOption{xhtml}\if:Option \fi}
   {xhtml}
\Hinclude{\:CheckOption{#1}
      \if:Option\else   \:CheckOption{ShowFont}\fi
      \if:Option\else   \:CheckOption{frames-}\fi
      \if:Option\else   \:CheckOption{frames}\fi
      \if:Option\else   \:CheckOption{image-maps}\fi
      \if:Option\else   \:CheckOption{java}\fi
      \if:Option\else   \:CheckOption{javascript}\fi
      \if:Option \no:dupl{#1}{\expand:after{\input #1.4ht}}\fi}
   {th4}
\Hinclude{\ifx \sethebrew\:UnDef\else \ifx \ArabTeX\:UnDef\else
      \no:dupl{#1}{\expand:after{\input hebtex.4ht}}\fi \fi}
   {hebtex}

\ifx \ttfamily\:UnDef \else \Configure{tt}{\ttfamily} \fi
\Configure{hline}{\ifx \ar:cnt\:UnDef\else
      \o:noalign:{\append:def\hline:s{\a:HBorder}%
\def\:tempb{\ifnum \tmp:cnt<\ar:cnt
    \advance\tmp:cnt by 1 \append:def\hline:s{\b:HBorder}%
    \expandafter\:tempb
  \fi }%
\tmp:cnt0 \:tempb
\append:def\hline:s{\c:HBorder}\global\let\hline:s\hline:s
}%
      \expandafter\ignoreEndTr
   \fi}
\Configure{//[]}{\ifx \ar:cnt\:UnDef
   \else\o:noalign:{\append:def\vspc:s{\h:HBorder}%
\def\:tempb{\ifnum \tmp:cnt<\ar:cnt
    \advance\tmp:cnt by 1 \append:def\vspc:s{\i:HBorder}%
    \expandafter\:tempb
  \fi }
\tmp:cnt0 \:tempb
\append:def\vspc:s{\j:HBorder}\global\let\vspc:s\vspc:s
}\fi}
\:CheckOption{pic-framebox} \if:Option
  \Configure{framebox}
    {\Picture+[]{ \a:@Picture{framebox}}} {\EndPicture}
\else
  \Log:Note{for bitmap framebox'es, use
          the command line option `pic-framebox'}
  \Configure{framebox}
     {\HCode{<span class="framebox-\frameboxAlign"\Hnewline
                   style="width:\frameboxWidth;">}}
     {\HCode{</span>}}
  \Css{.framebox-c, .framebox-l, .framebox-r {
  padding-left:\the\fboxsep;
  padding-right:\the\fboxsep;
  text-indent:0pt;
  border:solid black \the\fboxrule;
}}
\Css{.framebox-c {text-align:center;}}
\Css{.framebox-l {text-align:left;}}
\Css{.framebox-r {text-align:right;}}

\fi
\Configure{oalign}{\Picture+{ \a:@Picture{oalign}}}{\EndPicture}
\Configure{TocLink}
  {\expandafter\ifx \csname #3-def\endcsname\relax
      \global\expandafter\let \csname #3-def\endcsname\def
      \Link{#2}{#3}%
   \else
      \Link{#2}{}%
   \fi
   {\Configure{ref}{}{}{}%
\let\EndLink=\empty
\let\H:Tag:attr\:gobbleII
\let\:::HRef\empty
\def\::hRef[##1]##2{}%
\def\::hRefTag[##1]##2##3{}%
\def\:::HRefTag##1##2{}%
\Configure{cite}{}{}{}{}%
%
#4}\ifvmode\IgnorePar\fi\EndLink}
\Configure{picture}
    {\Picture+[PICT]{}}
    {\EndPicture}
\Configure{add accent}{T1:2}
  {}{\ht:special{t4ht@+\string&\#x005E;}x}
  {}{}
\:CheckOption{new-accents}     \if:Option
   \:CheckOption{accent-}     \if:Option
  \Configure{HAccent}\acute{}{\Picture+{}}{\EndPicture}
  \Configure{HAccent}\bar{}{\Picture+{}}{\EndPicture}
  \Configure{HAccent}\breve{}{\Picture+{}}{\EndPicture}
  \Configure{HAccent}\check{}{\Picture+{}}{\EndPicture}
  \Configure{HAccent}\ddot{}{\Picture+{}}{\EndPicture}
  \Configure{HAccent}\dot{}{\Picture+{}}{\EndPicture}
  \Configure{HAccent}\grave{}{\Picture+{}}{\EndPicture}
  \Configure{HAccent}\hat{}{\Picture+{}}{\EndPicture}
  \Configure{HAccent}\tilde{}{\Picture+{}}{\EndPicture}
  \Configure{HAccent}\vec{}{\Picture+{}}{\EndPicture}
  \Configure{HAccent}\widehat{}{\Picture+{}}{\EndPicture}
  \Configure{HAccent}\widetilde{}{\Picture+{}}{\EndPicture}
\fi
\:CheckOption{mathaccent-}     \if:Option
  \Configure{HAccent}\"{}{\Picture+{}}{\EndPicture}
  \Configure{HAccent}\'{}{\Picture+{}}{\EndPicture}
  \Configure{HAccent}\.{}{\Picture+{}}{\EndPicture}
  \Configure{HAccent}\={}{\Picture+{}}{\EndPicture}
  \Configure{HAccent}\H{}{\Picture+{}}{\EndPicture}
  \Configure{HAccent}\^{}{\Picture+{}}{\EndPicture}
  \Configure{HAccent}\`{}{\Picture+{}}{\EndPicture}
  \Configure{HAccent}\b{}{\Picture+{}}{\EndPicture}
  \Configure{HAccent}\c{Cc{}}{\Picture+{}}{\EndPicture}
  \Configure{HAccent}\d{}{\Picture+{}}{\EndPicture}
  \Configure{HAccent}\t{}{\Picture+{}}{\EndPicture}
  \Configure{HAccent}\u{}{\Picture+{}}{\EndPicture}
  \Configure{HAccent}\v{}{\Picture+{}}{\EndPicture}
  \Configure{HAccent}\~{}{\Picture+{}}{\EndPicture}
\fi
\Configure{accent}{*}
   {<!--tex4ht:accent\Hnewline font="}{" char="}{" type="}{"-->}
   {<!--tex4ht:end accent-->}
\Configure{mathaccent}{*}
   {<!--tex4ht:mathaccent\Hnewline font="}{" char="}{" type="}{"-->}
   {<!--tex4ht:end mathaccent-->}
\Configure{accented}{*}
   {<!--tex4ht:accented\Hnewline font="}{" char="}{" type="}{"-->}
   {<!--tex4ht:end accented-->}
\Configure{accenting}{*}
   {<!--tex4ht:accenting\Hnewline-->}
   {<!--tex4ht:end accenting-->}

\else
   \Configure{accent}\widetilde\widetilde{{}{}}
   {\a:accents{widetilde}{#1}} {\b:accents{widetilde}{#1}{#2}}
\Configure{accent}\widehat\widehat{{}{}}
   {\a:accents{widehat}{#1}} {\b:accents{widehat}{#1}{#2}}

\expand:after{\Configure{accent}}\csname OT1\string\`\endcsname
   \grave{A{00C0}E{00C8}I{00CC}N{01F8}O{00D2}U{00D9}W{1E80}%
Y{1EF2}a{00E0}e{00E8}i{00EC}n{01F9}o{00F2}u{00F9}%
w{1E81}y{1EF3}\i{00EC}%
{}{}}
   {\a:accents{grave}{#1}}   {\b:accents{grave}{#1}{#2}}
\expand:after{\Configure{accent}}\csname OT1\string\'\endcsname
   \acute{A{00C1}C{0106}D{010E}E{00C9}G{01F4}I{00CD}L{0139}N{0143}%
O{00D3}R{0154}S{015A}U{00DA}Y{00DD}Z{0179}a{00E1}c{0107}%
d{010F}e{00E9}g{01F5}i{00ED}l{013A}n{0144}o{00F3}r{0155}%
s{015B}u{00FA}y{00FD}z{017A}j{FFFD}J{FFDD}\i{00ED}\j{FFFD}%
{}{}}
   {\a:accents{acute}{#1}}   {\b:accents{acute}{#1}{#2}}
\expand:after{\Configure{accent}}\csname OT1\string\^\endcsname
   \hat{A{00C2}E{00CA}I{00CE}O{00D4}U{00DB}a{00E2}e{00EA}%
i{00EE}o{00F4}u{00FB}C{0108}c{0109}G{011C}g{011D}%
H{0124}h{0125}J{0134}j{0135}S{015C}s{015D}W{0174}%
w{0175}Y{0176}y{0177}Z{1E90}z{1E91}\i{00EE}\j{0135}%
{}{}}
   {\a:accents{circ}{#1}}   {\b:accents{circ}{#1}{#2}}
\expand:after{\Configure{accent}}\csname OT1\string\~\endcsname
   \tilde{A{00C3}N{00D1}O{00D5}a{00E3}n{00F1}o{00F5}I{0128}%
i{0129}U{0168}u{0169}V{1E7C}v{1E7D}E{1EBC}e{1EBD}%
Y{1EF8}y{1EF9}\i{0129}%
{}{}}
   {\a:accents{tilde}{#1}}   {\b:accents{tilde}{#1}{#2}}
\expand:after{\Configure{accent}}\csname
           OT1\string\"\expandafter\endcsname
   \csname OT1\string\"\endcsname{H{1E26}h{1E27}W{1E84}w{1E85}X{1E8C}x{1E8D}%
t{1E97}A{00C4}E{00CB}I{00CF}O{00D6}U{00DC}%
a{00E4}e{00EB}i{00EF}o{00F6}u{00FC}y{00FF}%
Y{0178}\i{00EF}%
{}{34}}
   {\a:accents{uml}{#1}}     {\b:accents{uml}{#1}{#2}}
\Configure{accent}\ddot\ddot{H{1E26}h{1E27}W{1E84}w{1E85}X{1E8C}x{1E8D}%
t{1E97}A{00C4}E{00CB}I{00CF}O{00D6}U{00DC}%
a{00E4}e{00EB}i{00EF}o{00F6}u{00FC}y{00FF}%
Y{0178}\i{00EF}%
{}{34}}
   {\a:accents{uml}{#1}}     {\b:accents{uml}{#1}{#2}}
\expand:after{\Configure{accent}}\csname OT1\string\r\endcsname
   \mathring{A{00C5}a{00E5}U{016E}u{016F}%
{}{}}
   {\a:accents{ring}{#1}}   {\b:accents{ring}{#1}{#2}}
\expand:after{\expand:after{\Configure{accent}}%
   \csname OT1\string\c\endcsname}%
   \csname OT1\string\c\endcsname{K{0136}k{0137}L{013B}l{013C}N{0145}n{0146}%
R{0156}r{0157}S{015E}s{015F}T{0162}t{0163}%
E{0228}e{0229}D{1E10}d{1E11}H{1E28}h{1E29}%
C{00C7}c{00E7}G{0122}g{0123}%
{}{}}
   {\a:accents{cedil}{#1}}     {\b:accents{cedil}{#1}{#2}}
\expand:after{\expand:after{\Configure{accent}}%
   \csname OT1\string\t\endcsname}%
   \csname OT1\string\t\endcsname{{}{}}
   {\a:accents{udot}{#1}}     {\b:accents{udot}{#1}{#2}}
\expand:after{\expand:after{\Configure{accent}}%
   \csname OT1\string\H\endcsname}%
   \csname OT1\string\H\endcsname{o{0151}O{0150}U{0170}u{0171}%
{}{}}
   {\a:accents{Huml}{#1}} {\b:accents{Huml}{#1}{#2}}
\expand:after{\expand:after{\Configure{accent}}%
   \csname OT1\string\b\endcsname}%
   \csname OT1\string\b\endcsname{B{1E06}b{1E07}%
D{1E0E}d{1E0F}K{1E34}k{1E35}L{1E3A}l{1E3B}N{1E48}n{1E49}%
R{1E5E}r{1E5F}T{1E6E}t{1E6F}Z{1E94}z{1E95}h{1E96}%
{}{}}
   {\a:accents{b}{#1}}     {\b:accents{b}{#1}{#2}}
\expand:after{\expand:after{\Configure{accent}}%
   \csname OT1\string\d\endcsname}%
   \csname OT1\string\d\endcsname{A{1EA0}a{1Ea1}B{1E04}b{1E05}D{1E0C}d{1E0D}%
E{1EB8}e{1EB9}H{1E24}h{1E25}I{1ECA}i{1ECB}%
K{1E32}k{1E33}L{1E36}l{1E37}M{1E42}m{1E43}%
N{1E46}n{1E47}O{1ECC}o{1ECD}R{1E5A}r{1E5B}%
S{1E62}s{1E63}T{1E6C}t{1E6D}U{1EE4}u{1EE5}%
V{1E7E}v{1E7F}W{1E88}w{1E89}Y{1EF4}y{1EF5}%
{}{}}
   {\a:accents{d}{#1}}     {\b:accents{d}{#1}{#2}}
\expand:after{\Configure{accent}}\csname OT1\string\.\endcsname
   \dot{C{010A}c{010B}E{0116}e{0117}G{0120}g{0121}%
I{0130}Z{017B}z{017C}A{0226}a{0227}O{022E}%
o{022F}B{1E02}b{1E03}D{1E0A}d{1E0B}F{1E1E}%
f{1E1F}H{1E22}h{1E23}M{1E40}m{1E41}N{1E44}%
n{1E45}P{1E56}p{1E57}R{1E58}r{1E59}S{1E60}%
s{1E61}T{1E6A}t{1E6B}W{1E86}w{1E87}X{1E8A}%
x{1E8B}Y{1E8E}y{1E8F}%
{}{}}
   {\a:accents{dot}{#1}} {\b:accents{dot}{#1}{#2}}
\expand:after{\Configure{accent}}\csname OT1\string\u\endcsname
   \breve{g{011F}I{012C}i{012D}O{014E}o{014F}%
U{016C}u{016D}A{0102}a{0103}E{0114}%
e{0115}G{011E}\i{012D}%
{}{}}
   {\a:accents{breve}{#1}} {\b:accents{breve}{#1}{#2}}
\expand:after{\Configure{accent}}\csname OT1\string\vec\endcsname
   \vec{{}{}}
   {\a:accents{vec}{#1}} {\b:accents{vec}{#1}{#2}}
\expand:after{\Configure{accent}}\csname OT1\string\v\endcsname
   \check{C{010C}c{010D}D{010E}d{010F}%
E{011A}e{011B}L{013D}l{013E}N{0147}n{0148}R{0158}r{0159}%
S{0160}s{0161}T{0164}t{0165}Z{017D}z{017E}A{01CD}a{01CE}I{01CF}%
i{01D0}O{01D1}o{01D2}U{01D3}u{01D4}G{01E6}g{01E7}K{01E8}k{01E9}%
j{01F0}H{021E}h{021F}\i{01D0}\j{01F0}%
{}{}}
   {\a:accents{check}{#1}} {\b:accents{check}{#1}{#2}}
\expand:after{\Configure{accent}}\csname OT1\string\=\endcsname
   \bar{{}{}}
   {\a:accents{bar}{#1}} {\b:accents{bar}{#1}{#2}}
\expandafter\def
   \csname OT1\string\l\endcsname{\ht:special{t4ht@+\string&{35}x0142{59}}x}
\expandafter\def
   \csname OT1\string\L\endcsname{\ht:special{t4ht@+\string&{35}x0141{59}}x}


\def\:temp{charset=iso-8859-2}
\ifx \a:charset\:UnDef
      \ifx  \A:charset\:temp \let\:temp=\def \fi
\else \ifx  \a:charset\:temp \let\:temp=\def \fi
\fi
\ifx \:temp\def
   \:CheckOption{new-accents}     \if:Option \else
      \expand:after{\Configure{accent}}\csname T1\string\`\expandafter\endcsname
   \csname T1\string\`\endcsname{A{00C0}E{00C8}I{00CC}N{01F8}O{00D2}U{00D9}W{1E80}%
Y{1EF2}a{00E0}e{00E8}i{00EC}n{01F9}o{00F2}u{00F9}%
w{1E81}y{1EF3}\i{00EC}%
{}{}}
   {\a:accents{grave}{#1}}   {\b:accents{grave}{#1}{#2}}
\expand:after{\Configure{accent}}\csname T1\string\'\expandafter\endcsname
   \csname T1\string\'\endcsname{A{00C1}C{0106}D{010E}E{00C9}G{01F4}I{00CD}L{0139}N{0143}%
O{00D3}R{0154}S{015A}U{00DA}Y{00DD}Z{0179}a{00E1}c{0107}%
d{010F}e{00E9}g{01F5}i{00ED}l{013A}n{0144}o{00F3}r{0155}%
s{015B}u{00FA}y{00FD}z{017A}j{FFFD}J{FFDD}\i{00ED}\j{FFFD}%
{}{}}
   {\a:accents{acute}{#1}}   {\b:accents{acute}{#1}{#2}}
\expand:after{\Configure{accent}}\csname T1\string\^\expandafter\endcsname
   \csname T1\string\^\endcsname{A{00C2}E{00CA}I{00CE}O{00D4}U{00DB}a{00E2}e{00EA}%
i{00EE}o{00F4}u{00FB}C{0108}c{0109}G{011C}g{011D}%
H{0124}h{0125}J{0134}j{0135}S{015C}s{015D}W{0174}%
w{0175}Y{0176}y{0177}Z{1E90}z{1E91}\i{00EE}\j{0135}%
{}{}}
   {\a:accents{circ}{#1}}   {\b:accents{circ}{#1}{#2}}
\expand:after{\Configure{accent}}\csname T1\string\~\expandafter\endcsname
   \csname T1\string\~\endcsname{A{00C3}N{00D1}O{00D5}a{00E3}n{00F1}o{00F5}I{0128}%
i{0129}U{0168}u{0169}V{1E7C}v{1E7D}E{1EBC}e{1EBD}%
Y{1EF8}y{1EF9}\i{0129}%
{}{}}
   {\a:accents{tilde}{#1}}   {\b:accents{tilde}{#1}{#2}}
\expand:after{\Configure{accent}}\csname T1\string\"\expandafter\endcsname
   \csname T1\string\"\endcsname{H{1E26}h{1E27}W{1E84}w{1E85}X{1E8C}x{1E8D}%
t{1E97}A{00C4}E{00CB}I{00CF}O{00D6}U{00DC}%
a{00E4}e{00EB}i{00EF}o{00F6}u{00FC}y{00FF}%
Y{0178}\i{00EF}%
{}{34}}
   {\a:accents{uml}{#1}}     {\b:accents{uml}{#1}{#2}}
\expand:after{\Configure{accent}}\csname T1\string\r\endcsname
   \mathring{A{00C5}a{00E5}U{016E}u{016F}%
{}{}}
   {\a:accents{ring}{#1}}   {\b:accents{ring}{#1}{#2}}
\expand:after{\expand:after{\Configure{accent}}%
   \csname T1\string\c\endcsname}%
   \csname T1\string\c\endcsname{K{0136}k{0137}L{013B}l{013C}N{0145}n{0146}%
R{0156}r{0157}S{015E}s{015F}T{0162}t{0163}%
E{0228}e{0229}D{1E10}d{1E11}H{1E28}h{1E29}%
C{00C7}c{00E7}G{0122}g{0123}%
{}{}}
   {\a:accents{cedil}{#1}}     {\b:accents{cedil}{#1}{#2}}
\expand:after{\expand:after{\Configure{accent}}%
   \csname T1\string\t\endcsname}%
   \csname T1\string\t\endcsname{{}{}}
   {\a:accents{udot}{#1}}     {\b:accents{udot}{#1}{#2}}
\expand:after{\expand:after{\Configure{accent}}%
   \csname T1\string\H\endcsname}%
   \csname T1\string\H\endcsname{o{0151}O{0150}U{0170}u{0171}%
{}{}}
   {\a:accents{Huml}{#1}}{\b:accents{Huml}{#1}{#2}}
\expand:after{\expand:after{\Configure{accent}}%
   \csname T1\string\b\endcsname}%
   \csname T1\string\b\endcsname{B{1E06}b{1E07}%
D{1E0E}d{1E0F}K{1E34}k{1E35}L{1E3A}l{1E3B}N{1E48}n{1E49}%
R{1E5E}r{1E5F}T{1E6E}t{1E6F}Z{1E94}z{1E95}h{1E96}%
{}{}}
   {\a:accents{b}{#1}}     {\b:accents{b}{#1}{#2}}
\expand:after{\expand:after{\Configure{accent}}%
   \csname T1\string\d\endcsname}%
   \csname T1\string\d\endcsname{A{1EA0}a{1Ea1}B{1E04}b{1E05}D{1E0C}d{1E0D}%
E{1EB8}e{1EB9}H{1E24}h{1E25}I{1ECA}i{1ECB}%
K{1E32}k{1E33}L{1E36}l{1E37}M{1E42}m{1E43}%
N{1E46}n{1E47}O{1ECC}o{1ECD}R{1E5A}r{1E5B}%
S{1E62}s{1E63}T{1E6C}t{1E6D}U{1EE4}u{1EE5}%
V{1E7E}v{1E7F}W{1E88}w{1E89}Y{1EF4}y{1EF5}%
{}{}}
   {\a:accents{d}{#1}}     {\b:accents{d}{#1}{#2}}
\expand:after{\Configure{accent}}\csname T1\string\.\expandafter\endcsname
   \csname T1\string\.\endcsname
   {{}{}}
   {\a:accents{dot}{#1}}{\b:accents{dot}{#1}{#2}}
\expand:after{\Configure{accent}}\csname T1\string\u\expandafter\endcsname
   \csname T1\string\u\endcsname
   {g{011F}I{012C}i{012D}O{014E}o{014F}%
U{016C}u{016D}A{0102}a{0103}E{0114}%
e{0115}G{011E}\i{012D}%
{}{}}
   {\a:accents{breve}{#1}}{\b:accents{breve}{#1}{#2}}
\expand:after{\Configure{accent}}\csname T1\string\vec\expandafter\endcsname
   \csname T1\string\vec\endcsname
   {{}{}}
   {\a:accents{vec}{#1}}{\b:accents{vec}{#1}{#2}}
\expandafter\let\csname T1\string\v\endcsname\:UnDef
\expand:after{\Configure{accent}}\csname T1\string\v\expandafter\endcsname
   \csname T1\string\v\endcsname
   {C{010C}c{010D}D{010E}d{010F}%
E{011A}e{011B}L{013D}l{013E}N{0147}n{0148}R{0158}r{0159}%
S{0160}s{0161}T{0164}t{0165}Z{017D}z{017E}A{01CD}a{01CE}I{01CF}%
i{01D0}O{01D1}o{01D2}U{01D3}u{01D4}G{01E6}g{01E7}K{01E8}k{01E9}%
j{01F0}H{021E}h{021F}\i{01D0}\j{01F0}%
{}{}}
   {\a:accents{check}{#1}}{\b:accents{check}{#1}{#2}}
\expand:after{\Configure{accent}}\csname T1\string\=\expandafter\endcsname
   \csname T1\string\=\endcsname
   {{}{}}
   {\a:accents{bar}{#1}}{\b:accents{bar}{#1}{#2}}

\Configure{accent}\`\grave{A{00C0}E{00C8}I{00CC}N{01F8}O{00D2}U{00D9}W{1E80}%
Y{1EF2}a{00E0}e{00E8}i{00EC}n{01F9}o{00F2}u{00F9}%
w{1E81}y{1EF3}\i{00EC}%
{}{}}
   {\a:accents{grave}{#1}}   {\b:accents{grave}{#1}{#2}}
\Configure{accent}\'\acute{A{00C1}C{0106}D{010E}E{00C9}G{01F4}I{00CD}L{0139}N{0143}%
O{00D3}R{0154}S{015A}U{00DA}Y{00DD}Z{0179}a{00E1}c{0107}%
d{010F}e{00E9}g{01F5}i{00ED}l{013A}n{0144}o{00F3}r{0155}%
s{015B}u{00FA}y{00FD}z{017A}j{FFFD}J{FFDD}\i{00ED}\j{FFFD}%
{}{}}
   {\a:accents{acute}{#1}}   {\b:accents{acute}{#1}{#2}}
\Configure{accent}\^\hat{A{00C2}E{00CA}I{00CE}O{00D4}U{00DB}a{00E2}e{00EA}%
i{00EE}o{00F4}u{00FB}C{0108}c{0109}G{011C}g{011D}%
H{0124}h{0125}J{0134}j{0135}S{015C}s{015D}W{0174}%
w{0175}Y{0176}y{0177}Z{1E90}z{1E91}\i{00EE}\j{0135}%
{}{}}
   {\a:accents{hat}{#1}}   {\b:accents{hat}{#1}{#2}}
\Configure{accent}\~\tilde{A{00C3}N{00D1}O{00D5}a{00E3}n{00F1}o{00F5}I{0128}%
i{0129}U{0168}u{0169}V{1E7C}v{1E7D}E{1EBC}e{1EBD}%
Y{1EF8}y{1EF9}\i{0129}%
{}{}}
   {\a:accents{tilde}{#1}}   {\b:accents{tilde}{#1}{#2}}
\Configure{accent}\"\ddot{H{1E26}h{1E27}W{1E84}w{1E85}X{1E8C}x{1E8D}%
t{1E97}A{00C4}E{00CB}I{00CF}O{00D6}U{00DC}%
a{00E4}e{00EB}i{00EF}o{00F6}u{00FC}y{00FF}%
Y{0178}\i{00EF}%
{}{34}}
   {\a:accents{uml}{#1}}   {\b:accents{uml}{#1}{#2}}
\Configure{accent}\c\c{K{0136}k{0137}L{013B}l{013C}N{0145}n{0146}%
R{0156}r{0157}S{015E}s{015F}T{0162}t{0163}%
E{0228}e{0229}D{1E10}d{1E11}H{1E28}h{1E29}%
C{00C7}c{00E7}G{0122}g{0123}%
{}{}}
   {\a:accents{cedil}{#1}}     {\b:accents{cedil}{#1}{#2}}
\Configure{accent}\t\t{{}{}}
   {\a:accents{udot}{#1}}     {\b:accents{udot}{#1}{#2}}
\Configure{accent}\H\H{o{0151}O{0150}U{0170}u{0171}%
{}{}}
   {\a:accents{Huml}{#1}}     {\b:accents{Huml}{#1}{#2}}
\Configure{accent}\b\b{{}{}}
   {\a:accents{b}{#1}}     {\b:accents{b}{#1}{#2}}
\Configure{accent}\d\d{{}{}}
   {\a:accents{d}{#1}}     {\b:accents{d}{#1}{#2}}
\Configure{accent}\.\.{C{010A}c{010B}E{0116}e{0117}G{0120}g{0121}%
I{0130}Z{017B}z{017C}A{0226}a{0227}O{022E}%
o{022F}B{1E02}b{1E03}D{1E0A}d{1E0B}F{1E1E}%
f{1E1F}H{1E22}h{1E23}M{1E40}m{1E41}N{1E44}%
n{1E45}P{1E56}p{1E57}R{1E58}r{1E59}S{1E60}%
s{1E61}T{1E6A}t{1E6B}W{1E86}w{1E87}X{1E8A}%
x{1E8B}Y{1E8E}y{1E8F}%
{}{}}
   {\a:accents{dot}{#1}}      {\b:accents{dot}{#1}{#2}}
\Configure{accent}\dot\dot{C{010A}c{010B}E{0116}e{0117}G{0120}g{0121}%
I{0130}Z{017B}z{017C}A{0226}a{0227}O{022E}%
o{022F}B{1E02}b{1E03}D{1E0A}d{1E0B}F{1E1E}%
f{1E1F}H{1E22}h{1E23}M{1E40}m{1E41}N{1E44}%
n{1E45}P{1E56}p{1E57}R{1E58}r{1E59}S{1E60}%
s{1E61}T{1E6A}t{1E6B}W{1E86}w{1E87}X{1E8A}%
x{1E8B}Y{1E8E}y{1E8F}%
{}{}}
   {\a:accents{dot}{#1}}      {\b:accents{dot}{#1}{#2}}
\Configure{accent}\u\breve{g{011F}I{012C}i{012D}O{014E}o{014F}%
U{016C}u{016D}A{0102}a{0103}E{0114}%
e{0115}G{011E}\i{012D}%
{}{}}
   {\a:accents{breve}{#1}}      {\b:accents{breve}{#1}{#2}}
\Configure{accent}\vec\vec{{}{}}
   {\a:accents{vec}{#1}}      {\b:accents{vec}{#1}{#2}}
\Configure{accent}\v\v{C{010C}c{010D}D{010E}d{010F}%
E{011A}e{011B}L{013D}l{013E}N{0147}n{0148}R{0158}r{0159}%
S{0160}s{0161}T{0164}t{0165}Z{017D}z{017E}A{01CD}a{01CE}I{01CF}%
i{01D0}O{01D1}o{01D2}U{01D3}u{01D4}G{01E6}g{01E7}K{01E8}k{01E9}%
j{01F0}H{021E}h{021F}\i{01D0}\j{01F0}%
{}{}}
   {\a:accents{check}{#1}}      {\b:accents{check}{#1}{#2}}
\Configure{accent}\check\check{C{010C}c{010D}D{010E}d{010F}%
E{011A}e{011B}L{013D}l{013E}N{0147}n{0148}R{0158}r{0159}%
S{0160}s{0161}T{0164}t{0165}Z{017D}z{017E}A{01CD}a{01CE}I{01CF}%
i{01D0}O{01D1}o{01D2}U{01D3}u{01D4}G{01E6}g{01E7}K{01E8}k{01E9}%
j{01F0}H{021E}h{021F}\i{01D0}\j{01F0}%
{}{}}
   {\a:accents{check}{#1}}      {\b:accents{check}{#1}{#2}}
\Configure{accent}\=\bar{{}{}}
   {\a:accents{bar}{#1}}      {\b:accents{bar}{#1}{#2}}

\fi \fi


\fi
\let\^^_\v
\Configure{@TITLE}{\let\"=\:same \let\~=\:same \let\^=\:same
\let\v=\:same \let\'=\:same \let\r=\:same
\PictureOff
}

\let\@acci\' \let\@accii\` \let\@acciii\=
\ifTag{TITLE+}{\Configure{TITLE+}{\LikeRef{TITLE+}}}{}

\Configure{InsertTitle}{\let\label\lb:l
   \let\ref\o:ref \Configure{ref}{}{}{}}
\Configure{AfterTitle}{\let\index\:index
       \let\ref\:ref  \let\label\lb:l }
\Configure{NoSection}
  {\let\sv:index\index \let\sv:label\label
   \let\sv:newline\newline \def\newline{ }%
   \let\sv:setfontsize\@setfontsize  \let\@setfontsize\:gobbleIII
   \let\index\@gobble  \let\label\@gobble
   \let\sva:rEfLiNK\a:rEfLiNK
\let\svb:rEfLiNK\b:rEfLiNK
\let\svc:rEfLiNK\c:rEfLiNK
\expandafter\let\expandafter\svC:rEfLiNK\c:rEfLiNK
\Configure{ref}{}{}{}%  \let\sv:ref\ref  \let\ref\@gobble
%
  }
  {\let\index\sv:index \let\label\sv:label
   \let\a:rEfLiNK\sva:rEfLiNK
\let\b:rEfLiNK\svb:rEfLiNK
\let\c:rEfLiNK\svc:rEfLiNK
\expandafter\let\c:rEfLiNK\svC:rEfLiNK  %  \let\ref\sv:ref
%
   \let\newline\sv:newline    \let\@setfontsize\sv:setfontsize
  }

\Configure{extracolsep}
   {~\tmp:dim=#1\relax\ifdim \tmp:dim>1em ~\fi}

\:CheckOption{bibtex2} \if:Option
   \Configure{bibliography2}
      {~~[} {more} {]}
      \Configure{bibitem2}
      {\Configure{HtmlPar}
   {\EndP\HCode{<p class="bibitem" \a:LRdir>}}
   {\EndP\HCode{<p class="bibitem" \a:LRdir>}}
   {\Tg</p>} {\Tg</p>}%
\par\ShowPar
       \HCode{<span class="biblabel">}%
       \Configure{HtmlPar}
   {\EndP\HCode{<p class="bibitem-p" \a:LRdir>}}
   {\EndP\HCode{<p class="bibitem-p" \a:LRdir>}}
   {\Tg</p>} {\Tg</p>}%
%
      }
      {\EndP}
      {\HCode{<span class="bibsp">}~~~\HCode{</span></span>}}
%
\fi

\Configure{textcircled}
   {\@use@text@encoding \@curr@enc c}
   {\leavevmode \special{t4ht@+\string&\#x00A9;}c}
   {\@use@text@encoding \@curr@enc \scshape r}
   {\leavevmode \special{t4ht@+\string&\#x00AE;}r}
   {}

\NewConfigure{footnote-mark}{2}
\NewConfigure{thank-mark}{2}
\Configure{footnote-mark}
   {\HCode{<span class="footnote-mark">}}
   {\HCode{</span>}}
\Configure{thank-mark}
   {\HCode{<span class="thank-mark">}}
   {\HCode{</span>}}
\Css{span.thank-mark{ vertical-align: super }}
\NewConfigure{footnote-text}{2}
% \Css{span.footnote-mark{ vertical-align: super }}
\Css{span.footnote-mark   sup.textsuperscript,
     span.footnote-mark a sup.textsuperscript{ font-size:80\%; }}

\:CheckOption{fn-in}\if:Option
   \:CheckOption{mouseover} \if:Option
   \Configure{footnotemark}
   {\csname a:footnote-mark\endcsname
\js:on
%
\ifTag{fn\FNnum x\minipageNum
-bk}
   {\expandafter\ifx\csname (fn\FNnum x\minipageNum
-bk)\endcsname\def
      \Link[ \mo:args{footnote}{\FNnum}{fn\FNnum x\minipageNum
}%
\Hnewline
                    ]{fn\FNnum x\minipageNum
}{}%
    \else
      \Link[ \mo:args{footnote}{\FNnum}{fn\FNnum x\minipageNum
}%
\Hnewline
                    ]{fn\FNnum x\minipageNum
}{fn\FNnum x\minipageNum
-bk}%
    \fi
   }
   {\expandafter\ifx\csname (fn\FNnum x\minipageNum
-bk)\endcsname\def
    \else \Link[ \mo:args{footnote}{\FNnum}{fn\FNnum x\minipageNum
}%
\Hnewline
                    ]{}{fn\FNnum x\minipageNum
-bk}\fi
   }%
%
    \NoFonts
    \Tag{fn\FNnum x\minipageNum
}{}}
   {\EndNoFonts
    \ifTag{fn\FNnum x\minipageNum
-bk}
   {\EndLink}
   {\expandafter\ifx\csname (fn\FNnum x\minipageNum
-bk)\endcsname\def
    \else \EndLink\fi
   }%
\csname b:footnote-mark\endcsname
%
    \expandafter\global\expandafter
       \let\csname (fn\FNnum x\minipageNum
-bk)\endcsname\def}

   \Configure{footnotetext}
   {\SaveEndP\global\setbox\fn:box=\vtop\bgroup\ShowPar
   \ifvoid\fn:box\else  \csname unvbox\endcsname\fn:box\fi
%
    \js:on
%
\HCode{<!--}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex From fn }%
%
\HCode{<footnote>fn\FNnum x\minipageNum
=<div class="js">}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Skip fn }%
%
\HCode{-->}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont fn }%
%
%
    \csname a:footnote-mark\endcsname
\ifTag{fn\FNnum x\minipageNum
}
   {\expandafter\ifx\csname (fn\FNnum x\minipageNum
)\endcsname\def
      \Link{fn\FNnum x\minipageNum
-bk}{}%
    \else
      \Link{fn\FNnum x\minipageNum
-bk}{fn\FNnum x\minipageNum
}%
    \fi
   }
   {\expandafter\ifx\csname (fn\FNnum x\minipageNum
)\endcsname\def
    \else \Link{}{fn\FNnum x\minipageNum
}\fi
   }%
%
    \NoFonts   \Tag{fn\FNnum x\minipageNum
-bk}{}%
   }
   {\EndNoFonts \ifTag{fn\FNnum x\minipageNum
}
   {\EndLink}
   {\expandafter\ifx\csname (fn\FNnum x\minipageNum
)\endcsname\def
    \else \EndLink\fi
   }%
\csname b:footnote-mark\endcsname
}
   {\expandafter\global\expandafter
       \let\csname (fn\FNnum x\minipageNum
)\endcsname\def
    \ht:special {t4ht@DCopyTo: \jobname-js.tex Skip fn }%
%
\HCode{<!--}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont fn }%
%
\HCode{</div></footnote>\Hnewline}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Until fn }%
%
\HCode{-->}%
%
    \EndP\egroup\RecallEndP
}

   \Configure{BODY}
   {\ifvoid \fn:box \else
   \expandafter \ifx \csname fn:box\body:level\endcsname\relax
      \csname newbox\expandafter\endcsname
                   \csname fn:box\body:level\endcsname
   \fi
   \global\expandafter\setbox\csname fn:box\body:level\endcsname=
      \vbox{\csname unvbox\endcsname\fn:box}%
\fi
\gHAdvance\body:level by 1
\:xhtml{\SaveEndP}\IgnorePar
       \HCode{<body\Hnewline\csname a:!BODY\endcsname
     >}\HCode{<div id="overDiv"
         style="position:absolute;
                      visibility:hidden; z-index:1000;"></div>
}%
\ShowPar\par}
   {\ifvmode \IgnorePar\fi\EndP
\ifvoid \fn:box\else
   \HCode{<div class="footnotes">}\box\fn:box\HCode{</div>}
   \IgnorePar\EndP
\fi
%
    \relax \ifnum \FileNumber=1
      \Configure {mouseover-script}{}{\HCode{ol\string_hauto = 1;}}%
%
    \fi
    \HCode{\Hnewline
     </body>}\:xhtml{\RecallEndP}\gHAdvance\body:level by -1
\expandafter \ifx \csname fn:box\body:level\endcsname\relax \else
   \global\setbox\fn:box=
      \vbox{\expandafter\ifvoid \csname fn:box\body:level\endcsname \else
          \csname unvbox\expandafter\endcsname
               \csname fn:box\body:level\endcsname\fi}%
\fi
}%

   \expandafter\def\csname c:mouseover-footnote:\endcsname{%
  \def\:tempb{footnote}\csname c:mouseover-?:\endcsname}
\Configure{mouseover-footnote} {tex4ht.body,FULLHTML}

\else
   \Configure{footnotemark}
   {\csname a:footnote-mark\endcsname
\ifTag{fn\FNnum x\minipageNum
-bk}
   {\expandafter\ifx\csname (fn\FNnum x\minipageNum
-bk)\endcsname\def
      \Link{fn\FNnum x\minipageNum
}{}%
    \else
      \Link{fn\FNnum x\minipageNum
}{fn\FNnum x\minipageNum
-bk}%
    \fi
   }
   {\expandafter\ifx\csname (fn\FNnum x\minipageNum
-bk)\endcsname\def
    \else \Link{}{fn\FNnum x\minipageNum
-bk}\fi
   }%
%
    \NoFonts
    \Tag{fn\FNnum x\minipageNum
}{}}
   {\EndNoFonts
    \ifTag{fn\FNnum x\minipageNum
-bk}
   {\EndLink}
   {\expandafter\ifx\csname (fn\FNnum x\minipageNum
-bk)\endcsname\def
    \else \EndLink\fi
   }%
\csname b:footnote-mark\endcsname
%
    \expandafter\global\expandafter
       \let\csname (fn\FNnum x\minipageNum
-bk)\endcsname\def}

   \Configure{footnotetext}
   {\SaveEndP\global\setbox\fn:box=\vtop\bgroup\ShowPar
   \ifvoid\fn:box\else  \csname unvbox\endcsname\fn:box\fi
%
    \csname a:footnote-mark\endcsname
\ifTag{fn\FNnum x\minipageNum
}
   {\expandafter\ifx\csname (fn\FNnum x\minipageNum
)\endcsname\def
      \Link{fn\FNnum x\minipageNum
-bk}{}%
    \else
      \Link{fn\FNnum x\minipageNum
-bk}{fn\FNnum x\minipageNum
}%
    \fi
   }
   {\expandafter\ifx\csname (fn\FNnum x\minipageNum
)\endcsname\def
    \else \Link{}{fn\FNnum x\minipageNum
}\fi
   }%
%
    \NoFonts
    \Tag{fn\FNnum x\minipageNum
-bk}{}%
    \special{t4ht@(}%
   }
   {\special{t4ht@)}\EndNoFonts
    \ifTag{fn\FNnum x\minipageNum
}
   {\EndLink}
   {\expandafter\ifx\csname (fn\FNnum x\minipageNum
)\endcsname\def
    \else \EndLink\fi
   }%
\csname b:footnote-mark\endcsname
}
   {\expandafter\global\expandafter
       \let\csname (fn\FNnum x\minipageNum
)\endcsname\def
    \EndP\egroup\RecallEndP
}

   \Configure{BODY}
   {\ifvoid \fn:box \else
   \expandafter \ifx \csname fn:box\body:level\endcsname\relax
      \csname newbox\expandafter\endcsname
                   \csname fn:box\body:level\endcsname
   \fi
   \global\expandafter\setbox\csname fn:box\body:level\endcsname=
      \vbox{\csname unvbox\endcsname\fn:box}%
\fi
\gHAdvance\body:level by 1
\:xhtml{\SaveEndP}\IgnorePar
       \HCode{<body\Hnewline\csname a:!BODY\endcsname >}\ShowPar\par}
   {\ifvmode \IgnorePar\fi\EndP
\ifvoid \fn:box\else
   \HCode{<div class="footnotes">}\box\fn:box\HCode{</div>}
   \IgnorePar\EndP
\fi
\HCode{\Hnewline
       </body>}\:xhtml{\RecallEndP}\gHAdvance\body:level by -1
\expandafter \ifx \csname fn:box\body:level\endcsname\relax \else
   \global\setbox\fn:box=
      \vbox{\expandafter\ifvoid \csname fn:box\body:level\endcsname \else
          \csname unvbox\expandafter\endcsname
               \csname fn:box\body:level\endcsname\fi}%
\fi
}%

\fi
\Configure{crosslinks+}
   {\IgnorePar\EndP\HCode{<!--l. \the\inputlineno-->%
%
                          <div class="crosslinks"><p class="noindent">}}
   {\HCode{</p></div>}\par\ShowPar}
   {\ifvmode \IgnorePar\fi\EndP
\ifvoid \fn:box\else
   \HCode{<div class="footnotes">}\box\fn:box\HCode{</div>}
   \IgnorePar\EndP
\fi
%
    \ifvmode \IgnorePar\fi \EndP
    \HCode{<!--l. \the\inputlineno-->%
%
            <div class="crosslinks"><p class="noindent">}}
   {\HCode{</p></div>}\par\ShowPar}
\Css{div.footnotes{border-top:solid 1px black;
   border-bottom:solid 1px black;
   padding-bottom:1ex;
   padding-top:0.5ex;
   margin-right:15\%; margin-top:2ex;
   font-style:italic; font-size:85\%;}}
\Css{div.footnotes p{margin-top:0; margin-bottom:0; text-indent:0;}}
\ifx \fn:box\:UnDef \csname newbox\endcsname\fn:box \fi
\HAssign\body:level=0

\else
   \Log:Note{for inline footnotes use
          command line option `fn-in'}
   \:CheckOption{mouseover} \if:Option
  \Configure{footnotemark}
   {\csname a:footnote-mark\endcsname
\ifTag{)Qfn\FNnum x\minipageNum
}
   {\js:on
%
       \leavevmode \Link[ \mo:args{footnote}{\FNnum}{fn\FNnum x\minipageNum
}%
%
                                \Hnewline]{fn\FNnum x\minipageNum
}{}}
   {}%
\NoFonts
    \Tag{fn\FNnum x\minipageNum
}{}}
   {\EndNoFonts
    \ifTag{)Qfn\FNnum x\minipageNum
}
   {\EndLink}
   {}%
\csname b:footnote-mark\endcsname
}

  \Configure{footnotetext}
   {\ifTag{fn\FNnum x\minipageNum
}
   {\expandafter\ifx\csname (fn\FNnum x\minipageNum
)\endcsname\def
       \:warning{Multiple footnote texts for mark \FNnum}%
    \else  \csname a:footnote-text\endcsname\fi
   }
   {}%
%
    \csname a:footnote-mark\endcsname
\Link{}{fn\FNnum x\minipageNum
}%
    \NoFonts
   }
   {\EndNoFonts \EndLink\csname b:footnote-mark\endcsname
}
   {\ifTag{fn\FNnum x\minipageNum
}
   {\expandafter\ifx\csname (fn\FNnum x\minipageNum
)\endcsname\def
    \else  \csname b:footnote-text\endcsname\fi
   }
   {}%
\expandafter\global\expandafter
   \let\csname (fn\FNnum x\minipageNum
)\endcsname\def
}
\Configure{footnote-text}
   {\HPage{}\HCode{<div>}\js:on
%
\HCode{<!--}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex From fn }%
%
\HCode{<footnote>fn\FNnum x\minipageNum
=<div class="js">}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Skip fn }%
%
\HCode{-->}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont fn }%
%
}
   {\ifvmode \IgnorePar\fi \EndP
    \ht:special {t4ht@DCopyTo: \jobname-js.tex Skip fn }%
%
\HCode{<!--}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont fn }%
%
\HCode{</div></footnote>\Hnewline}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Until fn }%
%
\HCode{-->}%
\HCode{</div>}\EndHPage{}}

  \expandafter\def\csname c:mouseover-footnote:\endcsname{%
  \def\:tempb{footnote}\csname c:mouseover-?:\endcsname}
\Configure{mouseover-footnote} {tex4ht.body,FULLHTML}

  \AtEndDocument{\Configure {mouseover-script}{}{\HCode{ol\string_hauto = 1;}}%
}
\else \:CheckOption{frames-fn}  \if:Option
        \Configure{footnotemark}
   {\csname a:footnote-mark\endcsname
\ifTag{fn\FNnum x\minipageNum
(L }
   {\Link[\RefFile{fn\FNnum x\minipageNum
}
                             target="tex4ht-fn"]{}{}}
   {}%
\NoFonts
    \Tag{fn\FNnum x\minipageNum
}{}}
   {\EndNoFonts
    \ifTag{fn\FNnum x\minipageNum
(L }
   {\EndLink}
   {}%
\csname b:footnote-mark\endcsname
}

        \Configure{footnotetext}
   {\ifTag{fn\FNnum x\minipageNum
}
   {\expandafter\ifx\csname (fn\FNnum x\minipageNum
)\endcsname\def
       \:warning{Multiple footnote texts for mark \FNnum}%
    \else
      \Configure{!BODY}{id="tex4ht-fn" }%
      \BeginHPage[fn\FNnum x\minipageNum
]{ }%
      \Configure{!BODY}{}%
    \fi
   }
   {}%
%
    \csname a:footnote-mark\endcsname
\Link{}{fn\FNnum x\minipageNum
}\NoFonts
   }
   {\EndNoFonts\EndLink\csname b:footnote-mark\endcsname
}
   {\ifTag{fn\FNnum x\minipageNum
}
   {\expandafter\ifx\csname (fn\FNnum x\minipageNum
)\endcsname\def
    \else
      \close:fn\EndHPage{}
    \fi
   }
   {}%
\expandafter\global\expandafter
   \let\csname (fn\FNnum x\minipageNum
)\endcsname\def
}
\def\close:fn{\HPage{}\Link{}{hide-fn}\EndLink\EndHPage{}%
   \gdef\close:fn{\rightline{\Link{hide-fn}{}@\EndLink}}\close:fn}

      \else
        \Configure{footnotemark}
   {\csname a:footnote-mark\endcsname
\ifTag{)Qfn\FNnum x\minipageNum
}
   {\Link{fn\FNnum x\minipageNum
}{}}
   {}%
\NoFonts
    \Tag{fn\FNnum x\minipageNum
}{}}
   {\EndNoFonts \ifTag{)Qfn\FNnum x\minipageNum
}
   {\EndLink}
   {}%
\csname b:footnote-mark\endcsname
}

        \Configure{footnotetext}
   {\ifTag{fn\FNnum x\minipageNum
}
   {\expandafter\ifx\csname (fn\FNnum x\minipageNum
)\endcsname\def
       \:warning{Multiple footnote texts for mark \FNnum}%
    \else \csname a:footnote-text\endcsname\fi
   }
   {}%
%
    \csname a:footnote-mark\endcsname
\Link{}{fn\FNnum x\minipageNum
}%
    \NoFonts
   }
   {\EndNoFonts \EndLink\csname b:footnote-mark\endcsname
}
   {\ifTag{fn\FNnum x\minipageNum
}
   {\expandafter\ifx\csname (fn\FNnum x\minipageNum
)\endcsname\def
    \else  \csname b:footnote-text\endcsname\fi
   }
   {}%
\expandafter\global\expandafter
   \let\csname (fn\FNnum x\minipageNum
)\endcsname\def
}
\Configure{footnote-text}
   {\HPage{}\HCode{<div class="footnote-text">}\par}
   {\ifvmode \IgnorePar\fi \EndP
    \HCode{</div>}\EndHPage{}}

\fi   \fi

\fi
\Configure{textsuperscript}
  {\HCode{<sup class="textsuperscript">}\bgroup \small}
  {\egroup \HCode{</sup>}}

\Configure{textsubscript}
  {\HCode{<sub class="textsubscript">}\bgroup\small}
  {\egroup \HCode{</sub>}}

% \:CheckOption{javahelp} \if:Option
%    \input javahelp.4ht
% \else
%    \Log:Note{for a JavaHelp output format,
%          use the command line option `javahelp'}
% \fi
\Configure{verbatim}
   {\HCode{}}
   {\a:sp}
\Configure{verb}
   {\HCode{<span class="verb"\a:LRdir>}}
   {\HCode{</span>}}
\Configure{centercr}{\ht:special{t4ht=<br />}}
   {\ht:everypar{\ht:everypar{\HtmlPar}}}
\:CheckOption{no-array}\if:Option \else
   \:CheckOption{pic-tabular}  \if:Option \else
   \ConfigureEnv{tabular}
     {\Configure{noalign}%
  {\f:tabular\d:tabular \HCode{<tr><td colspan="\ar:cnt">}}
  {\HCode{</td></tr>}\pend:def\TableNo{0}\c:tabular\e:tabular}%
%
      \IgnorePar\ifvmode\else\HCode{<!--tex4ht:inline-->}\fi
\EndP\HCode{<div class="tabular">}%
      \PushStack\Col:Marg\AllColMargins
     }
     {\HCode{</div>}\PopStack\Col:Marg\AllColMargins\ShowPar
      \Configure{noalign}{}{}%
%
      \ShowPar
%
     }{}{}
   \Css{div.tabular, div.center div.tabular {text-align: center;
           margin-top:0.5em; margin-bottom:0.5em;  }}
   \Css{table.tabular td  p{margin-top:0em;}}
   \Css{table.tabular {margin-left: auto;
                       margin-right: auto;}}    
\fi
\Css{td p:first-child{ margin-top:0em; }}
\Css{td p:last-child{ margin-bottom:0em; }}
\Configure{multicolumn}
   {\let\col:Css\empty
    \Configure{VBorder}
       {}
       {\edef\col:Css{\col:Css
                     border-\ifnum \ar:cnt=0 left\else right\fi
                     :solid black 0.4pt;}%
       }{}{}%
   }
   {\ifx \col:Css\empty \else
        \Css{td\#TBL-\TableNo-\HRow-\HCol{\col:Css}}%
    \fi
   }
   {\ifvmode\IgnorePar\fi
    \HCode{<div class="multicolumn" }\HColAlign\HCode{>}%
    \ifx \col:Css\empty \else
        \Css{td\#TBL-\TableNo-\HRow-\HCol{\col:Css}}%
    \fi
   }
   {\ifvmode\IgnorePar\fi \EndP\HCode{</div>}}
\def\pic:env{%
   \def\begin##1{\bgroup
      \def\end####1{\o:end:{####1}\EndPicture\egroup}%
      \ifx \EndPicture\:UnDef
           \Picture+{ class="##1" style="text-align:middle"}%
      \else \let\EndPicture\empty\fi
      \o:begin:{##1}}%
}
\def\ColMargins{%
   \ifx \AllColMargins\empty
      \:warning{Empty \string\AllColMargins}%
   \else
      \tmp:cnt\HCol\relax
      \expandafter\nosp:hbr\AllColMargins 1//%
   \fi }
\def\nosp:hbr#11#2//{\ifnum \tmp:cnt>1 \advance\tmp:cnt by -1
   \nosp:hbr#2//\else\nosp:gt#11#2//\fi}
\def\nosp:gt#11#21#3//{%
   \def\:temp{#1}\ifx \:temp\empty 1\else 0\fi
   \def\:temp{#2}\ifx \:temp\empty 1\else 0\fi}
\Css{div.td00{ margin-left:0pt; margin-right:0pt; }}
\Css{div.td01{ margin-left:0pt; margin-right:5pt; }}
\Css{div.td10{ margin-left:5pt; margin-right:0pt; }}
\Css{div.td11{ margin-left:5pt; margin-right:5pt; }}
\Configure{halignTB<>}{tabular}{\HCode{id="TBL-\TableNo"
                                             class="tabular"\Hnewline
   \GROUPS\Hnewline
   }<>\HAlign}
\Css{table[rules] {border-left:solid black 0.4pt;
                   border-right:solid black 0.4pt; }}
\:CheckOption{pic-tabular}  \if:Option \else
   \Configure{tabular}
      {\ifvmode \IgnorePar\fi \EndP \halignTB{tabular}\putVBorder }
      {\HCode{</table>}}
      {\HCode{<tr \Hnewline}\halignTR
                            \HCode{ id="TBL-\TableNo-\HRow-">}}
      {\r:HA}
      {\HCode{<td \ifnum \HMultispan>1 colspan="\HMultispan"\fi}%
         \halignTD \HCode{ id="TBL-\TableNo-\HRow-\HCol"
         \Hnewline class="td}\NoFonts
           \bgroup
              \ifx \ttfamily\:UnDef \else \ttfamily\fi
              \ColMargins
           \egroup
\EndNoFonts
%
         \HCode{">}\SaveEndP
%
         \par  \ShowPar
\PushStack\Table:Stck\TableNo}
      {\IgnorePar \EndP
\PopStack\Table:Stck\TableNo \d:HA}
\fi
\Configure{@{}}{}

\Css{td.td00{ padding-left:0pt; padding-right:0pt; }}
\Css{td.td01{ padding-left:0pt; padding-right:5pt; }}
\Css{td.td10{ padding-left:5pt; padding-right:0pt; }}
\Css{td.td11{ padding-left:5pt; padding-right:5pt; }}
\Configure{halignTB<>}{array}{\HCode{id="TBL-\TableNo" class="array"\Hnewline
   \GROUPS\Hnewline
   }<>\HAlign}
\Css{table[rules] {border-left:solid black 0.4pt;
                   border-right:solid black 0.4pt; }}
\:CheckOption{pic-array}  \if:Option \else
   \Configure{array}
      {\ifvmode \IgnorePar\fi \EndP\halignTB{array}\putVBorder}
      {\HCode{</table>}}
      {\R:HA}
      {\r:HA}
      {\D:HA\HCode{<div class="td}\NoFonts
           \bgroup
              \ifx \ttfamily\:UnDef \else \ttfamily\fi
              \ColMargins
           \egroup
\EndNoFonts
%
            \HCode{">}\par  \ShowPar
\pic:env}
      {\IgnorePar \EndP
\HCode{</div>}\d:HA}
   \Configure{arrayparbox}{\ShowPar}
\fi
\let\VBorder\empty   \let\AllColMargins\empty
\Configure{VBorder}
   {\let\VBorder\empty \let\AllColMargins\empty
    \global\let\GROUPS\empty \HAssign\NewGroup = 0
    \gHAdvance\Next:TableNo by 1 \global\let\TableNo=\Next:TableNo }
   {\xdef\VBorder{\VBorder\ifnum \NewGroup> 0 </colgroup>\fi}
    \HAssign\NewGroup = 0 % \gdef\GROUPS{rules="groups"}}
    \Css{\#TBL-\TableNo\space colgroup{border-left: 1px solid black;border-right:1px solid black;}}
  \Css{\#TBL-\TableNo{border-collapse:collapse;}}}
   {\Advance:\NewGroup by 1
    \ifnum \NewGroup=1 \xdef\VBorder{\VBorder<colgroup
        id="TBL-\TableNo-\ar:cnt g">}\fi
    \xdef\VBorder{\VBorder<col\Hnewline id="TBL-\TableNo
       -\ar:cnt"\xml:empty>}\xdef\AllColMargins{\AllColMargins1}}
   {\xdef\AllColMargins{\AllColMargins 0}}
\Configure{HBorder}
   {<tr\Hnewline class="hline">} {<td><hr\xml:empty></td>}   {</tr>}
   {<tr\Hnewline class="cline">}
   {<td></td>} {<td><hr\xml:empty></td>} {</tr>}
   {<tr\Hnewline class="vspace" style="font-size:\HBorderspace">}
   {<td\Hnewline>\string&nbsp;</td>}
   {</tr>}
\Configure{putHBorder}{\HCode{\HBorder}}
\HAssign\Next:TableNo0 \global\let\TableNo=\Next:TableNo
\Css{.hline hr, .cline hr{  height : 0px; margin:0px; }}
\Css{.hline td, .cline td{ padding: 0; }}
\Css{.hline hr, .cline hr{border:none;border-top:1px solid black;}}
\def\putVBorder{\expandafter\put:VBorder\VBorder</>!*?: }
\def\put:VBorder#1</#2>#3!*?: {\def\:temp{#2}\ifx\:temp\empty
     \HCode{\VBorder}%
     \def\:temp{#1}\ifx\:temp\empty \else\HCode{</colgroup>}\fi
  \else  \def\:temp{\put:VBorder#3!*?: }\expandafter\:temp\fi
}

\fi
\:CheckOption{pic-tabbing}  \if:Option
    \ConfigureEnv{tabbing}{\Picture*{}}{\EndPicture}{}{}
\else
    \Configure{tabbing}[1.5]{%
    \ifvmode \IgnorePar\fi\EndP \leavevmode\ht:special{t4ht=<table
     \Hnewline\:zbsp{tabbing}><tr \Hnewline style="vertical-align:baseline;"
     class="tabbing">}}
   {\ht:special{t4ht=</tr></table>}\ShowPar \csname par\endcsname
    \Configure{HtmlPar}
  {\EndP\HCode{<!--l. \the\inputlineno-->%
<p \csname a:!P\endcsname
         class="no\ifHCond par\else indent\fi" \a:LRdir>}}
  {\EndP\HCode{<!--l. \the\inputlineno-->%
<p \csname a:!P\endcsname
        class="\ifdim \parindent=\z@ no\fi indent" \a:LRdir>}}
  {\:xhtml{\Tg</p>}}
  {\:xhtml{\Tg</p>}}%
%
   }
   {\ht:special{t4ht=<td \ifx \TabWidth\empty \else
                style="width:\TabWidth;"\fi \Hnewline
                class="tabbing\ifx \`\TabType -right\fi">}}
   {\ht:special{t4ht=</td>}}
\ConfigureEnv{tabbing}{\IgnorePar\EndP}{}{}{}
\Css{.tabbing-right {text-align:right;}}

    \:CheckOption{pic-tabbing'} \if:Option
        \:CheckOption{pic-tabbing'} \if:Option
  \edef\:temp{\LikeRef{.}}%
  \def\:tempa{.}\ifx \:temp\:tempa
      \ConfigureEnv{tabbing}{\Picture*{}}{\EndPicture}{}{}
  \fi
\fi

    \fi
\fi
\ifx\bf\:UnDef
   \def\bf{\normalfont\bfseries}
\fi
\:CheckOption{fancylogo}\if:Option
\def\TeX{\HCode{<span class="TEX">}T\HCode{<span\Hnewline
     class="E">}E\HCode{</span>}X\HCode{</span>}}
\Css{span.TEX {letter-spacing: -0.125em; margin-right:0.125em;}}
\Css{span.TEX span.E{ position:relative;top:0.5ex;left:-0.0417em;}}
\Css{a span.TEX span.E {text-decoration: none; }}
\else
\def\TeX{TeX}
\fi

\:CheckOption{fancylogo}\if:Option
\def\:temp{\HCode{<span class="LATEX">}L\HCode{<span
   class="A">}A\HCode{</span>}\TeX\HCode{</span>}}
\HLet\LaTeX\:temp
\def\:temp{\mbox{%
  \if b\expandafter\@car\f@series\@nil\boldmath\fi
  \LaTeX2$_{\textstyle\varepsilon}$}}
\expandafter\HLet\csname LaTeXe\endcsname\:temp
\Css{span.LATEX span.A{ position:relative; top:-0.5ex;
   left:-0.4em; font-size:85\%;}}
\Css{span.LATEX span.TEX{ position:relative; margin-left: -0.4em; margin-right:0.125em; }}
\else
\def\LaTeX{LaTeX}
\def\LaTeXe{LaTeX2e}
\fi
\Configure{@TITLE}{\def\LaTeX{LaTeX}\let\fontencoding\:gobble
  \let\fontfamily\:gobble \let\fontseries\:gobble
  \let\fontshape\:gobble  \let\usefont\:gobbleIV  }
\Configure{newline}{\HCode{<br\Hnewline class="newline" />}}
\Configure{float}
   {\ifOption{refcaption}{}{\csname par\endcsname\ShowPar \leavevmode}}
   {\:xhtml{\IgnorePar\EndP}\HCode{<hr class="float"\xml:empty><div
     class="float"\Hnewline>}}
   {\ifvmode \IgnorePar \fi\EndP
    \HCode{</div><hr
        class="endfloat" />}\csname par\endcsname\ShowPar}
\ConfigureEnv{figure}
   {\:xhtml{\IgnorePar\EndP}\HCode{<hr class="figure"\xml:empty><div
     class="figure"\Hnewline>}%
    \bgroup \Configure{float}{\ShowPar}{}{}%
   }
   {\egroup
    \:xhtml{\IgnorePar\EndP}\HCode{</div><hr
       class="endfigure"\xml:empty>}\ShowPar
\par}
   {}{}
\Css{div.float, div.figure {margin-left: auto; margin-right: auto;}}
\Css{div.float img {text-align:center;}}
\Css{div.figure img {text-align:center;}}
\Configure{textellipsis}          {\ht:special{t4ht@+\string&{35}x2026{59}}x}
\ifOption{charset=iso-8859-7}
   {\expand:after{\Configure{accent}}\csname T1\string\'\expandafter\endcsname
   \csname T1\string\'\endcsname
   {A{\ht:special{t4ht@+\string&{35}x00C1{59}}A}%
E{\ht:special{t4ht@+\string&{35}x00C9{59}}E}%
I{\ht:special{t4ht@+\string&{35}x00CD{59}}I}%
O{\ht:special{t4ht@+\string&{35}x00D3{59}}O}%
U{\ht:special{t4ht@+\string&{35}x00DA{59}}U}%
Y{\ht:special{t4ht@+\string&{35}x00DD{59}}Y}%
a{\ht:special{t4ht@+\string&{35}x00E1{59}}a}%
e{\ht:special{t4ht@+\string&{35}x00E9{59}}e}%
i{\ht:special{t4ht@+\string&{35}x00ED{59}}i}%
\i{\ht:special{t4ht@+\string&{35}x00ED{59}}i}%
o{\ht:special{t4ht@+\string&{35}x00F3{59}}o}%
u{\ht:special{t4ht@+\string&{35}x00FA{59}}u}%
y{\ht:special{t4ht@+\string&{35}x00FD{59}}y}%
{\@use@text@encoding \@curr@enc a}{\ht:special{t4ht@220}a}%
{\@use@text@encoding \@curr@enc e}{\ht:special{t4ht@221}e}%
{\@use@text@encoding \@curr@enc h}{\ht:special{t4ht@222}h}%
{\@use@text@encoding \@curr@enc i}{\ht:special{t4ht@223}i}%
{\@use@text@encoding \@curr@enc o}{\ht:special{t4ht@252}o}%
{\@use@text@encoding \@curr@enc u}{\ht:special{t4ht@253}u}%
{\@use@text@encoding \@curr@enc w}{\ht:special{t4ht@254}w}%
{}{}}
   {\a:accents{acute}{#1}}   {\b:accents{acute}{#1}{#2}}
}
   {}
\:CheckOption{new-accents}     \if:Option
\else
   \expand:after{\Configure{accent}}\csname T1\string\`\expandafter\endcsname
   \csname T1\string\`\endcsname{A{00C0}E{00C8}I{00CC}N{01F8}O{00D2}U{00D9}W{1E80}%
Y{1EF2}a{00E0}e{00E8}i{00EC}n{01F9}o{00F2}u{00F9}%
w{1E81}y{1EF3}\i{00EC}%
{}{}}
   {\a:accents{grave}{#1}}   {\b:accents{grave}{#1}{#2}}
\expand:after{\Configure{accent}}\csname T1\string\'\expandafter\endcsname
   \csname T1\string\'\endcsname{A{00C1}C{0106}D{010E}E{00C9}G{01F4}I{00CD}L{0139}N{0143}%
O{00D3}R{0154}S{015A}U{00DA}Y{00DD}Z{0179}a{00E1}c{0107}%
d{010F}e{00E9}g{01F5}i{00ED}l{013A}n{0144}o{00F3}r{0155}%
s{015B}u{00FA}y{00FD}z{017A}j{FFFD}J{FFDD}\i{00ED}\j{FFFD}%
{}{}}
   {\a:accents{acute}{#1}}   {\b:accents{acute}{#1}{#2}}
\expand:after{\Configure{accent}}\csname T1\string\^\expandafter\endcsname
   \csname T1\string\^\endcsname{A{00C2}E{00CA}I{00CE}O{00D4}U{00DB}a{00E2}e{00EA}%
i{00EE}o{00F4}u{00FB}C{0108}c{0109}G{011C}g{011D}%
H{0124}h{0125}J{0134}j{0135}S{015C}s{015D}W{0174}%
w{0175}Y{0176}y{0177}Z{1E90}z{1E91}\i{00EE}\j{0135}%
{}{}}
   {\a:accents{circ}{#1}}   {\b:accents{circ}{#1}{#2}}
\expand:after{\Configure{accent}}\csname T1\string\~\expandafter\endcsname
   \csname T1\string\~\endcsname{A{00C3}N{00D1}O{00D5}a{00E3}n{00F1}o{00F5}I{0128}%
i{0129}U{0168}u{0169}V{1E7C}v{1E7D}E{1EBC}e{1EBD}%
Y{1EF8}y{1EF9}\i{0129}%
{}{}}
   {\a:accents{tilde}{#1}}   {\b:accents{tilde}{#1}{#2}}
\expand:after{\Configure{accent}}\csname T1\string\"\expandafter\endcsname
   \csname T1\string\"\endcsname{H{1E26}h{1E27}W{1E84}w{1E85}X{1E8C}x{1E8D}%
t{1E97}A{00C4}E{00CB}I{00CF}O{00D6}U{00DC}%
a{00E4}e{00EB}i{00EF}o{00F6}u{00FC}y{00FF}%
Y{0178}\i{00EF}%
{}{34}}
   {\a:accents{uml}{#1}}     {\b:accents{uml}{#1}{#2}}
\expand:after{\Configure{accent}}\csname T1\string\r\endcsname
   \mathring{A{00C5}a{00E5}U{016E}u{016F}%
{}{}}
   {\a:accents{ring}{#1}}   {\b:accents{ring}{#1}{#2}}
\expand:after{\expand:after{\Configure{accent}}%
   \csname T1\string\c\endcsname}%
   \csname T1\string\c\endcsname{K{0136}k{0137}L{013B}l{013C}N{0145}n{0146}%
R{0156}r{0157}S{015E}s{015F}T{0162}t{0163}%
E{0228}e{0229}D{1E10}d{1E11}H{1E28}h{1E29}%
C{00C7}c{00E7}G{0122}g{0123}%
{}{}}
   {\a:accents{cedil}{#1}}     {\b:accents{cedil}{#1}{#2}}
\expand:after{\expand:after{\Configure{accent}}%
   \csname T1\string\t\endcsname}%
   \csname T1\string\t\endcsname{{}{}}
   {\a:accents{udot}{#1}}     {\b:accents{udot}{#1}{#2}}
\expand:after{\expand:after{\Configure{accent}}%
   \csname T1\string\H\endcsname}%
   \csname T1\string\H\endcsname{o{0151}O{0150}U{0170}u{0171}%
{}{}}
   {\a:accents{Huml}{#1}} {\b:accents{Huml}{#1}{#2}}
\expand:after{\expand:after{\Configure{accent}}%
   \csname T1\string\b\endcsname}%
   \csname T1\string\b\endcsname{B{1E06}b{1E07}%
D{1E0E}d{1E0F}K{1E34}k{1E35}L{1E3A}l{1E3B}N{1E48}n{1E49}%
R{1E5E}r{1E5F}T{1E6E}t{1E6F}Z{1E94}z{1E95}h{1E96}%
{}{}}
   {\a:accents{b}{#1}}     {\b:accents{b}{#1}{#2}}
\expand:after{\expand:after{\Configure{accent}}%
   \csname T1\string\d\endcsname}%
   \csname T1\string\d\endcsname{A{1EA0}a{1Ea1}B{1E04}b{1E05}D{1E0C}d{1E0D}%
E{1EB8}e{1EB9}H{1E24}h{1E25}I{1ECA}i{1ECB}%
K{1E32}k{1E33}L{1E36}l{1E37}M{1E42}m{1E43}%
N{1E46}n{1E47}O{1ECC}o{1ECD}R{1E5A}r{1E5B}%
S{1E62}s{1E63}T{1E6C}t{1E6D}U{1EE4}u{1EE5}%
V{1E7E}v{1E7F}W{1E88}w{1E89}Y{1EF4}y{1EF5}%
{}{}}
   {\a:accents{d}{#1}}     {\b:accents{d}{#1}{#2}}
\expand:after{\Configure{accent}}\csname T1\string\.\expandafter\endcsname
   \csname T1\string\.\endcsname
   {C{010A}c{010B}E{0116}e{0117}G{0120}g{0121}%
I{0130}Z{017B}z{017C}A{0226}a{0227}O{022E}%
o{022F}B{1E02}b{1E03}D{1E0A}d{1E0B}F{1E1E}%
f{1E1F}H{1E22}h{1E23}M{1E40}m{1E41}N{1E44}%
n{1E45}P{1E56}p{1E57}R{1E58}r{1E59}S{1E60}%
s{1E61}T{1E6A}t{1E6B}W{1E86}w{1E87}X{1E8A}%
x{1E8B}Y{1E8E}y{1E8F}%
{}{}}
   {\a:accents{dot}{#1}} {\b:accents{dot}{#1}{#2}}
\expand:after{\Configure{accent}}\csname T1\string\u\expandafter\endcsname
   \csname T1\string\u\endcsname
   {g{011F}I{012C}i{012D}O{014E}o{014F}%
U{016C}u{016D}A{0102}a{0103}E{0114}%
e{0115}G{011E}\i{012D}%
{}{}}
   {\a:accents{breve}{#1}} {\b:accents{breve}{#1}{#2}}
\expand:after{\Configure{accent}}\csname T1\string\vec\expandafter\endcsname
   \csname T1\string\vec\endcsname
   {{}{}}
   {\a:accents{vec}{#1}} {\b:accents{vec}{#1}{#2}}
\expand:after{\Configure{accent}}\csname T1\string\v\expandafter\endcsname
   \csname T1\string\v\endcsname
   {C{010C}c{010D}D{010E}d{010F}%
E{011A}e{011B}L{013D}l{013E}N{0147}n{0148}R{0158}r{0159}%
S{0160}s{0161}T{0164}t{0165}Z{017D}z{017E}A{01CD}a{01CE}I{01CF}%
i{01D0}O{01D1}o{01D2}U{01D3}u{01D4}G{01E6}g{01E7}K{01E8}k{01E9}%
j{01F0}H{021E}h{021F}\i{01D0}\j{01F0}%
{}{}}
   {\a:accents{check}{#1}} {\b:accents{check}{#1}{#2}}
\expand:after{\Configure{accent}}\csname T1\string\=\expandafter\endcsname
   \csname T1\string\=\endcsname
   {{}{}}
   {\a:accents{bar}{#1}} {\b:accents{bar}{#1}{#2}}

\fi
\let\^^_\v
\Configure{marginpar}
   {%
     \def\marginpar:class{marginpar}%
     \if@reversemargin\def\marginpar:class{reversemarginpar}\fi%
     \ifvmode\IgnorePar\EndP\HCode{<div class="\marginpar:class">}%
      \def\end:margp{\ifvmode \IgnorePar\fi \EndP \HCode{</div>}}%
      \par
    \else
      \SaveEndP
      \HCode{<span class="\marginpar:class">}%
      \bgroup
         \Configure{HtmlPar}{\HCode{<br />}}{\HCode{<br />}}{}{}%
      \def\end:margp{\egroup\HCode{</span>}\RecallEndP}%
    \fi
   }
   {\end:margp}
\Css{.marginpar,.reversemarginpar {width:20\%; float:right; text-align:left;
  margin-left:auto; margin-top:0.5em; font-size:85\%;
  text-decoration:underline;}}
\Css{.marginpar p,.reversemarginpar p{margin-top:0.4em; margin-bottom:0.4em;}}
\Css{.reversemarginpar{float:left;}}
\:CheckOption{fonts} \if:Option
  \Configure{textbf}{\Protect\HCode{<span class="textbf">}\NoFonts}
                    {\EndNoFonts\Protect\HCode{</span>}}
  \Configure{textit}{\Protect\HCode{<span class="textit">}\NoFonts}
                    {\EndNoFonts\Protect\HCode{</span>}}
  \Configure{textrm}{\Protect\HCode{<span class="textrm">}\NoFonts}
                    {\EndNoFonts\Protect\HCode{</span>}}
  \Configure{textup}{\Protect\HCode{<span class="textup">}\NoFonts}
                    {\EndNoFonts\Protect\HCode{</span>}}
  \Configure{textsc}{\Protect\HCode{<span class="textsc">}\NoFonts}
                    {\EndNoFonts\Protect\HCode{</span>}}
  \Configure{textsf}{\Protect\HCode{<span class="textsf">}\NoFonts}
                    {\EndNoFonts\Protect\HCode{</span>}}
  \Configure{textsl}{\Protect\HCode{<span class="textsl">}\NoFonts}
                    {\EndNoFonts\Protect\HCode{</span>}}
  \Configure{texttt}{\Protect\HCode{<span class="texttt">}\NoFonts}
                    {\EndNoFonts\Protect\HCode{</span>}}
  \Configure{emph}{\Protect\HCode{<span class="emph">}\NoFonts}
                    {\EndNoFonts\Protect\HCode{</span>}}
  \Css{span.textbf { font-weight: bold; }}
  \Css{span.textit { font-style: italic; }}
  \Css{span.textrm { font-family: serif; }}
  \Css{span.textsc { font-variant: small-caps; }}
  \Css{span.textsf { font-family: sans-serif; }}
  \Css{span.texttt { font-family: monospace,monospace; }}
  \Css{span.emph   { font-style: italic;}}
  \Css{span.emph span.emph {font-style: normal;}}
\else
  \Log:Note{for tracing of latex font commands,
          use the command line option `fonts'}
\fi
\:CheckOption{p-width} \if:Option
  {
  \def\x:Em{%
    \catcode`\p=12
    \catcode`\t=12
    \gdef\x:Em}
  \x:Em#1pt{#1}
}
\tmp:dim=10em
\edef\ten:Em#1.#2//{#1}
\edef\ten:Em{\expandafter\ten:Em \the\tmp:dim//}

  \Configure{HColWidth}
     {\tmp:dim=\HColWidth \divide\tmp:dim by \ten:Em\relax
      \tmp:dim=10\tmp:dim
      \Css{\#TBL-\TableNo-\HRow-\HCol
                   {width:\expandafter\x:Em \the\tmp:dim em;}}}
\else
   \Log:Note{for width specifications of tabular p entries, use
       the `p-width' command line option or a configuration similar
       to \string\Configure{HColWidth}{\string\HCode
       { style="width:\string\HColWidth"}}}
\fi
\def\:tempc{\special{t4ht@+\string&{35}xAE{59}}x}
\HLet\textregistered\:tempc

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{book}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \def\tocpart#1#2#3{\par
   \HCode{<span class="partToc" \a:LRdir>}\if !#1!\else  #1~~\fi #2\HCode{</span>}\par}%
\def\toclikepart#1#2#3{\par
   \HCode{<span class="likepartToc" \a:LRdir>}#2\HCode{</span>}\par}%
\Css{.partToc a, .partToc, .likepartToc a, .likepartToc
        {line-height: 200\%; font-weight:bold; font-size:110\%;}}
%
\expandafter\ifx \csname @chapter\endcsname\relax
   \def\tocsection#1#2#3{\par
       \HCode{<span class="sectionToc" \a:LRdir>}\def\:temp{#1}\ifx \:temp\empty\else
            #1 \fi #2\HCode{</span>}\par}
   \def\toclikesection#1#2#3{\par
      \HCode{<span class="likesectionToc" \a:LRdir>}#2\HCode{</span>}\par}%
   \def\tocsubsection#1#2#3{\par\ \toc:num{subsection}{#1}{#2}\par}
   \def\toclikesubsection#1#2#3{\par\
      \HCode{<span class="likesubsectionToc" \a:LRdir>}#2\HCode{</span>}\par}
   \def\tocsubsubsection#1#2#3{\par
      \ \ \toc:num{subsubsection}{#1}{#2}\par}
   \def\toclikesubsubsection#1#2#3{\par
      \ \ \HCode{<span class="likesubsubsectionToc" \a:LRdir>}#2\HCode{</span>}\par}
   \def\tocparagraph#1#2#3{\par\ \ \toc:num{paragraph}{#1}{#2}\par}
   \def\toclikeparagraph#1#2#3{\par\ \
      \HCode{<span class="likeparagraphToc" \a:LRdir>}#2\HCode{</span>}\par}
   \def\tocsubparagraph#1#2#3{\par
      \ \ \ \ \toc:num{subparagraph}{#1}{#2}\par}
   \def\toclikesubparagraph#1#2#3{\par
      \ \ \ \ \HCode{<span class="likesubparagraphToc" \a:LRdir>}#2\HCode{</span>}\par}
\else
   \Css{.chapterToc a, .chapterToc, .likechapterToc a, .likechapterToc,
        .appendixToc a, .appendixToc
        {line-height: 200\%; font-weight:bold;}}
%
   \def\tocchapter#1#2#3{\par
      \HCode{<span class="chapterToc" \a:LRdir>}\ifnum \c@secnumdepth >\m@ne
                                                 #1 \fi #2\HCode{</span>}\par}
   \def\toclikechapter#1#2#3{\par
      \HCode{<span class="likechapterToc" \a:LRdir>}#2\HCode{</span>}\par}%
   \def\tocappendix#1#2#3{\par
      \HCode{<span class="appendixToc" \a:LRdir>}#1 #2\HCode{</span>}\par}
   \def\tocsection#1#2#3{\par\ \toc:num{section}{#1}{#2}\par}
   \def\toclikesection#1#2#3{\par\ \HCode{<span class="likesectionToc" \a:LRdir>}#2\HCode{</span>}\par}
   \def\tocsubsection#1#2#3{\par\ \ \toc:num{subsection}{#1}{#2}\par}
   \def\toclikesubsection#1#2#3{\par
      \ \ \HCode{<span class="likesubsectionToc" \a:LRdir>}#2\HCode{</span>}\par}
   \def\tocsubsubsection#1#2#3{\par
      \ \ \ \toc:num{subsubsection}{#1}{#2}\par}
   \def\toclikesubsubsection#1#2#3{\par
      \ \ \ \HCode{<span class="likesubsubsectionToc" \a:LRdir>}#2\HCode{</span>}\par}
   \def\tocparagraph#1#2#3{\par\ \ \ \toc:num{paragraph}{#1}{#2}\par}
   \def\toclikeparagraph#1#2#3{\par
      \ \ \ \HCode{<span class="likeparagraphToc" \a:LRdir>}#2\HCode{</span>}\par}
   \def\tocsubparagraph#1#2#3{\par
      \ \ \ \ \ \toc:num{subparagraph}{#1}{#2}\par}
   \def\toclikesubparagraph#1#2#3{\par
      \ \ \ \ \ \HCode{<span class="likesubparagraphToc" \a:LRdir>}#2\HCode{</span>}\par}
\fi
\def\toc:num#1#2#3{\def\:temp{#1#2}%
   \HCode{<span class="#1Toc" \a:LRdir>}\ifx \:temp\empty
   \else \def\:temp{#2}\ifx\:temp\empty\else #2 \fi \fi #3\HCode{</span>}}
%\def\:SPAN#1#2{\HCode{<span class="#1">}#2\HCode{</span>}}
 
\:CheckOption{7}     \if:Option
    \expandafter\ifx \csname @chapter\endcsname\relax
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,part}
\CutAt{likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,likesubsection,subsection}
\fi

         \CutAt{subsection,section,likesection,part}
\CutAt{likesubsection,section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection}
\fi

         \CutAt{subsubsection,subsection,likesubsection,section,likesection,part}
\CutAt{likesubsubsection,subsection,likesubsection,section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection,paragraph}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection,%
    paragraph}
\fi

         \CutAt{paragraph,subsubsection,likesubsubsection,subsection,likesubsection,%
       section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection,%
    paragraph,subparagraph}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection,%
    paragraph,subparagraph}
\fi

         \CutAt{subparagraph,paragraph,subsubsection,likesubsubsection,%
       subsection,likesubsection,%
       section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,%
          section,likesection,subsection,likesubsection}
     \MiniToc:At{likepart,/part,%
          section,likesection,subsection,likesubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             subsubsection,paragraph}
     \MiniToc:At{likesubsection,/subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             subsubsection,paragraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
     \MiniToc:At{likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsubsection,/likesubsubsection,/subsection,%
             /likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             paragraph,subparagraph}
     \MiniToc:At{likesubsubsection,/subsubsection,/likesubsection,%
             /subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             paragraph,subparagraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsubsection,/likesubsubsection,%
          /subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          paragraph,subparagraph}
     \MiniToc:At{likesubsubsection,/subsubsection,/likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          paragraph,subparagraph}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{paragraph,/subsubsection,/likesubsubsection,/subsection,%
             /likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             subparagraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{paragraph,/subsubsection,/likesubsubsection,%
          /subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          subparagraph}
  \fi
\fi

    \else
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
     appendix,section\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection,likesubsection\fi}
\fi

         \CutAt{chapter,likechapter,appendix,part}
\CutAt{likechapter,appendix,part}
\CutAt{appendix,chapter,likechapter,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,chapter,likechapter,appendix,part}
\CutAt{likesection,chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,likesubsection,subsection}
\fi

         \CutAt{subsection,section,likesection,%
                  chapter,likechapter,appendix,part}
\CutAt{likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection}
\fi

         \CutAt{subsubsection,subsection,likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}
\CutAt{likesubsubsection,subsection,likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection,paragraph}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection,%
    paragraph}
\fi

         \CutAt{paragraph,subsubsection,likesubsubsection,subsection,likesubsection,%
       section,likesection,chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection,%
    paragraph,subparagraph}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection,%
    paragraph,subparagraph}
\fi

         \CutAt{subparagraph,paragraph,subsubsection,likesubsubsection,%
       subsection,likesubsection,%
       section,likesection,chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,likechapter,appendix,%
          section,likesection}
     \MiniToc:At{likepart,/part,chapter,likechapter,appendix,%
          section,likesection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,subsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,subsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,subsection}
   \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,likesection,subsection,likesubsection}
   \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             subsubsection,paragraph}
     \MiniToc:At{likesubsection,/subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             subsubsection,paragraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
     \MiniToc:At{likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsubsection,/likesubsubsection,/subsection,%
             /likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             paragraph,subparagraph}
     \MiniToc:At{likesubsubsection,/subsubsection,/likesubsection,%
             /subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             paragraph,subparagraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsubsection,/likesubsubsection,%
          /subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          paragraph,subparagraph}
     \MiniToc:At{likesubsubsection,/subsubsection,/likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          paragraph,subparagraph}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{paragraph,/subsubsection,/likesubsubsection,/subsection,%
             /likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             subparagraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{paragraph,/subsubsection,/likesubsubsection,%
          /subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          subparagraph}
  \fi
\fi

    \fi
    \:CheckOption{obj-toc}  \if:Option
   \Css{object.toc { float: left;
                     width: 25\%;
                     height: 100\%;
                     border: 1px solid \#888888;
                     margin-left:0em;
                     margin-top:0em;
                     margin-bottom:1em;
                     margin-right:1em;
                     padding-right:1em;
               }}
   \Css{body\#jobname-toc{margin:0em;}}
   \Css{body\#jobname-toc .tableofcontents{ white-space: nowrap; }}
   \Configure{@BODY}
      {\edef\:temp{\jobname-toc.\:html}
       \edef\:tempa{\FileName}
       \edef\:temp{\expandafter\string\csname\:temp\endcsname}
       \edef\:tempa{\expandafter\string\csname\:tempa\endcsname}
       \ifx\:temp\:tempa\else
          \hbox{
             \HCode{<object class="toc" data="\jobname-toc.\:html">}
                 [\Link[\jobname-toc.\:html]{}{}table of contents\EndLink]
             \HCode{</object>}}
       \fi
      }
      {}
   \pend:defI\Auto:ent{%
      \bgroup
      \let\contentsname=\empty
      \Configure{!BODY}{ id="jobname-toc"}%
      \Configure{Link}{a}{target="\string _top" href=}{id=}{}%
      \NextFile{\jobname-toc.\csname :html\endcsname}%
      \HPage{}%
   }
   \append:defI\Auto:ent{%
      \EndHPage{}%
      \egroup
   }
\else
   \Log:Note{for frames-like object-based table of contents,
                 use the command line option `obj-toc'}
\fi

\else\:CheckOption{6}     \if:Option
    \expandafter\ifx \csname @chapter\endcsname\relax
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,part}
\CutAt{likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,likesubsection,subsection}
\fi

         \CutAt{subsection,section,likesection,part}
\CutAt{likesubsection,section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection}
\fi

         \CutAt{subsubsection,subsection,likesubsection,section,likesection,part}
\CutAt{likesubsubsection,subsection,likesubsection,section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection,paragraph}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection,%
    paragraph}
\fi

         \CutAt{paragraph,subsubsection,likesubsubsection,subsection,likesubsection,%
       section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,%
          section,likesection,subsection,likesubsection}
     \MiniToc:At{likepart,/part,%
          section,likesection,subsection,likesubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             subsubsection,paragraph}
     \MiniToc:At{likesubsection,/subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             subsubsection,paragraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
     \MiniToc:At{likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsubsection,/likesubsubsection,/subsection,%
             /likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             paragraph,subparagraph}
     \MiniToc:At{likesubsubsection,/subsubsection,/likesubsection,%
             /subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             paragraph,subparagraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsubsection,/likesubsubsection,%
          /subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          paragraph,subparagraph}
     \MiniToc:At{likesubsubsection,/subsubsection,/likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          paragraph,subparagraph}
  \fi
\fi

    \else
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
     appendix,section\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection,likesubsection\fi}
\fi

         \CutAt{chapter,likechapter,appendix,part}
\CutAt{likechapter,appendix,part}
\CutAt{appendix,chapter,likechapter,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,chapter,likechapter,appendix,part}
\CutAt{likesection,chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,likesubsection,subsection}
\fi

         \CutAt{subsection,section,likesection,%
                  chapter,likechapter,appendix,part}
\CutAt{likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection}
\fi

         \CutAt{subsubsection,subsection,likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}
\CutAt{likesubsubsection,subsection,likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection,paragraph}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection,%
    paragraph}
\fi

         \CutAt{paragraph,subsubsection,likesubsubsection,subsection,likesubsection,%
       section,likesection,chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,likechapter,appendix,%
          section,likesection}
     \MiniToc:At{likepart,/part,chapter,likechapter,appendix,%
          section,likesection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,subsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,subsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,subsection}
   \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,likesection,subsection,likesubsection}
   \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             subsubsection,paragraph}
     \MiniToc:At{likesubsection,/subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             subsubsection,paragraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
     \MiniToc:At{likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsubsection,/likesubsubsection,/subsection,%
             /likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             paragraph,subparagraph}
     \MiniToc:At{likesubsubsection,/subsubsection,/likesubsection,%
             /subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             paragraph,subparagraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsubsection,/likesubsubsection,%
          /subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          paragraph,subparagraph}
     \MiniToc:At{likesubsubsection,/subsubsection,/likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          paragraph,subparagraph}
  \fi
\fi

    \fi
    \:CheckOption{obj-toc}  \if:Option
   \Css{object.toc { float: left;
                     width: 25\%;
                     height: 100\%;
                     border: 1px solid \#888888;
                     margin-left:0em;
                     margin-top:0em;
                     margin-bottom:1em;
                     margin-right:1em;
                     padding-right:1em;
               }}
   \Css{body\#jobname-toc{margin:0em;}}
   \Css{body\#jobname-toc .tableofcontents{ white-space: nowrap; }}
   \Configure{@BODY}
      {\edef\:temp{\jobname-toc.\:html}
       \edef\:tempa{\FileName}
       \edef\:temp{\expandafter\string\csname\:temp\endcsname}
       \edef\:tempa{\expandafter\string\csname\:tempa\endcsname}
       \ifx\:temp\:tempa\else
          \hbox{
             \HCode{<object class="toc" data="\jobname-toc.\:html">}
                 [\Link[\jobname-toc.\:html]{}{}table of contents\EndLink]
             \HCode{</object>}}
       \fi
      }
      {}
   \pend:defI\Auto:ent{%
      \bgroup
      \let\contentsname=\empty
      \Configure{!BODY}{ id="jobname-toc"}%
      \Configure{Link}{a}{target="\string _top" href=}{id=}{}%
      \NextFile{\jobname-toc.\csname :html\endcsname}%
      \HPage{}%
   }
   \append:defI\Auto:ent{%
      \EndHPage{}%
      \egroup
   }
\else
   \Log:Note{for frames-like object-based table of contents,
                 use the command line option `obj-toc'}
\fi

\else \:CheckOption{5}     \if:Option
    \expandafter\ifx \csname @chapter\endcsname\relax
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,part}
\CutAt{likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,likesubsection,subsection}
\fi

         \CutAt{subsection,section,likesection,part}
\CutAt{likesubsection,section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection}
\fi

         \CutAt{subsubsection,subsection,likesubsection,section,likesection,part}
\CutAt{likesubsubsection,subsection,likesubsection,section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,%
          section,likesection,subsection,likesubsection}
     \MiniToc:At{likepart,/part,%
          section,likesection,subsection,likesubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             subsubsection,paragraph}
     \MiniToc:At{likesubsection,/subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             subsubsection,paragraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
     \MiniToc:At{likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
  \fi
\fi

    \else
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
     appendix,section\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection,likesubsection\fi}
\fi

         \CutAt{chapter,likechapter,appendix,part}
\CutAt{likechapter,appendix,part}
\CutAt{appendix,chapter,likechapter,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,chapter,likechapter,appendix,part}
\CutAt{likesection,chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,likesubsection,subsection}
\fi

         \CutAt{subsection,section,likesection,%
                  chapter,likechapter,appendix,part}
\CutAt{likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection}
\fi

         \CutAt{subsubsection,subsection,likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}
\CutAt{likesubsubsection,subsection,likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,likechapter,appendix,%
          section,likesection}
     \MiniToc:At{likepart,/part,chapter,likechapter,appendix,%
          section,likesection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,subsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,subsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,subsection}
   \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,likesection,subsection,likesubsection}
   \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             subsubsection,paragraph}
     \MiniToc:At{likesubsection,/subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             subsubsection,paragraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
     \MiniToc:At{likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
  \fi
\fi

    \fi
    \:CheckOption{obj-toc}  \if:Option
   \Css{object.toc { float: left;
                     width: 25\%;
                     height: 100\%;
                     border: 1px solid \#888888;
                     margin-left:0em;
                     margin-top:0em;
                     margin-bottom:1em;
                     margin-right:1em;
                     padding-right:1em;
               }}
   \Css{body\#jobname-toc{margin:0em;}}
   \Css{body\#jobname-toc .tableofcontents{ white-space: nowrap; }}
   \Configure{@BODY}
      {\edef\:temp{\jobname-toc.\:html}
       \edef\:tempa{\FileName}
       \edef\:temp{\expandafter\string\csname\:temp\endcsname}
       \edef\:tempa{\expandafter\string\csname\:tempa\endcsname}
       \ifx\:temp\:tempa\else
          \hbox{
             \HCode{<object class="toc" data="\jobname-toc.\:html">}
                 [\Link[\jobname-toc.\:html]{}{}table of contents\EndLink]
             \HCode{</object>}}
       \fi
      }
      {}
   \pend:defI\Auto:ent{%
      \bgroup
      \let\contentsname=\empty
      \Configure{!BODY}{ id="jobname-toc"}%
      \Configure{Link}{a}{target="\string _top" href=}{id=}{}%
      \NextFile{\jobname-toc.\csname :html\endcsname}%
      \HPage{}%
   }
   \append:defI\Auto:ent{%
      \EndHPage{}%
      \egroup
   }
\else
   \Log:Note{for frames-like object-based table of contents,
                 use the command line option `obj-toc'}
\fi

\else\:CheckOption{4}     \if:Option
    \expandafter\ifx \csname @chapter\endcsname\relax
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,part}
\CutAt{likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,likesubsection,subsection}
\fi

         \CutAt{subsection,section,likesection,part}
\CutAt{likesubsection,section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,%
          section,likesection,subsection,likesubsection}
     \MiniToc:At{likepart,/part,%
          section,likesection,subsection,likesubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
  \fi
\fi

    \else
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
     appendix,section\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection,likesubsection\fi}
\fi

         \CutAt{chapter,likechapter,appendix,part}
\CutAt{likechapter,appendix,part}
\CutAt{appendix,chapter,likechapter,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,chapter,likechapter,appendix,part}
\CutAt{likesection,chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,likesubsection,subsection}
\fi

         \CutAt{subsection,section,likesection,%
                  chapter,likechapter,appendix,part}
\CutAt{likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,likechapter,appendix,%
          section,likesection}
     \MiniToc:At{likepart,/part,chapter,likechapter,appendix,%
          section,likesection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,subsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,subsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,subsection}
   \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,likesection,subsection,likesubsection}
   \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
  \fi
\fi

    \fi
    \:CheckOption{obj-toc}  \if:Option
   \Css{object.toc { float: left;
                     width: 25\%;
                     height: 100\%;
                     border: 1px solid \#888888;
                     margin-left:0em;
                     margin-top:0em;
                     margin-bottom:1em;
                     margin-right:1em;
                     padding-right:1em;
               }}
   \Css{body\#jobname-toc{margin:0em;}}
   \Css{body\#jobname-toc .tableofcontents{ white-space: nowrap; }}
   \Configure{@BODY}
      {\edef\:temp{\jobname-toc.\:html}
       \edef\:tempa{\FileName}
       \edef\:temp{\expandafter\string\csname\:temp\endcsname}
       \edef\:tempa{\expandafter\string\csname\:tempa\endcsname}
       \ifx\:temp\:tempa\else
          \hbox{
             \HCode{<object class="toc" data="\jobname-toc.\:html">}
                 [\Link[\jobname-toc.\:html]{}{}table of contents\EndLink]
             \HCode{</object>}}
       \fi
      }
      {}
   \pend:defI\Auto:ent{%
      \bgroup
      \let\contentsname=\empty
      \Configure{!BODY}{ id="jobname-toc"}%
      \Configure{Link}{a}{target="\string _top" href=}{id=}{}%
      \NextFile{\jobname-toc.\csname :html\endcsname}%
      \HPage{}%
   }
   \append:defI\Auto:ent{%
      \EndHPage{}%
      \egroup
   }
\else
   \Log:Note{for frames-like object-based table of contents,
                 use the command line option `obj-toc'}
\fi

\else\:CheckOption{3}     \if:Option
    \expandafter\ifx \csname @chapter\endcsname\relax
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,likesubsection,subsection}
\fi

         \CutAt{subsection,section,likesection,part}
\CutAt{likesubsection,section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,%
          section,likesection,subsection,likesubsection}
     \MiniToc:At{likepart,/part,%
          section,likesection,subsection,likesubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
  \fi
\fi

         \CutAt{section,likesection,part}
\CutAt{likesection,part}

    \else
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
     appendix,section\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection,likesubsection\fi}
\fi

         \CutAt{chapter,likechapter,appendix,part}
\CutAt{likechapter,appendix,part}
\CutAt{appendix,chapter,likechapter,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,chapter,likechapter,appendix,part}
\CutAt{likesection,chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,likechapter,appendix,%
          section,likesection}
     \MiniToc:At{likepart,/part,chapter,likechapter,appendix,%
          section,likesection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,subsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,subsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,subsection}
   \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,likesection,subsection,likesubsection}
   \fi
\fi

    \fi
    \:CheckOption{obj-toc}  \if:Option
   \Css{object.toc { float: left;
                     width: 25\%;
                     height: 100\%;
                     border: 1px solid \#888888;
                     margin-left:0em;
                     margin-top:0em;
                     margin-bottom:1em;
                     margin-right:1em;
                     padding-right:1em;
               }}
   \Css{body\#jobname-toc{margin:0em;}}
   \Css{body\#jobname-toc .tableofcontents{ white-space: nowrap; }}
   \Configure{@BODY}
      {\edef\:temp{\jobname-toc.\:html}
       \edef\:tempa{\FileName}
       \edef\:temp{\expandafter\string\csname\:temp\endcsname}
       \edef\:tempa{\expandafter\string\csname\:tempa\endcsname}
       \ifx\:temp\:tempa\else
          \hbox{
             \HCode{<object class="toc" data="\jobname-toc.\:html">}
                 [\Link[\jobname-toc.\:html]{}{}table of contents\EndLink]
             \HCode{</object>}}
       \fi
      }
      {}
   \pend:defI\Auto:ent{%
      \bgroup
      \let\contentsname=\empty
      \Configure{!BODY}{ id="jobname-toc"}%
      \Configure{Link}{a}{target="\string _top" href=}{id=}{}%
      \NextFile{\jobname-toc.\csname :html\endcsname}%
      \HPage{}%
   }
   \append:defI\Auto:ent{%
      \EndHPage{}%
      \egroup
   }
\else
   \Log:Note{for frames-like object-based table of contents,
                 use the command line option `obj-toc'}
\fi

\else\:CheckOption{2}     \if:Option
    \expandafter\ifx \csname @chapter\endcsname\relax
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,part}
\CutAt{likesection,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,%
          section,likesection,subsection,likesubsection}
     \MiniToc:At{likepart,/part,%
          section,likesection,subsection,likesubsection}
  \fi
\fi

    \else
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
     appendix,section\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection,likesubsection\fi}
\fi

         \CutAt{chapter,likechapter,appendix,part}
\CutAt{likechapter,appendix,part}
\CutAt{appendix,chapter,likechapter,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,likechapter,appendix,%
          section,likesection}
     \MiniToc:At{likepart,/part,chapter,likechapter,appendix,%
          section,likesection}
  \fi
\fi

    \fi
    \:CheckOption{obj-toc}  \if:Option
   \Css{object.toc { float: left;
                     width: 25\%;
                     height: 100\%;
                     border: 1px solid \#888888;
                     margin-left:0em;
                     margin-top:0em;
                     margin-bottom:1em;
                     margin-right:1em;
                     padding-right:1em;
               }}
   \Css{body\#jobname-toc{margin:0em;}}
   \Css{body\#jobname-toc .tableofcontents{ white-space: nowrap; }}
   \Configure{@BODY}
      {\edef\:temp{\jobname-toc.\:html}
       \edef\:tempa{\FileName}
       \edef\:temp{\expandafter\string\csname\:temp\endcsname}
       \edef\:tempa{\expandafter\string\csname\:tempa\endcsname}
       \ifx\:temp\:tempa\else
          \hbox{
             \HCode{<object class="toc" data="\jobname-toc.\:html">}
                 [\Link[\jobname-toc.\:html]{}{}table of contents\EndLink]
             \HCode{</object>}}
       \fi
      }
      {}
   \pend:defI\Auto:ent{%
      \bgroup
      \let\contentsname=\empty
      \Configure{!BODY}{ id="jobname-toc"}%
      \Configure{Link}{a}{target="\string _top" href=}{id=}{}%
      \NextFile{\jobname-toc.\csname :html\endcsname}%
      \HPage{}%
   }
   \append:defI\Auto:ent{%
      \EndHPage{}%
      \egroup
   }
\else
   \Log:Note{for frames-like object-based table of contents,
                 use the command line option `obj-toc'}
\fi

\else\:CheckOption{1}     \if:Option
    \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
    \CutAt{part}
\CutAt{likepart}

    \:CheckOption{obj-toc}  \if:Option
   \Css{object.toc { float: left;
                     width: 25\%;
                     height: 100\%;
                     border: 1px solid \#888888;
                     margin-left:0em;
                     margin-top:0em;
                     margin-bottom:1em;
                     margin-right:1em;
                     padding-right:1em;
               }}
   \Css{body\#jobname-toc{margin:0em;}}
   \Css{body\#jobname-toc .tableofcontents{ white-space: nowrap; }}
   \Configure{@BODY}
      {\edef\:temp{\jobname-toc.\:html}
       \edef\:tempa{\FileName}
       \edef\:temp{\expandafter\string\csname\:temp\endcsname}
       \edef\:tempa{\expandafter\string\csname\:tempa\endcsname}
       \ifx\:temp\:tempa\else
          \hbox{
             \HCode{<object class="toc" data="\jobname-toc.\:html">}
                 [\Link[\jobname-toc.\:html]{}{}table of contents\EndLink]
             \HCode{</object>}}
       \fi
      }
      {}
   \pend:defI\Auto:ent{%
      \bgroup
      \let\contentsname=\empty
      \Configure{!BODY}{ id="jobname-toc"}%
      \Configure{Link}{a}{target="\string _top" href=}{id=}{}%
      \NextFile{\jobname-toc.\csname :html\endcsname}%
      \HPage{}%
   }
   \append:defI\Auto:ent{%
      \EndHPage{}%
      \egroup
   }
\else
   \Log:Note{for frames-like object-based table of contents,
                 use the command line option `obj-toc'}
\fi

\else
    \Log:Note{for automatic sectioning
        pagination, use the command line option
                     `1', `2', `3', '4', '5', '6', or '7'}%
\fi \fi \fi \fi \fi \fi  \fi
\:CheckOption{sec-filename}   \if:Option \else
    \Log:Note{for files named derived from section
        titles, use the command line option `sec-filename'}%
\fi


\:CheckOption{1}     \if:Option
   \:CheckOption{notoc*}     \if:Option
   \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

      \MiniToc:At{part,/likepart,chapter,appendix,section}
   \fi
\else
   \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

      \MiniToc:At{part,/likepart,chapter,likechapter,appendix,%
            section,likesection}
   \fi
\fi

\fi
\def\:temp#1index=#2,#3!*?: {%
   \ifnum #2>1 \NewConfigure{IndexColumns}{1}
\Configure{IndexColumns}{#2}
\fi
   \def\:temp{#2}%
}
\expandafter\:temp\Preamble,index=0,!*?: 
\ifnum \:temp<2
   \Log:Note{for i-columns index,
               use the command line option `index=i' (e.g., index=2)}
\Configure{theindex}
   {\ifvmode \IgnorePar\fi \EndP
    \HCode{<div class="theindex">}\let\end:theidx\empty}
   {\end:theidx\HCode{</div>}}
   {\hbox\bgroup\HCode{<span class="index-item">}}
   {\HCode{<br /></span>}\egroup\hfill\break}
   {\hbox\bgroup\HCode{<span class="index-subitem">}\ \ \ \ }
   {\HCode{<br /></span>}\egroup\hfill\break}
   {\hbox\bgroup\HCode{<span class="index-subsubitem">}\ \ \ \ \ \ \ \ }
   {\HCode{<br /></span>}\egroup\hfill\break}
   {\hbox{\end:theidx\HCode{<p class="theindex">}}%
    \def\end:theidx{\HCode{</p>}}}
\Css{.index-item, .index-subitem, .index-subsubitem {display:block}}

\else
   \Log:Note{the number of columns
   requested by the option `index=\a:IndexColumns' can
   be modified through the command \string\Configure{IndexColumns}{i}}
\Configure{theindex}
   {\ifvmode \IgnorePar\fi \EndP
    \HCode{<div class="theindex">}%
    \Configure{HColumns}
     {\IgnorePar\EndP
         \HCode{<table \Hnewline class="index" width="100\%"
                     cellspacing="15"><tr style="vertical-align:top;">}}
     {\HCode{</tr></table>}}
     {\HCode{<td>}\ColMag{1.1}}
     {\IgnorePar\EndP\HCode{</td>}}
  \HColumns{\a:IndexColumns}%
  \everypar{\HtmlPar}%
  \Configure{HtmlPar}{}{\HCode{<br class="index-segment" />}}{}{}%
  \par\ShowPar
\let\end:theidx\empty}
   {\end:theidx
    \ifvmode\IgnorePar\fi \EndP\EndHColumns
\HCode{</div>}}
   {\hbox\bgroup\HCode{<span class="index-item">}}
   {\HCode{<br /></span>}\egroup\hfill\break}
   {\hbox\bgroup\HCode{<span class="index-subitem">}\ \ \ \ }
   {\HCode{<br /></span>}\egroup\hfill\break}
   {\hbox\bgroup\HCode{<span class="index-subsubitem">}\ \ \ \ \ \ \ \ }
   {\HCode{<br /></span>}\egroup\hfill\break}
   {%\ifvmode \EndP\fi
    % \hbox{\end:theidx\HCode{<p class="theindex">}}%
    % \def\end:theidx{\HCode{</p>}}
    \parindent=0pt
   }%
\Css{.index-item, .index-subitem, .index-subsubitem {display:block}}
\Css{br.index-segment:first-child {display:none}}
\Css{.index-item br,
     .index-subitem br,
     .index-subsubitem br {display:none}}
\def\add:col{\Advance:\:cols  -1 \HAdvance\HCol  1\relax
   \ifnum \:cols>0
      \c:Cols \vsplit0 to \tmp:dim  \d:Cols  \expandafter\add:col
   \fi}
\NewConfigure{HColumns}{4}
\def\c:Cols{\edef\sv:dim{\the\tmp:dim}\c:HColumns}
\def\d:Cols{\d:HColumns \tmp:dim\sv:dim }
\def\ColMag#1{\tmp:dim  #1\tmp:dim}
\def\HColumns#1{%
   \a:HColumns
   \HAssign\:cols#1  \setbox0=\vbox\bgroup
   \divide\hsize  #1  }
\def\EndHColumns{\egroup   \HAssign\HCol0
  \tmp:dim\ht0  \advance\tmp:dim  \dp0  \divide\tmp:dim  \:cols
  \add:col \c:Cols \box0 \d:Cols \b:HColumns}

\fi

\Configure{caption}{\HCode{\if:nopar  \else <br />\fi}
   \:xhtml{\IgnorePar\EndP}\HCode{<div class="caption"\Hnewline
                                 ><span class="id">}}
   {: } {\HCode{</span><span \Hnewline class="content">}}
   {\HCode{</span></div>}\HCode{<!--tex4ht:label?:
   \cur:th\:currentlabel\space-->}%
}
\Css{div.caption {text-indent:-2em; margin-left:3em; margin-right:1em;
                  text-align:left;}}
\Css{div.caption span.id{font-weight: bold; white-space: nowrap; }}


\Configure{endlikeparagraph}
   {paragraph,subsubsection,likesubsubsection,subsection,%
    likesubsection,section,%
    likesection,chapter,likechapter,appendix,part,likepart}
\Configure{endsubparagraph}
   {likesubparagraph,likeparagraph,subsubsection,likesubsubsection,%
    subsection,likesubsection,section,%
    likesection,chapter,likechapter,appendix,part,likepart}
\Configure{endlikesubparagraph}
   {subparagraph,likeparagraph,subsubsection,likesubsubsection,%
    subsection,likesubsection,section,%
    likesection,chapter,likechapter,appendix,part,likepart}

\ConfigureEnv{thebibliography}{\IgnorePar}{\ShowPar\par}{}{}

\ifx \part\:UnDef \else
   \Configure{endpart}{likepart}
\Configure{endlikepart}{endpart}
\Configure{part}{}{}
   {\IgnorePar \EndP\HCode{<h1 class="partHead"\a:LRdir>}%
       \HCode{<span class="titlemark">}\partname \ \thepart
       \HCode{<br /></span>}}
   {\HCode{</h1>}\IgnoreIndent\par}
\Configure{likepart}{}{}
   {\IgnorePar\EndP\HCode{<h1 class="likepartHead"\a:LRdir>}}
   {\HCode{</h1>}\IgnoreIndent\par}
\Configure{partTITLE+}{\thepart\space #1}
\Configure{likepartTITLE+}{#1}
\Css{h1.partHead{text-align: center}}

\fi
\ConfigureToc{lof}
  {\HCode{<span class="lofToc" \a:LRdir>}}{\ }{}{\HCode{</span><br />}}
\ConfigureToc{lot}
  {\HCode{<span class="lotToc" \a:LRdir>}}{\ }{}{\HCode{</span><br />}}

\ConfigureList{description}%
   {\EndP\HCode{<dl \a:LRdir class="description">}%
      \PushMacro\end:itm
\global\let\end:itm=\empty}
   {\PopMacro\end:itm \global\let\end:itm \end:itm
\EndP\HCode{</dd></dl>}\ShowPar}
   {\end:itm \global\def\end:itm{\EndP\Tg</dd>}\HCode{<dt
        class="description">}\bgroup \bf}
   {\egroup\EndP\HCode{</dt><dd\Hnewline class="description">}}

\Configure{enumiii}
    {\HCode{<span class="roman-numeral">}}
    {\HCode{</span>}}

\:CheckOption{no-bib} \if:Option\else
   \:CheckOption{mouseover} \if:Option
      \ConfigureList{thebibliography}%
   {\ifvmode\IgnorePar\fi\EndP \js:on
\HCode{<div
                   class="thebibliography">}\let\en:bib=\empty}
   {\en:bib \ifvmode\IgnorePar\fi\EndP \HCode{</div>}}
   {\en:bib\def\en:bib{\ht:special {t4ht@DCopyTo: \jobname-js.tex Skip bib }%
\csname bibliography2\endcsname
\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont bib }%
%
%
        \EndP\ht:special {t4ht@DCopyTo: \jobname-js.tex Skip bib }%
%
\HCode{<!--}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont bib }%
%
\HCode{</div></bibitem>\Hnewline}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Until bib }%
%
\HCode{-->}
}\HCode{<!--}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex From bib }%
%
\HCode{<bibitem>}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Skip bib }%
%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Set1 bib }%
%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont bib }%
%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Set2 bib }%
%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Skip bib }%
%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont bib }%
%
\HCode{<div class="js">}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Skip bib }%
%
\HCode{-->}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont bib }%
%
%
        \Configure{HtmlPar}
   {\EndP\HCode{<p class="bibitem" \a:LRdir>}}
   {\EndP\HCode{<p class="bibitem" \a:LRdir>}}
   {\Tg</p>} {\Tg</p>}%
\par\ShowPar
        \leavevmode \ht:special {t4ht@DCopyTo: \jobname-js.tex Skip bib }%
\HCode{<span
      class="biblabel">}\Configure{HtmlPar}
   {\EndP\HCode{<p class="bibitem-p" \a:LRdir>}}
   {\EndP\HCode{<p class="bibitem-p" \a:LRdir>}}
   {\Tg</p>} {\Tg</p>}%
}
   {\HCode{<span class="bibsp">}\:nbsp
      \:nbsp\:nbsp\HCode{</span></span>}\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont bib }%
}

   \else
      \ConfigureList{thebibliography}%
   {\ifvmode\IgnorePar\fi \EndP \HCode{<div
                   class="thebibliography">}\let\en:bib=\empty}
   {\en:bib \ifvmode\IgnorePar\fi \EndP \HCode{</div>}}
   {\en:bib\def\en:bib{\csname bibliography2\endcsname
\EndP}%
   \Configure{HtmlPar}
   {\EndP\HCode{<p class="bibitem" \a:LRdir>}}
   {\EndP\HCode{<p class="bibitem" \a:LRdir>}}
   {\Tg</p>} {\Tg</p>}%
\par\ShowPar
    \HCode{<span class="biblabel">}\Configure{HtmlPar}
   {\EndP\HCode{<p class="bibitem-p" \a:LRdir>}}
   {\EndP\HCode{<p class="bibitem-p" \a:LRdir>}}
   {\Tg</p>} {\Tg</p>}%
}
   {\HCode{<span class="bibsp">}\:nbsp
      \:nbsp\:nbsp\HCode{</span></span>}}

   \fi
   \Css{p.bibitem { text-indent: -2em; margin-left: 2em;
       margin-top:0.6em; margin-bottom:0.6em;     }}
\Css{p.bibitem-p { text-indent: 0em; margin-left: 2em;
       margin-top:0.6em; margin-bottom:0.6em;     }}

\fi

\Configure{endsection}
     {likesection,chapter,likechapter,appendix,part,likepart}
\Configure{endlikesection}
     {section,chapter,likechapter,appendix,part,likepart}
\ConfigureMark{section}
   {\ifnum \c:secnumdepth>\c@secnumdepth \expandafter\:gobble
    \else
       \HCode{<span class="titlemark">}\@seccntformat{section}%
       \HCode{</span>}\fi }
\Configure{sectionTITLE+}{\ifnum \c:secnumdepth>\c@secnumdepth
      \ifnum \c@secnumdepth > 0
      \thesection\space
    \fi\fi #1}

\Configure{section}{}{}
   {\ifvmode \IgnorePar\fi \EndP\IgnorePar
    \HCode{<h3 class="sectionHead"\a:LRdir>}\TitleMark\space\HtmlParOff}
   {\HCode{</h3>}\HtmlParOn\ShowPar \IgnoreIndent \par}
\Configure{likesection}{}{}
   {\ifvmode \IgnorePar\fi
    \EndP\IgnorePar\HCode{<h3 class="likesectionHead"\a:LRdir>}\HtmlParOff}
   {\HCode{</h3>}\HtmlParOn \IgnoreIndent \ShowPar \par}
\Configure{likesectionTITLE+}{#1}

\Configure{endsubsection}
   {likesubsection,section,likesection,chapter,%
      likechapter,appendix,part,likepart}
\Configure{endlikesubsection}
   {subsection,section,likesection,chapter,%
      likechapter,appendix,part,likepart}
\ConfigureMark{subsubsection}
   {\ifnum \c:secnumdepth>\c@secnumdepth  \expandafter\:gobble
    \else
       \HCode{<span class="titlemark">}\@seccntformat{subsubsection}%
       \HCode{</span>}\fi}
\Configure{subsubsectionTITLE+}{\ifnum \c:secnumdepth>\c@secnumdepth
      \ifnum \c@secnumdepth > 0
      \thesubsubsection\space
    \fi\fi #1}

\Configure{subsubsection}{}{}
   {\ifvmode \IgnorePar \fi  \EndP
    \bgroup \IgnorePar\HCode{<h5 class="subsubsectionHead"\a:LRdir>}%
    \TitleMark\space \HtmlParOff}
   {\HCode{</h5>}\HtmlParOn \IgnoreIndent\egroup\par\ShowPar}
\Configure{likesubsubsection}{}{}
   {\ifvmode \IgnorePar\fi \EndP\bgroup\IgnorePar
    \HCode{<h5 class="likesubsubsectionHead"\a:LRdir>}\HtmlParOff}
   {\HCode{</h5>}\HtmlParOn \IgnoreIndent\egroup\par\ShowPar}

\ConfigureMark{subsection}
   {\ifnum \c:secnumdepth>\c@secnumdepth  \expandafter\:gobble
    \else
       \HCode{<span class="titlemark">}\@seccntformat{subsection}%
       \HCode{</span>}\fi }
\Configure{subsectionTITLE+}{\ifnum \c:secnumdepth>\c@secnumdepth
      \ifnum \c@secnumdepth > 0
      \thesubsection\space
    \fi\fi #1}

\Configure{subsection}{}{}
   {\ifvmode \IgnorePar\fi
    \EndP\bgroup \IgnorePar\HCode{<h4 class="subsectionHead"\a:LRdir>}%
    \TitleMark\space \HtmlParOff}
   {\HCode{</h4>}\HtmlParOn \IgnoreIndent\egroup\par\ShowPar}
\Configure{likesubsection}{}{}{\EndP\bgroup
   \ifvmode \IgnorePar\fi
   \HCode{<h4 class="likesubsectionHead"\a:LRdir>}\HtmlParOff }
  {\HCode{</h4>}\HtmlParOn \IgnoreIndent\egroup\par\ShowPar}
\Configure{likesubsectionTITLE+}{#1}


\Configure{endsubsubsection}
   {likesubsubsection,subsection,likesubsection,section,%
      likesection,chapter,likechapter,appendix,part,likepart}
\Configure{endlikesubsubsection}
   {subsubsection,subsection,likesubsection,section,%
      likesection,chapter,likechapter,appendix,part,likepart}

\Configure{endparagraph}
   {likeparagraph,subsubsection,likesubsubsection,subsection,%
    likesubsection,section,%
    likesection,chapter,likechapter,appendix,part,likepart}
\Configure{paragraph}{}{}
  {\ShowPar\IgnoreIndent\HCode{<span class="paragraphHead"\a:LRdir>}\begingroup\bf}
  {\endgroup\HCode{</span>}\par\IgnorePar}
\Configure{likeparagraph}{}{}
  {\ShowPar\IgnoreIndent\HCode{<span class="likeparagraphHead"\a:LRdir>}}
  {\HCode{</span>}\par\IgnorePar}
\Css{.paragraphHead, .likeparagraphHead
   { margin-top:2em; font-weight: bold;}}

\ConfigureMark{subparagraph}{}
\Configure{subparagraph}{}{}
  {\ShowPar\HCode{<span class="subparagraphHead"\a:LRdir>}\begingroup\bf
   \TitleMark\space}
  {\endgroup\HCode{</span>}\IgnorePar}
\Configure{likesubparagraph}{}{}
  {\ShowPar\HCode{<span class="likesubparagraphHead"\a:LRdir>}\begingroup\bf}
  {\endgroup\HCode{</span>}\IgnorePar}
\Css{.subparagraphHead, .likesubparagraphHead
   { font-weight: bold;}}

\ConfigureEnv{quote}
   {}{}
   {\IgnorePar\EndP
    \HCode{<blockquote class="\getClass{quote}">}\afterGetClass{quote}}
   {\IgnorePar\EndP\HCode{</blockquote>}\ShowPar\ShowIndent}
\NewConfigure{quoteClass}{2}
\Configure{quoteClass}{quote}{}

\ConfigureEnv{verse}
   {\ifvmode \IgnorePar\fi\EndP\Tg<div class="verse">}
   {\ifvmode \IgnorePar\fi\EndP\Tg</div>\par\ShowPar}
   {}{}
\ConfigureList{verse}
   {}{}
   {\parindent=\z@}  {\par}
\Css{.verse{white-space:nowrap; margin-left:2em}}
\Configure{maketitle}
   {\ifvmode \IgnorePar\fi \EndP {\Configure{maketitle}{}{}{}{}%
\a:NoSection \let\leavevmode\empty \let\not@math@alphabet\:gobbleII
\def\text@command##1{##1}\let\selectfont\empty
\def\check@icl ##1\check@icr{}%
\let\thanks\:gobble
\def\TeX{TeX}%
\def\mbox{\hbox}%
\def\gobble:font##1##2{##2}\:TITLE: \no:fonts
\def\footnotemark[##1]{}%
\Tag{TITLE+}{\@title}}
%
    \HCode{<div class="maketitle">}}
   {\ifvmode \IgnorePar\fi \EndP \HCode{</div>}}
   {\NoFonts\IgnorePar\HCode{<h2 class="titleHead"\a:LRdir>}\IgnorePar}
   {\HCode{</h2>}\IgnoreIndent\EndNoFonts}
\Css{div.maketitle {text-align:center;}}
\Css{h2.titleHead{text-align:center;}}
\Css{div.maketitle{ margin-bottom: 2em; }}
\:CheckOption{fn-in}\if:Option
   \Configure{thanks author date and}
   {\SaveEndP\global\setbox\fn:box=\vtop\bgroup\ShowPar
     \ifvoid\fn:box\else  \csname unvbox\endcsname\fn:box\fi}
   {\EndP\egroup\RecallEndP }
   {\HCode{<div class="author" \a:LRdir>}}{\HCode{</div>}}
   {\HCode{<div class="date" \a:LRdir>}}{\HCode{</div>}}
   {\HCode{<br class="and" />}}
   {\HCode{<br />}}
\Configure{thank}
   {\csname a:thank-mark\endcsname
\Link{tk-\the\c@footnote}{\ifx
        \footnote\thanks kt-\the\c@footnote\fi}}
   {\EndLink \csname b:thank-mark\endcsname
}
   {\HCode{<p>}\protect\Link{\ifx \footnote\thanks kt-\the\c@footnote
      \fi}{tk-\the\c@footnote}\csname a:thank-mark\endcsname
}
   {\csname b:thank-mark\endcsname
\protect\EndLink}
   {\HCode{</p>}}

\Css{div.author, div.date {text-align:center;}}
\Css{div.thanks{text-align:left; margin-left:10\%; font-size:85\%;
                font-style:italic; }}

\else
   \Configure{thanks author date and}
   {\ifvmode \IgnorePar\fi\EndP \HCode{<div class="thanks" \a:LRdir>}}
   {\ifvmode \IgnorePar\fi\EndP \HCode{</div>}}
   {\ifvmode \IgnorePar\fi\EndP \HCode{<div class="author" \a:LRdir>}}
   {\ifvmode \IgnorePar\fi\EndP \HCode{</div>}}
   {\ifvmode \IgnorePar\fi\EndP \HCode{<div class="date" \a:LRdir>}}
   {\ifvmode \IgnorePar\fi\EndP \HCode{</div>}}
   {\HCode{<br class="and" />}}
   {\HCode{<br />}}
\Configure{thank}
   {\csname a:thank-mark\endcsname
\Link{tk-\the\c@footnote}{}}
   {\EndLink \csname b:thank-mark\endcsname
}
   {\HCode{<br />}\protect\Link{}{tk-\the\c@footnote}\protect
     \EndLink \csname a:thank-mark\endcsname
}
   {\csname b:thank-mark\endcsname
} {}

\Css{div.author, div.date {text-align:center;}}
\Css{div.thanks{text-align:left; margin-left:10\%; font-size:85\%;
                font-style:italic; }}
\Css{div.author{white-space: nowrap;}}

\fi


\ConfigureEnv{table}
   {\ifvmode \IgnorePar\fi \EndP \HCode{<div class="table">}}
   {\ifvmode \IgnorePar\fi \EndP \HCode{</div>}\par\ShowPar}
   {}{}
{\Configure{Needs}{Font\string_Size: #1}\ifcase  \@ptsize
   \or \Needs{11}\or \Needs{12}\else \fi}

\ConfigureEnv{quotation}
   {}{}
   {\IgnorePar\EndP\HCode{<blockquote class="quotation">}}
   {\IgnorePar\EndP\HCode{</blockquote>}\ShowPar}

\Configure{listof}{}{}{}{\HCode{<br />}}{}{ }



\Configure{endpart}{likepart}
\Configure{endlikepart}{endpart}
\Configure{part}{}{}
   {\IgnorePar \EndP\HCode{<h1 class="partHead"\a:LRdir>}%
       \HCode{<span class="titlemark">}\partname \ \thepart
       \HCode{<br /></span>}}
   {\HCode{</h1>}\IgnoreIndent\par}
\Configure{likepart}{}{}
   {\IgnorePar\EndP\HCode{<h1 class="likepartHead"\a:LRdir>}}
   {\HCode{</h1>}\IgnoreIndent\par}
\Configure{partTITLE+}{\thepart\space #1}
\Configure{likepartTITLE+}{#1}
\Css{h1.partHead{text-align: center}}


\ConfigureEnv{description}{\IgnorePar}{}{}{}
\Configure{@begin}{theindex}{\ifx \indexname\empty \else
    \chapter*{\indexname}\fi}
\ConfigureMark{appendix}{\HCode{<span class="titlemark">}%
   \appendixname \ \thechapter\HCode{</span>}}
\Configure{appendixTITLE+}{\thechapter\space#1}
\Configure{likechapterTITLE+}{#1}
\Configure{endchapter}{likechapter,appendix,part,likepart}
\Configure{endlikechapter}{chapter,appendix,part,likepart}
\Configure{endappendix}{chapter,likechapter,part,likepart}

\ConfigureMark{chapter}
   {\if@mainmatter \ifnum \c@secnumdepth >\m@ne
       \HCode{<span class="titlemark">}\chaptername
     \ \thechapter\HCode{</span>}\fi \fi}
\Configure{chapterTITLE+}{\if@mainmatter\thechapter\space\fi#1}
\renewcommand\thechapter {\if@mainmatter\@arabic\c@chapter\fi}
\Configure{chapter}{}{}
   {\IgnorePar\EndP\HCode{<h2 class="chapterHead"\a:LRdir>}%
    \if@mainmatter \TitleMark{\HCode{<br />}}\fi }
   {\HCode{</h2>}\IgnoreIndent\par}
\Configure{appendix}{}{}
   {\IgnorePar\EndP\HCode{<h2 class="appendixHead"\a:LRdir>}%
    \if@mainmatter \TitleMark{\HCode{<br />}}\fi }
   {\HCode{</h2>}\IgnoreIndent\par}
\Configure{likechapter}{}{}
   {\IgnorePar\EndP\HCode{<h2 class="likechapterHead"\a:LRdir>}}
   {\HCode{</h2>}\IgnoreIndent\par}

% \:CheckOption{2} \if:Option
% \else
%    \:CheckOption{3} \if:Option \else
%       \:CheckOption{4} \if:Option \else
%          \:CheckOption{5} \if:Option \else
%             \:CheckOption{6} \if:Option \else
%                \:CheckOption{7} \if:Option \else
%                \fi
%             \fi
%          \fi
%       \fi
%    \fi
%    \if:Option
%        \Css{.sectionToc,       .likesectionToc       {margin-left:2em;}}
%        \Css{.subsectionToc,    .likesubsectionToc    {margin-left:4em;}}
%        \Css{.subsubsectionToc, .likesubsubsectionToc {margin-left:6em;}}
%    \fi
% \fi
\Css{
.chapterToc,
.likechapterToc
                                         {margin-left:0em;}}
\Css{
.chapterToc     \string~ .likesectionToc,
.chapterToc     \string~ .sectionToc,
.likechapterToc \string~ .likesectionToc,
.likechapterToc \string~ .sectionToc
                                         {margin-left:2em;}}
\Css{
.chapterToc     \string~ .likesectionToc \string~ .likesubsectionToc,
.chapterToc     \string~ .likesectionToc \string~ .subsectionToc,
.chapterToc     \string~ .sectionToc     \string~ .likesubsectionToc,
.chapterToc     \string~ .sectionToc     \string~ .subsectionToc,
.likechapterToc \string~ .likesectionToc \string~ .likesubsectionToc,
.likechapterToc \string~ .likesectionToc \string~ .subsectionToc,
.likechapterToc \string~ .sectionToc     \string~ .likesubsectionToc,
.likechapterToc \string~ .sectionToc     \string~ .subsectionToc
                                         {margin-left:4em;}}
\Css{.chapterToc     \string~ .likesectionToc \string~ .likesubsectionToc \string~ .likesubsubsectionToc,
.chapterToc     \string~ .likesectionToc \string~ .likesubsectionToc \string~ .subsubsectionToc,
.chapterToc     \string~ .likesectionToc \string~ .subsectionToc     \string~ .likesubsubsectionToc,
.chapterToc     \string~ .likesectionToc \string~ .subsectionToc     \string~ .subsubsectionToc,
.chapterToc     \string~ .sectionToc     \string~ .likesubsectionToc \string~ .likesubsubsectionToc,
.chapterToc     \string~ .sectionToc     \string~ .likesubsectionToc \string~ .subsubsectionToc,
.chapterToc     \string~ .sectionToc     \string~ .subsectionToc     \string~ .likesubsubsectionToc,
.chapterToc     \string~ .sectionToc     \string~ .subsectionToc     \string~ .subsubsectionToc,
.likechapterToc \string~ .likesectionToc \string~ .likesubsectionToc \string~ .likesubsubsectionToc,
.likechapterToc \string~ .likesectionToc \string~ .likesubsectionToc \string~ .subsubsectionToc,
.likechapterToc \string~ .likesectionToc \string~ .subsectionToc     \string~ .likesubsubsectionToc,
.likechapterToc \string~ .likesectionToc \string~ .subsectionToc     \string~ .subsubsectionToc,
.likechapterToc \string~ .sectionToc     \string~ .likesubsectionToc \string~ .likesubsubsectionToc,
.likechapterToc \string~ .sectionToc     \string~ .likesubsectionToc \string~ .subsubsectionToc,
.likechapterToc \string~ .sectionToc     \string~ .subsectionToc     \string~ .likesubsubsectionToc
.likechapterToc \string~ .sectionToc     \string~ .subsectionToc     \string~ .subsubsectionToc
                                         {margin-left:6em;}}

\Css{
.likesectionToc ,
.sectionToc
                                         {margin-left:0em;}}
\Css{
.likesectionToc \string~ .likesubsectionToc,
.likesectionToc \string~ .subsectionToc,
.sectionToc     \string~ .likesubsectionToc,
.sectionToc     \string~ .subsectionToc
                                         {margin-left:2em;}}
\Css{.likesectionToc \string~ .likesubsectionToc \string~ .likesubsubsectionToc,
.likesectionToc \string~ .likesubsectionToc \string~ .subsubsectionToc,
.likesectionToc \string~ .subsectionToc     \string~ .likesubsubsectionToc,
.likesectionToc \string~ .subsectionToc     \string~ .subsubsectionToc,
.sectionToc     \string~ .likesubsectionToc \string~ .likesubsubsectionToc,
.sectionToc     \string~ .likesubsectionToc \string~ .subsubsectionToc,
.sectionToc     \string~ .subsectionToc     \string~ .likesubsubsectionToc,
.sectionToc     \string~ .subsectionToc     \string~ .subsubsectionToc
                                         {margin-left:4em;}}
\Css{
.likesubsectionToc,
.subsectionToc
                                         {margin-left:0em;}}
\Css{
.likesubsectionToc \string~ .subsubsectionToc,
.subsectionToc     \string~ .subsubsectionToc
                                         {margin-left:2em;}}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{report}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \def\tocpart#1#2#3{\par
   \HCode{<span class="partToc" \a:LRdir>}\if !#1!\else  #1~~\fi #2\HCode{</span>}\par}%
\def\toclikepart#1#2#3{\par
   \HCode{<span class="likepartToc" \a:LRdir>}#2\HCode{</span>}\par}%
\Css{.partToc a, .partToc, .likepartToc a, .likepartToc
        {line-height: 200\%; font-weight:bold; font-size:110\%;}}
%
\expandafter\ifx \csname @chapter\endcsname\relax
   \def\tocsection#1#2#3{\par
       \HCode{<span class="sectionToc" \a:LRdir>}\def\:temp{#1}\ifx \:temp\empty\else
            #1 \fi #2\HCode{</span>}\par}
   \def\toclikesection#1#2#3{\par
      \HCode{<span class="likesectionToc" \a:LRdir>}#2\HCode{</span>}\par}%
   \def\tocsubsection#1#2#3{\par\ \toc:num{subsection}{#1}{#2}\par}
   \def\toclikesubsection#1#2#3{\par\
      \HCode{<span class="likesubsectionToc" \a:LRdir>}#2\HCode{</span>}\par}
   \def\tocsubsubsection#1#2#3{\par
      \ \ \toc:num{subsubsection}{#1}{#2}\par}
   \def\toclikesubsubsection#1#2#3{\par
      \ \ \HCode{<span class="likesubsubsectionToc" \a:LRdir>}#2\HCode{</span>}\par}
   \def\tocparagraph#1#2#3{\par\ \ \toc:num{paragraph}{#1}{#2}\par}
   \def\toclikeparagraph#1#2#3{\par\ \
      \HCode{<span class="likeparagraphToc" \a:LRdir>}#2\HCode{</span>}\par}
   \def\tocsubparagraph#1#2#3{\par
      \ \ \ \ \toc:num{subparagraph}{#1}{#2}\par}
   \def\toclikesubparagraph#1#2#3{\par
      \ \ \ \ \HCode{<span class="likesubparagraphToc" \a:LRdir>}#2\HCode{</span>}\par}
\else
   \Css{.chapterToc a, .chapterToc, .likechapterToc a, .likechapterToc,
        .appendixToc a, .appendixToc
        {line-height: 200\%; font-weight:bold;}}
%
   \def\tocchapter#1#2#3{\par
      \HCode{<span class="chapterToc" \a:LRdir>}\ifnum \c@secnumdepth >\m@ne
                                                 #1 \fi #2\HCode{</span>}\par}
   \def\toclikechapter#1#2#3{\par
      \HCode{<span class="likechapterToc" \a:LRdir>}#2\HCode{</span>}\par}%
   \def\tocappendix#1#2#3{\par
      \HCode{<span class="appendixToc" \a:LRdir>}#1 #2\HCode{</span>}\par}
   \def\tocsection#1#2#3{\par\ \toc:num{section}{#1}{#2}\par}
   \def\toclikesection#1#2#3{\par\ \HCode{<span class="likesectionToc" \a:LRdir>}#2\HCode{</span>}\par}
   \def\tocsubsection#1#2#3{\par\ \ \toc:num{subsection}{#1}{#2}\par}
   \def\toclikesubsection#1#2#3{\par
      \ \ \HCode{<span class="likesubsectionToc" \a:LRdir>}#2\HCode{</span>}\par}
   \def\tocsubsubsection#1#2#3{\par
      \ \ \ \toc:num{subsubsection}{#1}{#2}\par}
   \def\toclikesubsubsection#1#2#3{\par
      \ \ \ \HCode{<span class="likesubsubsectionToc" \a:LRdir>}#2\HCode{</span>}\par}
   \def\tocparagraph#1#2#3{\par\ \ \ \toc:num{paragraph}{#1}{#2}\par}
   \def\toclikeparagraph#1#2#3{\par
      \ \ \ \HCode{<span class="likeparagraphToc" \a:LRdir>}#2\HCode{</span>}\par}
   \def\tocsubparagraph#1#2#3{\par
      \ \ \ \ \ \toc:num{subparagraph}{#1}{#2}\par}
   \def\toclikesubparagraph#1#2#3{\par
      \ \ \ \ \ \HCode{<span class="likesubparagraphToc" \a:LRdir>}#2\HCode{</span>}\par}
\fi
\def\toc:num#1#2#3{\def\:temp{#1#2}%
   \HCode{<span class="#1Toc" \a:LRdir>}\ifx \:temp\empty
   \else \def\:temp{#2}\ifx\:temp\empty\else #2 \fi \fi #3\HCode{</span>}}
%\def\:SPAN#1#2{\HCode{<span class="#1">}#2\HCode{</span>}}
 
\:CheckOption{7}     \if:Option
    \expandafter\ifx \csname @chapter\endcsname\relax
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,part}
\CutAt{likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,likesubsection,subsection}
\fi

         \CutAt{subsection,section,likesection,part}
\CutAt{likesubsection,section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection}
\fi

         \CutAt{subsubsection,subsection,likesubsection,section,likesection,part}
\CutAt{likesubsubsection,subsection,likesubsection,section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection,paragraph}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection,%
    paragraph}
\fi

         \CutAt{paragraph,subsubsection,likesubsubsection,subsection,likesubsection,%
       section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection,%
    paragraph,subparagraph}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection,%
    paragraph,subparagraph}
\fi

         \CutAt{subparagraph,paragraph,subsubsection,likesubsubsection,%
       subsection,likesubsection,%
       section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,%
          section,likesection,subsection,likesubsection}
     \MiniToc:At{likepart,/part,%
          section,likesection,subsection,likesubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             subsubsection,paragraph}
     \MiniToc:At{likesubsection,/subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             subsubsection,paragraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
     \MiniToc:At{likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsubsection,/likesubsubsection,/subsection,%
             /likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             paragraph,subparagraph}
     \MiniToc:At{likesubsubsection,/subsubsection,/likesubsection,%
             /subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             paragraph,subparagraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsubsection,/likesubsubsection,%
          /subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          paragraph,subparagraph}
     \MiniToc:At{likesubsubsection,/subsubsection,/likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          paragraph,subparagraph}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{paragraph,/subsubsection,/likesubsubsection,/subsection,%
             /likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             subparagraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{paragraph,/subsubsection,/likesubsubsection,%
          /subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          subparagraph}
  \fi
\fi

    \else
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
     appendix,section\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection,likesubsection\fi}
\fi

         \CutAt{chapter,likechapter,appendix,part}
\CutAt{likechapter,appendix,part}
\CutAt{appendix,chapter,likechapter,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,chapter,likechapter,appendix,part}
\CutAt{likesection,chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,likesubsection,subsection}
\fi

         \CutAt{subsection,section,likesection,%
                  chapter,likechapter,appendix,part}
\CutAt{likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection}
\fi

         \CutAt{subsubsection,subsection,likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}
\CutAt{likesubsubsection,subsection,likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection,paragraph}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection,%
    paragraph}
\fi

         \CutAt{paragraph,subsubsection,likesubsubsection,subsection,likesubsection,%
       section,likesection,chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection,%
    paragraph,subparagraph}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection,%
    paragraph,subparagraph}
\fi

         \CutAt{subparagraph,paragraph,subsubsection,likesubsubsection,%
       subsection,likesubsection,%
       section,likesection,chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,likechapter,appendix,%
          section,likesection}
     \MiniToc:At{likepart,/part,chapter,likechapter,appendix,%
          section,likesection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,subsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,subsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,subsection}
   \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,likesection,subsection,likesubsection}
   \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             subsubsection,paragraph}
     \MiniToc:At{likesubsection,/subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             subsubsection,paragraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
     \MiniToc:At{likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsubsection,/likesubsubsection,/subsection,%
             /likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             paragraph,subparagraph}
     \MiniToc:At{likesubsubsection,/subsubsection,/likesubsection,%
             /subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             paragraph,subparagraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsubsection,/likesubsubsection,%
          /subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          paragraph,subparagraph}
     \MiniToc:At{likesubsubsection,/subsubsection,/likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          paragraph,subparagraph}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{paragraph,/subsubsection,/likesubsubsection,/subsection,%
             /likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             subparagraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{paragraph,/subsubsection,/likesubsubsection,%
          /subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          subparagraph}
  \fi
\fi

    \fi
    \:CheckOption{obj-toc}  \if:Option
   \Css{object.toc { float: left;
                     width: 25\%;
                     height: 100\%;
                     border: 1px solid \#888888;
                     margin-left:0em;
                     margin-top:0em;
                     margin-bottom:1em;
                     margin-right:1em;
                     padding-right:1em;
               }}
   \Css{body\#jobname-toc{margin:0em;}}
   \Css{body\#jobname-toc .tableofcontents{ white-space: nowrap; }}
   \Configure{@BODY}
      {\edef\:temp{\jobname-toc.\:html}
       \edef\:tempa{\FileName}
       \edef\:temp{\expandafter\string\csname\:temp\endcsname}
       \edef\:tempa{\expandafter\string\csname\:tempa\endcsname}
       \ifx\:temp\:tempa\else
          \hbox{
             \HCode{<object class="toc" data="\jobname-toc.\:html">}
                 [\Link[\jobname-toc.\:html]{}{}table of contents\EndLink]
             \HCode{</object>}}
       \fi
      }
      {}
   \pend:defI\Auto:ent{%
      \bgroup
      \let\contentsname=\empty
      \Configure{!BODY}{ id="jobname-toc"}%
      \Configure{Link}{a}{target="\string _top" href=}{id=}{}%
      \NextFile{\jobname-toc.\csname :html\endcsname}%
      \HPage{}%
   }
   \append:defI\Auto:ent{%
      \EndHPage{}%
      \egroup
   }
\else
   \Log:Note{for frames-like object-based table of contents,
                 use the command line option `obj-toc'}
\fi

\else\:CheckOption{6}     \if:Option
    \expandafter\ifx \csname @chapter\endcsname\relax
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,part}
\CutAt{likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,likesubsection,subsection}
\fi

         \CutAt{subsection,section,likesection,part}
\CutAt{likesubsection,section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection}
\fi

         \CutAt{subsubsection,subsection,likesubsection,section,likesection,part}
\CutAt{likesubsubsection,subsection,likesubsection,section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection,paragraph}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection,%
    paragraph}
\fi

         \CutAt{paragraph,subsubsection,likesubsubsection,subsection,likesubsection,%
       section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,%
          section,likesection,subsection,likesubsection}
     \MiniToc:At{likepart,/part,%
          section,likesection,subsection,likesubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             subsubsection,paragraph}
     \MiniToc:At{likesubsection,/subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             subsubsection,paragraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
     \MiniToc:At{likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsubsection,/likesubsubsection,/subsection,%
             /likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             paragraph,subparagraph}
     \MiniToc:At{likesubsubsection,/subsubsection,/likesubsection,%
             /subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             paragraph,subparagraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsubsection,/likesubsubsection,%
          /subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          paragraph,subparagraph}
     \MiniToc:At{likesubsubsection,/subsubsection,/likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          paragraph,subparagraph}
  \fi
\fi

    \else
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
     appendix,section\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection,likesubsection\fi}
\fi

         \CutAt{chapter,likechapter,appendix,part}
\CutAt{likechapter,appendix,part}
\CutAt{appendix,chapter,likechapter,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,chapter,likechapter,appendix,part}
\CutAt{likesection,chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,likesubsection,subsection}
\fi

         \CutAt{subsection,section,likesection,%
                  chapter,likechapter,appendix,part}
\CutAt{likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection}
\fi

         \CutAt{subsubsection,subsection,likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}
\CutAt{likesubsubsection,subsection,likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection,paragraph}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection,%
    paragraph}
\fi

         \CutAt{paragraph,subsubsection,likesubsubsection,subsection,likesubsection,%
       section,likesection,chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,likechapter,appendix,%
          section,likesection}
     \MiniToc:At{likepart,/part,chapter,likechapter,appendix,%
          section,likesection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,subsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,subsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,subsection}
   \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,likesection,subsection,likesubsection}
   \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             subsubsection,paragraph}
     \MiniToc:At{likesubsection,/subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             subsubsection,paragraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
     \MiniToc:At{likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsubsection,/likesubsubsection,/subsection,%
             /likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             paragraph,subparagraph}
     \MiniToc:At{likesubsubsection,/subsubsection,/likesubsection,%
             /subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             paragraph,subparagraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsubsection,/likesubsubsection,%
          /subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          paragraph,subparagraph}
     \MiniToc:At{likesubsubsection,/subsubsection,/likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          paragraph,subparagraph}
  \fi
\fi

    \fi
    \:CheckOption{obj-toc}  \if:Option
   \Css{object.toc { float: left;
                     width: 25\%;
                     height: 100\%;
                     border: 1px solid \#888888;
                     margin-left:0em;
                     margin-top:0em;
                     margin-bottom:1em;
                     margin-right:1em;
                     padding-right:1em;
               }}
   \Css{body\#jobname-toc{margin:0em;}}
   \Css{body\#jobname-toc .tableofcontents{ white-space: nowrap; }}
   \Configure{@BODY}
      {\edef\:temp{\jobname-toc.\:html}
       \edef\:tempa{\FileName}
       \edef\:temp{\expandafter\string\csname\:temp\endcsname}
       \edef\:tempa{\expandafter\string\csname\:tempa\endcsname}
       \ifx\:temp\:tempa\else
          \hbox{
             \HCode{<object class="toc" data="\jobname-toc.\:html">}
                 [\Link[\jobname-toc.\:html]{}{}table of contents\EndLink]
             \HCode{</object>}}
       \fi
      }
      {}
   \pend:defI\Auto:ent{%
      \bgroup
      \let\contentsname=\empty
      \Configure{!BODY}{ id="jobname-toc"}%
      \Configure{Link}{a}{target="\string _top" href=}{id=}{}%
      \NextFile{\jobname-toc.\csname :html\endcsname}%
      \HPage{}%
   }
   \append:defI\Auto:ent{%
      \EndHPage{}%
      \egroup
   }
\else
   \Log:Note{for frames-like object-based table of contents,
                 use the command line option `obj-toc'}
\fi

\else \:CheckOption{5}     \if:Option
    \expandafter\ifx \csname @chapter\endcsname\relax
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,part}
\CutAt{likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,likesubsection,subsection}
\fi

         \CutAt{subsection,section,likesection,part}
\CutAt{likesubsection,section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection}
\fi

         \CutAt{subsubsection,subsection,likesubsection,section,likesection,part}
\CutAt{likesubsubsection,subsection,likesubsection,section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,%
          section,likesection,subsection,likesubsection}
     \MiniToc:At{likepart,/part,%
          section,likesection,subsection,likesubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             subsubsection,paragraph}
     \MiniToc:At{likesubsection,/subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             subsubsection,paragraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
     \MiniToc:At{likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
  \fi
\fi

    \else
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
     appendix,section\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection,likesubsection\fi}
\fi

         \CutAt{chapter,likechapter,appendix,part}
\CutAt{likechapter,appendix,part}
\CutAt{appendix,chapter,likechapter,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,chapter,likechapter,appendix,part}
\CutAt{likesection,chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,likesubsection,subsection}
\fi

         \CutAt{subsection,section,likesection,%
                  chapter,likechapter,appendix,part}
\CutAt{likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection}
\fi

         \CutAt{subsubsection,subsection,likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}
\CutAt{likesubsubsection,subsection,likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,likechapter,appendix,%
          section,likesection}
     \MiniToc:At{likepart,/part,chapter,likechapter,appendix,%
          section,likesection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,subsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,subsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,subsection}
   \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,likesection,subsection,likesubsection}
   \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             subsubsection,paragraph}
     \MiniToc:At{likesubsection,/subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             subsubsection,paragraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
     \MiniToc:At{likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
  \fi
\fi

    \fi
    \:CheckOption{obj-toc}  \if:Option
   \Css{object.toc { float: left;
                     width: 25\%;
                     height: 100\%;
                     border: 1px solid \#888888;
                     margin-left:0em;
                     margin-top:0em;
                     margin-bottom:1em;
                     margin-right:1em;
                     padding-right:1em;
               }}
   \Css{body\#jobname-toc{margin:0em;}}
   \Css{body\#jobname-toc .tableofcontents{ white-space: nowrap; }}
   \Configure{@BODY}
      {\edef\:temp{\jobname-toc.\:html}
       \edef\:tempa{\FileName}
       \edef\:temp{\expandafter\string\csname\:temp\endcsname}
       \edef\:tempa{\expandafter\string\csname\:tempa\endcsname}
       \ifx\:temp\:tempa\else
          \hbox{
             \HCode{<object class="toc" data="\jobname-toc.\:html">}
                 [\Link[\jobname-toc.\:html]{}{}table of contents\EndLink]
             \HCode{</object>}}
       \fi
      }
      {}
   \pend:defI\Auto:ent{%
      \bgroup
      \let\contentsname=\empty
      \Configure{!BODY}{ id="jobname-toc"}%
      \Configure{Link}{a}{target="\string _top" href=}{id=}{}%
      \NextFile{\jobname-toc.\csname :html\endcsname}%
      \HPage{}%
   }
   \append:defI\Auto:ent{%
      \EndHPage{}%
      \egroup
   }
\else
   \Log:Note{for frames-like object-based table of contents,
                 use the command line option `obj-toc'}
\fi

\else\:CheckOption{4}     \if:Option
    \expandafter\ifx \csname @chapter\endcsname\relax
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,part}
\CutAt{likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,likesubsection,subsection}
\fi

         \CutAt{subsection,section,likesection,part}
\CutAt{likesubsection,section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,%
          section,likesection,subsection,likesubsection}
     \MiniToc:At{likepart,/part,%
          section,likesection,subsection,likesubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
  \fi
\fi

    \else
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
     appendix,section\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection,likesubsection\fi}
\fi

         \CutAt{chapter,likechapter,appendix,part}
\CutAt{likechapter,appendix,part}
\CutAt{appendix,chapter,likechapter,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,chapter,likechapter,appendix,part}
\CutAt{likesection,chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,likesubsection,subsection}
\fi

         \CutAt{subsection,section,likesection,%
                  chapter,likechapter,appendix,part}
\CutAt{likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,likechapter,appendix,%
          section,likesection}
     \MiniToc:At{likepart,/part,chapter,likechapter,appendix,%
          section,likesection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,subsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,subsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,subsection}
   \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,likesection,subsection,likesubsection}
   \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
  \fi
\fi

    \fi
    \:CheckOption{obj-toc}  \if:Option
   \Css{object.toc { float: left;
                     width: 25\%;
                     height: 100\%;
                     border: 1px solid \#888888;
                     margin-left:0em;
                     margin-top:0em;
                     margin-bottom:1em;
                     margin-right:1em;
                     padding-right:1em;
               }}
   \Css{body\#jobname-toc{margin:0em;}}
   \Css{body\#jobname-toc .tableofcontents{ white-space: nowrap; }}
   \Configure{@BODY}
      {\edef\:temp{\jobname-toc.\:html}
       \edef\:tempa{\FileName}
       \edef\:temp{\expandafter\string\csname\:temp\endcsname}
       \edef\:tempa{\expandafter\string\csname\:tempa\endcsname}
       \ifx\:temp\:tempa\else
          \hbox{
             \HCode{<object class="toc" data="\jobname-toc.\:html">}
                 [\Link[\jobname-toc.\:html]{}{}table of contents\EndLink]
             \HCode{</object>}}
       \fi
      }
      {}
   \pend:defI\Auto:ent{%
      \bgroup
      \let\contentsname=\empty
      \Configure{!BODY}{ id="jobname-toc"}%
      \Configure{Link}{a}{target="\string _top" href=}{id=}{}%
      \NextFile{\jobname-toc.\csname :html\endcsname}%
      \HPage{}%
   }
   \append:defI\Auto:ent{%
      \EndHPage{}%
      \egroup
   }
\else
   \Log:Note{for frames-like object-based table of contents,
                 use the command line option `obj-toc'}
\fi

\else\:CheckOption{3}     \if:Option
    \expandafter\ifx \csname @chapter\endcsname\relax
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,likesubsection,subsection}
\fi

         \CutAt{subsection,section,likesection,part}
\CutAt{likesubsection,section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,%
          section,likesection,subsection,likesubsection}
     \MiniToc:At{likepart,/part,%
          section,likesection,subsection,likesubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
  \fi
\fi

         \CutAt{section,likesection,part}
\CutAt{likesection,part}

    \else
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
     appendix,section\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection,likesubsection\fi}
\fi

         \CutAt{chapter,likechapter,appendix,part}
\CutAt{likechapter,appendix,part}
\CutAt{appendix,chapter,likechapter,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,chapter,likechapter,appendix,part}
\CutAt{likesection,chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,likechapter,appendix,%
          section,likesection}
     \MiniToc:At{likepart,/part,chapter,likechapter,appendix,%
          section,likesection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,subsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,subsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,subsection}
   \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,likesection,subsection,likesubsection}
   \fi
\fi

    \fi
    \:CheckOption{obj-toc}  \if:Option
   \Css{object.toc { float: left;
                     width: 25\%;
                     height: 100\%;
                     border: 1px solid \#888888;
                     margin-left:0em;
                     margin-top:0em;
                     margin-bottom:1em;
                     margin-right:1em;
                     padding-right:1em;
               }}
   \Css{body\#jobname-toc{margin:0em;}}
   \Css{body\#jobname-toc .tableofcontents{ white-space: nowrap; }}
   \Configure{@BODY}
      {\edef\:temp{\jobname-toc.\:html}
       \edef\:tempa{\FileName}
       \edef\:temp{\expandafter\string\csname\:temp\endcsname}
       \edef\:tempa{\expandafter\string\csname\:tempa\endcsname}
       \ifx\:temp\:tempa\else
          \hbox{
             \HCode{<object class="toc" data="\jobname-toc.\:html">}
                 [\Link[\jobname-toc.\:html]{}{}table of contents\EndLink]
             \HCode{</object>}}
       \fi
      }
      {}
   \pend:defI\Auto:ent{%
      \bgroup
      \let\contentsname=\empty
      \Configure{!BODY}{ id="jobname-toc"}%
      \Configure{Link}{a}{target="\string _top" href=}{id=}{}%
      \NextFile{\jobname-toc.\csname :html\endcsname}%
      \HPage{}%
   }
   \append:defI\Auto:ent{%
      \EndHPage{}%
      \egroup
   }
\else
   \Log:Note{for frames-like object-based table of contents,
                 use the command line option `obj-toc'}
\fi

\else\:CheckOption{2}     \if:Option
    \expandafter\ifx \csname @chapter\endcsname\relax
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,part}
\CutAt{likesection,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,%
          section,likesection,subsection,likesubsection}
     \MiniToc:At{likepart,/part,%
          section,likesection,subsection,likesubsection}
  \fi
\fi

    \else
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
     appendix,section\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection,likesubsection\fi}
\fi

         \CutAt{chapter,likechapter,appendix,part}
\CutAt{likechapter,appendix,part}
\CutAt{appendix,chapter,likechapter,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,likechapter,appendix,%
          section,likesection}
     \MiniToc:At{likepart,/part,chapter,likechapter,appendix,%
          section,likesection}
  \fi
\fi

    \fi
    \:CheckOption{obj-toc}  \if:Option
   \Css{object.toc { float: left;
                     width: 25\%;
                     height: 100\%;
                     border: 1px solid \#888888;
                     margin-left:0em;
                     margin-top:0em;
                     margin-bottom:1em;
                     margin-right:1em;
                     padding-right:1em;
               }}
   \Css{body\#jobname-toc{margin:0em;}}
   \Css{body\#jobname-toc .tableofcontents{ white-space: nowrap; }}
   \Configure{@BODY}
      {\edef\:temp{\jobname-toc.\:html}
       \edef\:tempa{\FileName}
       \edef\:temp{\expandafter\string\csname\:temp\endcsname}
       \edef\:tempa{\expandafter\string\csname\:tempa\endcsname}
       \ifx\:temp\:tempa\else
          \hbox{
             \HCode{<object class="toc" data="\jobname-toc.\:html">}
                 [\Link[\jobname-toc.\:html]{}{}table of contents\EndLink]
             \HCode{</object>}}
       \fi
      }
      {}
   \pend:defI\Auto:ent{%
      \bgroup
      \let\contentsname=\empty
      \Configure{!BODY}{ id="jobname-toc"}%
      \Configure{Link}{a}{target="\string _top" href=}{id=}{}%
      \NextFile{\jobname-toc.\csname :html\endcsname}%
      \HPage{}%
   }
   \append:defI\Auto:ent{%
      \EndHPage{}%
      \egroup
   }
\else
   \Log:Note{for frames-like object-based table of contents,
                 use the command line option `obj-toc'}
\fi

\else\:CheckOption{1}     \if:Option
    \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
    \CutAt{part}
\CutAt{likepart}

    \:CheckOption{obj-toc}  \if:Option
   \Css{object.toc { float: left;
                     width: 25\%;
                     height: 100\%;
                     border: 1px solid \#888888;
                     margin-left:0em;
                     margin-top:0em;
                     margin-bottom:1em;
                     margin-right:1em;
                     padding-right:1em;
               }}
   \Css{body\#jobname-toc{margin:0em;}}
   \Css{body\#jobname-toc .tableofcontents{ white-space: nowrap; }}
   \Configure{@BODY}
      {\edef\:temp{\jobname-toc.\:html}
       \edef\:tempa{\FileName}
       \edef\:temp{\expandafter\string\csname\:temp\endcsname}
       \edef\:tempa{\expandafter\string\csname\:tempa\endcsname}
       \ifx\:temp\:tempa\else
          \hbox{
             \HCode{<object class="toc" data="\jobname-toc.\:html">}
                 [\Link[\jobname-toc.\:html]{}{}table of contents\EndLink]
             \HCode{</object>}}
       \fi
      }
      {}
   \pend:defI\Auto:ent{%
      \bgroup
      \let\contentsname=\empty
      \Configure{!BODY}{ id="jobname-toc"}%
      \Configure{Link}{a}{target="\string _top" href=}{id=}{}%
      \NextFile{\jobname-toc.\csname :html\endcsname}%
      \HPage{}%
   }
   \append:defI\Auto:ent{%
      \EndHPage{}%
      \egroup
   }
\else
   \Log:Note{for frames-like object-based table of contents,
                 use the command line option `obj-toc'}
\fi

\else
    \Log:Note{for automatic sectioning
        pagination, use the command line option
                     `1', `2', `3', '4', '5', '6', or '7'}%
\fi \fi \fi \fi \fi \fi  \fi
\:CheckOption{sec-filename}   \if:Option \else
    \Log:Note{for files named derived from section
        titles, use the command line option `sec-filename'}%
\fi


\:CheckOption{1}     \if:Option
  \:CheckOption{notoc*}     \if:Option
   \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

      \MiniToc:At{part,/likepart,section,subsection}
   \fi
   \Configure{tableofcontents*}{part,section}
\else
   \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

      \MiniToc:At{part,/likepart,section,likesection,%
           subsection,likesubsection}
   \fi
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}{part,likepart,section,likesection}
\fi

\fi
\def\:temp#1index=#2,#3!*?: {%
   \ifnum #2>1 \NewConfigure{IndexColumns}{1}
\Configure{IndexColumns}{#2}
\fi
   \def\:temp{#2}%
}
\expandafter\:temp\Preamble,index=0,!*?: 
\ifnum \:temp<2
   \Log:Note{for i-columns index,
               use the command line option `index=i' (e.g., index=2)}
\Configure{theindex}
   {\ifvmode \IgnorePar\fi \EndP
    \HCode{<div class="theindex">}\let\end:theidx\empty}
   {\end:theidx\HCode{</div>}}
   {\hbox\bgroup\HCode{<span class="index-item">}}
   {\HCode{<br /></span>}\egroup\hfill\break}
   {\hbox\bgroup\HCode{<span class="index-subitem">}\ \ \ \ }
   {\HCode{<br /></span>}\egroup\hfill\break}
   {\hbox\bgroup\HCode{<span class="index-subsubitem">}\ \ \ \ \ \ \ \ }
   {\HCode{<br /></span>}\egroup\hfill\break}
   {\hbox{\end:theidx\HCode{<p class="theindex">}}%
    \def\end:theidx{\HCode{</p>}}}
\Css{.index-item, .index-subitem, .index-subsubitem {display:block}}

\else
   \Log:Note{the number of columns
   requested by the option `index=\a:IndexColumns' can
   be modified through the command \string\Configure{IndexColumns}{i}}
\Configure{theindex}
   {\ifvmode \IgnorePar\fi \EndP
    \HCode{<div class="theindex">}%
    \Configure{HColumns}
     {\IgnorePar\EndP
         \HCode{<table \Hnewline class="index" width="100\%"
                     cellspacing="15"><tr style="vertical-align:top;">}}
     {\HCode{</tr></table>}}
     {\HCode{<td>}\ColMag{1.1}}
     {\IgnorePar\EndP\HCode{</td>}}
  \HColumns{\a:IndexColumns}%
  \everypar{\HtmlPar}%
  \Configure{HtmlPar}{}{\HCode{<br class="index-segment" />}}{}{}%
  \par\ShowPar
\let\end:theidx\empty}
   {\end:theidx
    \ifvmode\IgnorePar\fi \EndP\EndHColumns
\HCode{</div>}}
   {\hbox\bgroup\HCode{<span class="index-item">}}
   {\HCode{<br /></span>}\egroup\hfill\break}
   {\hbox\bgroup\HCode{<span class="index-subitem">}\ \ \ \ }
   {\HCode{<br /></span>}\egroup\hfill\break}
   {\hbox\bgroup\HCode{<span class="index-subsubitem">}\ \ \ \ \ \ \ \ }
   {\HCode{<br /></span>}\egroup\hfill\break}
   {%\ifvmode \EndP\fi
    % \hbox{\end:theidx\HCode{<p class="theindex">}}%
    % \def\end:theidx{\HCode{</p>}}
    \parindent=0pt
   }%
\Css{.index-item, .index-subitem, .index-subsubitem {display:block}}
\Css{br.index-segment:first-child {display:none}}
\Css{.index-item br,
     .index-subitem br,
     .index-subsubitem br {display:none}}
\def\add:col{\Advance:\:cols  -1 \HAdvance\HCol  1\relax
   \ifnum \:cols>0
      \c:Cols \vsplit0 to \tmp:dim  \d:Cols  \expandafter\add:col
   \fi}
\NewConfigure{HColumns}{4}
\def\c:Cols{\edef\sv:dim{\the\tmp:dim}\c:HColumns}
\def\d:Cols{\d:HColumns \tmp:dim\sv:dim }
\def\ColMag#1{\tmp:dim  #1\tmp:dim}
\def\HColumns#1{%
   \a:HColumns
   \HAssign\:cols#1  \setbox0=\vbox\bgroup
   \divide\hsize  #1  }
\def\EndHColumns{\egroup   \HAssign\HCol0
  \tmp:dim\ht0  \advance\tmp:dim  \dp0  \divide\tmp:dim  \:cols
  \add:col \c:Cols \box0 \d:Cols \b:HColumns}

\fi

\Configure{caption}{\HCode{\if:nopar  \else <br />\fi}
   \:xhtml{\IgnorePar\EndP}\HCode{<div class="caption"\Hnewline
                                 ><span class="id">}}
   {: } {\HCode{</span><span \Hnewline class="content">}}
   {\HCode{</span></div>}\HCode{<!--tex4ht:label?:
   \cur:th\:currentlabel\space-->}%
}
\Css{div.caption {text-indent:-2em; margin-left:3em; margin-right:1em;
                  text-align:left;}}
\Css{div.caption span.id{font-weight: bold; white-space: nowrap; }}


\Configure{endlikeparagraph}
   {paragraph,subsubsection,likesubsubsection,subsection,%
    likesubsection,section,%
    likesection,chapter,likechapter,appendix,part,likepart}
\Configure{endsubparagraph}
   {likesubparagraph,likeparagraph,subsubsection,likesubsubsection,%
    subsection,likesubsection,section,%
    likesection,chapter,likechapter,appendix,part,likepart}
\Configure{endlikesubparagraph}
   {subparagraph,likeparagraph,subsubsection,likesubsubsection,%
    subsection,likesubsection,section,%
    likesection,chapter,likechapter,appendix,part,likepart}

\ConfigureEnv{thebibliography}{\IgnorePar}{\ShowPar\par}{}{}

\ifx \part\:UnDef \else
   \Configure{endpart}{likepart}
\Configure{endlikepart}{endpart}
\Configure{part}{}{}
   {\IgnorePar \EndP\HCode{<h1 class="partHead"\a:LRdir>}%
       \HCode{<span class="titlemark">}\partname \ \thepart
       \HCode{<br /></span>}}
   {\HCode{</h1>}\IgnoreIndent\par}
\Configure{likepart}{}{}
   {\IgnorePar\EndP\HCode{<h1 class="likepartHead"\a:LRdir>}}
   {\HCode{</h1>}\IgnoreIndent\par}
\Configure{partTITLE+}{\thepart\space #1}
\Configure{likepartTITLE+}{#1}
\Css{h1.partHead{text-align: center}}

\fi
\ConfigureToc{lof}
  {\HCode{<span class="lofToc" \a:LRdir>}}{\ }{}{\HCode{</span><br />}}
\ConfigureToc{lot}
  {\HCode{<span class="lotToc" \a:LRdir>}}{\ }{}{\HCode{</span><br />}}

\ConfigureList{description}%
   {\EndP\HCode{<dl \a:LRdir class="description">}%
      \PushMacro\end:itm
\global\let\end:itm=\empty}
   {\PopMacro\end:itm \global\let\end:itm \end:itm
\EndP\HCode{</dd></dl>}\ShowPar}
   {\end:itm \global\def\end:itm{\EndP\Tg</dd>}\HCode{<dt
        class="description">}\bgroup \bf}
   {\egroup\EndP\HCode{</dt><dd\Hnewline class="description">}}

\Configure{enumiii}
    {\HCode{<span class="roman-numeral">}}
    {\HCode{</span>}}

\:CheckOption{no-bib} \if:Option\else
   \:CheckOption{mouseover} \if:Option
      \ConfigureList{thebibliography}%
   {\ifvmode\IgnorePar\fi\EndP \js:on
\HCode{<div
                   class="thebibliography">}\let\en:bib=\empty}
   {\en:bib \ifvmode\IgnorePar\fi\EndP \HCode{</div>}}
   {\en:bib\def\en:bib{\ht:special {t4ht@DCopyTo: \jobname-js.tex Skip bib }%
\csname bibliography2\endcsname
\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont bib }%
%
%
        \EndP\ht:special {t4ht@DCopyTo: \jobname-js.tex Skip bib }%
%
\HCode{<!--}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont bib }%
%
\HCode{</div></bibitem>\Hnewline}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Until bib }%
%
\HCode{-->}
}\HCode{<!--}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex From bib }%
%
\HCode{<bibitem>}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Skip bib }%
%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Set1 bib }%
%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont bib }%
%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Set2 bib }%
%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Skip bib }%
%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont bib }%
%
\HCode{<div class="js">}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Skip bib }%
%
\HCode{-->}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont bib }%
%
%
        \Configure{HtmlPar}
   {\EndP\HCode{<p class="bibitem" \a:LRdir>}}
   {\EndP\HCode{<p class="bibitem" \a:LRdir>}}
   {\Tg</p>} {\Tg</p>}%
\par\ShowPar
        \leavevmode \ht:special {t4ht@DCopyTo: \jobname-js.tex Skip bib }%
\HCode{<span
      class="biblabel">}\Configure{HtmlPar}
   {\EndP\HCode{<p class="bibitem-p" \a:LRdir>}}
   {\EndP\HCode{<p class="bibitem-p" \a:LRdir>}}
   {\Tg</p>} {\Tg</p>}%
}
   {\HCode{<span class="bibsp">}\:nbsp
      \:nbsp\:nbsp\HCode{</span></span>}\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont bib }%
}

   \else
      \ConfigureList{thebibliography}%
   {\ifvmode\IgnorePar\fi \EndP \HCode{<div
                   class="thebibliography">}\let\en:bib=\empty}
   {\en:bib \ifvmode\IgnorePar\fi \EndP \HCode{</div>}}
   {\en:bib\def\en:bib{\csname bibliography2\endcsname
\EndP}%
   \Configure{HtmlPar}
   {\EndP\HCode{<p class="bibitem" \a:LRdir>}}
   {\EndP\HCode{<p class="bibitem" \a:LRdir>}}
   {\Tg</p>} {\Tg</p>}%
\par\ShowPar
    \HCode{<span class="biblabel">}\Configure{HtmlPar}
   {\EndP\HCode{<p class="bibitem-p" \a:LRdir>}}
   {\EndP\HCode{<p class="bibitem-p" \a:LRdir>}}
   {\Tg</p>} {\Tg</p>}%
}
   {\HCode{<span class="bibsp">}\:nbsp
      \:nbsp\:nbsp\HCode{</span></span>}}

   \fi
   \Css{p.bibitem { text-indent: -2em; margin-left: 2em;
       margin-top:0.6em; margin-bottom:0.6em;     }}
\Css{p.bibitem-p { text-indent: 0em; margin-left: 2em;
       margin-top:0.6em; margin-bottom:0.6em;     }}

\fi

\Configure{endsection}
     {likesection,chapter,likechapter,appendix,part,likepart}
\Configure{endlikesection}
     {section,chapter,likechapter,appendix,part,likepart}
\ConfigureMark{section}
   {\ifnum \c:secnumdepth>\c@secnumdepth \expandafter\:gobble
    \else
       \HCode{<span class="titlemark">}\@seccntformat{section}%
       \HCode{</span>}\fi }
\Configure{sectionTITLE+}{\ifnum \c:secnumdepth>\c@secnumdepth
      \ifnum \c@secnumdepth > 0
      \thesection\space
    \fi\fi #1}

\Configure{section}{}{}
   {\ifvmode \IgnorePar\fi \EndP\IgnorePar
    \HCode{<h3 class="sectionHead"\a:LRdir>}\TitleMark\space\HtmlParOff}
   {\HCode{</h3>}\HtmlParOn\ShowPar \IgnoreIndent \par}
\Configure{likesection}{}{}
   {\ifvmode \IgnorePar\fi
    \EndP\IgnorePar\HCode{<h3 class="likesectionHead"\a:LRdir>}\HtmlParOff}
   {\HCode{</h3>}\HtmlParOn \IgnoreIndent \ShowPar \par}
\Configure{likesectionTITLE+}{#1}

\Configure{endsubsection}
   {likesubsection,section,likesection,chapter,%
      likechapter,appendix,part,likepart}
\Configure{endlikesubsection}
   {subsection,section,likesection,chapter,%
      likechapter,appendix,part,likepart}
\ConfigureMark{subsubsection}
   {\ifnum \c:secnumdepth>\c@secnumdepth  \expandafter\:gobble
    \else
       \HCode{<span class="titlemark">}\@seccntformat{subsubsection}%
       \HCode{</span>}\fi}
\Configure{subsubsectionTITLE+}{\ifnum \c:secnumdepth>\c@secnumdepth
      \ifnum \c@secnumdepth > 0
      \thesubsubsection\space
    \fi\fi #1}

\Configure{subsubsection}{}{}
   {\ifvmode \IgnorePar \fi  \EndP
    \bgroup \IgnorePar\HCode{<h5 class="subsubsectionHead"\a:LRdir>}%
    \TitleMark\space \HtmlParOff}
   {\HCode{</h5>}\HtmlParOn \IgnoreIndent\egroup\par\ShowPar}
\Configure{likesubsubsection}{}{}
   {\ifvmode \IgnorePar\fi \EndP\bgroup\IgnorePar
    \HCode{<h5 class="likesubsubsectionHead"\a:LRdir>}\HtmlParOff}
   {\HCode{</h5>}\HtmlParOn \IgnoreIndent\egroup\par\ShowPar}

\ConfigureMark{subsection}
   {\ifnum \c:secnumdepth>\c@secnumdepth  \expandafter\:gobble
    \else
       \HCode{<span class="titlemark">}\@seccntformat{subsection}%
       \HCode{</span>}\fi }
\Configure{subsectionTITLE+}{\ifnum \c:secnumdepth>\c@secnumdepth
      \ifnum \c@secnumdepth > 0
      \thesubsection\space
    \fi\fi #1}

\Configure{subsection}{}{}
   {\ifvmode \IgnorePar\fi
    \EndP\bgroup \IgnorePar\HCode{<h4 class="subsectionHead"\a:LRdir>}%
    \TitleMark\space \HtmlParOff}
   {\HCode{</h4>}\HtmlParOn \IgnoreIndent\egroup\par\ShowPar}
\Configure{likesubsection}{}{}{\EndP\bgroup
   \ifvmode \IgnorePar\fi
   \HCode{<h4 class="likesubsectionHead"\a:LRdir>}\HtmlParOff }
  {\HCode{</h4>}\HtmlParOn \IgnoreIndent\egroup\par\ShowPar}
\Configure{likesubsectionTITLE+}{#1}


\Configure{endsubsubsection}
   {likesubsubsection,subsection,likesubsection,section,%
      likesection,chapter,likechapter,appendix,part,likepart}
\Configure{endlikesubsubsection}
   {subsubsection,subsection,likesubsection,section,%
      likesection,chapter,likechapter,appendix,part,likepart}

\Configure{endparagraph}
   {likeparagraph,subsubsection,likesubsubsection,subsection,%
    likesubsection,section,%
    likesection,chapter,likechapter,appendix,part,likepart}
\Configure{paragraph}{}{}
  {\ShowPar\IgnoreIndent\HCode{<span class="paragraphHead"\a:LRdir>}\begingroup\bf}
  {\endgroup\HCode{</span>}\par\IgnorePar}
\Configure{likeparagraph}{}{}
  {\ShowPar\IgnoreIndent\HCode{<span class="likeparagraphHead"\a:LRdir>}}
  {\HCode{</span>}\par\IgnorePar}
\Css{.paragraphHead, .likeparagraphHead
   { margin-top:2em; font-weight: bold;}}

\ConfigureMark{subparagraph}{}
\Configure{subparagraph}{}{}
  {\ShowPar\HCode{<span class="subparagraphHead"\a:LRdir>}\begingroup\bf
   \TitleMark\space}
  {\endgroup\HCode{</span>}\IgnorePar}
\Configure{likesubparagraph}{}{}
  {\ShowPar\HCode{<span class="likesubparagraphHead"\a:LRdir>}\begingroup\bf}
  {\endgroup\HCode{</span>}\IgnorePar}
\Css{.subparagraphHead, .likesubparagraphHead
   { font-weight: bold;}}

\ConfigureEnv{quote}
   {}{}
   {\IgnorePar\EndP
    \HCode{<blockquote class="\getClass{quote}">}\afterGetClass{quote}}
   {\IgnorePar\EndP\HCode{</blockquote>}\ShowPar\ShowIndent}
\NewConfigure{quoteClass}{2}
\Configure{quoteClass}{quote}{}

\ConfigureEnv{verse}
   {\ifvmode \IgnorePar\fi\EndP\Tg<div class="verse">}
   {\ifvmode \IgnorePar\fi\EndP\Tg</div>\par\ShowPar}
   {}{}
\ConfigureList{verse}
   {}{}
   {\parindent=\z@}  {\par}
\Css{.verse{white-space:nowrap; margin-left:2em}}
\Configure{maketitle}
   {\ifvmode \IgnorePar\fi \EndP {\Configure{maketitle}{}{}{}{}%
\a:NoSection \let\leavevmode\empty \let\not@math@alphabet\:gobbleII
\def\text@command##1{##1}\let\selectfont\empty
\def\check@icl ##1\check@icr{}%
\let\thanks\:gobble
\def\TeX{TeX}%
\def\mbox{\hbox}%
\def\gobble:font##1##2{##2}\:TITLE: \no:fonts
\def\footnotemark[##1]{}%
\Tag{TITLE+}{\@title}}
%
    \HCode{<div class="maketitle">}}
   {\ifvmode \IgnorePar\fi \EndP \HCode{</div>}}
   {\NoFonts\IgnorePar\HCode{<h2 class="titleHead"\a:LRdir>}\IgnorePar}
   {\HCode{</h2>}\IgnoreIndent\EndNoFonts}
\Css{div.maketitle {text-align:center;}}
\Css{h2.titleHead{text-align:center;}}
\Css{div.maketitle{ margin-bottom: 2em; }}
\:CheckOption{fn-in}\if:Option
   \Configure{thanks author date and}
   {\SaveEndP\global\setbox\fn:box=\vtop\bgroup\ShowPar
     \ifvoid\fn:box\else  \csname unvbox\endcsname\fn:box\fi}
   {\EndP\egroup\RecallEndP }
   {\HCode{<div class="author" \a:LRdir>}}{\HCode{</div>}}
   {\HCode{<div class="date" \a:LRdir>}}{\HCode{</div>}}
   {\HCode{<br class="and" />}}
   {\HCode{<br />}}
\Configure{thank}
   {\csname a:thank-mark\endcsname
\Link{tk-\the\c@footnote}{\ifx
        \footnote\thanks kt-\the\c@footnote\fi}}
   {\EndLink \csname b:thank-mark\endcsname
}
   {\HCode{<p>}\protect\Link{\ifx \footnote\thanks kt-\the\c@footnote
      \fi}{tk-\the\c@footnote}\csname a:thank-mark\endcsname
}
   {\csname b:thank-mark\endcsname
\protect\EndLink}
   {\HCode{</p>}}

\Css{div.author, div.date {text-align:center;}}
\Css{div.thanks{text-align:left; margin-left:10\%; font-size:85\%;
                font-style:italic; }}

\else
   \Configure{thanks author date and}
   {\ifvmode \IgnorePar\fi\EndP \HCode{<div class="thanks" \a:LRdir>}}
   {\ifvmode \IgnorePar\fi\EndP \HCode{</div>}}
   {\ifvmode \IgnorePar\fi\EndP \HCode{<div class="author" \a:LRdir>}}
   {\ifvmode \IgnorePar\fi\EndP \HCode{</div>}}
   {\ifvmode \IgnorePar\fi\EndP \HCode{<div class="date" \a:LRdir>}}
   {\ifvmode \IgnorePar\fi\EndP \HCode{</div>}}
   {\HCode{<br class="and" />}}
   {\HCode{<br />}}
\Configure{thank}
   {\csname a:thank-mark\endcsname
\Link{tk-\the\c@footnote}{}}
   {\EndLink \csname b:thank-mark\endcsname
}
   {\HCode{<br />}\protect\Link{}{tk-\the\c@footnote}\protect
     \EndLink \csname a:thank-mark\endcsname
}
   {\csname b:thank-mark\endcsname
} {}

\Css{div.author, div.date {text-align:center;}}
\Css{div.thanks{text-align:left; margin-left:10\%; font-size:85\%;
                font-style:italic; }}
\Css{div.author{white-space: nowrap;}}

\fi


\ConfigureEnv{table}
   {\ifvmode \IgnorePar\fi \EndP \HCode{<div class="table">}}
   {\ifvmode \IgnorePar\fi \EndP \HCode{</div>}\par\ShowPar}
   {}{}
{\Configure{Needs}{Font\string_Size: #1}\ifcase  \@ptsize
   \or \Needs{11}\or \Needs{12}\else \fi}

\ConfigureEnv{quotation}
   {}{}
   {\IgnorePar\EndP\HCode{<blockquote class="quotation">}}
   {\IgnorePar\EndP\HCode{</blockquote>}\ShowPar}

\Configure{listof}{}{}{}{\HCode{<br />}}{}{ }



\Configure{endpart}{likepart}
\Configure{endlikepart}{endpart}
\Configure{part}{}{}
   {\IgnorePar \EndP\HCode{<h1 class="partHead"\a:LRdir>}%
       \HCode{<span class="titlemark">}\partname \ \thepart
       \HCode{<br /></span>}}
   {\HCode{</h1>}\IgnoreIndent\par}
\Configure{likepart}{}{}
   {\IgnorePar\EndP\HCode{<h1 class="likepartHead"\a:LRdir>}}
   {\HCode{</h1>}\IgnoreIndent\par}
\Configure{partTITLE+}{\thepart\space #1}
\Configure{likepartTITLE+}{#1}
\Css{h1.partHead{text-align: center}}


\ConfigureEnv{abstract}
   {\IgnorePar\EndP
    \HCode{<div\Hnewline class="abstract"\Hnewline>}\par\ShowPar}
   {\ifvmode \IgnorePar\fi \EndP\HCode{</div>}\par}{}{}


\Configure{abstracttitle}{\ifvmode\IgnorePar\fi\EndP\HCode{<h3 class="abstracttitle">}\HtmlParOff}
   {\HCode{</h3>}\HtmlParOn}

\Css{div.abstract p {margin-left:5\%; margin-right:5\%;}}
\Css{div.abstract {width:100\%;}}
\Css{.abstracttitle{text-align:center;margin-bottom:1em;}}


\ConfigureEnv{description}{\IgnorePar}{}{}{}
\Configure{@begin}{theindex}{\ifx \indexname\empty \else
    \chapter*{\indexname}\fi}
\ConfigureMark{appendix}{\HCode{<span class="titlemark">}%
   \appendixname \ \thechapter\HCode{</span>}}
\Configure{appendixTITLE+}{\thechapter\space#1}
\Configure{likechapterTITLE+}{#1}
\Configure{endchapter}{likechapter,appendix,part,likepart}
\Configure{endlikechapter}{chapter,appendix,part,likepart}
\Configure{endappendix}{chapter,likechapter,part,likepart}

\ConfigureMark{chapter}
   {\HCode{<span class="titlemark">}\chaptername
    \ \thechapter\HCode{</span>}}
\Configure{chapter}{}{}
   {\IgnorePar\EndP\HCode{<h2 class="chapterHead"\a:LRdir>}%
     \TitleMark{\HCode{<br />}}}
   {\HCode{</h2>}\IgnoreIndent\par}
\Configure{chapterTITLE+}{\thechapter\space#1}
\Configure{likechapterTITLE+}{#1}
\Configure{appendix}{}{}
   {\IgnorePar\EndP\HCode{<h2 class="appendixHead"\a:LRdir>}%
     \TitleMark{\HCode{<br />}}}
   {\HCode{</h2>}\IgnoreIndent\par}
\Configure{likechapter}{}{}
   {\IgnorePar\EndP\HCode{<h2 class="likechapterHead"\a:LRdir>}}
   {\HCode{</h2>}\IgnoreIndent\par}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{article}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{@begin}{theindex}{\ifx \indexname\empty \else
    \section*{\indexname}\fi}
\def\tocpart#1#2#3{\par
   \HCode{<span class="partToc" \a:LRdir>}\if !#1!\else  #1~~\fi #2\HCode{</span>}\par}%
\def\toclikepart#1#2#3{\par
   \HCode{<span class="likepartToc" \a:LRdir>}#2\HCode{</span>}\par}%
\Css{.partToc a, .partToc, .likepartToc a, .likepartToc
        {line-height: 200\%; font-weight:bold; font-size:110\%;}}
%
\expandafter\ifx \csname @chapter\endcsname\relax
   \def\tocsection#1#2#3{\par
       \HCode{<span class="sectionToc" \a:LRdir>}\def\:temp{#1}\ifx \:temp\empty\else
            #1 \fi #2\HCode{</span>}\par}
   \def\toclikesection#1#2#3{\par
      \HCode{<span class="likesectionToc" \a:LRdir>}#2\HCode{</span>}\par}%
   \def\tocsubsection#1#2#3{\par\ \toc:num{subsection}{#1}{#2}\par}
   \def\toclikesubsection#1#2#3{\par\
      \HCode{<span class="likesubsectionToc" \a:LRdir>}#2\HCode{</span>}\par}
   \def\tocsubsubsection#1#2#3{\par
      \ \ \toc:num{subsubsection}{#1}{#2}\par}
   \def\toclikesubsubsection#1#2#3{\par
      \ \ \HCode{<span class="likesubsubsectionToc" \a:LRdir>}#2\HCode{</span>}\par}
   \def\tocparagraph#1#2#3{\par\ \ \toc:num{paragraph}{#1}{#2}\par}
   \def\toclikeparagraph#1#2#3{\par\ \
      \HCode{<span class="likeparagraphToc" \a:LRdir>}#2\HCode{</span>}\par}
   \def\tocsubparagraph#1#2#3{\par
      \ \ \ \ \toc:num{subparagraph}{#1}{#2}\par}
   \def\toclikesubparagraph#1#2#3{\par
      \ \ \ \ \HCode{<span class="likesubparagraphToc" \a:LRdir>}#2\HCode{</span>}\par}
\else
   \Css{.chapterToc a, .chapterToc, .likechapterToc a, .likechapterToc,
        .appendixToc a, .appendixToc
        {line-height: 200\%; font-weight:bold;}}
%
   \def\tocchapter#1#2#3{\par
      \HCode{<span class="chapterToc" \a:LRdir>}\ifnum \c@secnumdepth >\m@ne
                                                 #1 \fi #2\HCode{</span>}\par}
   \def\toclikechapter#1#2#3{\par
      \HCode{<span class="likechapterToc" \a:LRdir>}#2\HCode{</span>}\par}%
   \def\tocappendix#1#2#3{\par
      \HCode{<span class="appendixToc" \a:LRdir>}#1 #2\HCode{</span>}\par}
   \def\tocsection#1#2#3{\par\ \toc:num{section}{#1}{#2}\par}
   \def\toclikesection#1#2#3{\par\ \HCode{<span class="likesectionToc" \a:LRdir>}#2\HCode{</span>}\par}
   \def\tocsubsection#1#2#3{\par\ \ \toc:num{subsection}{#1}{#2}\par}
   \def\toclikesubsection#1#2#3{\par
      \ \ \HCode{<span class="likesubsectionToc" \a:LRdir>}#2\HCode{</span>}\par}
   \def\tocsubsubsection#1#2#3{\par
      \ \ \ \toc:num{subsubsection}{#1}{#2}\par}
   \def\toclikesubsubsection#1#2#3{\par
      \ \ \ \HCode{<span class="likesubsubsectionToc" \a:LRdir>}#2\HCode{</span>}\par}
   \def\tocparagraph#1#2#3{\par\ \ \ \toc:num{paragraph}{#1}{#2}\par}
   \def\toclikeparagraph#1#2#3{\par
      \ \ \ \HCode{<span class="likeparagraphToc" \a:LRdir>}#2\HCode{</span>}\par}
   \def\tocsubparagraph#1#2#3{\par
      \ \ \ \ \ \toc:num{subparagraph}{#1}{#2}\par}
   \def\toclikesubparagraph#1#2#3{\par
      \ \ \ \ \ \HCode{<span class="likesubparagraphToc" \a:LRdir>}#2\HCode{</span>}\par}
\fi
\def\toc:num#1#2#3{\def\:temp{#1#2}%
   \HCode{<span class="#1Toc" \a:LRdir>}\ifx \:temp\empty
   \else \def\:temp{#2}\ifx\:temp\empty\else #2 \fi \fi #3\HCode{</span>}}
%\def\:SPAN#1#2{\HCode{<span class="#1">}#2\HCode{</span>}}
 
\:CheckOption{7}     \if:Option
    \expandafter\ifx \csname @chapter\endcsname\relax
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,part}
\CutAt{likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,likesubsection,subsection}
\fi

         \CutAt{subsection,section,likesection,part}
\CutAt{likesubsection,section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection}
\fi

         \CutAt{subsubsection,subsection,likesubsection,section,likesection,part}
\CutAt{likesubsubsection,subsection,likesubsection,section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection,paragraph}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection,%
    paragraph}
\fi

         \CutAt{paragraph,subsubsection,likesubsubsection,subsection,likesubsection,%
       section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection,%
    paragraph,subparagraph}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection,%
    paragraph,subparagraph}
\fi

         \CutAt{subparagraph,paragraph,subsubsection,likesubsubsection,%
       subsection,likesubsection,%
       section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,%
          section,likesection,subsection,likesubsection}
     \MiniToc:At{likepart,/part,%
          section,likesection,subsection,likesubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             subsubsection,paragraph}
     \MiniToc:At{likesubsection,/subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             subsubsection,paragraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
     \MiniToc:At{likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsubsection,/likesubsubsection,/subsection,%
             /likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             paragraph,subparagraph}
     \MiniToc:At{likesubsubsection,/subsubsection,/likesubsection,%
             /subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             paragraph,subparagraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsubsection,/likesubsubsection,%
          /subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          paragraph,subparagraph}
     \MiniToc:At{likesubsubsection,/subsubsection,/likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          paragraph,subparagraph}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{paragraph,/subsubsection,/likesubsubsection,/subsection,%
             /likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             subparagraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{paragraph,/subsubsection,/likesubsubsection,%
          /subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          subparagraph}
  \fi
\fi

    \else
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
     appendix,section\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection,likesubsection\fi}
\fi

         \CutAt{chapter,likechapter,appendix,part}
\CutAt{likechapter,appendix,part}
\CutAt{appendix,chapter,likechapter,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,chapter,likechapter,appendix,part}
\CutAt{likesection,chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,likesubsection,subsection}
\fi

         \CutAt{subsection,section,likesection,%
                  chapter,likechapter,appendix,part}
\CutAt{likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection}
\fi

         \CutAt{subsubsection,subsection,likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}
\CutAt{likesubsubsection,subsection,likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection,paragraph}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection,%
    paragraph}
\fi

         \CutAt{paragraph,subsubsection,likesubsubsection,subsection,likesubsection,%
       section,likesection,chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection,%
    paragraph,subparagraph}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection,%
    paragraph,subparagraph}
\fi

         \CutAt{subparagraph,paragraph,subsubsection,likesubsubsection,%
       subsection,likesubsection,%
       section,likesection,chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,likechapter,appendix,%
          section,likesection}
     \MiniToc:At{likepart,/part,chapter,likechapter,appendix,%
          section,likesection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,subsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,subsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,subsection}
   \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,likesection,subsection,likesubsection}
   \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             subsubsection,paragraph}
     \MiniToc:At{likesubsection,/subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             subsubsection,paragraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
     \MiniToc:At{likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsubsection,/likesubsubsection,/subsection,%
             /likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             paragraph,subparagraph}
     \MiniToc:At{likesubsubsection,/subsubsection,/likesubsection,%
             /subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             paragraph,subparagraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsubsection,/likesubsubsection,%
          /subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          paragraph,subparagraph}
     \MiniToc:At{likesubsubsection,/subsubsection,/likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          paragraph,subparagraph}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{paragraph,/subsubsection,/likesubsubsection,/subsection,%
             /likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             subparagraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{paragraph,/subsubsection,/likesubsubsection,%
          /subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          subparagraph}
  \fi
\fi

    \fi
    \:CheckOption{obj-toc}  \if:Option
   \Css{object.toc { float: left;
                     width: 25\%;
                     height: 100\%;
                     border: 1px solid \#888888;
                     margin-left:0em;
                     margin-top:0em;
                     margin-bottom:1em;
                     margin-right:1em;
                     padding-right:1em;
               }}
   \Css{body\#jobname-toc{margin:0em;}}
   \Css{body\#jobname-toc .tableofcontents{ white-space: nowrap; }}
   \Configure{@BODY}
      {\edef\:temp{\jobname-toc.\:html}
       \edef\:tempa{\FileName}
       \edef\:temp{\expandafter\string\csname\:temp\endcsname}
       \edef\:tempa{\expandafter\string\csname\:tempa\endcsname}
       \ifx\:temp\:tempa\else
          \hbox{
             \HCode{<object class="toc" data="\jobname-toc.\:html">}
                 [\Link[\jobname-toc.\:html]{}{}table of contents\EndLink]
             \HCode{</object>}}
       \fi
      }
      {}
   \pend:defI\Auto:ent{%
      \bgroup
      \let\contentsname=\empty
      \Configure{!BODY}{ id="jobname-toc"}%
      \Configure{Link}{a}{target="\string _top" href=}{id=}{}%
      \NextFile{\jobname-toc.\csname :html\endcsname}%
      \HPage{}%
   }
   \append:defI\Auto:ent{%
      \EndHPage{}%
      \egroup
   }
\else
   \Log:Note{for frames-like object-based table of contents,
                 use the command line option `obj-toc'}
\fi

\else\:CheckOption{6}     \if:Option
    \expandafter\ifx \csname @chapter\endcsname\relax
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,part}
\CutAt{likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,likesubsection,subsection}
\fi

         \CutAt{subsection,section,likesection,part}
\CutAt{likesubsection,section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection}
\fi

         \CutAt{subsubsection,subsection,likesubsection,section,likesection,part}
\CutAt{likesubsubsection,subsection,likesubsection,section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection,paragraph}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection,%
    paragraph}
\fi

         \CutAt{paragraph,subsubsection,likesubsubsection,subsection,likesubsection,%
       section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,%
          section,likesection,subsection,likesubsection}
     \MiniToc:At{likepart,/part,%
          section,likesection,subsection,likesubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             subsubsection,paragraph}
     \MiniToc:At{likesubsection,/subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             subsubsection,paragraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
     \MiniToc:At{likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsubsection,/likesubsubsection,/subsection,%
             /likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             paragraph,subparagraph}
     \MiniToc:At{likesubsubsection,/subsubsection,/likesubsection,%
             /subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             paragraph,subparagraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsubsection,/likesubsubsection,%
          /subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          paragraph,subparagraph}
     \MiniToc:At{likesubsubsection,/subsubsection,/likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          paragraph,subparagraph}
  \fi
\fi

    \else
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
     appendix,section\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection,likesubsection\fi}
\fi

         \CutAt{chapter,likechapter,appendix,part}
\CutAt{likechapter,appendix,part}
\CutAt{appendix,chapter,likechapter,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,chapter,likechapter,appendix,part}
\CutAt{likesection,chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,likesubsection,subsection}
\fi

         \CutAt{subsection,section,likesection,%
                  chapter,likechapter,appendix,part}
\CutAt{likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection}
\fi

         \CutAt{subsubsection,subsection,likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}
\CutAt{likesubsubsection,subsection,likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection,paragraph}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection,%
    paragraph}
\fi

         \CutAt{paragraph,subsubsection,likesubsubsection,subsection,likesubsection,%
       section,likesection,chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,likechapter,appendix,%
          section,likesection}
     \MiniToc:At{likepart,/part,chapter,likechapter,appendix,%
          section,likesection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,subsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,subsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,subsection}
   \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,likesection,subsection,likesubsection}
   \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             subsubsection,paragraph}
     \MiniToc:At{likesubsection,/subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             subsubsection,paragraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
     \MiniToc:At{likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsubsection,/likesubsubsection,/subsection,%
             /likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             paragraph,subparagraph}
     \MiniToc:At{likesubsubsection,/subsubsection,/likesubsection,%
             /subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             paragraph,subparagraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsubsection,/likesubsubsection,%
          /subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          paragraph,subparagraph}
     \MiniToc:At{likesubsubsection,/subsubsection,/likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          paragraph,subparagraph}
  \fi
\fi

    \fi
    \:CheckOption{obj-toc}  \if:Option
   \Css{object.toc { float: left;
                     width: 25\%;
                     height: 100\%;
                     border: 1px solid \#888888;
                     margin-left:0em;
                     margin-top:0em;
                     margin-bottom:1em;
                     margin-right:1em;
                     padding-right:1em;
               }}
   \Css{body\#jobname-toc{margin:0em;}}
   \Css{body\#jobname-toc .tableofcontents{ white-space: nowrap; }}
   \Configure{@BODY}
      {\edef\:temp{\jobname-toc.\:html}
       \edef\:tempa{\FileName}
       \edef\:temp{\expandafter\string\csname\:temp\endcsname}
       \edef\:tempa{\expandafter\string\csname\:tempa\endcsname}
       \ifx\:temp\:tempa\else
          \hbox{
             \HCode{<object class="toc" data="\jobname-toc.\:html">}
                 [\Link[\jobname-toc.\:html]{}{}table of contents\EndLink]
             \HCode{</object>}}
       \fi
      }
      {}
   \pend:defI\Auto:ent{%
      \bgroup
      \let\contentsname=\empty
      \Configure{!BODY}{ id="jobname-toc"}%
      \Configure{Link}{a}{target="\string _top" href=}{id=}{}%
      \NextFile{\jobname-toc.\csname :html\endcsname}%
      \HPage{}%
   }
   \append:defI\Auto:ent{%
      \EndHPage{}%
      \egroup
   }
\else
   \Log:Note{for frames-like object-based table of contents,
                 use the command line option `obj-toc'}
\fi

\else \:CheckOption{5}     \if:Option
    \expandafter\ifx \csname @chapter\endcsname\relax
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,part}
\CutAt{likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,likesubsection,subsection}
\fi

         \CutAt{subsection,section,likesection,part}
\CutAt{likesubsection,section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection}
\fi

         \CutAt{subsubsection,subsection,likesubsection,section,likesection,part}
\CutAt{likesubsubsection,subsection,likesubsection,section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,%
          section,likesection,subsection,likesubsection}
     \MiniToc:At{likepart,/part,%
          section,likesection,subsection,likesubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             subsubsection,paragraph}
     \MiniToc:At{likesubsection,/subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             subsubsection,paragraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
     \MiniToc:At{likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
  \fi
\fi

    \else
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
     appendix,section\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection,likesubsection\fi}
\fi

         \CutAt{chapter,likechapter,appendix,part}
\CutAt{likechapter,appendix,part}
\CutAt{appendix,chapter,likechapter,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,chapter,likechapter,appendix,part}
\CutAt{likesection,chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,likesubsection,subsection}
\fi

         \CutAt{subsection,section,likesection,%
                  chapter,likechapter,appendix,part}
\CutAt{likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection}
\fi

         \CutAt{subsubsection,subsection,likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}
\CutAt{likesubsubsection,subsection,likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,likechapter,appendix,%
          section,likesection}
     \MiniToc:At{likepart,/part,chapter,likechapter,appendix,%
          section,likesection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,subsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,subsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,subsection}
   \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,likesection,subsection,likesubsection}
   \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             subsubsection,paragraph}
     \MiniToc:At{likesubsection,/subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             subsubsection,paragraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
     \MiniToc:At{likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
  \fi
\fi

    \fi
    \:CheckOption{obj-toc}  \if:Option
   \Css{object.toc { float: left;
                     width: 25\%;
                     height: 100\%;
                     border: 1px solid \#888888;
                     margin-left:0em;
                     margin-top:0em;
                     margin-bottom:1em;
                     margin-right:1em;
                     padding-right:1em;
               }}
   \Css{body\#jobname-toc{margin:0em;}}
   \Css{body\#jobname-toc .tableofcontents{ white-space: nowrap; }}
   \Configure{@BODY}
      {\edef\:temp{\jobname-toc.\:html}
       \edef\:tempa{\FileName}
       \edef\:temp{\expandafter\string\csname\:temp\endcsname}
       \edef\:tempa{\expandafter\string\csname\:tempa\endcsname}
       \ifx\:temp\:tempa\else
          \hbox{
             \HCode{<object class="toc" data="\jobname-toc.\:html">}
                 [\Link[\jobname-toc.\:html]{}{}table of contents\EndLink]
             \HCode{</object>}}
       \fi
      }
      {}
   \pend:defI\Auto:ent{%
      \bgroup
      \let\contentsname=\empty
      \Configure{!BODY}{ id="jobname-toc"}%
      \Configure{Link}{a}{target="\string _top" href=}{id=}{}%
      \NextFile{\jobname-toc.\csname :html\endcsname}%
      \HPage{}%
   }
   \append:defI\Auto:ent{%
      \EndHPage{}%
      \egroup
   }
\else
   \Log:Note{for frames-like object-based table of contents,
                 use the command line option `obj-toc'}
\fi

\else\:CheckOption{4}     \if:Option
    \expandafter\ifx \csname @chapter\endcsname\relax
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,part}
\CutAt{likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,likesubsection,subsection}
\fi

         \CutAt{subsection,section,likesection,part}
\CutAt{likesubsection,section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,%
          section,likesection,subsection,likesubsection}
     \MiniToc:At{likepart,/part,%
          section,likesection,subsection,likesubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
  \fi
\fi

    \else
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
     appendix,section\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection,likesubsection\fi}
\fi

         \CutAt{chapter,likechapter,appendix,part}
\CutAt{likechapter,appendix,part}
\CutAt{appendix,chapter,likechapter,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,chapter,likechapter,appendix,part}
\CutAt{likesection,chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,likesubsection,subsection}
\fi

         \CutAt{subsection,section,likesection,%
                  chapter,likechapter,appendix,part}
\CutAt{likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,likechapter,appendix,%
          section,likesection}
     \MiniToc:At{likepart,/part,chapter,likechapter,appendix,%
          section,likesection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,subsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,subsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,subsection}
   \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,likesection,subsection,likesubsection}
   \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
  \fi
\fi

    \fi
    \:CheckOption{obj-toc}  \if:Option
   \Css{object.toc { float: left;
                     width: 25\%;
                     height: 100\%;
                     border: 1px solid \#888888;
                     margin-left:0em;
                     margin-top:0em;
                     margin-bottom:1em;
                     margin-right:1em;
                     padding-right:1em;
               }}
   \Css{body\#jobname-toc{margin:0em;}}
   \Css{body\#jobname-toc .tableofcontents{ white-space: nowrap; }}
   \Configure{@BODY}
      {\edef\:temp{\jobname-toc.\:html}
       \edef\:tempa{\FileName}
       \edef\:temp{\expandafter\string\csname\:temp\endcsname}
       \edef\:tempa{\expandafter\string\csname\:tempa\endcsname}
       \ifx\:temp\:tempa\else
          \hbox{
             \HCode{<object class="toc" data="\jobname-toc.\:html">}
                 [\Link[\jobname-toc.\:html]{}{}table of contents\EndLink]
             \HCode{</object>}}
       \fi
      }
      {}
   \pend:defI\Auto:ent{%
      \bgroup
      \let\contentsname=\empty
      \Configure{!BODY}{ id="jobname-toc"}%
      \Configure{Link}{a}{target="\string _top" href=}{id=}{}%
      \NextFile{\jobname-toc.\csname :html\endcsname}%
      \HPage{}%
   }
   \append:defI\Auto:ent{%
      \EndHPage{}%
      \egroup
   }
\else
   \Log:Note{for frames-like object-based table of contents,
                 use the command line option `obj-toc'}
\fi

\else\:CheckOption{3}     \if:Option
    \expandafter\ifx \csname @chapter\endcsname\relax
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,likesubsection,subsection}
\fi

         \CutAt{subsection,section,likesection,part}
\CutAt{likesubsection,section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,%
          section,likesection,subsection,likesubsection}
     \MiniToc:At{likepart,/part,%
          section,likesection,subsection,likesubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
  \fi
\fi

         \CutAt{section,likesection,part}
\CutAt{likesection,part}

    \else
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
     appendix,section\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection,likesubsection\fi}
\fi

         \CutAt{chapter,likechapter,appendix,part}
\CutAt{likechapter,appendix,part}
\CutAt{appendix,chapter,likechapter,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,chapter,likechapter,appendix,part}
\CutAt{likesection,chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,likechapter,appendix,%
          section,likesection}
     \MiniToc:At{likepart,/part,chapter,likechapter,appendix,%
          section,likesection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,subsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,subsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,subsection}
   \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,likesection,subsection,likesubsection}
   \fi
\fi

    \fi
    \:CheckOption{obj-toc}  \if:Option
   \Css{object.toc { float: left;
                     width: 25\%;
                     height: 100\%;
                     border: 1px solid \#888888;
                     margin-left:0em;
                     margin-top:0em;
                     margin-bottom:1em;
                     margin-right:1em;
                     padding-right:1em;
               }}
   \Css{body\#jobname-toc{margin:0em;}}
   \Css{body\#jobname-toc .tableofcontents{ white-space: nowrap; }}
   \Configure{@BODY}
      {\edef\:temp{\jobname-toc.\:html}
       \edef\:tempa{\FileName}
       \edef\:temp{\expandafter\string\csname\:temp\endcsname}
       \edef\:tempa{\expandafter\string\csname\:tempa\endcsname}
       \ifx\:temp\:tempa\else
          \hbox{
             \HCode{<object class="toc" data="\jobname-toc.\:html">}
                 [\Link[\jobname-toc.\:html]{}{}table of contents\EndLink]
             \HCode{</object>}}
       \fi
      }
      {}
   \pend:defI\Auto:ent{%
      \bgroup
      \let\contentsname=\empty
      \Configure{!BODY}{ id="jobname-toc"}%
      \Configure{Link}{a}{target="\string _top" href=}{id=}{}%
      \NextFile{\jobname-toc.\csname :html\endcsname}%
      \HPage{}%
   }
   \append:defI\Auto:ent{%
      \EndHPage{}%
      \egroup
   }
\else
   \Log:Note{for frames-like object-based table of contents,
                 use the command line option `obj-toc'}
\fi

\else\:CheckOption{2}     \if:Option
    \expandafter\ifx \csname @chapter\endcsname\relax
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,part}
\CutAt{likesection,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,%
          section,likesection,subsection,likesubsection}
     \MiniToc:At{likepart,/part,%
          section,likesection,subsection,likesubsection}
  \fi
\fi

    \else
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
     appendix,section\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection,likesubsection\fi}
\fi

         \CutAt{chapter,likechapter,appendix,part}
\CutAt{likechapter,appendix,part}
\CutAt{appendix,chapter,likechapter,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,likechapter,appendix,%
          section,likesection}
     \MiniToc:At{likepart,/part,chapter,likechapter,appendix,%
          section,likesection}
  \fi
\fi

    \fi
    \:CheckOption{obj-toc}  \if:Option
   \Css{object.toc { float: left;
                     width: 25\%;
                     height: 100\%;
                     border: 1px solid \#888888;
                     margin-left:0em;
                     margin-top:0em;
                     margin-bottom:1em;
                     margin-right:1em;
                     padding-right:1em;
               }}
   \Css{body\#jobname-toc{margin:0em;}}
   \Css{body\#jobname-toc .tableofcontents{ white-space: nowrap; }}
   \Configure{@BODY}
      {\edef\:temp{\jobname-toc.\:html}
       \edef\:tempa{\FileName}
       \edef\:temp{\expandafter\string\csname\:temp\endcsname}
       \edef\:tempa{\expandafter\string\csname\:tempa\endcsname}
       \ifx\:temp\:tempa\else
          \hbox{
             \HCode{<object class="toc" data="\jobname-toc.\:html">}
                 [\Link[\jobname-toc.\:html]{}{}table of contents\EndLink]
             \HCode{</object>}}
       \fi
      }
      {}
   \pend:defI\Auto:ent{%
      \bgroup
      \let\contentsname=\empty
      \Configure{!BODY}{ id="jobname-toc"}%
      \Configure{Link}{a}{target="\string _top" href=}{id=}{}%
      \NextFile{\jobname-toc.\csname :html\endcsname}%
      \HPage{}%
   }
   \append:defI\Auto:ent{%
      \EndHPage{}%
      \egroup
   }
\else
   \Log:Note{for frames-like object-based table of contents,
                 use the command line option `obj-toc'}
\fi

\else\:CheckOption{1}     \if:Option
    \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
    \CutAt{part}
\CutAt{likepart}

    \:CheckOption{obj-toc}  \if:Option
   \Css{object.toc { float: left;
                     width: 25\%;
                     height: 100\%;
                     border: 1px solid \#888888;
                     margin-left:0em;
                     margin-top:0em;
                     margin-bottom:1em;
                     margin-right:1em;
                     padding-right:1em;
               }}
   \Css{body\#jobname-toc{margin:0em;}}
   \Css{body\#jobname-toc .tableofcontents{ white-space: nowrap; }}
   \Configure{@BODY}
      {\edef\:temp{\jobname-toc.\:html}
       \edef\:tempa{\FileName}
       \edef\:temp{\expandafter\string\csname\:temp\endcsname}
       \edef\:tempa{\expandafter\string\csname\:tempa\endcsname}
       \ifx\:temp\:tempa\else
          \hbox{
             \HCode{<object class="toc" data="\jobname-toc.\:html">}
                 [\Link[\jobname-toc.\:html]{}{}table of contents\EndLink]
             \HCode{</object>}}
       \fi
      }
      {}
   \pend:defI\Auto:ent{%
      \bgroup
      \let\contentsname=\empty
      \Configure{!BODY}{ id="jobname-toc"}%
      \Configure{Link}{a}{target="\string _top" href=}{id=}{}%
      \NextFile{\jobname-toc.\csname :html\endcsname}%
      \HPage{}%
   }
   \append:defI\Auto:ent{%
      \EndHPage{}%
      \egroup
   }
\else
   \Log:Note{for frames-like object-based table of contents,
                 use the command line option `obj-toc'}
\fi

\else
    \Log:Note{for automatic sectioning
        pagination, use the command line option
                     `1', `2', `3', '4', '5', '6', or '7'}%
\fi \fi \fi \fi \fi \fi  \fi
\:CheckOption{sec-filename}   \if:Option \else
    \Log:Note{for files named derived from section
        titles, use the command line option `sec-filename'}%
\fi


\:CheckOption{1}     \if:Option
  \:CheckOption{notoc*}     \if:Option
   \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

      \MiniToc:At{part,/likepart,section,subsection}
   \fi
   \Configure{tableofcontents*}{part,section}
\else
   \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

      \MiniToc:At{part,/likepart,section,likesection,%
           subsection,likesubsection}
   \fi
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}{part,likepart,section,likesection}
\fi

\fi
\def\:temp#1index=#2,#3!*?: {%
   \ifnum #2>1 \NewConfigure{IndexColumns}{1}
\Configure{IndexColumns}{#2}
\fi
   \def\:temp{#2}%
}
\expandafter\:temp\Preamble,index=0,!*?: 
\ifnum \:temp<2
   \Log:Note{for i-columns index,
               use the command line option `index=i' (e.g., index=2)}
\Configure{theindex}
   {\ifvmode \IgnorePar\fi \EndP
    \HCode{<div class="theindex">}\let\end:theidx\empty}
   {\end:theidx\HCode{</div>}}
   {\hbox\bgroup\HCode{<span class="index-item">}}
   {\HCode{<br /></span>}\egroup\hfill\break}
   {\hbox\bgroup\HCode{<span class="index-subitem">}\ \ \ \ }
   {\HCode{<br /></span>}\egroup\hfill\break}
   {\hbox\bgroup\HCode{<span class="index-subsubitem">}\ \ \ \ \ \ \ \ }
   {\HCode{<br /></span>}\egroup\hfill\break}
   {\hbox{\end:theidx\HCode{<p class="theindex">}}%
    \def\end:theidx{\HCode{</p>}}}
\Css{.index-item, .index-subitem, .index-subsubitem {display:block}}

\else
   \Log:Note{the number of columns
   requested by the option `index=\a:IndexColumns' can
   be modified through the command \string\Configure{IndexColumns}{i}}
\Configure{theindex}
   {\ifvmode \IgnorePar\fi \EndP
    \HCode{<div class="theindex">}%
    \Configure{HColumns}
     {\IgnorePar\EndP
         \HCode{<table \Hnewline class="index" width="100\%"
                     cellspacing="15"><tr style="vertical-align:top;">}}
     {\HCode{</tr></table>}}
     {\HCode{<td>}\ColMag{1.1}}
     {\IgnorePar\EndP\HCode{</td>}}
  \HColumns{\a:IndexColumns}%
  \everypar{\HtmlPar}%
  \Configure{HtmlPar}{}{\HCode{<br class="index-segment" />}}{}{}%
  \par\ShowPar
\let\end:theidx\empty}
   {\end:theidx
    \ifvmode\IgnorePar\fi \EndP\EndHColumns
\HCode{</div>}}
   {\hbox\bgroup\HCode{<span class="index-item">}}
   {\HCode{<br /></span>}\egroup\hfill\break}
   {\hbox\bgroup\HCode{<span class="index-subitem">}\ \ \ \ }
   {\HCode{<br /></span>}\egroup\hfill\break}
   {\hbox\bgroup\HCode{<span class="index-subsubitem">}\ \ \ \ \ \ \ \ }
   {\HCode{<br /></span>}\egroup\hfill\break}
   {%\ifvmode \EndP\fi
    % \hbox{\end:theidx\HCode{<p class="theindex">}}%
    % \def\end:theidx{\HCode{</p>}}
    \parindent=0pt
   }%
\Css{.index-item, .index-subitem, .index-subsubitem {display:block}}
\Css{br.index-segment:first-child {display:none}}
\Css{.index-item br,
     .index-subitem br,
     .index-subsubitem br {display:none}}
\def\add:col{\Advance:\:cols  -1 \HAdvance\HCol  1\relax
   \ifnum \:cols>0
      \c:Cols \vsplit0 to \tmp:dim  \d:Cols  \expandafter\add:col
   \fi}
\NewConfigure{HColumns}{4}
\def\c:Cols{\edef\sv:dim{\the\tmp:dim}\c:HColumns}
\def\d:Cols{\d:HColumns \tmp:dim\sv:dim }
\def\ColMag#1{\tmp:dim  #1\tmp:dim}
\def\HColumns#1{%
   \a:HColumns
   \HAssign\:cols#1  \setbox0=\vbox\bgroup
   \divide\hsize  #1  }
\def\EndHColumns{\egroup   \HAssign\HCol0
  \tmp:dim\ht0  \advance\tmp:dim  \dp0  \divide\tmp:dim  \:cols
  \add:col \c:Cols \box0 \d:Cols \b:HColumns}

\fi

\Configure{caption}{\HCode{\if:nopar  \else <br />\fi}
   \:xhtml{\IgnorePar\EndP}\HCode{<div class="caption"\Hnewline
                                 ><span class="id">}}
   {: } {\HCode{</span><span \Hnewline class="content">}}
   {\HCode{</span></div>}\HCode{<!--tex4ht:label?:
   \cur:th\:currentlabel\space-->}%
}
\Css{div.caption {text-indent:-2em; margin-left:3em; margin-right:1em;
                  text-align:left;}}
\Css{div.caption span.id{font-weight: bold; white-space: nowrap; }}


\Configure{endlikeparagraph}
   {paragraph,subsubsection,likesubsubsection,subsection,%
    likesubsection,section,%
    likesection,chapter,likechapter,appendix,part,likepart}
\Configure{endsubparagraph}
   {likesubparagraph,likeparagraph,subsubsection,likesubsubsection,%
    subsection,likesubsection,section,%
    likesection,chapter,likechapter,appendix,part,likepart}
\Configure{endlikesubparagraph}
   {subparagraph,likeparagraph,subsubsection,likesubsubsection,%
    subsection,likesubsection,section,%
    likesection,chapter,likechapter,appendix,part,likepart}

\ConfigureEnv{thebibliography}{\IgnorePar}{\ShowPar\par}{}{}

\ifx \part\:UnDef \else
   \Configure{endpart}{likepart}
\Configure{endlikepart}{endpart}
\Configure{part}{}{}
   {\IgnorePar \EndP\HCode{<h1 class="partHead"\a:LRdir>}%
       \HCode{<span class="titlemark">}\partname \ \thepart
       \HCode{<br /></span>}}
   {\HCode{</h1>}\IgnoreIndent\par}
\Configure{likepart}{}{}
   {\IgnorePar\EndP\HCode{<h1 class="likepartHead"\a:LRdir>}}
   {\HCode{</h1>}\IgnoreIndent\par}
\Configure{partTITLE+}{\thepart\space #1}
\Configure{likepartTITLE+}{#1}
\Css{h1.partHead{text-align: center}}

\fi
\ConfigureToc{lof}
  {\HCode{<span class="lofToc" \a:LRdir>}}{\ }{}{\HCode{</span><br />}}
\ConfigureToc{lot}
  {\HCode{<span class="lotToc" \a:LRdir>}}{\ }{}{\HCode{</span><br />}}

\ConfigureList{description}%
   {\EndP\HCode{<dl \a:LRdir class="description">}%
      \PushMacro\end:itm
\global\let\end:itm=\empty}
   {\PopMacro\end:itm \global\let\end:itm \end:itm
\EndP\HCode{</dd></dl>}\ShowPar}
   {\end:itm \global\def\end:itm{\EndP\Tg</dd>}\HCode{<dt
        class="description">}\bgroup \bf}
   {\egroup\EndP\HCode{</dt><dd\Hnewline class="description">}}

\Configure{enumiii}
    {\HCode{<span class="roman-numeral">}}
    {\HCode{</span>}}

\:CheckOption{no-bib} \if:Option\else
   \:CheckOption{mouseover} \if:Option
      \ConfigureList{thebibliography}%
   {\ifvmode\IgnorePar\fi\EndP \js:on
\HCode{<div
                   class="thebibliography">}\let\en:bib=\empty}
   {\en:bib \ifvmode\IgnorePar\fi\EndP \HCode{</div>}}
   {\en:bib\def\en:bib{\ht:special {t4ht@DCopyTo: \jobname-js.tex Skip bib }%
\csname bibliography2\endcsname
\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont bib }%
%
%
        \EndP\ht:special {t4ht@DCopyTo: \jobname-js.tex Skip bib }%
%
\HCode{<!--}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont bib }%
%
\HCode{</div></bibitem>\Hnewline}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Until bib }%
%
\HCode{-->}
}\HCode{<!--}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex From bib }%
%
\HCode{<bibitem>}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Skip bib }%
%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Set1 bib }%
%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont bib }%
%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Set2 bib }%
%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Skip bib }%
%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont bib }%
%
\HCode{<div class="js">}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Skip bib }%
%
\HCode{-->}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont bib }%
%
%
        \Configure{HtmlPar}
   {\EndP\HCode{<p class="bibitem" \a:LRdir>}}
   {\EndP\HCode{<p class="bibitem" \a:LRdir>}}
   {\Tg</p>} {\Tg</p>}%
\par\ShowPar
        \leavevmode \ht:special {t4ht@DCopyTo: \jobname-js.tex Skip bib }%
\HCode{<span
      class="biblabel">}\Configure{HtmlPar}
   {\EndP\HCode{<p class="bibitem-p" \a:LRdir>}}
   {\EndP\HCode{<p class="bibitem-p" \a:LRdir>}}
   {\Tg</p>} {\Tg</p>}%
}
   {\HCode{<span class="bibsp">}\:nbsp
      \:nbsp\:nbsp\HCode{</span></span>}\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont bib }%
}

   \else
      \ConfigureList{thebibliography}%
   {\ifvmode\IgnorePar\fi \EndP \HCode{<div
                   class="thebibliography">}\let\en:bib=\empty}
   {\en:bib \ifvmode\IgnorePar\fi \EndP \HCode{</div>}}
   {\en:bib\def\en:bib{\csname bibliography2\endcsname
\EndP}%
   \Configure{HtmlPar}
   {\EndP\HCode{<p class="bibitem" \a:LRdir>}}
   {\EndP\HCode{<p class="bibitem" \a:LRdir>}}
   {\Tg</p>} {\Tg</p>}%
\par\ShowPar
    \HCode{<span class="biblabel">}\Configure{HtmlPar}
   {\EndP\HCode{<p class="bibitem-p" \a:LRdir>}}
   {\EndP\HCode{<p class="bibitem-p" \a:LRdir>}}
   {\Tg</p>} {\Tg</p>}%
}
   {\HCode{<span class="bibsp">}\:nbsp
      \:nbsp\:nbsp\HCode{</span></span>}}

   \fi
   \Css{p.bibitem { text-indent: -2em; margin-left: 2em;
       margin-top:0.6em; margin-bottom:0.6em;     }}
\Css{p.bibitem-p { text-indent: 0em; margin-left: 2em;
       margin-top:0.6em; margin-bottom:0.6em;     }}

\fi

\Configure{endsection}
     {likesection,chapter,likechapter,appendix,part,likepart}
\Configure{endlikesection}
     {section,chapter,likechapter,appendix,part,likepart}
\ConfigureMark{section}
   {\ifnum \c:secnumdepth>\c@secnumdepth \expandafter\:gobble
    \else
       \HCode{<span class="titlemark">}\@seccntformat{section}%
       \HCode{</span>}\fi }
\Configure{sectionTITLE+}{\ifnum \c:secnumdepth>\c@secnumdepth
      \ifnum \c@secnumdepth > 0
      \thesection\space
    \fi\fi #1}

\Configure{section}{}{}
   {\ifvmode \IgnorePar\fi \EndP\IgnorePar
    \HCode{<h3 class="sectionHead"\a:LRdir>}\TitleMark\space\HtmlParOff}
   {\HCode{</h3>}\HtmlParOn\ShowPar \IgnoreIndent \par}
\Configure{likesection}{}{}
   {\ifvmode \IgnorePar\fi
    \EndP\IgnorePar\HCode{<h3 class="likesectionHead"\a:LRdir>}\HtmlParOff}
   {\HCode{</h3>}\HtmlParOn \IgnoreIndent \ShowPar \par}
\Configure{likesectionTITLE+}{#1}

\Configure{endsubsection}
   {likesubsection,section,likesection,chapter,%
      likechapter,appendix,part,likepart}
\Configure{endlikesubsection}
   {subsection,section,likesection,chapter,%
      likechapter,appendix,part,likepart}
\ConfigureMark{subsubsection}
   {\ifnum \c:secnumdepth>\c@secnumdepth  \expandafter\:gobble
    \else
       \HCode{<span class="titlemark">}\@seccntformat{subsubsection}%
       \HCode{</span>}\fi}
\Configure{subsubsectionTITLE+}{\ifnum \c:secnumdepth>\c@secnumdepth
      \ifnum \c@secnumdepth > 0
      \thesubsubsection\space
    \fi\fi #1}

\Configure{subsubsection}{}{}
   {\ifvmode \IgnorePar \fi  \EndP
    \bgroup \IgnorePar\HCode{<h5 class="subsubsectionHead"\a:LRdir>}%
    \TitleMark\space \HtmlParOff}
   {\HCode{</h5>}\HtmlParOn \IgnoreIndent\egroup\par\ShowPar}
\Configure{likesubsubsection}{}{}
   {\ifvmode \IgnorePar\fi \EndP\bgroup\IgnorePar
    \HCode{<h5 class="likesubsubsectionHead"\a:LRdir>}\HtmlParOff}
   {\HCode{</h5>}\HtmlParOn \IgnoreIndent\egroup\par\ShowPar}

\ConfigureMark{subsection}
   {\ifnum \c:secnumdepth>\c@secnumdepth  \expandafter\:gobble
    \else
       \HCode{<span class="titlemark">}\@seccntformat{subsection}%
       \HCode{</span>}\fi }
\Configure{subsectionTITLE+}{\ifnum \c:secnumdepth>\c@secnumdepth
      \ifnum \c@secnumdepth > 0
      \thesubsection\space
    \fi\fi #1}

\Configure{subsection}{}{}
   {\ifvmode \IgnorePar\fi
    \EndP\bgroup \IgnorePar\HCode{<h4 class="subsectionHead"\a:LRdir>}%
    \TitleMark\space \HtmlParOff}
   {\HCode{</h4>}\HtmlParOn \IgnoreIndent\egroup\par\ShowPar}
\Configure{likesubsection}{}{}{\EndP\bgroup
   \ifvmode \IgnorePar\fi
   \HCode{<h4 class="likesubsectionHead"\a:LRdir>}\HtmlParOff }
  {\HCode{</h4>}\HtmlParOn \IgnoreIndent\egroup\par\ShowPar}
\Configure{likesubsectionTITLE+}{#1}


\Configure{endsubsubsection}
   {likesubsubsection,subsection,likesubsection,section,%
      likesection,chapter,likechapter,appendix,part,likepart}
\Configure{endlikesubsubsection}
   {subsubsection,subsection,likesubsection,section,%
      likesection,chapter,likechapter,appendix,part,likepart}

\Configure{endparagraph}
   {likeparagraph,subsubsection,likesubsubsection,subsection,%
    likesubsection,section,%
    likesection,chapter,likechapter,appendix,part,likepart}
\Configure{paragraph}{}{}
  {\ShowPar\IgnoreIndent\HCode{<span class="paragraphHead"\a:LRdir>}\begingroup\bf}
  {\endgroup\HCode{</span>}\par\IgnorePar}
\Configure{likeparagraph}{}{}
  {\ShowPar\IgnoreIndent\HCode{<span class="likeparagraphHead"\a:LRdir>}}
  {\HCode{</span>}\par\IgnorePar}
\Css{.paragraphHead, .likeparagraphHead
   { margin-top:2em; font-weight: bold;}}

\ConfigureMark{subparagraph}{}
\Configure{subparagraph}{}{}
  {\ShowPar\HCode{<span class="subparagraphHead"\a:LRdir>}\begingroup\bf
   \TitleMark\space}
  {\endgroup\HCode{</span>}\IgnorePar}
\Configure{likesubparagraph}{}{}
  {\ShowPar\HCode{<span class="likesubparagraphHead"\a:LRdir>}\begingroup\bf}
  {\endgroup\HCode{</span>}\IgnorePar}
\Css{.subparagraphHead, .likesubparagraphHead
   { font-weight: bold;}}

\ConfigureEnv{quote}
   {}{}
   {\IgnorePar\EndP
    \HCode{<blockquote class="\getClass{quote}">}\afterGetClass{quote}}
   {\IgnorePar\EndP\HCode{</blockquote>}\ShowPar\ShowIndent}
\NewConfigure{quoteClass}{2}
\Configure{quoteClass}{quote}{}

\ConfigureEnv{verse}
   {\ifvmode \IgnorePar\fi\EndP\Tg<div class="verse">}
   {\ifvmode \IgnorePar\fi\EndP\Tg</div>\par\ShowPar}
   {}{}
\ConfigureList{verse}
   {}{}
   {\parindent=\z@}  {\par}
\Css{.verse{white-space:nowrap; margin-left:2em}}
\Configure{maketitle}
   {\ifvmode \IgnorePar\fi \EndP {\Configure{maketitle}{}{}{}{}%
\a:NoSection \let\leavevmode\empty \let\not@math@alphabet\:gobbleII
\def\text@command##1{##1}\let\selectfont\empty
\def\check@icl ##1\check@icr{}%
\let\thanks\:gobble
\def\TeX{TeX}%
\def\mbox{\hbox}%
\def\gobble:font##1##2{##2}\:TITLE: \no:fonts
\def\footnotemark[##1]{}%
\Tag{TITLE+}{\@title}}
%
    \HCode{<div class="maketitle">}}
   {\ifvmode \IgnorePar\fi \EndP \HCode{</div>}}
   {\NoFonts\IgnorePar\HCode{<h2 class="titleHead"\a:LRdir>}\IgnorePar}
   {\HCode{</h2>}\IgnoreIndent\EndNoFonts}
\Css{div.maketitle {text-align:center;}}
\Css{h2.titleHead{text-align:center;}}
\Css{div.maketitle{ margin-bottom: 2em; }}
\:CheckOption{fn-in}\if:Option
   \Configure{thanks author date and}
   {\SaveEndP\global\setbox\fn:box=\vtop\bgroup\ShowPar
     \ifvoid\fn:box\else  \csname unvbox\endcsname\fn:box\fi}
   {\EndP\egroup\RecallEndP }
   {\HCode{<div class="author" \a:LRdir>}}{\HCode{</div>}}
   {\HCode{<div class="date" \a:LRdir>}}{\HCode{</div>}}
   {\HCode{<br class="and" />}}
   {\HCode{<br />}}
\Configure{thank}
   {\csname a:thank-mark\endcsname
\Link{tk-\the\c@footnote}{\ifx
        \footnote\thanks kt-\the\c@footnote\fi}}
   {\EndLink \csname b:thank-mark\endcsname
}
   {\HCode{<p>}\protect\Link{\ifx \footnote\thanks kt-\the\c@footnote
      \fi}{tk-\the\c@footnote}\csname a:thank-mark\endcsname
}
   {\csname b:thank-mark\endcsname
\protect\EndLink}
   {\HCode{</p>}}

\Css{div.author, div.date {text-align:center;}}
\Css{div.thanks{text-align:left; margin-left:10\%; font-size:85\%;
                font-style:italic; }}

\else
   \Configure{thanks author date and}
   {\ifvmode \IgnorePar\fi\EndP \HCode{<div class="thanks" \a:LRdir>}}
   {\ifvmode \IgnorePar\fi\EndP \HCode{</div>}}
   {\ifvmode \IgnorePar\fi\EndP \HCode{<div class="author" \a:LRdir>}}
   {\ifvmode \IgnorePar\fi\EndP \HCode{</div>}}
   {\ifvmode \IgnorePar\fi\EndP \HCode{<div class="date" \a:LRdir>}}
   {\ifvmode \IgnorePar\fi\EndP \HCode{</div>}}
   {\HCode{<br class="and" />}}
   {\HCode{<br />}}
\Configure{thank}
   {\csname a:thank-mark\endcsname
\Link{tk-\the\c@footnote}{}}
   {\EndLink \csname b:thank-mark\endcsname
}
   {\HCode{<br />}\protect\Link{}{tk-\the\c@footnote}\protect
     \EndLink \csname a:thank-mark\endcsname
}
   {\csname b:thank-mark\endcsname
} {}

\Css{div.author, div.date {text-align:center;}}
\Css{div.thanks{text-align:left; margin-left:10\%; font-size:85\%;
                font-style:italic; }}
\Css{div.author{white-space: nowrap;}}

\fi


\ConfigureEnv{table}
   {\ifvmode \IgnorePar\fi \EndP \HCode{<div class="table">}}
   {\ifvmode \IgnorePar\fi \EndP \HCode{</div>}\par\ShowPar}
   {}{}
{\Configure{Needs}{Font\string_Size: #1}\ifcase  \@ptsize
   \or \Needs{11}\or \Needs{12}\else \fi}

\ConfigureEnv{quotation}
   {}{}
   {\IgnorePar\EndP\HCode{<blockquote class="quotation">}}
   {\IgnorePar\EndP\HCode{</blockquote>}\ShowPar}

\Configure{listof}{}{}{}{\HCode{<br />}}{}{ }



\ConfigureEnv{abstract}
   {\IgnorePar\EndP
    \HCode{<div\Hnewline class="abstract"\Hnewline>}\par\ShowPar}
   {\ifvmode \IgnorePar\fi \EndP\HCode{</div>}\par}{}{}


\Configure{abstracttitle}{\ifvmode\IgnorePar\fi\EndP\HCode{<h3 class="abstracttitle">}\HtmlParOff}
   {\HCode{</h3>}\HtmlParOn}

\Css{div.abstract p {margin-left:5\%; margin-right:5\%;}}
\Css{div.abstract {width:100\%;}}
\Css{.abstracttitle{text-align:center;margin-bottom:1em;}}


\:CheckOption{1} \if:Option
\else
   \:CheckOption{2} \if:Option \else
      \:CheckOption{3} \if:Option \else
         \:CheckOption{4} \if:Option \else
            \:CheckOption{5} \if:Option \else
               \:CheckOption{6} \if:Option \else
                  \:CheckOption{7} \if:Option \else
                  \fi
               \fi
            \fi
         \fi
      \fi
   \fi
   \if:Option
       \Css{.subsectionToc,    .likesubsectionToc    {margin-left:2em;}}
       \Css{.subsubsectionToc, .likesubsubsectionToc {margin-left:4em;}}
   \fi
\fi

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{tcilatex}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{GRAPHICSPS}
   {\Picture+[PICT]{}}  {\EndPicture}
\Configure{GRAPHICSHP}
   {\Picture+[PICT]{}}  {\EndPicture}
\Configure{DFRAME}
  {\EndP \IgnorePar\HCode{<div class="FRAME">}}
  {\HCode{</div>}\par\ShowPar}
\Configure{FFRAME}
  {\EndP \IgnorePar\HCode{<div class="FRAME">}}
  {\HCode{</div>}\par\ShowPar}
\Configure{IFRAME}
  {\ifvmode \IgnorePar \fi}  {}
\Css{div.FRAME {text-align:center;}}
\expandafter\ifx \csname @TCItagstar\endcsname\relax
   
\else
   
\fi

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%







%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{graphics}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \:CheckOption{graphics-} \if:Option
   \Configure{graphics}
     {\bgroup
        \let\E:IMG=\e:IMG \let\e:IMG=\empty
      \Picture+[\a:GraphicsAlt]{ class="graphics"}}
     {\EndPicture
         \E:IMG\HCode{<!--tex4ht:graphics
         \Hnewline  name="\PictureFile"  src="\Gin@base\Gin@ext"
         \Hnewline -->}%
      \egroup}
\else
   \def\:temp#1graphics-#2,#3!*?: {\def\gr:density{#2}}
\expandafter\:temp\Preamble,graphics-,!*?: 
\ifx \gr:density\empty
   \Log:Note{if included graphics are
      of degraded quality, try the command line options
      `graphics-num' or `graphics-'. The `num' should provide
      the density of pixels in the bitmaps (e.g., 110).
   }
\fi
\def\int:pt#1.#2!*?: {#1}

   \Configure{graphics}
     {\bgroup
        \let\E:IMG=\e:IMG \let\e:IMG=\empty
      \Picture+[\a:GraphicsAlt]{ class="graphics"}}
     {\EndPicture        \ifx\noBoundingBox\UnDefined
          \ifx \gr:density\empty
   \HCode{
      width="\expandafter\int:pt\the\Gin@req@width!*?: "
      height="\expandafter\int:pt\the\Gin@req@height!*?: "
   }%
\else
   \bgroup
     \divide\Gin@req@width by 72
     \multiply\Gin@req@width by \gr:density \relax
     \divide\Gin@req@height by 72
     \multiply\Gin@req@height by \gr:density \relax
     \HCode{
        width="\expandafter\int:pt\the\Gin@req@width!*?: "
        height="\expandafter\int:pt\the\Gin@req@height!*?: "
     }%
   \egroup
\fi
\fi
         \E:IMG\HCode{<!--tex4ht:graphics
         \Hnewline  name="\PictureFile"  src="\Gin@base\Gin@ext"
         \Hnewline -->}%
      \egroup}
\fi
\Configure{graphics*}
   {gif}
   {{\Configure{Needs}{File: \Gin@base.gif}\Needs{}}%
   \Picture[\a:GraphicsAlt]{{\Gin@base.gif} \csname a:Gin-dim\endcsname
}}
\Configure{graphics*}
   {png}
   {{\Configure{Needs}{File: \Gin@base.png}\Needs{}}%
   \Picture[\a:GraphicsAlt]{{\Gin@base.png} \csname a:Gin-dim\endcsname
}}
\Configure{graphics*}
   {jpg}
   {{\Configure{Needs}{File: \Gin@base.jpg}\Needs{}}%
   \Picture[\a:GraphicsAlt]{{\Gin@base.jpg} \csname a:Gin-dim\endcsname
}}
\Configure{graphics*}
   {jpeg}
   {{\Configure{Needs}{File: \Gin@base.jpeg}\Needs{}}%
   \Picture[\a:GraphicsAlt]{{\Gin@base.jpeg} \csname a:Gin-dim\endcsname
}}
\Configure{graphics*}
   {svg}
   {{\Configure{Needs}{File: \Gin@base.svg}\Needs{}}%
   \Picture[\a:GraphicsAlt]{{\Gin@base.svg} \csname a:Gin-dim\endcsname
}}
\Configure{graphics*}
   {eps}
   {\openin15=\csname Gin@base\endcsname\PictExt\relax%
   \ifeof15%
   \Needs{\a:EpsConvert}%
   \fi%
   \closein15%
   {\Configure{Needs}{File: \Gin@base\PictExt}\Needs{}}%
   \Picture[\a:GraphicsAlt]{{\Gin@base\PictExt} \csname a:Gin-dim\endcsname
}}

\DeclareGraphicsExtensions{.png,.svg,.jpg,.eps,.pdf}


\edef\svg:ext{.svg}

\NewConfigure{ImageMagick}{1}
\NewConfigure{Ghostscript}{1}

\Configure{ImageMagick}{convert}
\Configure{Ghostscript}{rungs}


\NewConfigure{EpsConvert}{1}
\NewConfigure{PdfConvert}{2}

% test the picture output format
\ifx\PictExt\svg:ext
\Configure{PdfConvert}{svg}{"pdf2svg "\Gin@base.pdf" "\Gin@base-\Gin@page.\a:PdfConvert" \Gin@page"}
% the quality of conversion using ImageMagick is quite bad, it rasterizes the vectors and
% the resulting SVG is basically PNG encapsulated in SVG
% \Configure{EpsConvert}{"\a:ImageMagick\space '\Gin@base.eps' '\Gin@base.svg'"}
% it is better to use the following command. pdf2svg must be installed separately.
\Configure{EpsConvert}{"epstopdf "\Gin@base.eps"  && pdf2svg "\Gin@base.pdf" "\Gin@base.svg""}
\else
\Configure{PdfConvert}{png}{"\a:Ghostscript\space -q -dNOPAUSE -dBATCH -dusecropbox -sDEVICE=pngalpha -r300 \ifx\Gin@page\@empty\else -dFirstPage="\Gin@page"  -dLastPage="\Gin@page"\fi\space -sOutputFile="\Gin@base-\Gin@page.\a:PdfConvert" "\Gin@base.pdf" "}
\Configure{EpsConvert}{"\a:Ghostscript\space -dSAFER    -dBATCH    -dNOPAUSE    -dEPSCrop    -r120  -sDEVICE=pngalpha -sOutputFile="\Gin@base.png" "\Gin@base.eps" "}
\fi
\Configure{graphics*}
   {pdf}
   {\ifdefined\Gin@page\else\def\Gin@page{1}\fi%
     \edef\svg:filename{\Gin@base-\Gin@page.\a:PdfConvert}%
     % test for existence of the converted file
     \openin15=\svg:filename\relax
      \ifeof15
      \Needs{\b:PdfConvert}%
      \fi
      \closein15
     { \Configure{Needs}{File: \svg:filename}\Needs{}}%
   \Picture[\a:GraphicsAlt]{{\svg:filename} \csname a:Gin-dim\endcsname
}}

\NewConfigure{GraphicsAlt}{1}
\Configure{GraphicsAlt}{PIC}
\NewConfigure{Gin-dim}{1}
\:CheckOption{Gin-dim} \if:Option
   \Configure{Gin-dim}
     {\ifx\noBoundingBox\UnDefined
        width="\expandafter\int:pt\the\Gin@req@width!*?: "
height="\expandafter\int:pt\the\Gin@req@height!*?: "
%
      \else
        \ifx \Gin:ewidth\Gin@exclamation \else
   width="\expandafter\int:pt\Gin:ewidth!*?: "
\fi
\ifx \Gin:eheight\Gin@exclamation \else
   height="\expandafter\int:pt\Gin:eheight!*?: "
\fi
%
      \fi
      class="includegraphics"
     }
\else \:CheckOption{Gin-dim+} \if:Option
   \Configure{Gin-dim}
     {\ifx \Gin:ewidth\Gin@exclamation
         \ifx \Gin:eheight\Gin@exclamation
            \ifx\noBoundingBox\UnDefined
               width="\expandafter\int:pt\the\Gin@req@width!*?: "
height="\expandafter\int:pt\the\Gin@req@height!*?: "
%
            \fi
         \else
            height="\expandafter\int:pt\Gin:eheight!*?: "
         \fi
      \else
         width="\expandafter\int:pt\Gin:ewidth!*?: "
         \ifx \Gin:eheight\Gin@exclamation \else
            height="\expandafter\int:pt\Gin:eheight!*?: "
         \fi
      \fi
      class="includegraphics"
     }
\else
   \Log:Note{for key dimensions try the option
       `Gin-dim'; for key dimensions when bounding box is unavailable
       try `Gin-dim+'; neither is recommended}
   \Configure{Gin-dim}
   {\if:boundingbox{width="\expandafter\int:pt\the\Gin@req@width!*?: "
height="\expandafter\int:pt\the\Gin@req@height!*?: "
}{}}
\fi \fi


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{graphicx}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{rotatebox}{\HCode{<span class="rotatebox" style="transform: rotate(-\Grot@angle deg);">}}{\HCode{</span>}}
\Css{.rotatebox{display: inline-block;}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{debug}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Css{dd.thebibliography {margin-left: 7em;}}
\Css{dt.thebibliography {float:left; clear:left; margin-right:1em;}}
\Configure{subfieldlabel}
   {\HCode{<span class="subfieldlabel">}}
   {\HCode{</span>}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%




%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{amsart}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \ConfigureList{description}%
   {\EndP\HCode{<dl \a:LRdir class="description">}%
      \PushMacro\end:itm
\global\let\end:itm=\empty}
   {\PopMacro\end:itm \global\let\end:itm \end:itm
\EndP\HCode{</dd></dl>}\ShowPar}
   {\end:itm \global\def\end:itm{\EndP\Tg</dd>}\HCode{<dt
        class="description">}\bgroup \bf}
   {\egroup\EndP\HCode{</dt><dd\Hnewline class="description">}}

\ConfigureEnv{description}{\IgnorePar}{}{}{}
\Css{span.footnote-mark{ vertical-align: super; font-size:80\%; }}
% \Css{span.footnote-mark   sup.textsuperscript,
%     span.footnote-mark a sup.textsuperscript{ font-size:80\%; }}
\Configure{translators}
  {\par\IgnorePar\EndP  \HCode{<div class="translators">}\par\ShowPar}
  {\ifvmode \IgnorePar \fi\EndP \HCode{</div>}}
  {\HCode{<span class="translator">}}
  {\HCode{</span>}}
\Configure{keywords}
   {\par\IgnorePar\EndP \HCode{<div class="keywords">}\par\ShowPar}
   {\ifvmode \IgnorePar \fi\EndP\HCode{</div>}}
\Configure{subjclass}
   {\par\IgnorePar\HCode{<div class="subjclass">}\par\ShowPar}
   {\ifvmode \IgnorePar \fi\EndP\HCode{</div>}}
\Configure{@maketitle}
   {\ifvmode \IgnorePar\fi \EndP
    \Tg<div class="submaketitle">\IgnoreIndent}
   {\ifvmode \IgnorePar \fi\EndP\Tg</div>}
\Css{div.submaketitle{ text-align:left;  margin-top:2em;
   border-top: 1px solid black;
   border-bottom: 1px solid black;
   margin-left:5\%;   margin-right:5\%;
   font-size:85\%; line-height: 95\%;}}
\Css{div.submaketitle div {margin-top:0.5em; margin-bottom:0.5em; }}
\Css{div.submaketitle p { margin-top:0em; margin-bottom:0em; }}
\ConfigureEnv{abstract}
   {\ifvmode \IgnorePar\fi \EndP}
   {\ifvmode \IgnorePar\fi \EndP}
   {}{}
\ConfigureList{abstract}
   {\ifvmode \IgnorePar\fi \EndP \Tg<div class="abstract">\ShowPar}
   {\ifvmode \IgnorePar\fi \EndP\Tg</div>}
   {\ShowPar\par\HCode{<span class="title">}}
   {\HCode{</span>}}
\Configure{setabstract}
   {\ifvmode \IgnorePar \fi \EndP}
   {\ifvmode \IgnorePar \fi \EndP}
\Css{div.abstract{ margin-top: 2em;  text-align:left;
   margin-right:15pt; margin-left:15pt; }}
\Configure{addresses}
   {\ifvmode \IgnorePar\fi \EndP
     \HCode{<div class="addresses">}\ShowPar}
   {\ifvmode \IgnorePar\fi \EndP \HCode{</div>}}
\Configure{address}
   {\HCode{<span class="address-title">}}
   {\ifvmode \IgnorePar\fi \HCode{</span><span class="address">}}
   {\HCode{</span>}}
\Configure{curraddr}
   {\HCode{<span class="curraddr-title">}}
   {\ifvmode \IgnorePar\fi \HCode{</span><span class="curraddr">}}
   {\HCode{</span>}}
\Configure{email}
   {\HCode{<span class="email-title">}}
   {\ifvmode \IgnorePar\fi \HCode{</span><span class="email">}}
   {\HCode{</span>}}
\Configure{urladdr}
   {\HCode{<span class="urladdr-title">}}
   {\ifvmode \IgnorePar\fi \HCode{</span><span class="urladdr">}}
   {\HCode{</span>}}
\Css{div.addresses p {margin-top:0em; margin-bottom:0em; }}
\Configure{maketitle}
   {\ifvmode \IgnorePar\fi \EndP {\Configure{maketitle}{}{}{}{}%
\a:NoSection \let\leavevmode\empty \let\not@math@alphabet\:gobbleII
\def\text@command##1{##1}\let\selectfont\empty
\def\check@icl ##1\check@icr{}%
\let\thanks\:gobble
\let\\\space \def\TeX{TeX}%
\def\mbox{\hbox}%
\def\gobble:font##1##2{##2}\:TITLE: \no:fonts
\def\footnotemark[##1]{}%
\Tag{TITLE+}{\shorttitle}}
%
    \HCode{<div  class="maketitle">}%
    \ConfigureEnv{center}
       {\ifvmode \IgnorePar\fi} {\ifvmode \IgnorePar\fi}
       {\ifvmode \IgnorePar\fi} {\ifvmode \IgnorePar\fi}%
    \:CheckOption{fn-in}\if:Option
   \:CheckOption{mouseover}\if:Option
      \Configure{footnotetext}
   {\csname a:footnote-mark\endcsname
\HPage{\FNnum}\HCode{<div>}\NoFonts}
   {\EndNoFonts}
   {\HCode{</div>}\EndHPage{}\csname b:footnote-mark\endcsname
}%
%
%
   \else
      \Configure{footnotetext}
   {\csname a:footnote-mark\endcsname
\HPage{\FNnum}\HCode{<div>}\NoFonts}
   {\EndNoFonts}
   {\HCode{</div>}\EndHPage{}\csname b:footnote-mark\endcsname
}%
%
%
   \fi
\else
   \:CheckOption{mouseover}\if:Option
      \Configure{footnotetext}
   {\csname a:footnote-mark\endcsname
\HPage{\FNnum}\HCode{<div>}\NoFonts}
   {\EndNoFonts}
   {\HCode{</div>}\EndHPage{}\csname b:footnote-mark\endcsname
}%
%
%
   \else \:CheckOption{frames-fn}\if:Option
           \Configure{footnotetext}
   {\csname a:footnote-mark\endcsname
\HPage{\FNnum}\HCode{<div>}\NoFonts}
   {\EndNoFonts}
   {\HCode{</div>}\EndHPage{}\csname b:footnote-mark\endcsname
}%
%
%
         \else
           \Configure{footnotetext}
   {\csname a:footnote-mark\endcsname
\HPage{\FNnum}\HCode{<div>}\NoFonts}
   {\EndNoFonts}
   {\HCode{</div>}\EndHPage{}\csname b:footnote-mark\endcsname
}%
%
   \fi   \fi
\fi
%
   }
   {\ifvmode \IgnorePar\fi \EndP \HCode{</div>}}
   {\NoFonts\IgnorePar \EndP
    \HCode{<h2 class="titleHead"\a:LRdir>}\IgnorePar
    \bgroup \Configure{HtmlPar}{}{}{}{}}
   {\egroup \HCode{</h2>}\IgnoreIndent\EndNoFonts}
\Css{h2.titleHead{text-align:center;}}
\Css{div.maketitle{ margin-bottom: 2em; text-align:center; }}

\Configure{caption}{\HCode{\if:nopar  \else <br />\fi}
   \:xhtml{\IgnorePar\EndP}\HCode{<div class="caption"\Hnewline
                                 ><span class="id">}}
   {: } {\HCode{</span><span \Hnewline class="content">}}
   {\HCode{</span></div>}\HCode{<!--tex4ht:label?:
   \cur:th\:currentlabel\space-->}%
}
\Css{div.caption {text-indent:-2em; margin-left:3em; margin-right:1em;
                  text-align:left;}}
\Css{div.caption span.id{font-weight: bold; white-space: nowrap; }}


\:CheckOption{no-bib} \if:Option\else
   \:CheckOption{mouseover} \if:Option
      \ConfigureList{thebibliography}%
   {\ifvmode\IgnorePar\fi\EndP \js:on
\HCode{<div
                   class="thebibliography">}\let\en:bib=\empty}
   {\en:bib \ifvmode\IgnorePar\fi\EndP \HCode{</div>}}
   {\en:bib\def\en:bib{\ht:special {t4ht@DCopyTo: \jobname-js.tex Skip bib }%
\csname bibliography2\endcsname
\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont bib }%
%
%
        \EndP\ht:special {t4ht@DCopyTo: \jobname-js.tex Skip bib }%
%
\HCode{<!--}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont bib }%
%
\HCode{</div></bibitem>\Hnewline}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Until bib }%
%
\HCode{-->}
}\HCode{<!--}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex From bib }%
%
\HCode{<bibitem>}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Skip bib }%
%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Set1 bib }%
%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont bib }%
%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Set2 bib }%
%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Skip bib }%
%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont bib }%
%
\HCode{<div class="js">}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Skip bib }%
%
\HCode{-->}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont bib }%
%
%
        \Configure{HtmlPar}
   {\EndP\HCode{<p class="bibitem" \a:LRdir>}}
   {\EndP\HCode{<p class="bibitem" \a:LRdir>}}
   {\Tg</p>} {\Tg</p>}%
\par\ShowPar
        \leavevmode \ht:special {t4ht@DCopyTo: \jobname-js.tex Skip bib }%
\HCode{<span
      class="biblabel">}\Configure{HtmlPar}
   {\EndP\HCode{<p class="bibitem-p" \a:LRdir>}}
   {\EndP\HCode{<p class="bibitem-p" \a:LRdir>}}
   {\Tg</p>} {\Tg</p>}%
}
   {\HCode{<span class="bibsp">}\:nbsp
      \:nbsp\:nbsp\HCode{</span></span>}\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont bib }%
}

   \else
      \ConfigureList{thebibliography}%
   {\ifvmode\IgnorePar\fi \EndP \HCode{<div
                   class="thebibliography">}\let\en:bib=\empty}
   {\en:bib \ifvmode\IgnorePar\fi \EndP \HCode{</div>}}
   {\en:bib\def\en:bib{\csname bibliography2\endcsname
\EndP}%
   \Configure{HtmlPar}
   {\EndP\HCode{<p class="bibitem" \a:LRdir>}}
   {\EndP\HCode{<p class="bibitem" \a:LRdir>}}
   {\Tg</p>} {\Tg</p>}%
\par\ShowPar
    \HCode{<span class="biblabel">}\Configure{HtmlPar}
   {\EndP\HCode{<p class="bibitem-p" \a:LRdir>}}
   {\EndP\HCode{<p class="bibitem-p" \a:LRdir>}}
   {\Tg</p>} {\Tg</p>}%
}
   {\HCode{<span class="bibsp">}\:nbsp
      \:nbsp\:nbsp\HCode{</span></span>}}

   \fi
   \Css{p.bibitem { text-indent: -2em; margin-left: 2em;
       margin-top:0.6em; margin-bottom:0.6em;     }}
\Css{p.bibitem-p { text-indent: 0em; margin-left: 2em;
       margin-top:0.6em; margin-bottom:0.6em;     }}

\fi

\ifx \deferred@thm@head\:UnDef\else
   \Configure{proof}
   {\ifvmode \IgnorePar \fi \EndP
       \HCode{<div class="proof">}\par\ShowPar
       \HCode{<span class="head">}\IgnorePar}
   {\HCode{</span>}\ShowPar}
   {\ifvmode \IgnorePar \fi \EndP \HCode{</div>}\par}

   \Configure{qed}
     {\HCode{<span class="qed">}} {\HCode{</span>}}
\Css{.qed {width:2ex; float:right; text-align:right;}}
\def\:tempc#1#2#3#4#5{%
  \expandafter\ifx \csname #1mathaccentV\endcsname\relax
     \o:mathaccentV:{#1}{#2}{#3}{#4}{#5}%
  \else  \csname #1mathaccentV\endcsname{#5}\fi}
\HLet\mathaccentV\:tempc
\:CheckOption{new-accents}     \if:Option \else
   \HRestore\grave
\expandafter\let\csname gravemathaccentV\endcsname=\grave
\expandafter\let\csname GRAVEmathaccentV\endcsname=\grave
\expand:after{\Configure{accent}}\csname
           gravemathaccentV\expandafter\endcsname
   \csname GRAVEmathaccentV\endcsname{A{00C0}E{00C8}I{00CC}N{01F8}O{00D2}U{00D9}W{1E80}%
Y{1EF2}a{00E0}e{00E8}i{00EC}n{01F9}o{00F2}u{00F9}%
w{1E81}y{1EF3}\i{00EC}%
{}{}}
   {\a:accents{grave}{#1}}   {\b:accents{grave}{#1}{#2}}
\HRestore\acute
\expandafter\let\csname acutemathaccentV\endcsname=\acute
\expandafter\let\csname ACUTEmathaccentV\endcsname=\acute
\expand:after{\Configure{accent}}\csname
           acutemathaccentV\expandafter\endcsname
   \csname ACUTEmathaccentV\endcsname{A{00C1}C{0106}D{010E}E{00C9}G{01F4}I{00CD}L{0139}N{0143}%
O{00D3}R{0154}S{015A}U{00DA}Y{00DD}Z{0179}a{00E1}c{0107}%
d{010F}e{00E9}g{01F5}i{00ED}l{013A}n{0144}o{00F3}r{0155}%
s{015B}u{00FA}y{00FD}z{017A}j{FFFD}J{FFDD}\i{00ED}\j{FFFD}%
{}{}}
   {\a:accents{acute}{#1}}   {\b:accents{acute}{#1}{#2}}
\HRestore\hat
\expandafter\let\csname hatmathaccentV\endcsname=\hat
\expandafter\let\csname HATmathaccentV\endcsname=\hat
\expand:after{\Configure{accent}}\csname
           hatmathaccentV\expandafter\endcsname
   \csname HATmathaccentV\endcsname{{}{}}
   {\a:accents{hat}{#1}}   {\b:accents{hat}{#1}{#2}}
\HRestore\tilde
\expandafter\let\csname tildemathaccentV\endcsname=\tilde
\expandafter\let\csname TILDEmathaccentV\endcsname=\tilde
\expand:after{\Configure{accent}}\csname
           tildemathaccentV\expandafter\endcsname
   \csname TILDEmathaccentV\endcsname{A{00C3}N{00D1}O{00D5}a{00E3}n{00F1}o{00F5}I{0128}%
i{0129}U{0168}u{0169}V{1E7C}v{1E7D}E{1EBC}e{1EBD}%
Y{1EF8}y{1EF9}\i{0129}%
{}{}}
   {\a:accents{tilde}{#1}}   {\b:accents{tilde}{#1}{#2}}
\HRestore\ddot
\expandafter\let\csname DDOTmathaccentV\endcsname=\ddot
\expand:after{\Configure{accent}}\csname
           DDOTmathaccentV\expandafter\endcsname
   \csname DDOTmathaccentV\endcsname{{}{}}
   {\a:accents{ddot}{#1}}   {\b:accents{ddot}{#1}{#2}}
\expandafter\let\csname ddotmathaccentV\endcsname=\ddot
\expand:after{\Configure{accent}}\csname
           ddotmathaccentV\expandafter\endcsname
   \csname ddotmathaccentv\endcsname{{}{}}
   {\a:accents{ddot}{#1}}   {\b:accents{ddot}{#1}{#2}}
\HRestore\check
\expandafter\let\csname checkmathaccentV\endcsname=\check
\expandafter\let\csname CHECKmathaccentV\endcsname=\check
\expand:after{\Configure{accent}}\csname
           checkmathaccentV\expandafter\endcsname
   \csname CHECKmathaccentV\endcsname{C{010C}c{010D}D{010E}d{010F}%
E{011A}e{011B}L{013D}l{013E}N{0147}n{0148}R{0158}r{0159}%
S{0160}s{0161}T{0164}t{0165}Z{017D}z{017E}A{01CD}a{01CE}I{01CF}%
i{01D0}O{01D1}o{01D2}U{01D3}u{01D4}G{01E6}g{01E7}K{01E8}k{01E9}%
j{01F0}H{021E}h{021F}\i{01D0}\j{01F0}%
{}{}}
   {\a:accents{check}{#1}}   {\b:accents{check}{#1}{#2}}
\HRestore\dot
\expandafter\let\csname dotmathaccentV\endcsname=\dot
\expandafter\let\csname DOTmathaccentV\endcsname=\dot
\expand:after{\Configure{accent}}\csname
           dotmathaccentV\expandafter\endcsname
   \csname DOTmathaccentV\endcsname{C{010A}c{010B}E{0116}e{0117}G{0120}g{0121}%
I{0130}Z{017B}z{017C}A{0226}a{0227}O{022E}%
o{022F}B{1E02}b{1E03}D{1E0A}d{1E0B}F{1E1E}%
f{1E1F}H{1E22}h{1E23}M{1E40}m{1E41}N{1E44}%
n{1E45}P{1E56}p{1E57}R{1E58}r{1E59}S{1E60}%
s{1E61}T{1E6A}t{1E6B}W{1E86}w{1E87}X{1E8A}%
x{1E8B}Y{1E8E}y{1E8F}%
{}{}}
   {\a:accents{dot}{#1}}   {\b:accents{dot}{#1}{#2}}
\HRestore\breve
\expandafter\let\csname brevemathaccentV\endcsname=\breve
\expandafter\let\csname BREVEmathaccentV\endcsname=\breve
\expand:after{\Configure{accent}}\csname
           brevemathaccentV\expandafter\endcsname
   \csname BREVEmathaccentV\endcsname{g{011F}I{012C}i{012D}O{014E}o{014F}%
U{016C}u{016D}A{0102}a{0103}E{0114}%
e{0115}G{011E}\i{012D}%
{}{}}
   {\a:accents{breve}{#1}}   {\b:accents{breve}{#1}{#2}}
\HRestore\bar
\expandafter\let\csname barmathaccentV\endcsname=\bar
\expandafter\let\csname BARmathaccentV\endcsname=\bar
\expand:after{\Configure{accent}}\csname
           barmathaccentV\expandafter\endcsname
   \csname BARmathaccentV\endcsname{{}{}}
   {\a:accents{bar}{#1}}   {\b:accents{bar}{#1}{#2}}
\HRestore\vec
\expandafter\let\csname vecmathaccentV\endcsname=\vec
\expandafter\let\csname VECmathaccentV\endcsname=\vec
\expand:after{\Configure{accent}}\csname
           vecmathaccentV\expandafter\endcsname
   \csname VECmathaccentV\endcsname{{}{}}
   {\a:accents{vec}{#1}}   {\b:accents{vec}{#1}{#2}}

\fi
\def\:temp{charset=iso-8859-2}
\ifx \a:charset\:UnDef
      \ifx  \A:charset\:temp \let\:temp=\def \fi
\else \ifx  \a:charset\:temp \let\:temp=\def \fi
\fi
\ifx \:temp\def
   \:CheckOption{new-accents}     \if:Option \else
      \HRestore\acute
\expandafter\let\csname acutemathaccentV\endcsname=\acute
\expandafter\let\csname ACUTEmathaccentV\endcsname=\acute
\expand:after{\Configure{accent}}\csname
           acutemathaccentV\expandafter\endcsname
   \csname ACUTEmathaccentV\endcsname{A{00C1}C{0106}D{010E}E{00C9}G{01F4}I{00CD}L{0139}N{0143}%
O{00D3}R{0154}S{015A}U{00DA}Y{00DD}Z{0179}a{00E1}c{0107}%
d{010F}e{00E9}g{01F5}i{00ED}l{013A}n{0144}o{00F3}r{0155}%
s{015B}u{00FA}y{00FD}z{017A}j{FFFD}J{FFDD}\i{00ED}\j{FFFD}%
{}{}}
   {\a:accents{acute}{#1}}   {\b:accents{acute}{#1}{#2}}

\fi \fi

\fi
\ConfigureMark{subsection}
   {\ifnum \c:secnumdepth>\c@secnumdepth  \expandafter\:gobble
    \else
       \HCode{<span class="titlemark">}%
          \@ifundefined{subsectionname}{}{%
          \ignorespaces\subsectionname\space}%
          \@seccntformat{subsection}%
       \HCode{</span>}\fi }
\Configure{subsectionTITLE+}{\ifnum \c:secnumdepth>\c@secnumdepth
      \ifnum \c@secnumdepth > 0
      \thesubsection\space
    \fi\fi #1}

\ConfigureMark{subsubsection}
   {\ifnum \c:secnumdepth>\c@secnumdepth  \expandafter\:gobble
    \else
       \HCode{<span class="titlemark">}%
          \@ifundefined{subsubsectionname}{}{%
          \ignorespaces\subsubsectionname\space}%
          \@seccntformat{subsubsection}%
       \HCode{</span>}\fi}
\Configure{subsubsectionTITLE+}{\ifnum \c:secnumdepth>\c@secnumdepth
      \ifnum \c@secnumdepth > 0
      \thesubsubsection\space
    \fi\fi #1}

\ConfigureMark{part}
   {\ifnum \c:secnumdepth>\c@secnumdepth \expandafter\:gobble
    \else
       \HCode{<span class="titlemark">}\@ifundefined{partname}{}{%
          \ignorespaces\partname\space}%
          \@seccntformat{part}%
       \HCode{</span>}\fi }
\Configure{part}{}{}
   {\ifvmode \IgnorePar\fi \EndP\IgnorePar
    \HCode{<h1 class="partHead"\a:LRdir>}\TitleMark\space\HtmlParOff}
   {\HCode{</h1>}\HtmlParOn \IgnoreIndent \par}
\Configure{partTITLE+}{\thepart\space#1}
\ConfigureMark{section}
   {\ifnum \c:secnumdepth>\c@secnumdepth \expandafter\:gobble
    \else
       \HCode{<span class="titlemark">}\@ifundefined{sectionname}{}{%
          \ignorespaces\sectionname\space}%
          \@seccntformat{section}%
       \HCode{</span>}\fi }
\Configure{sectionTITLE+}{\ifnum \c:secnumdepth>\c@secnumdepth
      \ifnum \c@secnumdepth > 0
      \thesection\space
    \fi\fi #1}

\Configure{section}{}{}
   {\ifvmode \IgnorePar\fi \EndP\IgnorePar
    \HCode{<h3 class="sectionHead"\a:LRdir>}\TitleMark\space\HtmlParOff}
   {\HCode{</h3>}\HtmlParOn \IgnoreIndent \ShowPar\par}

\ConfigureToc{part}
  {\HCode{<span class="partToc" \a:LRdir>}\toc:Mark{part}}
  {\End:Mark}
  {}
  {\HCode{</span><br />}}
\ConfigureToc{section}
  {\HCode{<span class="sectionToc" \a:LRdir>}\toc:Mark{section}}
  {\End:Mark}
  {}
  {\HCode{</span><br />}}
\ConfigureToc{subsection}
  {\HCode{<span class="subsectionToc" \a:LRdir>}~~\toc:Mark{subsection}}
  {\End:Mark}
  {}
  {\HCode{</span><br />}}
\ConfigureToc{subsubsection}
  {\HCode{<span
       class="subsubsectionToc" \a:LRdir>}~~~~\toc:Mark{subsubsection}}
  {\End:Mark}
  {}
  {\HCode{</span><br />}}
\def\toc:Mark#1#2\End:Mark{\if !#2!\else
   \expandafter\ifx \csname #1name\endcsname\relax\else
   \csname #1name\endcsname~\fi #2.~~\fi}
\Css{.partToc a, .partToc, .likepartToc a, .likepartToc
        {line-height: 200\%; font-weight:bold; font-size:110\%;}}
  
\:CheckOption{7}     \if:Option
    \expandafter\ifx \csname @chapter\endcsname\relax
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,part}
\CutAt{likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,likesubsection,subsection}
\fi

         \CutAt{subsection,section,likesection,part}
\CutAt{likesubsection,section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection}
\fi

         \CutAt{subsubsection,subsection,likesubsection,section,likesection,part}
\CutAt{likesubsubsection,subsection,likesubsection,section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection,paragraph}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection,%
    paragraph}
\fi

         \CutAt{paragraph,subsubsection,likesubsubsection,subsection,likesubsection,%
       section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection,%
    paragraph,subparagraph}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection,%
    paragraph,subparagraph}
\fi

         \CutAt{subparagraph,paragraph,subsubsection,likesubsubsection,%
       subsection,likesubsection,%
       section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,%
          section,likesection,subsection,likesubsection}
     \MiniToc:At{likepart,/part,%
          section,likesection,subsection,likesubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             subsubsection,paragraph}
     \MiniToc:At{likesubsection,/subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             subsubsection,paragraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
     \MiniToc:At{likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsubsection,/likesubsubsection,/subsection,%
             /likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             paragraph,subparagraph}
     \MiniToc:At{likesubsubsection,/subsubsection,/likesubsection,%
             /subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             paragraph,subparagraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsubsection,/likesubsubsection,%
          /subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          paragraph,subparagraph}
     \MiniToc:At{likesubsubsection,/subsubsection,/likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          paragraph,subparagraph}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{paragraph,/subsubsection,/likesubsubsection,/subsection,%
             /likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             subparagraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{paragraph,/subsubsection,/likesubsubsection,%
          /subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          subparagraph}
  \fi
\fi

    \else
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
     appendix,section\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection,likesubsection\fi}
\fi

         \CutAt{chapter,likechapter,appendix,part}
\CutAt{likechapter,appendix,part}
\CutAt{appendix,chapter,likechapter,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,chapter,likechapter,appendix,part}
\CutAt{likesection,chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,likesubsection,subsection}
\fi

         \CutAt{subsection,section,likesection,%
                  chapter,likechapter,appendix,part}
\CutAt{likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection}
\fi

         \CutAt{subsubsection,subsection,likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}
\CutAt{likesubsubsection,subsection,likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection,paragraph}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection,%
    paragraph}
\fi

         \CutAt{paragraph,subsubsection,likesubsubsection,subsection,likesubsection,%
       section,likesection,chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection,%
    paragraph,subparagraph}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection,%
    paragraph,subparagraph}
\fi

         \CutAt{subparagraph,paragraph,subsubsection,likesubsubsection,%
       subsection,likesubsection,%
       section,likesection,chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,likechapter,appendix,%
          section,likesection}
     \MiniToc:At{likepart,/part,chapter,likechapter,appendix,%
          section,likesection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,subsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,subsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,subsection}
   \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,likesection,subsection,likesubsection}
   \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             subsubsection,paragraph}
     \MiniToc:At{likesubsection,/subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             subsubsection,paragraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
     \MiniToc:At{likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsubsection,/likesubsubsection,/subsection,%
             /likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             paragraph,subparagraph}
     \MiniToc:At{likesubsubsection,/subsubsection,/likesubsection,%
             /subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             paragraph,subparagraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsubsection,/likesubsubsection,%
          /subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          paragraph,subparagraph}
     \MiniToc:At{likesubsubsection,/subsubsection,/likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          paragraph,subparagraph}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{paragraph,/subsubsection,/likesubsubsection,/subsection,%
             /likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             subparagraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{paragraph,/subsubsection,/likesubsubsection,%
          /subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          subparagraph}
  \fi
\fi

    \fi
    \:CheckOption{obj-toc}  \if:Option
   \Css{object.toc { float: left;
                     width: 25\%;
                     height: 100\%;
                     border: 1px solid \#888888;
                     margin-left:0em;
                     margin-top:0em;
                     margin-bottom:1em;
                     margin-right:1em;
                     padding-right:1em;
               }}
   \Css{body\#jobname-toc{margin:0em;}}
   \Css{body\#jobname-toc .tableofcontents{ white-space: nowrap; }}
   \Configure{@BODY}
      {\edef\:temp{\jobname-toc.\:html}
       \edef\:tempa{\FileName}
       \edef\:temp{\expandafter\string\csname\:temp\endcsname}
       \edef\:tempa{\expandafter\string\csname\:tempa\endcsname}
       \ifx\:temp\:tempa\else
          \hbox{
             \HCode{<object class="toc" data="\jobname-toc.\:html">}
                 [\Link[\jobname-toc.\:html]{}{}table of contents\EndLink]
             \HCode{</object>}}
       \fi
      }
      {}
   \pend:defI\Auto:ent{%
      \bgroup
      \let\contentsname=\empty
      \Configure{!BODY}{ id="jobname-toc"}%
      \Configure{Link}{a}{target="\string _top" href=}{id=}{}%
      \NextFile{\jobname-toc.\csname :html\endcsname}%
      \HPage{}%
   }
   \append:defI\Auto:ent{%
      \EndHPage{}%
      \egroup
   }
\else
   \Log:Note{for frames-like object-based table of contents,
                 use the command line option `obj-toc'}
\fi

\else\:CheckOption{6}     \if:Option
    \expandafter\ifx \csname @chapter\endcsname\relax
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,part}
\CutAt{likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,likesubsection,subsection}
\fi

         \CutAt{subsection,section,likesection,part}
\CutAt{likesubsection,section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection}
\fi

         \CutAt{subsubsection,subsection,likesubsection,section,likesection,part}
\CutAt{likesubsubsection,subsection,likesubsection,section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection,paragraph}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection,%
    paragraph}
\fi

         \CutAt{paragraph,subsubsection,likesubsubsection,subsection,likesubsection,%
       section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,%
          section,likesection,subsection,likesubsection}
     \MiniToc:At{likepart,/part,%
          section,likesection,subsection,likesubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             subsubsection,paragraph}
     \MiniToc:At{likesubsection,/subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             subsubsection,paragraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
     \MiniToc:At{likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsubsection,/likesubsubsection,/subsection,%
             /likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             paragraph,subparagraph}
     \MiniToc:At{likesubsubsection,/subsubsection,/likesubsection,%
             /subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             paragraph,subparagraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsubsection,/likesubsubsection,%
          /subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          paragraph,subparagraph}
     \MiniToc:At{likesubsubsection,/subsubsection,/likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          paragraph,subparagraph}
  \fi
\fi

    \else
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
     appendix,section\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection,likesubsection\fi}
\fi

         \CutAt{chapter,likechapter,appendix,part}
\CutAt{likechapter,appendix,part}
\CutAt{appendix,chapter,likechapter,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,chapter,likechapter,appendix,part}
\CutAt{likesection,chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,likesubsection,subsection}
\fi

         \CutAt{subsection,section,likesection,%
                  chapter,likechapter,appendix,part}
\CutAt{likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection}
\fi

         \CutAt{subsubsection,subsection,likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}
\CutAt{likesubsubsection,subsection,likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection,paragraph}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection,%
    paragraph}
\fi

         \CutAt{paragraph,subsubsection,likesubsubsection,subsection,likesubsection,%
       section,likesection,chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,likechapter,appendix,%
          section,likesection}
     \MiniToc:At{likepart,/part,chapter,likechapter,appendix,%
          section,likesection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,subsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,subsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,subsection}
   \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,likesection,subsection,likesubsection}
   \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             subsubsection,paragraph}
     \MiniToc:At{likesubsection,/subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             subsubsection,paragraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
     \MiniToc:At{likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsubsection,/likesubsubsection,/subsection,%
             /likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             paragraph,subparagraph}
     \MiniToc:At{likesubsubsection,/subsubsection,/likesubsection,%
             /subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             paragraph,subparagraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsubsection,/likesubsubsection,%
          /subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          paragraph,subparagraph}
     \MiniToc:At{likesubsubsection,/subsubsection,/likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          paragraph,subparagraph}
  \fi
\fi

    \fi
    \:CheckOption{obj-toc}  \if:Option
   \Css{object.toc { float: left;
                     width: 25\%;
                     height: 100\%;
                     border: 1px solid \#888888;
                     margin-left:0em;
                     margin-top:0em;
                     margin-bottom:1em;
                     margin-right:1em;
                     padding-right:1em;
               }}
   \Css{body\#jobname-toc{margin:0em;}}
   \Css{body\#jobname-toc .tableofcontents{ white-space: nowrap; }}
   \Configure{@BODY}
      {\edef\:temp{\jobname-toc.\:html}
       \edef\:tempa{\FileName}
       \edef\:temp{\expandafter\string\csname\:temp\endcsname}
       \edef\:tempa{\expandafter\string\csname\:tempa\endcsname}
       \ifx\:temp\:tempa\else
          \hbox{
             \HCode{<object class="toc" data="\jobname-toc.\:html">}
                 [\Link[\jobname-toc.\:html]{}{}table of contents\EndLink]
             \HCode{</object>}}
       \fi
      }
      {}
   \pend:defI\Auto:ent{%
      \bgroup
      \let\contentsname=\empty
      \Configure{!BODY}{ id="jobname-toc"}%
      \Configure{Link}{a}{target="\string _top" href=}{id=}{}%
      \NextFile{\jobname-toc.\csname :html\endcsname}%
      \HPage{}%
   }
   \append:defI\Auto:ent{%
      \EndHPage{}%
      \egroup
   }
\else
   \Log:Note{for frames-like object-based table of contents,
                 use the command line option `obj-toc'}
\fi

\else \:CheckOption{5}     \if:Option
    \expandafter\ifx \csname @chapter\endcsname\relax
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,part}
\CutAt{likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,likesubsection,subsection}
\fi

         \CutAt{subsection,section,likesection,part}
\CutAt{likesubsection,section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection}
\fi

         \CutAt{subsubsection,subsection,likesubsection,section,likesection,part}
\CutAt{likesubsubsection,subsection,likesubsection,section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,%
          section,likesection,subsection,likesubsection}
     \MiniToc:At{likepart,/part,%
          section,likesection,subsection,likesubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             subsubsection,paragraph}
     \MiniToc:At{likesubsection,/subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             subsubsection,paragraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
     \MiniToc:At{likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
  \fi
\fi

    \else
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
     appendix,section\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection,likesubsection\fi}
\fi

         \CutAt{chapter,likechapter,appendix,part}
\CutAt{likechapter,appendix,part}
\CutAt{appendix,chapter,likechapter,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,chapter,likechapter,appendix,part}
\CutAt{likesection,chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,likesubsection,subsection}
\fi

         \CutAt{subsection,section,likesection,%
                  chapter,likechapter,appendix,part}
\CutAt{likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection}
\fi

         \CutAt{subsubsection,subsection,likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}
\CutAt{likesubsubsection,subsection,likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,likechapter,appendix,%
          section,likesection}
     \MiniToc:At{likepart,/part,chapter,likechapter,appendix,%
          section,likesection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,subsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,subsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,subsection}
   \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,likesection,subsection,likesubsection}
   \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             subsubsection,paragraph}
     \MiniToc:At{likesubsection,/subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             subsubsection,paragraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
     \MiniToc:At{likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
  \fi
\fi

    \fi
    \:CheckOption{obj-toc}  \if:Option
   \Css{object.toc { float: left;
                     width: 25\%;
                     height: 100\%;
                     border: 1px solid \#888888;
                     margin-left:0em;
                     margin-top:0em;
                     margin-bottom:1em;
                     margin-right:1em;
                     padding-right:1em;
               }}
   \Css{body\#jobname-toc{margin:0em;}}
   \Css{body\#jobname-toc .tableofcontents{ white-space: nowrap; }}
   \Configure{@BODY}
      {\edef\:temp{\jobname-toc.\:html}
       \edef\:tempa{\FileName}
       \edef\:temp{\expandafter\string\csname\:temp\endcsname}
       \edef\:tempa{\expandafter\string\csname\:tempa\endcsname}
       \ifx\:temp\:tempa\else
          \hbox{
             \HCode{<object class="toc" data="\jobname-toc.\:html">}
                 [\Link[\jobname-toc.\:html]{}{}table of contents\EndLink]
             \HCode{</object>}}
       \fi
      }
      {}
   \pend:defI\Auto:ent{%
      \bgroup
      \let\contentsname=\empty
      \Configure{!BODY}{ id="jobname-toc"}%
      \Configure{Link}{a}{target="\string _top" href=}{id=}{}%
      \NextFile{\jobname-toc.\csname :html\endcsname}%
      \HPage{}%
   }
   \append:defI\Auto:ent{%
      \EndHPage{}%
      \egroup
   }
\else
   \Log:Note{for frames-like object-based table of contents,
                 use the command line option `obj-toc'}
\fi

\else\:CheckOption{4}     \if:Option
    \expandafter\ifx \csname @chapter\endcsname\relax
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,part}
\CutAt{likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,likesubsection,subsection}
\fi

         \CutAt{subsection,section,likesection,part}
\CutAt{likesubsection,section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,%
          section,likesection,subsection,likesubsection}
     \MiniToc:At{likepart,/part,%
          section,likesection,subsection,likesubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
  \fi
\fi

    \else
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
     appendix,section\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection,likesubsection\fi}
\fi

         \CutAt{chapter,likechapter,appendix,part}
\CutAt{likechapter,appendix,part}
\CutAt{appendix,chapter,likechapter,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,chapter,likechapter,appendix,part}
\CutAt{likesection,chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,likesubsection,subsection}
\fi

         \CutAt{subsection,section,likesection,%
                  chapter,likechapter,appendix,part}
\CutAt{likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,likechapter,appendix,%
          section,likesection}
     \MiniToc:At{likepart,/part,chapter,likechapter,appendix,%
          section,likesection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,subsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,subsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,subsection}
   \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,likesection,subsection,likesubsection}
   \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
  \fi
\fi

    \fi
    \:CheckOption{obj-toc}  \if:Option
   \Css{object.toc { float: left;
                     width: 25\%;
                     height: 100\%;
                     border: 1px solid \#888888;
                     margin-left:0em;
                     margin-top:0em;
                     margin-bottom:1em;
                     margin-right:1em;
                     padding-right:1em;
               }}
   \Css{body\#jobname-toc{margin:0em;}}
   \Css{body\#jobname-toc .tableofcontents{ white-space: nowrap; }}
   \Configure{@BODY}
      {\edef\:temp{\jobname-toc.\:html}
       \edef\:tempa{\FileName}
       \edef\:temp{\expandafter\string\csname\:temp\endcsname}
       \edef\:tempa{\expandafter\string\csname\:tempa\endcsname}
       \ifx\:temp\:tempa\else
          \hbox{
             \HCode{<object class="toc" data="\jobname-toc.\:html">}
                 [\Link[\jobname-toc.\:html]{}{}table of contents\EndLink]
             \HCode{</object>}}
       \fi
      }
      {}
   \pend:defI\Auto:ent{%
      \bgroup
      \let\contentsname=\empty
      \Configure{!BODY}{ id="jobname-toc"}%
      \Configure{Link}{a}{target="\string _top" href=}{id=}{}%
      \NextFile{\jobname-toc.\csname :html\endcsname}%
      \HPage{}%
   }
   \append:defI\Auto:ent{%
      \EndHPage{}%
      \egroup
   }
\else
   \Log:Note{for frames-like object-based table of contents,
                 use the command line option `obj-toc'}
\fi

\else\:CheckOption{3}     \if:Option
    \expandafter\ifx \csname @chapter\endcsname\relax
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,likesubsection,subsection}
\fi

         \CutAt{subsection,section,likesection,part}
\CutAt{likesubsection,section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,%
          section,likesection,subsection,likesubsection}
     \MiniToc:At{likepart,/part,%
          section,likesection,subsection,likesubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
  \fi
\fi

         \CutAt{section,likesection,part}
\CutAt{likesection,part}

    \else
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
     appendix,section\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection,likesubsection\fi}
\fi

         \CutAt{chapter,likechapter,appendix,part}
\CutAt{likechapter,appendix,part}
\CutAt{appendix,chapter,likechapter,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,chapter,likechapter,appendix,part}
\CutAt{likesection,chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,likechapter,appendix,%
          section,likesection}
     \MiniToc:At{likepart,/part,chapter,likechapter,appendix,%
          section,likesection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,subsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,subsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,subsection}
   \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,likesection,subsection,likesubsection}
   \fi
\fi

    \fi
    \:CheckOption{obj-toc}  \if:Option
   \Css{object.toc { float: left;
                     width: 25\%;
                     height: 100\%;
                     border: 1px solid \#888888;
                     margin-left:0em;
                     margin-top:0em;
                     margin-bottom:1em;
                     margin-right:1em;
                     padding-right:1em;
               }}
   \Css{body\#jobname-toc{margin:0em;}}
   \Css{body\#jobname-toc .tableofcontents{ white-space: nowrap; }}
   \Configure{@BODY}
      {\edef\:temp{\jobname-toc.\:html}
       \edef\:tempa{\FileName}
       \edef\:temp{\expandafter\string\csname\:temp\endcsname}
       \edef\:tempa{\expandafter\string\csname\:tempa\endcsname}
       \ifx\:temp\:tempa\else
          \hbox{
             \HCode{<object class="toc" data="\jobname-toc.\:html">}
                 [\Link[\jobname-toc.\:html]{}{}table of contents\EndLink]
             \HCode{</object>}}
       \fi
      }
      {}
   \pend:defI\Auto:ent{%
      \bgroup
      \let\contentsname=\empty
      \Configure{!BODY}{ id="jobname-toc"}%
      \Configure{Link}{a}{target="\string _top" href=}{id=}{}%
      \NextFile{\jobname-toc.\csname :html\endcsname}%
      \HPage{}%
   }
   \append:defI\Auto:ent{%
      \EndHPage{}%
      \egroup
   }
\else
   \Log:Note{for frames-like object-based table of contents,
                 use the command line option `obj-toc'}
\fi

\else\:CheckOption{2}     \if:Option
    \expandafter\ifx \csname @chapter\endcsname\relax
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,part}
\CutAt{likesection,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,%
          section,likesection,subsection,likesubsection}
     \MiniToc:At{likepart,/part,%
          section,likesection,subsection,likesubsection}
  \fi
\fi

    \else
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
     appendix,section\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection,likesubsection\fi}
\fi

         \CutAt{chapter,likechapter,appendix,part}
\CutAt{likechapter,appendix,part}
\CutAt{appendix,chapter,likechapter,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,likechapter,appendix,%
          section,likesection}
     \MiniToc:At{likepart,/part,chapter,likechapter,appendix,%
          section,likesection}
  \fi
\fi

    \fi
    \:CheckOption{obj-toc}  \if:Option
   \Css{object.toc { float: left;
                     width: 25\%;
                     height: 100\%;
                     border: 1px solid \#888888;
                     margin-left:0em;
                     margin-top:0em;
                     margin-bottom:1em;
                     margin-right:1em;
                     padding-right:1em;
               }}
   \Css{body\#jobname-toc{margin:0em;}}
   \Css{body\#jobname-toc .tableofcontents{ white-space: nowrap; }}
   \Configure{@BODY}
      {\edef\:temp{\jobname-toc.\:html}
       \edef\:tempa{\FileName}
       \edef\:temp{\expandafter\string\csname\:temp\endcsname}
       \edef\:tempa{\expandafter\string\csname\:tempa\endcsname}
       \ifx\:temp\:tempa\else
          \hbox{
             \HCode{<object class="toc" data="\jobname-toc.\:html">}
                 [\Link[\jobname-toc.\:html]{}{}table of contents\EndLink]
             \HCode{</object>}}
       \fi
      }
      {}
   \pend:defI\Auto:ent{%
      \bgroup
      \let\contentsname=\empty
      \Configure{!BODY}{ id="jobname-toc"}%
      \Configure{Link}{a}{target="\string _top" href=}{id=}{}%
      \NextFile{\jobname-toc.\csname :html\endcsname}%
      \HPage{}%
   }
   \append:defI\Auto:ent{%
      \EndHPage{}%
      \egroup
   }
\else
   \Log:Note{for frames-like object-based table of contents,
                 use the command line option `obj-toc'}
\fi

\else\:CheckOption{1}     \if:Option
    \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
    \CutAt{part}
\CutAt{likepart}

    \:CheckOption{obj-toc}  \if:Option
   \Css{object.toc { float: left;
                     width: 25\%;
                     height: 100\%;
                     border: 1px solid \#888888;
                     margin-left:0em;
                     margin-top:0em;
                     margin-bottom:1em;
                     margin-right:1em;
                     padding-right:1em;
               }}
   \Css{body\#jobname-toc{margin:0em;}}
   \Css{body\#jobname-toc .tableofcontents{ white-space: nowrap; }}
   \Configure{@BODY}
      {\edef\:temp{\jobname-toc.\:html}
       \edef\:tempa{\FileName}
       \edef\:temp{\expandafter\string\csname\:temp\endcsname}
       \edef\:tempa{\expandafter\string\csname\:tempa\endcsname}
       \ifx\:temp\:tempa\else
          \hbox{
             \HCode{<object class="toc" data="\jobname-toc.\:html">}
                 [\Link[\jobname-toc.\:html]{}{}table of contents\EndLink]
             \HCode{</object>}}
       \fi
      }
      {}
   \pend:defI\Auto:ent{%
      \bgroup
      \let\contentsname=\empty
      \Configure{!BODY}{ id="jobname-toc"}%
      \Configure{Link}{a}{target="\string _top" href=}{id=}{}%
      \NextFile{\jobname-toc.\csname :html\endcsname}%
      \HPage{}%
   }
   \append:defI\Auto:ent{%
      \EndHPage{}%
      \egroup
   }
\else
   \Log:Note{for frames-like object-based table of contents,
                 use the command line option `obj-toc'}
\fi

\else
    \Log:Note{for automatic sectioning
        pagination, use the command line option
                     `1', `2', `3', '4', '5', '6', or '7'}%
\fi \fi \fi \fi \fi \fi  \fi
\:CheckOption{sec-filename}   \if:Option \else
    \Log:Note{for files named derived from section
        titles, use the command line option `sec-filename'}%
\fi


{\Configure{Needs}{Font\string_Size: #1}\ifcase  \@ptsize
   \or \Needs{11}\or \Needs{12}\else \fi}


\Css{div.translators {text-align:right; margin-bottom:0.7em;}}
\Configure{thanks author date and}
   {\par\IgnorePar\EndP \HCode{<div class="thanks" \a:LRdir>}\par\ShowPar}
   {\ifvmode \IgnorePar\fi\EndP \HCode{</div>}}
   {\ifvmode \IgnorePar\fi\EndP
       \HCode{<div class="authors"><span class="author" \a:LRdir>}}
   {\ifvmode \IgnorePar\fi\EndP \HCode{</span></div>}}
   {\par\IgnorePar\EndP \HCode{<div class="date" \a:LRdir>}\par\ShowPar}
   {\ifvmode \IgnorePar\fi\EndP \HCode{</div>}}
   {\lowercase{\HCode{</span><span class="and">}}and~%
    \lowercase{\HCode{</span><span>}}}
   {\HCode{<br />}}
\Configure{endsection}
     {part}
\Configure{endsubsection}
   {section,part}
\Configure{endsubsubsection}
   {subsection,section,part}
\Configure{endparagraph}
   {subsubsection,subsection,section,part}
\:CheckOption{1}     \if:Option
  \:CheckOption{notoc*}     \if:Option
   \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

      \MiniToc:At{part,/likepart,section,subsection}
   \fi
   \Configure{tableofcontents*}{part,section}
\else
   \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

      \MiniToc:At{part,/likepart,section,likesection,%
           subsection,likesubsection}
   \fi
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}{part,likepart,section,likesection}
\fi

\fi

\Configure{subsection}{}{}
  {\ShowPar\noindent
   \HCode{<span class="subsectionHead"\a:LRdir>}\begingroup\bf
   \TitleMark\space}
  {.\endgroup\HCode{</span>}\IgnorePar}
\Configure{subsubsection}{}{}
  {\ShowPar\noindent
   \HCode{<span class="subsubsectionHead"\a:LRdir>}\begingroup\it
   \TitleMark\space}
  {.\endgroup\HCode{</span>}\IgnorePar}
\Css{.sectionHead{text-align:center;}}
\Configure{paragraph}{}{}
  {\ShowPar\IgnoreIndent\HCode{<span class="paragraphHead"\a:LRdir>}}
  {.\HCode{</span>}\IgnorePar}
\ConfigureMark{subparagraph}{}
\Configure{subparagraph}{}{}
  {\ShowPar\noindent\HCode{<span class="subparagraphHead"\a:LRdir>}\begingroup
   \TitleMark\space}
  {.\endgroup\HCode{</span>}\IgnorePar}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{amsbook}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \ConfigureList{description}%
   {\EndP\HCode{<dl \a:LRdir class="description">}%
      \PushMacro\end:itm
\global\let\end:itm=\empty}
   {\PopMacro\end:itm \global\let\end:itm \end:itm
\EndP\HCode{</dd></dl>}\ShowPar}
   {\end:itm \global\def\end:itm{\EndP\Tg</dd>}\HCode{<dt
        class="description">}\bgroup \bf}
   {\egroup\EndP\HCode{</dt><dd\Hnewline class="description">}}

\ConfigureEnv{description}{\IgnorePar}{}{}{}
\Css{span.footnote-mark{ vertical-align: super; font-size:80\%; }}
% \Css{span.footnote-mark   sup.textsuperscript,
%     span.footnote-mark a sup.textsuperscript{ font-size:80\%; }}
\Configure{translators}
  {\par\IgnorePar\EndP  \HCode{<div class="translators">}\par\ShowPar}
  {\ifvmode \IgnorePar \fi\EndP \HCode{</div>}}
  {\HCode{<span class="translator">}}
  {\HCode{</span>}}
\Configure{keywords}
   {\par\IgnorePar\EndP \HCode{<div class="keywords">}\par\ShowPar}
   {\ifvmode \IgnorePar \fi\EndP\HCode{</div>}}
\Configure{subjclass}
   {\par\IgnorePar\HCode{<div class="subjclass">}\par\ShowPar}
   {\ifvmode \IgnorePar \fi\EndP\HCode{</div>}}
\Configure{@maketitle}
   {\ifvmode \IgnorePar\fi \EndP
    \Tg<div class="submaketitle">\IgnoreIndent}
   {\ifvmode \IgnorePar \fi\EndP\Tg</div>}
\Css{div.submaketitle{ text-align:left;  margin-top:2em;
   border-top: 1px solid black;
   border-bottom: 1px solid black;
   margin-left:5\%;   margin-right:5\%;
   font-size:85\%; line-height: 95\%;}}
\Css{div.submaketitle div {margin-top:0.5em; margin-bottom:0.5em; }}
\Css{div.submaketitle p { margin-top:0em; margin-bottom:0em; }}
\ConfigureEnv{abstract}
   {\ifvmode \IgnorePar\fi \EndP}
   {\ifvmode \IgnorePar\fi \EndP}
   {}{}
\ConfigureList{abstract}
   {\ifvmode \IgnorePar\fi \EndP \Tg<div class="abstract">\ShowPar}
   {\ifvmode \IgnorePar\fi \EndP\Tg</div>}
   {\ShowPar\par\HCode{<span class="title">}}
   {\HCode{</span>}}
\Configure{setabstract}
   {\ifvmode \IgnorePar \fi \EndP}
   {\ifvmode \IgnorePar \fi \EndP}
\Css{div.abstract{ margin-top: 2em;  text-align:left;
   margin-right:15pt; margin-left:15pt; }}
\Configure{addresses}
   {\ifvmode \IgnorePar\fi \EndP
     \HCode{<div class="addresses">}\ShowPar}
   {\ifvmode \IgnorePar\fi \EndP \HCode{</div>}}
\Configure{address}
   {\HCode{<span class="address-title">}}
   {\ifvmode \IgnorePar\fi \HCode{</span><span class="address">}}
   {\HCode{</span>}}
\Configure{curraddr}
   {\HCode{<span class="curraddr-title">}}
   {\ifvmode \IgnorePar\fi \HCode{</span><span class="curraddr">}}
   {\HCode{</span>}}
\Configure{email}
   {\HCode{<span class="email-title">}}
   {\ifvmode \IgnorePar\fi \HCode{</span><span class="email">}}
   {\HCode{</span>}}
\Configure{urladdr}
   {\HCode{<span class="urladdr-title">}}
   {\ifvmode \IgnorePar\fi \HCode{</span><span class="urladdr">}}
   {\HCode{</span>}}
\Css{div.addresses p {margin-top:0em; margin-bottom:0em; }}
\Configure{maketitle}
   {\ifvmode \IgnorePar\fi \EndP {\Configure{maketitle}{}{}{}{}%
\a:NoSection \let\leavevmode\empty \let\not@math@alphabet\:gobbleII
\def\text@command##1{##1}\let\selectfont\empty
\def\check@icl ##1\check@icr{}%
\let\thanks\:gobble
\let\\\space \def\TeX{TeX}%
\def\mbox{\hbox}%
\def\gobble:font##1##2{##2}\:TITLE: \no:fonts
\def\footnotemark[##1]{}%
\Tag{TITLE+}{\shorttitle}}
%
    \HCode{<div  class="maketitle">}%
    \ConfigureEnv{center}
       {\ifvmode \IgnorePar\fi} {\ifvmode \IgnorePar\fi}
       {\ifvmode \IgnorePar\fi} {\ifvmode \IgnorePar\fi}%
    \:CheckOption{fn-in}\if:Option
   \:CheckOption{mouseover}\if:Option
      \Configure{footnotetext}
   {\csname a:footnote-mark\endcsname
\HPage{\FNnum}\HCode{<div>}\NoFonts}
   {\EndNoFonts}
   {\HCode{</div>}\EndHPage{}\csname b:footnote-mark\endcsname
}%
%
%
   \else
      \Configure{footnotetext}
   {\csname a:footnote-mark\endcsname
\HPage{\FNnum}\HCode{<div>}\NoFonts}
   {\EndNoFonts}
   {\HCode{</div>}\EndHPage{}\csname b:footnote-mark\endcsname
}%
%
%
   \fi
\else
   \:CheckOption{mouseover}\if:Option
      \Configure{footnotetext}
   {\csname a:footnote-mark\endcsname
\HPage{\FNnum}\HCode{<div>}\NoFonts}
   {\EndNoFonts}
   {\HCode{</div>}\EndHPage{}\csname b:footnote-mark\endcsname
}%
%
%
   \else \:CheckOption{frames-fn}\if:Option
           \Configure{footnotetext}
   {\csname a:footnote-mark\endcsname
\HPage{\FNnum}\HCode{<div>}\NoFonts}
   {\EndNoFonts}
   {\HCode{</div>}\EndHPage{}\csname b:footnote-mark\endcsname
}%
%
%
         \else
           \Configure{footnotetext}
   {\csname a:footnote-mark\endcsname
\HPage{\FNnum}\HCode{<div>}\NoFonts}
   {\EndNoFonts}
   {\HCode{</div>}\EndHPage{}\csname b:footnote-mark\endcsname
}%
%
   \fi   \fi
\fi
%
   }
   {\ifvmode \IgnorePar\fi \EndP \HCode{</div>}}
   {\NoFonts\IgnorePar \EndP
    \HCode{<h2 class="titleHead"\a:LRdir>}\IgnorePar
    \bgroup \Configure{HtmlPar}{}{}{}{}}
   {\egroup \HCode{</h2>}\IgnoreIndent\EndNoFonts}
\Css{h2.titleHead{text-align:center;}}
\Css{div.maketitle{ margin-bottom: 2em; text-align:center; }}

\Configure{caption}{\HCode{\if:nopar  \else <br />\fi}
   \:xhtml{\IgnorePar\EndP}\HCode{<div class="caption"\Hnewline
                                 ><span class="id">}}
   {: } {\HCode{</span><span \Hnewline class="content">}}
   {\HCode{</span></div>}\HCode{<!--tex4ht:label?:
   \cur:th\:currentlabel\space-->}%
}
\Css{div.caption {text-indent:-2em; margin-left:3em; margin-right:1em;
                  text-align:left;}}
\Css{div.caption span.id{font-weight: bold; white-space: nowrap; }}


\:CheckOption{no-bib} \if:Option\else
   \:CheckOption{mouseover} \if:Option
      \ConfigureList{thebibliography}%
   {\ifvmode\IgnorePar\fi\EndP \js:on
\HCode{<div
                   class="thebibliography">}\let\en:bib=\empty}
   {\en:bib \ifvmode\IgnorePar\fi\EndP \HCode{</div>}}
   {\en:bib\def\en:bib{\ht:special {t4ht@DCopyTo: \jobname-js.tex Skip bib }%
\csname bibliography2\endcsname
\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont bib }%
%
%
        \EndP\ht:special {t4ht@DCopyTo: \jobname-js.tex Skip bib }%
%
\HCode{<!--}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont bib }%
%
\HCode{</div></bibitem>\Hnewline}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Until bib }%
%
\HCode{-->}
}\HCode{<!--}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex From bib }%
%
\HCode{<bibitem>}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Skip bib }%
%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Set1 bib }%
%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont bib }%
%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Set2 bib }%
%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Skip bib }%
%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont bib }%
%
\HCode{<div class="js">}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Skip bib }%
%
\HCode{-->}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont bib }%
%
%
        \Configure{HtmlPar}
   {\EndP\HCode{<p class="bibitem" \a:LRdir>}}
   {\EndP\HCode{<p class="bibitem" \a:LRdir>}}
   {\Tg</p>} {\Tg</p>}%
\par\ShowPar
        \leavevmode \ht:special {t4ht@DCopyTo: \jobname-js.tex Skip bib }%
\HCode{<span
      class="biblabel">}\Configure{HtmlPar}
   {\EndP\HCode{<p class="bibitem-p" \a:LRdir>}}
   {\EndP\HCode{<p class="bibitem-p" \a:LRdir>}}
   {\Tg</p>} {\Tg</p>}%
}
   {\HCode{<span class="bibsp">}\:nbsp
      \:nbsp\:nbsp\HCode{</span></span>}\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont bib }%
}

   \else
      \ConfigureList{thebibliography}%
   {\ifvmode\IgnorePar\fi \EndP \HCode{<div
                   class="thebibliography">}\let\en:bib=\empty}
   {\en:bib \ifvmode\IgnorePar\fi \EndP \HCode{</div>}}
   {\en:bib\def\en:bib{\csname bibliography2\endcsname
\EndP}%
   \Configure{HtmlPar}
   {\EndP\HCode{<p class="bibitem" \a:LRdir>}}
   {\EndP\HCode{<p class="bibitem" \a:LRdir>}}
   {\Tg</p>} {\Tg</p>}%
\par\ShowPar
    \HCode{<span class="biblabel">}\Configure{HtmlPar}
   {\EndP\HCode{<p class="bibitem-p" \a:LRdir>}}
   {\EndP\HCode{<p class="bibitem-p" \a:LRdir>}}
   {\Tg</p>} {\Tg</p>}%
}
   {\HCode{<span class="bibsp">}\:nbsp
      \:nbsp\:nbsp\HCode{</span></span>}}

   \fi
   \Css{p.bibitem { text-indent: -2em; margin-left: 2em;
       margin-top:0.6em; margin-bottom:0.6em;     }}
\Css{p.bibitem-p { text-indent: 0em; margin-left: 2em;
       margin-top:0.6em; margin-bottom:0.6em;     }}

\fi

\ifx \deferred@thm@head\:UnDef\else
   \Configure{proof}
   {\ifvmode \IgnorePar \fi \EndP
       \HCode{<div class="proof">}\par\ShowPar
       \HCode{<span class="head">}\IgnorePar}
   {\HCode{</span>}\ShowPar}
   {\ifvmode \IgnorePar \fi \EndP \HCode{</div>}\par}

   \Configure{qed}
     {\HCode{<span class="qed">}} {\HCode{</span>}}
\Css{.qed {width:2ex; float:right; text-align:right;}}
\def\:tempc#1#2#3#4#5{%
  \expandafter\ifx \csname #1mathaccentV\endcsname\relax
     \o:mathaccentV:{#1}{#2}{#3}{#4}{#5}%
  \else  \csname #1mathaccentV\endcsname{#5}\fi}
\HLet\mathaccentV\:tempc
\:CheckOption{new-accents}     \if:Option \else
   \HRestore\grave
\expandafter\let\csname gravemathaccentV\endcsname=\grave
\expandafter\let\csname GRAVEmathaccentV\endcsname=\grave
\expand:after{\Configure{accent}}\csname
           gravemathaccentV\expandafter\endcsname
   \csname GRAVEmathaccentV\endcsname{A{00C0}E{00C8}I{00CC}N{01F8}O{00D2}U{00D9}W{1E80}%
Y{1EF2}a{00E0}e{00E8}i{00EC}n{01F9}o{00F2}u{00F9}%
w{1E81}y{1EF3}\i{00EC}%
{}{}}
   {\a:accents{grave}{#1}}   {\b:accents{grave}{#1}{#2}}
\HRestore\acute
\expandafter\let\csname acutemathaccentV\endcsname=\acute
\expandafter\let\csname ACUTEmathaccentV\endcsname=\acute
\expand:after{\Configure{accent}}\csname
           acutemathaccentV\expandafter\endcsname
   \csname ACUTEmathaccentV\endcsname{A{00C1}C{0106}D{010E}E{00C9}G{01F4}I{00CD}L{0139}N{0143}%
O{00D3}R{0154}S{015A}U{00DA}Y{00DD}Z{0179}a{00E1}c{0107}%
d{010F}e{00E9}g{01F5}i{00ED}l{013A}n{0144}o{00F3}r{0155}%
s{015B}u{00FA}y{00FD}z{017A}j{FFFD}J{FFDD}\i{00ED}\j{FFFD}%
{}{}}
   {\a:accents{acute}{#1}}   {\b:accents{acute}{#1}{#2}}
\HRestore\hat
\expandafter\let\csname hatmathaccentV\endcsname=\hat
\expandafter\let\csname HATmathaccentV\endcsname=\hat
\expand:after{\Configure{accent}}\csname
           hatmathaccentV\expandafter\endcsname
   \csname HATmathaccentV\endcsname{{}{}}
   {\a:accents{hat}{#1}}   {\b:accents{hat}{#1}{#2}}
\HRestore\tilde
\expandafter\let\csname tildemathaccentV\endcsname=\tilde
\expandafter\let\csname TILDEmathaccentV\endcsname=\tilde
\expand:after{\Configure{accent}}\csname
           tildemathaccentV\expandafter\endcsname
   \csname TILDEmathaccentV\endcsname{A{00C3}N{00D1}O{00D5}a{00E3}n{00F1}o{00F5}I{0128}%
i{0129}U{0168}u{0169}V{1E7C}v{1E7D}E{1EBC}e{1EBD}%
Y{1EF8}y{1EF9}\i{0129}%
{}{}}
   {\a:accents{tilde}{#1}}   {\b:accents{tilde}{#1}{#2}}
\HRestore\ddot
\expandafter\let\csname DDOTmathaccentV\endcsname=\ddot
\expand:after{\Configure{accent}}\csname
           DDOTmathaccentV\expandafter\endcsname
   \csname DDOTmathaccentV\endcsname{{}{}}
   {\a:accents{ddot}{#1}}   {\b:accents{ddot}{#1}{#2}}
\expandafter\let\csname ddotmathaccentV\endcsname=\ddot
\expand:after{\Configure{accent}}\csname
           ddotmathaccentV\expandafter\endcsname
   \csname ddotmathaccentv\endcsname{{}{}}
   {\a:accents{ddot}{#1}}   {\b:accents{ddot}{#1}{#2}}
\HRestore\check
\expandafter\let\csname checkmathaccentV\endcsname=\check
\expandafter\let\csname CHECKmathaccentV\endcsname=\check
\expand:after{\Configure{accent}}\csname
           checkmathaccentV\expandafter\endcsname
   \csname CHECKmathaccentV\endcsname{C{010C}c{010D}D{010E}d{010F}%
E{011A}e{011B}L{013D}l{013E}N{0147}n{0148}R{0158}r{0159}%
S{0160}s{0161}T{0164}t{0165}Z{017D}z{017E}A{01CD}a{01CE}I{01CF}%
i{01D0}O{01D1}o{01D2}U{01D3}u{01D4}G{01E6}g{01E7}K{01E8}k{01E9}%
j{01F0}H{021E}h{021F}\i{01D0}\j{01F0}%
{}{}}
   {\a:accents{check}{#1}}   {\b:accents{check}{#1}{#2}}
\HRestore\dot
\expandafter\let\csname dotmathaccentV\endcsname=\dot
\expandafter\let\csname DOTmathaccentV\endcsname=\dot
\expand:after{\Configure{accent}}\csname
           dotmathaccentV\expandafter\endcsname
   \csname DOTmathaccentV\endcsname{C{010A}c{010B}E{0116}e{0117}G{0120}g{0121}%
I{0130}Z{017B}z{017C}A{0226}a{0227}O{022E}%
o{022F}B{1E02}b{1E03}D{1E0A}d{1E0B}F{1E1E}%
f{1E1F}H{1E22}h{1E23}M{1E40}m{1E41}N{1E44}%
n{1E45}P{1E56}p{1E57}R{1E58}r{1E59}S{1E60}%
s{1E61}T{1E6A}t{1E6B}W{1E86}w{1E87}X{1E8A}%
x{1E8B}Y{1E8E}y{1E8F}%
{}{}}
   {\a:accents{dot}{#1}}   {\b:accents{dot}{#1}{#2}}
\HRestore\breve
\expandafter\let\csname brevemathaccentV\endcsname=\breve
\expandafter\let\csname BREVEmathaccentV\endcsname=\breve
\expand:after{\Configure{accent}}\csname
           brevemathaccentV\expandafter\endcsname
   \csname BREVEmathaccentV\endcsname{g{011F}I{012C}i{012D}O{014E}o{014F}%
U{016C}u{016D}A{0102}a{0103}E{0114}%
e{0115}G{011E}\i{012D}%
{}{}}
   {\a:accents{breve}{#1}}   {\b:accents{breve}{#1}{#2}}
\HRestore\bar
\expandafter\let\csname barmathaccentV\endcsname=\bar
\expandafter\let\csname BARmathaccentV\endcsname=\bar
\expand:after{\Configure{accent}}\csname
           barmathaccentV\expandafter\endcsname
   \csname BARmathaccentV\endcsname{{}{}}
   {\a:accents{bar}{#1}}   {\b:accents{bar}{#1}{#2}}
\HRestore\vec
\expandafter\let\csname vecmathaccentV\endcsname=\vec
\expandafter\let\csname VECmathaccentV\endcsname=\vec
\expand:after{\Configure{accent}}\csname
           vecmathaccentV\expandafter\endcsname
   \csname VECmathaccentV\endcsname{{}{}}
   {\a:accents{vec}{#1}}   {\b:accents{vec}{#1}{#2}}

\fi
\def\:temp{charset=iso-8859-2}
\ifx \a:charset\:UnDef
      \ifx  \A:charset\:temp \let\:temp=\def \fi
\else \ifx  \a:charset\:temp \let\:temp=\def \fi
\fi
\ifx \:temp\def
   \:CheckOption{new-accents}     \if:Option \else
      \HRestore\acute
\expandafter\let\csname acutemathaccentV\endcsname=\acute
\expandafter\let\csname ACUTEmathaccentV\endcsname=\acute
\expand:after{\Configure{accent}}\csname
           acutemathaccentV\expandafter\endcsname
   \csname ACUTEmathaccentV\endcsname{A{00C1}C{0106}D{010E}E{00C9}G{01F4}I{00CD}L{0139}N{0143}%
O{00D3}R{0154}S{015A}U{00DA}Y{00DD}Z{0179}a{00E1}c{0107}%
d{010F}e{00E9}g{01F5}i{00ED}l{013A}n{0144}o{00F3}r{0155}%
s{015B}u{00FA}y{00FD}z{017A}j{FFFD}J{FFDD}\i{00ED}\j{FFFD}%
{}{}}
   {\a:accents{acute}{#1}}   {\b:accents{acute}{#1}{#2}}

\fi \fi

\fi
\ConfigureMark{subsection}
   {\ifnum \c:secnumdepth>\c@secnumdepth  \expandafter\:gobble
    \else
       \HCode{<span class="titlemark">}%
          \@ifundefined{subsectionname}{}{%
          \ignorespaces\subsectionname\space}%
          \@seccntformat{subsection}%
       \HCode{</span>}\fi }
\Configure{subsectionTITLE+}{\ifnum \c:secnumdepth>\c@secnumdepth
      \ifnum \c@secnumdepth > 0
      \thesubsection\space
    \fi\fi #1}

\ConfigureMark{subsubsection}
   {\ifnum \c:secnumdepth>\c@secnumdepth  \expandafter\:gobble
    \else
       \HCode{<span class="titlemark">}%
          \@ifundefined{subsubsectionname}{}{%
          \ignorespaces\subsubsectionname\space}%
          \@seccntformat{subsubsection}%
       \HCode{</span>}\fi}
\Configure{subsubsectionTITLE+}{\ifnum \c:secnumdepth>\c@secnumdepth
      \ifnum \c@secnumdepth > 0
      \thesubsubsection\space
    \fi\fi #1}

\ConfigureMark{part}
   {\ifnum \c:secnumdepth>\c@secnumdepth \expandafter\:gobble
    \else
       \HCode{<span class="titlemark">}\@ifundefined{partname}{}{%
          \ignorespaces\partname\space}%
          \@seccntformat{part}%
       \HCode{</span>}\fi }
\Configure{part}{}{}
   {\ifvmode \IgnorePar\fi \EndP\IgnorePar
    \HCode{<h1 class="partHead"\a:LRdir>}\TitleMark\space\HtmlParOff}
   {\HCode{</h1>}\HtmlParOn \IgnoreIndent \par}
\Configure{partTITLE+}{\thepart\space#1}
\ConfigureMark{section}
   {\ifnum \c:secnumdepth>\c@secnumdepth \expandafter\:gobble
    \else
       \HCode{<span class="titlemark">}\@ifundefined{sectionname}{}{%
          \ignorespaces\sectionname\space}%
          \@seccntformat{section}%
       \HCode{</span>}\fi }
\Configure{sectionTITLE+}{\ifnum \c:secnumdepth>\c@secnumdepth
      \ifnum \c@secnumdepth > 0
      \thesection\space
    \fi\fi #1}

\Configure{section}{}{}
   {\ifvmode \IgnorePar\fi \EndP\IgnorePar
    \HCode{<h3 class="sectionHead"\a:LRdir>}\TitleMark\space\HtmlParOff}
   {\HCode{</h3>}\HtmlParOn \IgnoreIndent \ShowPar\par}

\ConfigureToc{part}
  {\HCode{<span class="partToc" \a:LRdir>}\toc:Mark{part}}
  {\End:Mark}
  {}
  {\HCode{</span><br />}}
\ConfigureToc{section}
  {\HCode{<span class="sectionToc" \a:LRdir>}\toc:Mark{section}}
  {\End:Mark}
  {}
  {\HCode{</span><br />}}
\ConfigureToc{subsection}
  {\HCode{<span class="subsectionToc" \a:LRdir>}~~\toc:Mark{subsection}}
  {\End:Mark}
  {}
  {\HCode{</span><br />}}
\ConfigureToc{subsubsection}
  {\HCode{<span
       class="subsubsectionToc" \a:LRdir>}~~~~\toc:Mark{subsubsection}}
  {\End:Mark}
  {}
  {\HCode{</span><br />}}
\def\toc:Mark#1#2\End:Mark{\if !#2!\else
   \expandafter\ifx \csname #1name\endcsname\relax\else
   \csname #1name\endcsname~\fi #2.~~\fi}
\Css{.partToc a, .partToc, .likepartToc a, .likepartToc
        {line-height: 200\%; font-weight:bold; font-size:110\%;}}
  
\:CheckOption{7}     \if:Option
    \expandafter\ifx \csname @chapter\endcsname\relax
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,part}
\CutAt{likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,likesubsection,subsection}
\fi

         \CutAt{subsection,section,likesection,part}
\CutAt{likesubsection,section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection}
\fi

         \CutAt{subsubsection,subsection,likesubsection,section,likesection,part}
\CutAt{likesubsubsection,subsection,likesubsection,section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection,paragraph}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection,%
    paragraph}
\fi

         \CutAt{paragraph,subsubsection,likesubsubsection,subsection,likesubsection,%
       section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection,%
    paragraph,subparagraph}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection,%
    paragraph,subparagraph}
\fi

         \CutAt{subparagraph,paragraph,subsubsection,likesubsubsection,%
       subsection,likesubsection,%
       section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,%
          section,likesection,subsection,likesubsection}
     \MiniToc:At{likepart,/part,%
          section,likesection,subsection,likesubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             subsubsection,paragraph}
     \MiniToc:At{likesubsection,/subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             subsubsection,paragraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
     \MiniToc:At{likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsubsection,/likesubsubsection,/subsection,%
             /likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             paragraph,subparagraph}
     \MiniToc:At{likesubsubsection,/subsubsection,/likesubsection,%
             /subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             paragraph,subparagraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsubsection,/likesubsubsection,%
          /subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          paragraph,subparagraph}
     \MiniToc:At{likesubsubsection,/subsubsection,/likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          paragraph,subparagraph}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{paragraph,/subsubsection,/likesubsubsection,/subsection,%
             /likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             subparagraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{paragraph,/subsubsection,/likesubsubsection,%
          /subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          subparagraph}
  \fi
\fi

    \else
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
     appendix,section\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection,likesubsection\fi}
\fi

         \CutAt{chapter,likechapter,appendix,part}
\CutAt{likechapter,appendix,part}
\CutAt{appendix,chapter,likechapter,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,chapter,likechapter,appendix,part}
\CutAt{likesection,chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,likesubsection,subsection}
\fi

         \CutAt{subsection,section,likesection,%
                  chapter,likechapter,appendix,part}
\CutAt{likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection}
\fi

         \CutAt{subsubsection,subsection,likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}
\CutAt{likesubsubsection,subsection,likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection,paragraph}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection,%
    paragraph}
\fi

         \CutAt{paragraph,subsubsection,likesubsubsection,subsection,likesubsection,%
       section,likesection,chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection,%
    paragraph,subparagraph}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection,%
    paragraph,subparagraph}
\fi

         \CutAt{subparagraph,paragraph,subsubsection,likesubsubsection,%
       subsection,likesubsection,%
       section,likesection,chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,likechapter,appendix,%
          section,likesection}
     \MiniToc:At{likepart,/part,chapter,likechapter,appendix,%
          section,likesection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,subsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,subsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,subsection}
   \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,likesection,subsection,likesubsection}
   \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             subsubsection,paragraph}
     \MiniToc:At{likesubsection,/subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             subsubsection,paragraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
     \MiniToc:At{likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsubsection,/likesubsubsection,/subsection,%
             /likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             paragraph,subparagraph}
     \MiniToc:At{likesubsubsection,/subsubsection,/likesubsection,%
             /subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             paragraph,subparagraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsubsection,/likesubsubsection,%
          /subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          paragraph,subparagraph}
     \MiniToc:At{likesubsubsection,/subsubsection,/likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          paragraph,subparagraph}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{paragraph,/subsubsection,/likesubsubsection,/subsection,%
             /likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             subparagraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{paragraph,/subsubsection,/likesubsubsection,%
          /subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          subparagraph}
  \fi
\fi

    \fi
    \:CheckOption{obj-toc}  \if:Option
   \Css{object.toc { float: left;
                     width: 25\%;
                     height: 100\%;
                     border: 1px solid \#888888;
                     margin-left:0em;
                     margin-top:0em;
                     margin-bottom:1em;
                     margin-right:1em;
                     padding-right:1em;
               }}
   \Css{body\#jobname-toc{margin:0em;}}
   \Css{body\#jobname-toc .tableofcontents{ white-space: nowrap; }}
   \Configure{@BODY}
      {\edef\:temp{\jobname-toc.\:html}
       \edef\:tempa{\FileName}
       \edef\:temp{\expandafter\string\csname\:temp\endcsname}
       \edef\:tempa{\expandafter\string\csname\:tempa\endcsname}
       \ifx\:temp\:tempa\else
          \hbox{
             \HCode{<object class="toc" data="\jobname-toc.\:html">}
                 [\Link[\jobname-toc.\:html]{}{}table of contents\EndLink]
             \HCode{</object>}}
       \fi
      }
      {}
   \pend:defI\Auto:ent{%
      \bgroup
      \let\contentsname=\empty
      \Configure{!BODY}{ id="jobname-toc"}%
      \Configure{Link}{a}{target="\string _top" href=}{id=}{}%
      \NextFile{\jobname-toc.\csname :html\endcsname}%
      \HPage{}%
   }
   \append:defI\Auto:ent{%
      \EndHPage{}%
      \egroup
   }
\else
   \Log:Note{for frames-like object-based table of contents,
                 use the command line option `obj-toc'}
\fi

\else\:CheckOption{6}     \if:Option
    \expandafter\ifx \csname @chapter\endcsname\relax
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,part}
\CutAt{likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,likesubsection,subsection}
\fi

         \CutAt{subsection,section,likesection,part}
\CutAt{likesubsection,section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection}
\fi

         \CutAt{subsubsection,subsection,likesubsection,section,likesection,part}
\CutAt{likesubsubsection,subsection,likesubsection,section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection,paragraph}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection,%
    paragraph}
\fi

         \CutAt{paragraph,subsubsection,likesubsubsection,subsection,likesubsection,%
       section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,%
          section,likesection,subsection,likesubsection}
     \MiniToc:At{likepart,/part,%
          section,likesection,subsection,likesubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             subsubsection,paragraph}
     \MiniToc:At{likesubsection,/subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             subsubsection,paragraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
     \MiniToc:At{likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsubsection,/likesubsubsection,/subsection,%
             /likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             paragraph,subparagraph}
     \MiniToc:At{likesubsubsection,/subsubsection,/likesubsection,%
             /subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             paragraph,subparagraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsubsection,/likesubsubsection,%
          /subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          paragraph,subparagraph}
     \MiniToc:At{likesubsubsection,/subsubsection,/likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          paragraph,subparagraph}
  \fi
\fi

    \else
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
     appendix,section\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection,likesubsection\fi}
\fi

         \CutAt{chapter,likechapter,appendix,part}
\CutAt{likechapter,appendix,part}
\CutAt{appendix,chapter,likechapter,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,chapter,likechapter,appendix,part}
\CutAt{likesection,chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,likesubsection,subsection}
\fi

         \CutAt{subsection,section,likesection,%
                  chapter,likechapter,appendix,part}
\CutAt{likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection}
\fi

         \CutAt{subsubsection,subsection,likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}
\CutAt{likesubsubsection,subsection,likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection,paragraph}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection,%
    paragraph}
\fi

         \CutAt{paragraph,subsubsection,likesubsubsection,subsection,likesubsection,%
       section,likesection,chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,likechapter,appendix,%
          section,likesection}
     \MiniToc:At{likepart,/part,chapter,likechapter,appendix,%
          section,likesection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,subsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,subsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,subsection}
   \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,likesection,subsection,likesubsection}
   \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             subsubsection,paragraph}
     \MiniToc:At{likesubsection,/subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             subsubsection,paragraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
     \MiniToc:At{likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsubsection,/likesubsubsection,/subsection,%
             /likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             paragraph,subparagraph}
     \MiniToc:At{likesubsubsection,/subsubsection,/likesubsection,%
             /subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             paragraph,subparagraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsubsection,/likesubsubsection,%
          /subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          paragraph,subparagraph}
     \MiniToc:At{likesubsubsection,/subsubsection,/likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          paragraph,subparagraph}
  \fi
\fi

    \fi
    \:CheckOption{obj-toc}  \if:Option
   \Css{object.toc { float: left;
                     width: 25\%;
                     height: 100\%;
                     border: 1px solid \#888888;
                     margin-left:0em;
                     margin-top:0em;
                     margin-bottom:1em;
                     margin-right:1em;
                     padding-right:1em;
               }}
   \Css{body\#jobname-toc{margin:0em;}}
   \Css{body\#jobname-toc .tableofcontents{ white-space: nowrap; }}
   \Configure{@BODY}
      {\edef\:temp{\jobname-toc.\:html}
       \edef\:tempa{\FileName}
       \edef\:temp{\expandafter\string\csname\:temp\endcsname}
       \edef\:tempa{\expandafter\string\csname\:tempa\endcsname}
       \ifx\:temp\:tempa\else
          \hbox{
             \HCode{<object class="toc" data="\jobname-toc.\:html">}
                 [\Link[\jobname-toc.\:html]{}{}table of contents\EndLink]
             \HCode{</object>}}
       \fi
      }
      {}
   \pend:defI\Auto:ent{%
      \bgroup
      \let\contentsname=\empty
      \Configure{!BODY}{ id="jobname-toc"}%
      \Configure{Link}{a}{target="\string _top" href=}{id=}{}%
      \NextFile{\jobname-toc.\csname :html\endcsname}%
      \HPage{}%
   }
   \append:defI\Auto:ent{%
      \EndHPage{}%
      \egroup
   }
\else
   \Log:Note{for frames-like object-based table of contents,
                 use the command line option `obj-toc'}
\fi

\else \:CheckOption{5}     \if:Option
    \expandafter\ifx \csname @chapter\endcsname\relax
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,part}
\CutAt{likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,likesubsection,subsection}
\fi

         \CutAt{subsection,section,likesection,part}
\CutAt{likesubsection,section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection}
\fi

         \CutAt{subsubsection,subsection,likesubsection,section,likesection,part}
\CutAt{likesubsubsection,subsection,likesubsection,section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,%
          section,likesection,subsection,likesubsection}
     \MiniToc:At{likepart,/part,%
          section,likesection,subsection,likesubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             subsubsection,paragraph}
     \MiniToc:At{likesubsection,/subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             subsubsection,paragraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
     \MiniToc:At{likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
  \fi
\fi

    \else
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
     appendix,section\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection,likesubsection\fi}
\fi

         \CutAt{chapter,likechapter,appendix,part}
\CutAt{likechapter,appendix,part}
\CutAt{appendix,chapter,likechapter,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,chapter,likechapter,appendix,part}
\CutAt{likesection,chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,likesubsection,subsection}
\fi

         \CutAt{subsection,section,likesection,%
                  chapter,likechapter,appendix,part}
\CutAt{likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection}
\fi

         \CutAt{subsubsection,subsection,likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}
\CutAt{likesubsubsection,subsection,likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,likechapter,appendix,%
          section,likesection}
     \MiniToc:At{likepart,/part,chapter,likechapter,appendix,%
          section,likesection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,subsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,subsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,subsection}
   \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,likesection,subsection,likesubsection}
   \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             subsubsection,paragraph}
     \MiniToc:At{likesubsection,/subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             subsubsection,paragraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
     \MiniToc:At{likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
  \fi
\fi

    \fi
    \:CheckOption{obj-toc}  \if:Option
   \Css{object.toc { float: left;
                     width: 25\%;
                     height: 100\%;
                     border: 1px solid \#888888;
                     margin-left:0em;
                     margin-top:0em;
                     margin-bottom:1em;
                     margin-right:1em;
                     padding-right:1em;
               }}
   \Css{body\#jobname-toc{margin:0em;}}
   \Css{body\#jobname-toc .tableofcontents{ white-space: nowrap; }}
   \Configure{@BODY}
      {\edef\:temp{\jobname-toc.\:html}
       \edef\:tempa{\FileName}
       \edef\:temp{\expandafter\string\csname\:temp\endcsname}
       \edef\:tempa{\expandafter\string\csname\:tempa\endcsname}
       \ifx\:temp\:tempa\else
          \hbox{
             \HCode{<object class="toc" data="\jobname-toc.\:html">}
                 [\Link[\jobname-toc.\:html]{}{}table of contents\EndLink]
             \HCode{</object>}}
       \fi
      }
      {}
   \pend:defI\Auto:ent{%
      \bgroup
      \let\contentsname=\empty
      \Configure{!BODY}{ id="jobname-toc"}%
      \Configure{Link}{a}{target="\string _top" href=}{id=}{}%
      \NextFile{\jobname-toc.\csname :html\endcsname}%
      \HPage{}%
   }
   \append:defI\Auto:ent{%
      \EndHPage{}%
      \egroup
   }
\else
   \Log:Note{for frames-like object-based table of contents,
                 use the command line option `obj-toc'}
\fi

\else\:CheckOption{4}     \if:Option
    \expandafter\ifx \csname @chapter\endcsname\relax
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,part}
\CutAt{likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,likesubsection,subsection}
\fi

         \CutAt{subsection,section,likesection,part}
\CutAt{likesubsection,section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,%
          section,likesection,subsection,likesubsection}
     \MiniToc:At{likepart,/part,%
          section,likesection,subsection,likesubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
  \fi
\fi

    \else
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
     appendix,section\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection,likesubsection\fi}
\fi

         \CutAt{chapter,likechapter,appendix,part}
\CutAt{likechapter,appendix,part}
\CutAt{appendix,chapter,likechapter,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,chapter,likechapter,appendix,part}
\CutAt{likesection,chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,likesubsection,subsection}
\fi

         \CutAt{subsection,section,likesection,%
                  chapter,likechapter,appendix,part}
\CutAt{likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,likechapter,appendix,%
          section,likesection}
     \MiniToc:At{likepart,/part,chapter,likechapter,appendix,%
          section,likesection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,subsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,subsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,subsection}
   \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,likesection,subsection,likesubsection}
   \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
  \fi
\fi

    \fi
    \:CheckOption{obj-toc}  \if:Option
   \Css{object.toc { float: left;
                     width: 25\%;
                     height: 100\%;
                     border: 1px solid \#888888;
                     margin-left:0em;
                     margin-top:0em;
                     margin-bottom:1em;
                     margin-right:1em;
                     padding-right:1em;
               }}
   \Css{body\#jobname-toc{margin:0em;}}
   \Css{body\#jobname-toc .tableofcontents{ white-space: nowrap; }}
   \Configure{@BODY}
      {\edef\:temp{\jobname-toc.\:html}
       \edef\:tempa{\FileName}
       \edef\:temp{\expandafter\string\csname\:temp\endcsname}
       \edef\:tempa{\expandafter\string\csname\:tempa\endcsname}
       \ifx\:temp\:tempa\else
          \hbox{
             \HCode{<object class="toc" data="\jobname-toc.\:html">}
                 [\Link[\jobname-toc.\:html]{}{}table of contents\EndLink]
             \HCode{</object>}}
       \fi
      }
      {}
   \pend:defI\Auto:ent{%
      \bgroup
      \let\contentsname=\empty
      \Configure{!BODY}{ id="jobname-toc"}%
      \Configure{Link}{a}{target="\string _top" href=}{id=}{}%
      \NextFile{\jobname-toc.\csname :html\endcsname}%
      \HPage{}%
   }
   \append:defI\Auto:ent{%
      \EndHPage{}%
      \egroup
   }
\else
   \Log:Note{for frames-like object-based table of contents,
                 use the command line option `obj-toc'}
\fi

\else\:CheckOption{3}     \if:Option
    \expandafter\ifx \csname @chapter\endcsname\relax
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,likesubsection,subsection}
\fi

         \CutAt{subsection,section,likesection,part}
\CutAt{likesubsection,section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,%
          section,likesection,subsection,likesubsection}
     \MiniToc:At{likepart,/part,%
          section,likesection,subsection,likesubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
  \fi
\fi

         \CutAt{section,likesection,part}
\CutAt{likesection,part}

    \else
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
     appendix,section\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection,likesubsection\fi}
\fi

         \CutAt{chapter,likechapter,appendix,part}
\CutAt{likechapter,appendix,part}
\CutAt{appendix,chapter,likechapter,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,chapter,likechapter,appendix,part}
\CutAt{likesection,chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,likechapter,appendix,%
          section,likesection}
     \MiniToc:At{likepart,/part,chapter,likechapter,appendix,%
          section,likesection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,subsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,subsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,subsection}
   \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,likesection,subsection,likesubsection}
   \fi
\fi

    \fi
    \:CheckOption{obj-toc}  \if:Option
   \Css{object.toc { float: left;
                     width: 25\%;
                     height: 100\%;
                     border: 1px solid \#888888;
                     margin-left:0em;
                     margin-top:0em;
                     margin-bottom:1em;
                     margin-right:1em;
                     padding-right:1em;
               }}
   \Css{body\#jobname-toc{margin:0em;}}
   \Css{body\#jobname-toc .tableofcontents{ white-space: nowrap; }}
   \Configure{@BODY}
      {\edef\:temp{\jobname-toc.\:html}
       \edef\:tempa{\FileName}
       \edef\:temp{\expandafter\string\csname\:temp\endcsname}
       \edef\:tempa{\expandafter\string\csname\:tempa\endcsname}
       \ifx\:temp\:tempa\else
          \hbox{
             \HCode{<object class="toc" data="\jobname-toc.\:html">}
                 [\Link[\jobname-toc.\:html]{}{}table of contents\EndLink]
             \HCode{</object>}}
       \fi
      }
      {}
   \pend:defI\Auto:ent{%
      \bgroup
      \let\contentsname=\empty
      \Configure{!BODY}{ id="jobname-toc"}%
      \Configure{Link}{a}{target="\string _top" href=}{id=}{}%
      \NextFile{\jobname-toc.\csname :html\endcsname}%
      \HPage{}%
   }
   \append:defI\Auto:ent{%
      \EndHPage{}%
      \egroup
   }
\else
   \Log:Note{for frames-like object-based table of contents,
                 use the command line option `obj-toc'}
\fi

\else\:CheckOption{2}     \if:Option
    \expandafter\ifx \csname @chapter\endcsname\relax
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,part}
\CutAt{likesection,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,%
          section,likesection,subsection,likesubsection}
     \MiniToc:At{likepart,/part,%
          section,likesection,subsection,likesubsection}
  \fi
\fi

    \else
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
     appendix,section\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection,likesubsection\fi}
\fi

         \CutAt{chapter,likechapter,appendix,part}
\CutAt{likechapter,appendix,part}
\CutAt{appendix,chapter,likechapter,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,likechapter,appendix,%
          section,likesection}
     \MiniToc:At{likepart,/part,chapter,likechapter,appendix,%
          section,likesection}
  \fi
\fi

    \fi
    \:CheckOption{obj-toc}  \if:Option
   \Css{object.toc { float: left;
                     width: 25\%;
                     height: 100\%;
                     border: 1px solid \#888888;
                     margin-left:0em;
                     margin-top:0em;
                     margin-bottom:1em;
                     margin-right:1em;
                     padding-right:1em;
               }}
   \Css{body\#jobname-toc{margin:0em;}}
   \Css{body\#jobname-toc .tableofcontents{ white-space: nowrap; }}
   \Configure{@BODY}
      {\edef\:temp{\jobname-toc.\:html}
       \edef\:tempa{\FileName}
       \edef\:temp{\expandafter\string\csname\:temp\endcsname}
       \edef\:tempa{\expandafter\string\csname\:tempa\endcsname}
       \ifx\:temp\:tempa\else
          \hbox{
             \HCode{<object class="toc" data="\jobname-toc.\:html">}
                 [\Link[\jobname-toc.\:html]{}{}table of contents\EndLink]
             \HCode{</object>}}
       \fi
      }
      {}
   \pend:defI\Auto:ent{%
      \bgroup
      \let\contentsname=\empty
      \Configure{!BODY}{ id="jobname-toc"}%
      \Configure{Link}{a}{target="\string _top" href=}{id=}{}%
      \NextFile{\jobname-toc.\csname :html\endcsname}%
      \HPage{}%
   }
   \append:defI\Auto:ent{%
      \EndHPage{}%
      \egroup
   }
\else
   \Log:Note{for frames-like object-based table of contents,
                 use the command line option `obj-toc'}
\fi

\else\:CheckOption{1}     \if:Option
    \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
    \CutAt{part}
\CutAt{likepart}

    \:CheckOption{obj-toc}  \if:Option
   \Css{object.toc { float: left;
                     width: 25\%;
                     height: 100\%;
                     border: 1px solid \#888888;
                     margin-left:0em;
                     margin-top:0em;
                     margin-bottom:1em;
                     margin-right:1em;
                     padding-right:1em;
               }}
   \Css{body\#jobname-toc{margin:0em;}}
   \Css{body\#jobname-toc .tableofcontents{ white-space: nowrap; }}
   \Configure{@BODY}
      {\edef\:temp{\jobname-toc.\:html}
       \edef\:tempa{\FileName}
       \edef\:temp{\expandafter\string\csname\:temp\endcsname}
       \edef\:tempa{\expandafter\string\csname\:tempa\endcsname}
       \ifx\:temp\:tempa\else
          \hbox{
             \HCode{<object class="toc" data="\jobname-toc.\:html">}
                 [\Link[\jobname-toc.\:html]{}{}table of contents\EndLink]
             \HCode{</object>}}
       \fi
      }
      {}
   \pend:defI\Auto:ent{%
      \bgroup
      \let\contentsname=\empty
      \Configure{!BODY}{ id="jobname-toc"}%
      \Configure{Link}{a}{target="\string _top" href=}{id=}{}%
      \NextFile{\jobname-toc.\csname :html\endcsname}%
      \HPage{}%
   }
   \append:defI\Auto:ent{%
      \EndHPage{}%
      \egroup
   }
\else
   \Log:Note{for frames-like object-based table of contents,
                 use the command line option `obj-toc'}
\fi

\else
    \Log:Note{for automatic sectioning
        pagination, use the command line option
                     `1', `2', `3', '4', '5', '6', or '7'}%
\fi \fi \fi \fi \fi \fi  \fi
\:CheckOption{sec-filename}   \if:Option \else
    \Log:Note{for files named derived from section
        titles, use the command line option `sec-filename'}%
\fi


{\Configure{Needs}{Font\string_Size: #1}\ifcase  \@ptsize
   \or \Needs{11}\or \Needs{12}\else \fi}


\Configure{subsection}{}{}
   {\ifvmode \IgnorePar\fi
    \EndP\bgroup \IgnorePar\HCode{<h4 class="subsectionHead"\a:LRdir>}%
    \TitleMark\space \HtmlParOff}
   {\HCode{</h4>}\HtmlParOn \IgnoreIndent\egroup\par\ShowPar}
\Configure{subsubsection}{}{}
   {\ifvmode \IgnorePar \fi  \EndP
    \bgroup \IgnorePar\HCode{<h5 class="subsubsectionHead"\a:LRdir>}%
    \TitleMark\space \HtmlParOff}
   {\HCode{</h5>}\HtmlParOn \IgnoreIndent\egroup\par\ShowPar}
\Configure{paragraph}{}{}
  {\ShowPar\IgnoreIndent\HCode{<span class="paragraphHead"\a:LRdir>}\begingroup\bf}
  {\endgroup\HCode{</span>}\IgnorePar}
\ConfigureMark{subparagraph}{\thesubparagraph}
\Css{.paragraphHead  { margin-top:2em; font-weight: bold;}}
\Configure{subparagraph}{}{}
  {\ShowPar\HCode{<span class="subparagraphHead"\a:LRdir>}\begingroup\bf
   \TitleMark\space}
  {\endgroup\HCode{</span>}\IgnorePar}
\Css{.subparagraphHead { font-weight: bold;}}

\ConfigureToc{likepart}
  {\HCode{<span class="likepartToc" \a:LRdir>}}
  {\empty}
  {}
  {\HCode{</span><br />}}
\ConfigureToc{chapter}
  {\HCode{<span class="chapterToc" \a:LRdir>}%
   \ifx \chaptername\:UnDef\else \chaptername~\fi}
  {.~~}
  {}
  {\HCode{</span><br />}}
\ConfigureToc{likechapter}
  {\HCode{<span class="likechapterToc" \a:LRdir>}}
  {~~}
  {}
  {\HCode{</span><br />}}
\ConfigureToc{appendix}
  {\HCode{<span class="appendixToc" \a:LRdir>}%
   \ifx \appendixname\:UnDef\else \appendixname~\fi}
  {.~~}
  {}
  {\HCode{</span><br />}}
\Css{.chapterToc a, .chapterToc, .appendixToc a, .appendixToc
   {line-height: 200\%; font-weight:bold;}}
\Configure{thanks author date and}
   {\par\IgnorePar\EndP \HCode{<div class="thanks" \a:LRdir>}\par\ShowPar}
   {\ifvmode \IgnorePar\fi\EndP \HCode{</div>}}
   {\ifvmode \IgnorePar\fi\EndP
       \HCode{<div class="authors"><div class="author" \a:LRdir>}}
   {\ifvmode \IgnorePar\fi\EndP \HCode{</div></div>}}
   {\ifvmode \IgnorePar\fi\EndP \HCode{<div class="date" \a:LRdir>}}
   {\ifvmode \IgnorePar\fi\EndP \HCode{</div>}}
   {\lowercase{\HCode{</div><div>}}}
   {\HCode{<br />}}
\Css{div.addresses{ margin-top:0.5em; }}
\Configure{likepart}{}{}
   {\IgnorePar\EndP\HCode{<h1 class="likepartHead"\a:LRdir>}}
   {\HCode{</h1>}\IgnoreIndent\par}
\Configure{likepartTITLE+}{#1}
\ConfigureMark{chapter}
   {\HCode{<span class="titlemark">}\chaptername
    \ \thechapter\HCode{</span>}}
\Configure{chapter}{}{}
   {\IgnorePar\EndP\HCode{<h2 class="chapterHead"\a:LRdir>}%
     \TitleMark{\HCode{<br />}}}
   {\HCode{</h2>}\IgnoreIndent\par}
\Configure{chapterTITLE+}{\thechapter\space#1}
\ConfigureMark{appendix}{\HCode{<span class="titlemark">}%
   \appendixname \ \thechapter\HCode{</span>}}
\Configure{appendix}{}{}
   {\IgnorePar\EndP\HCode{<h2 class="appendixHead"\a:LRdir>}%
    \TitleMark{\HCode{<br />}}}
   {\HCode{</h2>}\IgnoreIndent\par}
\Configure{appendixTITLE+}{\thechapter\space#1}
\Configure{likechapter}{}{}
   {\IgnorePar\EndP\HCode{<h2 class="likechapterHead"\a:LRdir>}}
   {\HCode{</h2>}\IgnoreIndent\par}
\Configure{likechapterTITLE+}{#1}
\Configure{endpart}{likepart}
\Configure{endlikepart}{endpart}
\Configure{endchapter}{likechapter,appendix,part,likepart}
\Configure{endlikechapter}{chapter,appendix,part,likepart}
\Configure{endappendix}{chapter,likechapter,part,likepart}
\Configure{endsection}
   {chapter,likechapter,appendix,part,likepart}
\Configure{endsubsection}
   {section,chapter,likechapter,appendix,part,likepart}
\Configure{endsubsubsection}
   {subsection,section,chapter,likechapter,appendix,part,likepart}
\Configure{endparagraph}
   {subsubsection,subsection,section,chapter,likechapter,%
    appendix,part,likepart}
\:CheckOption{1}     \if:Option
   \:CheckOption{notoc*}     \if:Option
   \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

      \MiniToc:At{part,/likepart,chapter,appendix,section}
   \fi
\else
   \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

      \MiniToc:At{part,/likepart,chapter,likechapter,appendix,%
            section,likesection}
   \fi
\fi

\fi


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{amsproc}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \ConfigureList{description}%
   {\EndP\HCode{<dl \a:LRdir class="description">}%
      \PushMacro\end:itm
\global\let\end:itm=\empty}
   {\PopMacro\end:itm \global\let\end:itm \end:itm
\EndP\HCode{</dd></dl>}\ShowPar}
   {\end:itm \global\def\end:itm{\EndP\Tg</dd>}\HCode{<dt
        class="description">}\bgroup \bf}
   {\egroup\EndP\HCode{</dt><dd\Hnewline class="description">}}

\ConfigureEnv{description}{\IgnorePar}{}{}{}
\Css{span.footnote-mark{ vertical-align: super; font-size:80\%; }}
% \Css{span.footnote-mark   sup.textsuperscript,
%     span.footnote-mark a sup.textsuperscript{ font-size:80\%; }}
\Configure{translators}
  {\par\IgnorePar\EndP  \HCode{<div class="translators">}\par\ShowPar}
  {\ifvmode \IgnorePar \fi\EndP \HCode{</div>}}
  {\HCode{<span class="translator">}}
  {\HCode{</span>}}
\Configure{keywords}
   {\par\IgnorePar\EndP \HCode{<div class="keywords">}\par\ShowPar}
   {\ifvmode \IgnorePar \fi\EndP\HCode{</div>}}
\Configure{subjclass}
   {\par\IgnorePar\HCode{<div class="subjclass">}\par\ShowPar}
   {\ifvmode \IgnorePar \fi\EndP\HCode{</div>}}
\Configure{@maketitle}
   {\ifvmode \IgnorePar\fi \EndP
    \Tg<div class="submaketitle">\IgnoreIndent}
   {\ifvmode \IgnorePar \fi\EndP\Tg</div>}
\Css{div.submaketitle{ text-align:left;  margin-top:2em;
   border-top: 1px solid black;
   border-bottom: 1px solid black;
   margin-left:5\%;   margin-right:5\%;
   font-size:85\%; line-height: 95\%;}}
\Css{div.submaketitle div {margin-top:0.5em; margin-bottom:0.5em; }}
\Css{div.submaketitle p { margin-top:0em; margin-bottom:0em; }}
\ConfigureEnv{abstract}
   {\ifvmode \IgnorePar\fi \EndP}
   {\ifvmode \IgnorePar\fi \EndP}
   {}{}
\ConfigureList{abstract}
   {\ifvmode \IgnorePar\fi \EndP \Tg<div class="abstract">\ShowPar}
   {\ifvmode \IgnorePar\fi \EndP\Tg</div>}
   {\ShowPar\par\HCode{<span class="title">}}
   {\HCode{</span>}}
\Configure{setabstract}
   {\ifvmode \IgnorePar \fi \EndP}
   {\ifvmode \IgnorePar \fi \EndP}
\Css{div.abstract{ margin-top: 2em;  text-align:left;
   margin-right:15pt; margin-left:15pt; }}
\Configure{addresses}
   {\ifvmode \IgnorePar\fi \EndP
     \HCode{<div class="addresses">}\ShowPar}
   {\ifvmode \IgnorePar\fi \EndP \HCode{</div>}}
\Configure{address}
   {\HCode{<span class="address-title">}}
   {\ifvmode \IgnorePar\fi \HCode{</span><span class="address">}}
   {\HCode{</span>}}
\Configure{curraddr}
   {\HCode{<span class="curraddr-title">}}
   {\ifvmode \IgnorePar\fi \HCode{</span><span class="curraddr">}}
   {\HCode{</span>}}
\Configure{email}
   {\HCode{<span class="email-title">}}
   {\ifvmode \IgnorePar\fi \HCode{</span><span class="email">}}
   {\HCode{</span>}}
\Configure{urladdr}
   {\HCode{<span class="urladdr-title">}}
   {\ifvmode \IgnorePar\fi \HCode{</span><span class="urladdr">}}
   {\HCode{</span>}}
\Css{div.addresses p {margin-top:0em; margin-bottom:0em; }}
\Configure{maketitle}
   {\ifvmode \IgnorePar\fi \EndP {\Configure{maketitle}{}{}{}{}%
\a:NoSection \let\leavevmode\empty \let\not@math@alphabet\:gobbleII
\def\text@command##1{##1}\let\selectfont\empty
\def\check@icl ##1\check@icr{}%
\let\thanks\:gobble
\let\\\space \def\TeX{TeX}%
\def\mbox{\hbox}%
\def\gobble:font##1##2{##2}\:TITLE: \no:fonts
\def\footnotemark[##1]{}%
\Tag{TITLE+}{\shorttitle}}
%
    \HCode{<div  class="maketitle">}%
    \ConfigureEnv{center}
       {\ifvmode \IgnorePar\fi} {\ifvmode \IgnorePar\fi}
       {\ifvmode \IgnorePar\fi} {\ifvmode \IgnorePar\fi}%
    \:CheckOption{fn-in}\if:Option
   \:CheckOption{mouseover}\if:Option
      \Configure{footnotetext}
   {\csname a:footnote-mark\endcsname
\HPage{\FNnum}\HCode{<div>}\NoFonts}
   {\EndNoFonts}
   {\HCode{</div>}\EndHPage{}\csname b:footnote-mark\endcsname
}%
%
%
   \else
      \Configure{footnotetext}
   {\csname a:footnote-mark\endcsname
\HPage{\FNnum}\HCode{<div>}\NoFonts}
   {\EndNoFonts}
   {\HCode{</div>}\EndHPage{}\csname b:footnote-mark\endcsname
}%
%
%
   \fi
\else
   \:CheckOption{mouseover}\if:Option
      \Configure{footnotetext}
   {\csname a:footnote-mark\endcsname
\HPage{\FNnum}\HCode{<div>}\NoFonts}
   {\EndNoFonts}
   {\HCode{</div>}\EndHPage{}\csname b:footnote-mark\endcsname
}%
%
%
   \else \:CheckOption{frames-fn}\if:Option
           \Configure{footnotetext}
   {\csname a:footnote-mark\endcsname
\HPage{\FNnum}\HCode{<div>}\NoFonts}
   {\EndNoFonts}
   {\HCode{</div>}\EndHPage{}\csname b:footnote-mark\endcsname
}%
%
%
         \else
           \Configure{footnotetext}
   {\csname a:footnote-mark\endcsname
\HPage{\FNnum}\HCode{<div>}\NoFonts}
   {\EndNoFonts}
   {\HCode{</div>}\EndHPage{}\csname b:footnote-mark\endcsname
}%
%
   \fi   \fi
\fi
%
   }
   {\ifvmode \IgnorePar\fi \EndP \HCode{</div>}}
   {\NoFonts\IgnorePar \EndP
    \HCode{<h2 class="titleHead"\a:LRdir>}\IgnorePar
    \bgroup \Configure{HtmlPar}{}{}{}{}}
   {\egroup \HCode{</h2>}\IgnoreIndent\EndNoFonts}
\Css{h2.titleHead{text-align:center;}}
\Css{div.maketitle{ margin-bottom: 2em; text-align:center; }}

\Configure{caption}{\HCode{\if:nopar  \else <br />\fi}
   \:xhtml{\IgnorePar\EndP}\HCode{<div class="caption"\Hnewline
                                 ><span class="id">}}
   {: } {\HCode{</span><span \Hnewline class="content">}}
   {\HCode{</span></div>}\HCode{<!--tex4ht:label?:
   \cur:th\:currentlabel\space-->}%
}
\Css{div.caption {text-indent:-2em; margin-left:3em; margin-right:1em;
                  text-align:left;}}
\Css{div.caption span.id{font-weight: bold; white-space: nowrap; }}


\:CheckOption{no-bib} \if:Option\else
   \:CheckOption{mouseover} \if:Option
      \ConfigureList{thebibliography}%
   {\ifvmode\IgnorePar\fi\EndP \js:on
\HCode{<div
                   class="thebibliography">}\let\en:bib=\empty}
   {\en:bib \ifvmode\IgnorePar\fi\EndP \HCode{</div>}}
   {\en:bib\def\en:bib{\ht:special {t4ht@DCopyTo: \jobname-js.tex Skip bib }%
\csname bibliography2\endcsname
\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont bib }%
%
%
        \EndP\ht:special {t4ht@DCopyTo: \jobname-js.tex Skip bib }%
%
\HCode{<!--}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont bib }%
%
\HCode{</div></bibitem>\Hnewline}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Until bib }%
%
\HCode{-->}
}\HCode{<!--}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex From bib }%
%
\HCode{<bibitem>}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Skip bib }%
%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Set1 bib }%
%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont bib }%
%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Set2 bib }%
%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Skip bib }%
%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont bib }%
%
\HCode{<div class="js">}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Skip bib }%
%
\HCode{-->}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont bib }%
%
%
        \Configure{HtmlPar}
   {\EndP\HCode{<p class="bibitem" \a:LRdir>}}
   {\EndP\HCode{<p class="bibitem" \a:LRdir>}}
   {\Tg</p>} {\Tg</p>}%
\par\ShowPar
        \leavevmode \ht:special {t4ht@DCopyTo: \jobname-js.tex Skip bib }%
\HCode{<span
      class="biblabel">}\Configure{HtmlPar}
   {\EndP\HCode{<p class="bibitem-p" \a:LRdir>}}
   {\EndP\HCode{<p class="bibitem-p" \a:LRdir>}}
   {\Tg</p>} {\Tg</p>}%
}
   {\HCode{<span class="bibsp">}\:nbsp
      \:nbsp\:nbsp\HCode{</span></span>}\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont bib }%
}

   \else
      \ConfigureList{thebibliography}%
   {\ifvmode\IgnorePar\fi \EndP \HCode{<div
                   class="thebibliography">}\let\en:bib=\empty}
   {\en:bib \ifvmode\IgnorePar\fi \EndP \HCode{</div>}}
   {\en:bib\def\en:bib{\csname bibliography2\endcsname
\EndP}%
   \Configure{HtmlPar}
   {\EndP\HCode{<p class="bibitem" \a:LRdir>}}
   {\EndP\HCode{<p class="bibitem" \a:LRdir>}}
   {\Tg</p>} {\Tg</p>}%
\par\ShowPar
    \HCode{<span class="biblabel">}\Configure{HtmlPar}
   {\EndP\HCode{<p class="bibitem-p" \a:LRdir>}}
   {\EndP\HCode{<p class="bibitem-p" \a:LRdir>}}
   {\Tg</p>} {\Tg</p>}%
}
   {\HCode{<span class="bibsp">}\:nbsp
      \:nbsp\:nbsp\HCode{</span></span>}}

   \fi
   \Css{p.bibitem { text-indent: -2em; margin-left: 2em;
       margin-top:0.6em; margin-bottom:0.6em;     }}
\Css{p.bibitem-p { text-indent: 0em; margin-left: 2em;
       margin-top:0.6em; margin-bottom:0.6em;     }}

\fi

\ifx \deferred@thm@head\:UnDef\else
   \Configure{proof}
   {\ifvmode \IgnorePar \fi \EndP
       \HCode{<div class="proof">}\par\ShowPar
       \HCode{<span class="head">}\IgnorePar}
   {\HCode{</span>}\ShowPar}
   {\ifvmode \IgnorePar \fi \EndP \HCode{</div>}\par}

   \Configure{qed}
     {\HCode{<span class="qed">}} {\HCode{</span>}}
\Css{.qed {width:2ex; float:right; text-align:right;}}
\def\:tempc#1#2#3#4#5{%
  \expandafter\ifx \csname #1mathaccentV\endcsname\relax
     \o:mathaccentV:{#1}{#2}{#3}{#4}{#5}%
  \else  \csname #1mathaccentV\endcsname{#5}\fi}
\HLet\mathaccentV\:tempc
\:CheckOption{new-accents}     \if:Option \else
   \HRestore\grave
\expandafter\let\csname gravemathaccentV\endcsname=\grave
\expandafter\let\csname GRAVEmathaccentV\endcsname=\grave
\expand:after{\Configure{accent}}\csname
           gravemathaccentV\expandafter\endcsname
   \csname GRAVEmathaccentV\endcsname{A{00C0}E{00C8}I{00CC}N{01F8}O{00D2}U{00D9}W{1E80}%
Y{1EF2}a{00E0}e{00E8}i{00EC}n{01F9}o{00F2}u{00F9}%
w{1E81}y{1EF3}\i{00EC}%
{}{}}
   {\a:accents{grave}{#1}}   {\b:accents{grave}{#1}{#2}}
\HRestore\acute
\expandafter\let\csname acutemathaccentV\endcsname=\acute
\expandafter\let\csname ACUTEmathaccentV\endcsname=\acute
\expand:after{\Configure{accent}}\csname
           acutemathaccentV\expandafter\endcsname
   \csname ACUTEmathaccentV\endcsname{A{00C1}C{0106}D{010E}E{00C9}G{01F4}I{00CD}L{0139}N{0143}%
O{00D3}R{0154}S{015A}U{00DA}Y{00DD}Z{0179}a{00E1}c{0107}%
d{010F}e{00E9}g{01F5}i{00ED}l{013A}n{0144}o{00F3}r{0155}%
s{015B}u{00FA}y{00FD}z{017A}j{FFFD}J{FFDD}\i{00ED}\j{FFFD}%
{}{}}
   {\a:accents{acute}{#1}}   {\b:accents{acute}{#1}{#2}}
\HRestore\hat
\expandafter\let\csname hatmathaccentV\endcsname=\hat
\expandafter\let\csname HATmathaccentV\endcsname=\hat
\expand:after{\Configure{accent}}\csname
           hatmathaccentV\expandafter\endcsname
   \csname HATmathaccentV\endcsname{{}{}}
   {\a:accents{hat}{#1}}   {\b:accents{hat}{#1}{#2}}
\HRestore\tilde
\expandafter\let\csname tildemathaccentV\endcsname=\tilde
\expandafter\let\csname TILDEmathaccentV\endcsname=\tilde
\expand:after{\Configure{accent}}\csname
           tildemathaccentV\expandafter\endcsname
   \csname TILDEmathaccentV\endcsname{A{00C3}N{00D1}O{00D5}a{00E3}n{00F1}o{00F5}I{0128}%
i{0129}U{0168}u{0169}V{1E7C}v{1E7D}E{1EBC}e{1EBD}%
Y{1EF8}y{1EF9}\i{0129}%
{}{}}
   {\a:accents{tilde}{#1}}   {\b:accents{tilde}{#1}{#2}}
\HRestore\ddot
\expandafter\let\csname DDOTmathaccentV\endcsname=\ddot
\expand:after{\Configure{accent}}\csname
           DDOTmathaccentV\expandafter\endcsname
   \csname DDOTmathaccentV\endcsname{{}{}}
   {\a:accents{ddot}{#1}}   {\b:accents{ddot}{#1}{#2}}
\expandafter\let\csname ddotmathaccentV\endcsname=\ddot
\expand:after{\Configure{accent}}\csname
           ddotmathaccentV\expandafter\endcsname
   \csname ddotmathaccentv\endcsname{{}{}}
   {\a:accents{ddot}{#1}}   {\b:accents{ddot}{#1}{#2}}
\HRestore\check
\expandafter\let\csname checkmathaccentV\endcsname=\check
\expandafter\let\csname CHECKmathaccentV\endcsname=\check
\expand:after{\Configure{accent}}\csname
           checkmathaccentV\expandafter\endcsname
   \csname CHECKmathaccentV\endcsname{C{010C}c{010D}D{010E}d{010F}%
E{011A}e{011B}L{013D}l{013E}N{0147}n{0148}R{0158}r{0159}%
S{0160}s{0161}T{0164}t{0165}Z{017D}z{017E}A{01CD}a{01CE}I{01CF}%
i{01D0}O{01D1}o{01D2}U{01D3}u{01D4}G{01E6}g{01E7}K{01E8}k{01E9}%
j{01F0}H{021E}h{021F}\i{01D0}\j{01F0}%
{}{}}
   {\a:accents{check}{#1}}   {\b:accents{check}{#1}{#2}}
\HRestore\dot
\expandafter\let\csname dotmathaccentV\endcsname=\dot
\expandafter\let\csname DOTmathaccentV\endcsname=\dot
\expand:after{\Configure{accent}}\csname
           dotmathaccentV\expandafter\endcsname
   \csname DOTmathaccentV\endcsname{C{010A}c{010B}E{0116}e{0117}G{0120}g{0121}%
I{0130}Z{017B}z{017C}A{0226}a{0227}O{022E}%
o{022F}B{1E02}b{1E03}D{1E0A}d{1E0B}F{1E1E}%
f{1E1F}H{1E22}h{1E23}M{1E40}m{1E41}N{1E44}%
n{1E45}P{1E56}p{1E57}R{1E58}r{1E59}S{1E60}%
s{1E61}T{1E6A}t{1E6B}W{1E86}w{1E87}X{1E8A}%
x{1E8B}Y{1E8E}y{1E8F}%
{}{}}
   {\a:accents{dot}{#1}}   {\b:accents{dot}{#1}{#2}}
\HRestore\breve
\expandafter\let\csname brevemathaccentV\endcsname=\breve
\expandafter\let\csname BREVEmathaccentV\endcsname=\breve
\expand:after{\Configure{accent}}\csname
           brevemathaccentV\expandafter\endcsname
   \csname BREVEmathaccentV\endcsname{g{011F}I{012C}i{012D}O{014E}o{014F}%
U{016C}u{016D}A{0102}a{0103}E{0114}%
e{0115}G{011E}\i{012D}%
{}{}}
   {\a:accents{breve}{#1}}   {\b:accents{breve}{#1}{#2}}
\HRestore\bar
\expandafter\let\csname barmathaccentV\endcsname=\bar
\expandafter\let\csname BARmathaccentV\endcsname=\bar
\expand:after{\Configure{accent}}\csname
           barmathaccentV\expandafter\endcsname
   \csname BARmathaccentV\endcsname{{}{}}
   {\a:accents{bar}{#1}}   {\b:accents{bar}{#1}{#2}}
\HRestore\vec
\expandafter\let\csname vecmathaccentV\endcsname=\vec
\expandafter\let\csname VECmathaccentV\endcsname=\vec
\expand:after{\Configure{accent}}\csname
           vecmathaccentV\expandafter\endcsname
   \csname VECmathaccentV\endcsname{{}{}}
   {\a:accents{vec}{#1}}   {\b:accents{vec}{#1}{#2}}

\fi
\def\:temp{charset=iso-8859-2}
\ifx \a:charset\:UnDef
      \ifx  \A:charset\:temp \let\:temp=\def \fi
\else \ifx  \a:charset\:temp \let\:temp=\def \fi
\fi
\ifx \:temp\def
   \:CheckOption{new-accents}     \if:Option \else
      \HRestore\acute
\expandafter\let\csname acutemathaccentV\endcsname=\acute
\expandafter\let\csname ACUTEmathaccentV\endcsname=\acute
\expand:after{\Configure{accent}}\csname
           acutemathaccentV\expandafter\endcsname
   \csname ACUTEmathaccentV\endcsname{A{00C1}C{0106}D{010E}E{00C9}G{01F4}I{00CD}L{0139}N{0143}%
O{00D3}R{0154}S{015A}U{00DA}Y{00DD}Z{0179}a{00E1}c{0107}%
d{010F}e{00E9}g{01F5}i{00ED}l{013A}n{0144}o{00F3}r{0155}%
s{015B}u{00FA}y{00FD}z{017A}j{FFFD}J{FFDD}\i{00ED}\j{FFFD}%
{}{}}
   {\a:accents{acute}{#1}}   {\b:accents{acute}{#1}{#2}}

\fi \fi

\fi
\ConfigureMark{subsection}
   {\ifnum \c:secnumdepth>\c@secnumdepth  \expandafter\:gobble
    \else
       \HCode{<span class="titlemark">}%
          \@ifundefined{subsectionname}{}{%
          \ignorespaces\subsectionname\space}%
          \@seccntformat{subsection}%
       \HCode{</span>}\fi }
\Configure{subsectionTITLE+}{\ifnum \c:secnumdepth>\c@secnumdepth
      \ifnum \c@secnumdepth > 0
      \thesubsection\space
    \fi\fi #1}

\ConfigureMark{subsubsection}
   {\ifnum \c:secnumdepth>\c@secnumdepth  \expandafter\:gobble
    \else
       \HCode{<span class="titlemark">}%
          \@ifundefined{subsubsectionname}{}{%
          \ignorespaces\subsubsectionname\space}%
          \@seccntformat{subsubsection}%
       \HCode{</span>}\fi}
\Configure{subsubsectionTITLE+}{\ifnum \c:secnumdepth>\c@secnumdepth
      \ifnum \c@secnumdepth > 0
      \thesubsubsection\space
    \fi\fi #1}

\ConfigureMark{part}
   {\ifnum \c:secnumdepth>\c@secnumdepth \expandafter\:gobble
    \else
       \HCode{<span class="titlemark">}\@ifundefined{partname}{}{%
          \ignorespaces\partname\space}%
          \@seccntformat{part}%
       \HCode{</span>}\fi }
\Configure{part}{}{}
   {\ifvmode \IgnorePar\fi \EndP\IgnorePar
    \HCode{<h1 class="partHead"\a:LRdir>}\TitleMark\space\HtmlParOff}
   {\HCode{</h1>}\HtmlParOn \IgnoreIndent \par}
\Configure{partTITLE+}{\thepart\space#1}
\ConfigureMark{section}
   {\ifnum \c:secnumdepth>\c@secnumdepth \expandafter\:gobble
    \else
       \HCode{<span class="titlemark">}\@ifundefined{sectionname}{}{%
          \ignorespaces\sectionname\space}%
          \@seccntformat{section}%
       \HCode{</span>}\fi }
\Configure{sectionTITLE+}{\ifnum \c:secnumdepth>\c@secnumdepth
      \ifnum \c@secnumdepth > 0
      \thesection\space
    \fi\fi #1}

\Configure{section}{}{}
   {\ifvmode \IgnorePar\fi \EndP\IgnorePar
    \HCode{<h3 class="sectionHead"\a:LRdir>}\TitleMark\space\HtmlParOff}
   {\HCode{</h3>}\HtmlParOn \IgnoreIndent \ShowPar\par}

\ConfigureToc{part}
  {\HCode{<span class="partToc" \a:LRdir>}\toc:Mark{part}}
  {\End:Mark}
  {}
  {\HCode{</span><br />}}
\ConfigureToc{section}
  {\HCode{<span class="sectionToc" \a:LRdir>}\toc:Mark{section}}
  {\End:Mark}
  {}
  {\HCode{</span><br />}}
\ConfigureToc{subsection}
  {\HCode{<span class="subsectionToc" \a:LRdir>}~~\toc:Mark{subsection}}
  {\End:Mark}
  {}
  {\HCode{</span><br />}}
\ConfigureToc{subsubsection}
  {\HCode{<span
       class="subsubsectionToc" \a:LRdir>}~~~~\toc:Mark{subsubsection}}
  {\End:Mark}
  {}
  {\HCode{</span><br />}}
\def\toc:Mark#1#2\End:Mark{\if !#2!\else
   \expandafter\ifx \csname #1name\endcsname\relax\else
   \csname #1name\endcsname~\fi #2.~~\fi}
\Css{.partToc a, .partToc, .likepartToc a, .likepartToc
        {line-height: 200\%; font-weight:bold; font-size:110\%;}}
  
\:CheckOption{7}     \if:Option
    \expandafter\ifx \csname @chapter\endcsname\relax
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,part}
\CutAt{likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,likesubsection,subsection}
\fi

         \CutAt{subsection,section,likesection,part}
\CutAt{likesubsection,section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection}
\fi

         \CutAt{subsubsection,subsection,likesubsection,section,likesection,part}
\CutAt{likesubsubsection,subsection,likesubsection,section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection,paragraph}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection,%
    paragraph}
\fi

         \CutAt{paragraph,subsubsection,likesubsubsection,subsection,likesubsection,%
       section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection,%
    paragraph,subparagraph}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection,%
    paragraph,subparagraph}
\fi

         \CutAt{subparagraph,paragraph,subsubsection,likesubsubsection,%
       subsection,likesubsection,%
       section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,%
          section,likesection,subsection,likesubsection}
     \MiniToc:At{likepart,/part,%
          section,likesection,subsection,likesubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             subsubsection,paragraph}
     \MiniToc:At{likesubsection,/subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             subsubsection,paragraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
     \MiniToc:At{likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsubsection,/likesubsubsection,/subsection,%
             /likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             paragraph,subparagraph}
     \MiniToc:At{likesubsubsection,/subsubsection,/likesubsection,%
             /subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             paragraph,subparagraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsubsection,/likesubsubsection,%
          /subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          paragraph,subparagraph}
     \MiniToc:At{likesubsubsection,/subsubsection,/likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          paragraph,subparagraph}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{paragraph,/subsubsection,/likesubsubsection,/subsection,%
             /likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             subparagraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{paragraph,/subsubsection,/likesubsubsection,%
          /subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          subparagraph}
  \fi
\fi

    \else
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
     appendix,section\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection,likesubsection\fi}
\fi

         \CutAt{chapter,likechapter,appendix,part}
\CutAt{likechapter,appendix,part}
\CutAt{appendix,chapter,likechapter,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,chapter,likechapter,appendix,part}
\CutAt{likesection,chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,likesubsection,subsection}
\fi

         \CutAt{subsection,section,likesection,%
                  chapter,likechapter,appendix,part}
\CutAt{likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection}
\fi

         \CutAt{subsubsection,subsection,likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}
\CutAt{likesubsubsection,subsection,likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection,paragraph}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection,%
    paragraph}
\fi

         \CutAt{paragraph,subsubsection,likesubsubsection,subsection,likesubsection,%
       section,likesection,chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection,%
    paragraph,subparagraph}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection,%
    paragraph,subparagraph}
\fi

         \CutAt{subparagraph,paragraph,subsubsection,likesubsubsection,%
       subsection,likesubsection,%
       section,likesection,chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,likechapter,appendix,%
          section,likesection}
     \MiniToc:At{likepart,/part,chapter,likechapter,appendix,%
          section,likesection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,subsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,subsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,subsection}
   \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,likesection,subsection,likesubsection}
   \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             subsubsection,paragraph}
     \MiniToc:At{likesubsection,/subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             subsubsection,paragraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
     \MiniToc:At{likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsubsection,/likesubsubsection,/subsection,%
             /likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             paragraph,subparagraph}
     \MiniToc:At{likesubsubsection,/subsubsection,/likesubsection,%
             /subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             paragraph,subparagraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsubsection,/likesubsubsection,%
          /subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          paragraph,subparagraph}
     \MiniToc:At{likesubsubsection,/subsubsection,/likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          paragraph,subparagraph}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{paragraph,/subsubsection,/likesubsubsection,/subsection,%
             /likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             subparagraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{paragraph,/subsubsection,/likesubsubsection,%
          /subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          subparagraph}
  \fi
\fi

    \fi
    \:CheckOption{obj-toc}  \if:Option
   \Css{object.toc { float: left;
                     width: 25\%;
                     height: 100\%;
                     border: 1px solid \#888888;
                     margin-left:0em;
                     margin-top:0em;
                     margin-bottom:1em;
                     margin-right:1em;
                     padding-right:1em;
               }}
   \Css{body\#jobname-toc{margin:0em;}}
   \Css{body\#jobname-toc .tableofcontents{ white-space: nowrap; }}
   \Configure{@BODY}
      {\edef\:temp{\jobname-toc.\:html}
       \edef\:tempa{\FileName}
       \edef\:temp{\expandafter\string\csname\:temp\endcsname}
       \edef\:tempa{\expandafter\string\csname\:tempa\endcsname}
       \ifx\:temp\:tempa\else
          \hbox{
             \HCode{<object class="toc" data="\jobname-toc.\:html">}
                 [\Link[\jobname-toc.\:html]{}{}table of contents\EndLink]
             \HCode{</object>}}
       \fi
      }
      {}
   \pend:defI\Auto:ent{%
      \bgroup
      \let\contentsname=\empty
      \Configure{!BODY}{ id="jobname-toc"}%
      \Configure{Link}{a}{target="\string _top" href=}{id=}{}%
      \NextFile{\jobname-toc.\csname :html\endcsname}%
      \HPage{}%
   }
   \append:defI\Auto:ent{%
      \EndHPage{}%
      \egroup
   }
\else
   \Log:Note{for frames-like object-based table of contents,
                 use the command line option `obj-toc'}
\fi

\else\:CheckOption{6}     \if:Option
    \expandafter\ifx \csname @chapter\endcsname\relax
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,part}
\CutAt{likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,likesubsection,subsection}
\fi

         \CutAt{subsection,section,likesection,part}
\CutAt{likesubsection,section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection}
\fi

         \CutAt{subsubsection,subsection,likesubsection,section,likesection,part}
\CutAt{likesubsubsection,subsection,likesubsection,section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection,paragraph}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection,%
    paragraph}
\fi

         \CutAt{paragraph,subsubsection,likesubsubsection,subsection,likesubsection,%
       section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,%
          section,likesection,subsection,likesubsection}
     \MiniToc:At{likepart,/part,%
          section,likesection,subsection,likesubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             subsubsection,paragraph}
     \MiniToc:At{likesubsection,/subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             subsubsection,paragraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
     \MiniToc:At{likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsubsection,/likesubsubsection,/subsection,%
             /likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             paragraph,subparagraph}
     \MiniToc:At{likesubsubsection,/subsubsection,/likesubsection,%
             /subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             paragraph,subparagraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsubsection,/likesubsubsection,%
          /subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          paragraph,subparagraph}
     \MiniToc:At{likesubsubsection,/subsubsection,/likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          paragraph,subparagraph}
  \fi
\fi

    \else
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
     appendix,section\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection,likesubsection\fi}
\fi

         \CutAt{chapter,likechapter,appendix,part}
\CutAt{likechapter,appendix,part}
\CutAt{appendix,chapter,likechapter,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,chapter,likechapter,appendix,part}
\CutAt{likesection,chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,likesubsection,subsection}
\fi

         \CutAt{subsection,section,likesection,%
                  chapter,likechapter,appendix,part}
\CutAt{likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection}
\fi

         \CutAt{subsubsection,subsection,likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}
\CutAt{likesubsubsection,subsection,likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection,paragraph}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection,%
    paragraph}
\fi

         \CutAt{paragraph,subsubsection,likesubsubsection,subsection,likesubsection,%
       section,likesection,chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,likechapter,appendix,%
          section,likesection}
     \MiniToc:At{likepart,/part,chapter,likechapter,appendix,%
          section,likesection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,subsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,subsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,subsection}
   \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,likesection,subsection,likesubsection}
   \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             subsubsection,paragraph}
     \MiniToc:At{likesubsection,/subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             subsubsection,paragraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
     \MiniToc:At{likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsubsection,/likesubsubsection,/subsection,%
             /likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             paragraph,subparagraph}
     \MiniToc:At{likesubsubsection,/subsubsection,/likesubsection,%
             /subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             paragraph,subparagraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsubsection,/likesubsubsection,%
          /subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          paragraph,subparagraph}
     \MiniToc:At{likesubsubsection,/subsubsection,/likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          paragraph,subparagraph}
  \fi
\fi

    \fi
    \:CheckOption{obj-toc}  \if:Option
   \Css{object.toc { float: left;
                     width: 25\%;
                     height: 100\%;
                     border: 1px solid \#888888;
                     margin-left:0em;
                     margin-top:0em;
                     margin-bottom:1em;
                     margin-right:1em;
                     padding-right:1em;
               }}
   \Css{body\#jobname-toc{margin:0em;}}
   \Css{body\#jobname-toc .tableofcontents{ white-space: nowrap; }}
   \Configure{@BODY}
      {\edef\:temp{\jobname-toc.\:html}
       \edef\:tempa{\FileName}
       \edef\:temp{\expandafter\string\csname\:temp\endcsname}
       \edef\:tempa{\expandafter\string\csname\:tempa\endcsname}
       \ifx\:temp\:tempa\else
          \hbox{
             \HCode{<object class="toc" data="\jobname-toc.\:html">}
                 [\Link[\jobname-toc.\:html]{}{}table of contents\EndLink]
             \HCode{</object>}}
       \fi
      }
      {}
   \pend:defI\Auto:ent{%
      \bgroup
      \let\contentsname=\empty
      \Configure{!BODY}{ id="jobname-toc"}%
      \Configure{Link}{a}{target="\string _top" href=}{id=}{}%
      \NextFile{\jobname-toc.\csname :html\endcsname}%
      \HPage{}%
   }
   \append:defI\Auto:ent{%
      \EndHPage{}%
      \egroup
   }
\else
   \Log:Note{for frames-like object-based table of contents,
                 use the command line option `obj-toc'}
\fi

\else \:CheckOption{5}     \if:Option
    \expandafter\ifx \csname @chapter\endcsname\relax
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,part}
\CutAt{likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,likesubsection,subsection}
\fi

         \CutAt{subsection,section,likesection,part}
\CutAt{likesubsection,section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection}
\fi

         \CutAt{subsubsection,subsection,likesubsection,section,likesection,part}
\CutAt{likesubsubsection,subsection,likesubsection,section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,%
          section,likesection,subsection,likesubsection}
     \MiniToc:At{likepart,/part,%
          section,likesection,subsection,likesubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             subsubsection,paragraph}
     \MiniToc:At{likesubsection,/subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             subsubsection,paragraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
     \MiniToc:At{likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
  \fi
\fi

    \else
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
     appendix,section\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection,likesubsection\fi}
\fi

         \CutAt{chapter,likechapter,appendix,part}
\CutAt{likechapter,appendix,part}
\CutAt{appendix,chapter,likechapter,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,chapter,likechapter,appendix,part}
\CutAt{likesection,chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,likesubsection,subsection}
\fi

         \CutAt{subsection,section,likesection,%
                  chapter,likechapter,appendix,part}
\CutAt{likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection}
\fi

         \CutAt{subsubsection,subsection,likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}
\CutAt{likesubsubsection,subsection,likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,likechapter,appendix,%
          section,likesection}
     \MiniToc:At{likepart,/part,chapter,likechapter,appendix,%
          section,likesection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,subsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,subsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,subsection}
   \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,likesection,subsection,likesubsection}
   \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             subsubsection,paragraph}
     \MiniToc:At{likesubsection,/subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             subsubsection,paragraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
     \MiniToc:At{likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
  \fi
\fi

    \fi
    \:CheckOption{obj-toc}  \if:Option
   \Css{object.toc { float: left;
                     width: 25\%;
                     height: 100\%;
                     border: 1px solid \#888888;
                     margin-left:0em;
                     margin-top:0em;
                     margin-bottom:1em;
                     margin-right:1em;
                     padding-right:1em;
               }}
   \Css{body\#jobname-toc{margin:0em;}}
   \Css{body\#jobname-toc .tableofcontents{ white-space: nowrap; }}
   \Configure{@BODY}
      {\edef\:temp{\jobname-toc.\:html}
       \edef\:tempa{\FileName}
       \edef\:temp{\expandafter\string\csname\:temp\endcsname}
       \edef\:tempa{\expandafter\string\csname\:tempa\endcsname}
       \ifx\:temp\:tempa\else
          \hbox{
             \HCode{<object class="toc" data="\jobname-toc.\:html">}
                 [\Link[\jobname-toc.\:html]{}{}table of contents\EndLink]
             \HCode{</object>}}
       \fi
      }
      {}
   \pend:defI\Auto:ent{%
      \bgroup
      \let\contentsname=\empty
      \Configure{!BODY}{ id="jobname-toc"}%
      \Configure{Link}{a}{target="\string _top" href=}{id=}{}%
      \NextFile{\jobname-toc.\csname :html\endcsname}%
      \HPage{}%
   }
   \append:defI\Auto:ent{%
      \EndHPage{}%
      \egroup
   }
\else
   \Log:Note{for frames-like object-based table of contents,
                 use the command line option `obj-toc'}
\fi

\else\:CheckOption{4}     \if:Option
    \expandafter\ifx \csname @chapter\endcsname\relax
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,part}
\CutAt{likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,likesubsection,subsection}
\fi

         \CutAt{subsection,section,likesection,part}
\CutAt{likesubsection,section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,%
          section,likesection,subsection,likesubsection}
     \MiniToc:At{likepart,/part,%
          section,likesection,subsection,likesubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
  \fi
\fi

    \else
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
     appendix,section\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection,likesubsection\fi}
\fi

         \CutAt{chapter,likechapter,appendix,part}
\CutAt{likechapter,appendix,part}
\CutAt{appendix,chapter,likechapter,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,chapter,likechapter,appendix,part}
\CutAt{likesection,chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,likesubsection,subsection}
\fi

         \CutAt{subsection,section,likesection,%
                  chapter,likechapter,appendix,part}
\CutAt{likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,likechapter,appendix,%
          section,likesection}
     \MiniToc:At{likepart,/part,chapter,likechapter,appendix,%
          section,likesection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,subsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,subsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,subsection}
   \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,likesection,subsection,likesubsection}
   \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
  \fi
\fi

    \fi
    \:CheckOption{obj-toc}  \if:Option
   \Css{object.toc { float: left;
                     width: 25\%;
                     height: 100\%;
                     border: 1px solid \#888888;
                     margin-left:0em;
                     margin-top:0em;
                     margin-bottom:1em;
                     margin-right:1em;
                     padding-right:1em;
               }}
   \Css{body\#jobname-toc{margin:0em;}}
   \Css{body\#jobname-toc .tableofcontents{ white-space: nowrap; }}
   \Configure{@BODY}
      {\edef\:temp{\jobname-toc.\:html}
       \edef\:tempa{\FileName}
       \edef\:temp{\expandafter\string\csname\:temp\endcsname}
       \edef\:tempa{\expandafter\string\csname\:tempa\endcsname}
       \ifx\:temp\:tempa\else
          \hbox{
             \HCode{<object class="toc" data="\jobname-toc.\:html">}
                 [\Link[\jobname-toc.\:html]{}{}table of contents\EndLink]
             \HCode{</object>}}
       \fi
      }
      {}
   \pend:defI\Auto:ent{%
      \bgroup
      \let\contentsname=\empty
      \Configure{!BODY}{ id="jobname-toc"}%
      \Configure{Link}{a}{target="\string _top" href=}{id=}{}%
      \NextFile{\jobname-toc.\csname :html\endcsname}%
      \HPage{}%
   }
   \append:defI\Auto:ent{%
      \EndHPage{}%
      \egroup
   }
\else
   \Log:Note{for frames-like object-based table of contents,
                 use the command line option `obj-toc'}
\fi

\else\:CheckOption{3}     \if:Option
    \expandafter\ifx \csname @chapter\endcsname\relax
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,likesubsection,subsection}
\fi

         \CutAt{subsection,section,likesection,part}
\CutAt{likesubsection,section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,%
          section,likesection,subsection,likesubsection}
     \MiniToc:At{likepart,/part,%
          section,likesection,subsection,likesubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
  \fi
\fi

         \CutAt{section,likesection,part}
\CutAt{likesection,part}

    \else
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
     appendix,section\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection,likesubsection\fi}
\fi

         \CutAt{chapter,likechapter,appendix,part}
\CutAt{likechapter,appendix,part}
\CutAt{appendix,chapter,likechapter,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,chapter,likechapter,appendix,part}
\CutAt{likesection,chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,likechapter,appendix,%
          section,likesection}
     \MiniToc:At{likepart,/part,chapter,likechapter,appendix,%
          section,likesection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,subsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,subsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,subsection}
   \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,likesection,subsection,likesubsection}
   \fi
\fi

    \fi
    \:CheckOption{obj-toc}  \if:Option
   \Css{object.toc { float: left;
                     width: 25\%;
                     height: 100\%;
                     border: 1px solid \#888888;
                     margin-left:0em;
                     margin-top:0em;
                     margin-bottom:1em;
                     margin-right:1em;
                     padding-right:1em;
               }}
   \Css{body\#jobname-toc{margin:0em;}}
   \Css{body\#jobname-toc .tableofcontents{ white-space: nowrap; }}
   \Configure{@BODY}
      {\edef\:temp{\jobname-toc.\:html}
       \edef\:tempa{\FileName}
       \edef\:temp{\expandafter\string\csname\:temp\endcsname}
       \edef\:tempa{\expandafter\string\csname\:tempa\endcsname}
       \ifx\:temp\:tempa\else
          \hbox{
             \HCode{<object class="toc" data="\jobname-toc.\:html">}
                 [\Link[\jobname-toc.\:html]{}{}table of contents\EndLink]
             \HCode{</object>}}
       \fi
      }
      {}
   \pend:defI\Auto:ent{%
      \bgroup
      \let\contentsname=\empty
      \Configure{!BODY}{ id="jobname-toc"}%
      \Configure{Link}{a}{target="\string _top" href=}{id=}{}%
      \NextFile{\jobname-toc.\csname :html\endcsname}%
      \HPage{}%
   }
   \append:defI\Auto:ent{%
      \EndHPage{}%
      \egroup
   }
\else
   \Log:Note{for frames-like object-based table of contents,
                 use the command line option `obj-toc'}
\fi

\else\:CheckOption{2}     \if:Option
    \expandafter\ifx \csname @chapter\endcsname\relax
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,part}
\CutAt{likesection,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,%
          section,likesection,subsection,likesubsection}
     \MiniToc:At{likepart,/part,%
          section,likesection,subsection,likesubsection}
  \fi
\fi

    \else
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
     appendix,section\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection,likesubsection\fi}
\fi

         \CutAt{chapter,likechapter,appendix,part}
\CutAt{likechapter,appendix,part}
\CutAt{appendix,chapter,likechapter,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,likechapter,appendix,%
          section,likesection}
     \MiniToc:At{likepart,/part,chapter,likechapter,appendix,%
          section,likesection}
  \fi
\fi

    \fi
    \:CheckOption{obj-toc}  \if:Option
   \Css{object.toc { float: left;
                     width: 25\%;
                     height: 100\%;
                     border: 1px solid \#888888;
                     margin-left:0em;
                     margin-top:0em;
                     margin-bottom:1em;
                     margin-right:1em;
                     padding-right:1em;
               }}
   \Css{body\#jobname-toc{margin:0em;}}
   \Css{body\#jobname-toc .tableofcontents{ white-space: nowrap; }}
   \Configure{@BODY}
      {\edef\:temp{\jobname-toc.\:html}
       \edef\:tempa{\FileName}
       \edef\:temp{\expandafter\string\csname\:temp\endcsname}
       \edef\:tempa{\expandafter\string\csname\:tempa\endcsname}
       \ifx\:temp\:tempa\else
          \hbox{
             \HCode{<object class="toc" data="\jobname-toc.\:html">}
                 [\Link[\jobname-toc.\:html]{}{}table of contents\EndLink]
             \HCode{</object>}}
       \fi
      }
      {}
   \pend:defI\Auto:ent{%
      \bgroup
      \let\contentsname=\empty
      \Configure{!BODY}{ id="jobname-toc"}%
      \Configure{Link}{a}{target="\string _top" href=}{id=}{}%
      \NextFile{\jobname-toc.\csname :html\endcsname}%
      \HPage{}%
   }
   \append:defI\Auto:ent{%
      \EndHPage{}%
      \egroup
   }
\else
   \Log:Note{for frames-like object-based table of contents,
                 use the command line option `obj-toc'}
\fi

\else\:CheckOption{1}     \if:Option
    \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
    \CutAt{part}
\CutAt{likepart}

    \:CheckOption{obj-toc}  \if:Option
   \Css{object.toc { float: left;
                     width: 25\%;
                     height: 100\%;
                     border: 1px solid \#888888;
                     margin-left:0em;
                     margin-top:0em;
                     margin-bottom:1em;
                     margin-right:1em;
                     padding-right:1em;
               }}
   \Css{body\#jobname-toc{margin:0em;}}
   \Css{body\#jobname-toc .tableofcontents{ white-space: nowrap; }}
   \Configure{@BODY}
      {\edef\:temp{\jobname-toc.\:html}
       \edef\:tempa{\FileName}
       \edef\:temp{\expandafter\string\csname\:temp\endcsname}
       \edef\:tempa{\expandafter\string\csname\:tempa\endcsname}
       \ifx\:temp\:tempa\else
          \hbox{
             \HCode{<object class="toc" data="\jobname-toc.\:html">}
                 [\Link[\jobname-toc.\:html]{}{}table of contents\EndLink]
             \HCode{</object>}}
       \fi
      }
      {}
   \pend:defI\Auto:ent{%
      \bgroup
      \let\contentsname=\empty
      \Configure{!BODY}{ id="jobname-toc"}%
      \Configure{Link}{a}{target="\string _top" href=}{id=}{}%
      \NextFile{\jobname-toc.\csname :html\endcsname}%
      \HPage{}%
   }
   \append:defI\Auto:ent{%
      \EndHPage{}%
      \egroup
   }
\else
   \Log:Note{for frames-like object-based table of contents,
                 use the command line option `obj-toc'}
\fi

\else
    \Log:Note{for automatic sectioning
        pagination, use the command line option
                     `1', `2', `3', '4', '5', '6', or '7'}%
\fi \fi \fi \fi \fi \fi  \fi
\:CheckOption{sec-filename}   \if:Option \else
    \Log:Note{for files named derived from section
        titles, use the command line option `sec-filename'}%
\fi


{\Configure{Needs}{Font\string_Size: #1}\ifcase  \@ptsize
   \or \Needs{11}\or \Needs{12}\else \fi}


\Configure{subsection}{}{}
   {\ifvmode \IgnorePar\fi
    \EndP\bgroup \IgnorePar\HCode{<h4 class="subsectionHead"\a:LRdir>}%
    \TitleMark\space \HtmlParOff}
   {\HCode{</h4>}\HtmlParOn \IgnoreIndent\egroup\par\ShowPar}
\Configure{subsubsection}{}{}
   {\ifvmode \IgnorePar \fi  \EndP
    \bgroup \IgnorePar\HCode{<h5 class="subsubsectionHead"\a:LRdir>}%
    \TitleMark\space \HtmlParOff}
   {\HCode{</h5>}\HtmlParOn \IgnoreIndent\egroup\par\ShowPar}
\Configure{paragraph}{}{}
  {\ShowPar\IgnoreIndent\HCode{<span class="paragraphHead"\a:LRdir>}\begingroup\bf}
  {\endgroup\HCode{</span>}\IgnorePar}
\ConfigureMark{subparagraph}{\thesubparagraph}
\Css{.paragraphHead  { margin-top:2em; font-weight: bold;}}
\Configure{subparagraph}{}{}
  {\ShowPar\HCode{<span class="subparagraphHead"\a:LRdir>}\begingroup\bf
   \TitleMark\space}
  {\endgroup\HCode{</span>}\IgnorePar}
\Css{.subparagraphHead { font-weight: bold;}}

\Css{div.translators {text-align:right; margin-bottom:0.7em;}}
\Configure{thanks author date and}
   {\par\IgnorePar\EndP \HCode{<div class="thanks" \a:LRdir>}\par\ShowPar}
   {\ifvmode \IgnorePar\fi\EndP \HCode{</div>}}
   {\ifvmode \IgnorePar\fi\EndP
       \HCode{<div class="authors"><span class="author" \a:LRdir>}}
   {\ifvmode \IgnorePar\fi\EndP \HCode{</span></div>}}
   {\par\IgnorePar\EndP \HCode{<div class="date" \a:LRdir>}\par\ShowPar}
   {\ifvmode \IgnorePar\fi\EndP \HCode{</div>}}
   {\lowercase{\HCode{</span><span class="and">}}and~%
    \lowercase{\HCode{</span><span>}}}
   {\HCode{<br />}}
\Configure{endsection}
     {part}
\Configure{endsubsection}
   {section,part}
\Configure{endsubsubsection}
   {subsection,section,part}
\Configure{endparagraph}
   {subsubsection,subsection,section,part}
\:CheckOption{1}     \if:Option
  \:CheckOption{notoc*}     \if:Option
   \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

      \MiniToc:At{part,/likepart,section,subsection}
   \fi
   \Configure{tableofcontents*}{part,section}
\else
   \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

      \MiniToc:At{part,/likepart,section,likesection,%
           subsection,likesubsection}
   \fi
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}{part,likepart,section,likesection}
\fi

\fi


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{amsthm}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \ConfigureEnv{proof}{\par\leavevmode}{\par\ShowPar}{}{}
\Configure{proof}
   {\ifvmode \IgnorePar \fi \EndP
       \HCode{<div class="proof">}\par\ShowPar
       \HCode{<span class="head">}\IgnorePar}
   {\HCode{</span>}\ShowPar}
   {\ifvmode \IgnorePar \fi \EndP \HCode{</div>}\par}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{amsmath}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \ConfigureEnv{subequations}
  {\ifvmode \IgnorePar\fi \EndP
   \HCode{<div class="subequations">}}
  {\ifvmode \IgnorePar\fi \EndP \HCode{</div>}\par}
  {}{}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%




%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{amstex1}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \ConfigureEnv{aligned}{\m:env{aligned}}{\endm:env}{}{}
\def\m:env#1{\relax\ifmmode\else\par\fi\:xhtml{\IgnorePar\EndP}%
  \HCode{<div class="center-#1"><table class="#1"\Hnewline
   border="0" cellpadding="0" cellspacing="15"><tr><td>}
   \Css{div.center-#1{text-align: center;}}
 }
\def\endm:env{\:xhtml{\IgnorePar\EndP}%
   \HCode{</td></tr></table></center>}\IgnorePar
   \ifmmode\else\par\fi}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{amsppt}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \ifx \EnditemitemList\:UnDef
    \Configure{itemitem}
   {}{}
   {\par{\Configure{HtmlPar}{\Tg<p class="itemitem" \a:LRdir>}
                            {\Tg<p class="itemitem" \a:LRdir>} {}{}%
         \:xhtml{\Configure{HtmlPar}{\EndP\Tg<div class="itemitem" \a:LRdir>}
                            {\EndP\Tg<div class="itemitem" \a:LRdir>}
                            {\Tg</div>}{\Tg</div>}}%
         \noindent}}
   {}
   \Css{.itemitem {margin-left: 5em; text-indent: -2em;
                margin-top: 0.5em; margin-bottom: 0.5em;}}
\fi
\Configure{specialhead}{}{}
   {\IgnorePar\EndP\HCode{<h1 class="amsspecialheadHead"\a:LRdir>}}
   {\HCode{</h1>}\IgnoreIndent}
\ConfigureToc{specialhead}
   {\HCode{<div class="center">}\ignorespaces}{ }
   {}{\HCode{</div>}}
\Configure{head}{}{}
   {\IgnorePar\EndP\HCode{<h2 class="amsheadHead"\a:LRdir>}}
   {\HCode{</h2>}\IgnoreIndent}
\ConfigureToc{head}
   {\ignorespaces}{ }{}{\HCode{<br />}}
\Configure{subhead}{}{}
   {\IgnorePar\EndP\HCode{<h3 class="amssubheadHead"\a:LRdir>}}
   {\HCode{</h3>}\IgnoreIndent}
\ConfigureToc{subhead}
   {\:nbsp\:nbsp\:nbsp\:nbsp\ignorespaces} { }
   {} {\HCode{<br />}}
\Configure{subsubhead}{}{}
   {\IgnorePar\EndP\HCode{<h4 class="amssubsubheadHead"\a:LRdir>}}
   {\HCode{</h4>}\IgnoreIndent}
\ConfigureToc{subsubhead}
  {\:nbsp\:nbsp\:nbsp\:nbsp\:nbsp%
       \:nbsp\:nbsp\:nbsp\ignorespaces} { } {} {\HCode{<br />}}
\Configure{block}
   {\IgnorePar\EndP
       \HCode{<table cellpadding="15"><tr><td>}\IgnorePar\par}
   {\IgnorePar\HCode{</td></tr></table>}\IgnorePar\par}
\Configure{caption}
   {\:xhtml{\IgnorePar\EndP}\HCode{<div class="caption">}}{}{\HCode{</div>}}
\Css{div.caption {text-align:center;}}

\Configure{roster}
    {\IgnorePar\EndP\HCode{<table>}\let\end:item\empty}
    {\IgnorePar\end:item\HCode{</table>}\IgnorePar\par}
    {\IgnorePar\end:item \HCode{<tr style="vertical-align:top;"><td>}
                        \def\end:item{\EndP\HCode{</td></tr>}}}
    {\:nbsp\EndP\HCode{</td><td>}\ShowPar}
    {\IgnorePar\EndP\HCode{<table>}\let\end:iitem\empty}
    {\IgnorePar\end:iitem\HCode{</table>}\IgnorePar\par}
    {\IgnorePar\end:iitem\HCode{<tr style="vertical-align:top;"><td>}}
    {\HCode{</td><td>}
      \def\end:iitem{\EndP\HCode{</td></tr>}}}
\Configure{vol}{\HCode{<strong>}}{\HCode{</strong>}}
\Configure{book}{\HCode{<em>}}{\HCode{</em>}}
\Configure{paper}{\HCode{<em>}}{\HCode{</em>}}
\Configure{Refs}{\IgnorePar\EndP\HCode{<table class="Refs">}}
                {\HCode{</table>}}
\Configure{ref}{\HCode{<tr style="vertical-align:top;"><td style="text-align:right;">}}
               {\EndP\HCode{</td></tr>}}{}
\Configure{keyformat}{}{\EndP\HCode{</td><td>}}


\Configure{title}
   {\IgnorePar\par\HCode{<div\Hnewline class="title">}}
   {\IgnorePar\EndP\HCode{</div>}\IgnorePar}
\Css{div.title {margin-top: 0.5em;
                font-weight: bold; text-align:center;}}

\Configure{author}
   {\IgnorePar\par\HCode{<div\Hnewline class="author">}}
   {\IgnorePar\EndP\HCode{</div>}\IgnorePar}
\Css{div.author {text-align:center}}

\Configure{affil}
   {\IgnorePar\par\HCode{<div\Hnewline class="affil">}}
   {\IgnorePar\EndP\HCode{</div>}\IgnorePar}
\Css{.affil {text-align:center}}

\Configure{date}
   {\IgnorePar\par\HCode{<div\Hnewline class="date" \a:LRdir>}}
   {\IgnorePar\EndP\HCode{</div>}\IgnorePar
      \append:def\c:footnote{ }%
   }
\Css{.date {text-align:center}}

\Configure{abstract}
   {\IgnorePar\par
    \HCode{<div\Hnewline class="abstract">}\ShowPar\IgnoreIndent\par}
   {}
   {}
   {\IgnorePar\EndP\HCode{</div>}\IgnorePar}
\Css{.abstract, .subjclass, .thanks, .keywords
   {margin-left:5\%; margin-right:5\%;}}

\Configure{subjclass}
   {\ifx \m:top\:Undef
       \let\m:top\relax \Css{.subjclass {margin-top:1em; }}%
    \fi  \Tg<div class="subjclass">}
   {\Tg</div>}
\Configure{thanks}
   {\ifx \m:top\:Undef
       \let\m:top\relax \Css{.thanks {margin-top:1em; }}%
    \fi  \Tg<div class="thanks">}
   {\Tg</div>}
\Configure{keywords}
   {\ifx \m:top\:Undef
       \let\m:top\relax \Css{.keywords {margin-top:1em; }}%
    \fi  \ifvmode \IgnorePar\fi\EndP\Tg<div class="keywords">}
   {\ifvmode \IgnorePar\fi \EndP\Tg</div>}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{babel}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{quotedblbase}{\leavevmode\ht:special{t4ht@+&{35}x201E;}x}
\Configure{quotesinglbase}{\leavevmode\ht:special{t4ht@+&{35}x201A;}x}

\:CheckOption{new-accents}     \if:Option \else
   \Configure{accent}\lower@umlaut\lower@umlaut{H{1E26}h{1E27}W{1E84}w{1E85}X{1E8C}x{1E8D}%
t{1E97}A{00C4}E{00CB}I{00CF}O{00D6}U{00DC}%
a{00E4}e{00EB}i{00EF}o{00F6}u{00FC}y{00FF}%
Y{0178}\i{00EF}%
{}{34}}
   {\a:accents{uml}{#1}}     {\b:accents{uml}{#1}{#2}}
\fi


\def\a:temp#1#2#3{%
   \ifOption{charset=#2}{\def\a:charset{charset=#2}}{}%
   \def\:tempa{#1}\ifx \languagename\:tempa
      \ifx\A:charset\empty%
      \def\A:charset{#2}\ifx \A:charset\empty\else%
         \def\A:charset{charset=#2}%%
      \fi\fi%
      \if !#3!\else
         \Configure{@HTML}{%
            \iflanguage{#1}{xml:lang="#3" }{}%
         }
      \fi
   \fi}
\a:temp{afrikaans}{iso-8859-1}{af}
\a:temp{arabic}{iso-8859-6}{ar}
\a:temp{austrian}{iso-8859-1}{ge}
\a:temp{brazilian}{iso-8859-1}{pt}
\a:temp{brazil}{iso-8859-1}{pt}
\a:temp{catalan}{iso-8859-1}{ca}
\a:temp{croatian}{iso-8859-2}{hr}
\a:temp{czech}{iso-8859-2}{cs}
\a:temp{danish}{iso-8859-1}{da}
\a:temp{dutch}{iso-8859-1}{nl}
\a:temp{esperanto}{iso-8859-3}{eo}
\a:temp{estonian}{iso-8859-5}{et}
\a:temp{finnish}{iso-8859-1}{fi}
\a:temp{francais}{iso-8859-1}{fr}
\a:temp{frenchb}{iso-8859-1}{fr}
\a:temp{french}{iso-8859-1}{fr}
\a:temp{galician}{iso-8859-1}{gl}
\a:temp{germanb}{iso-8859-1}{de}
\a:temp{german}{iso-8859-1}{de}
\a:temp{greek}{iso-8859-7}{el}
\a:temp{hebrew}{iso-8859-8}{he}
\a:temp{hungarian}{iso-8859-2}{hu}
\a:temp{ngerman}{iso-8859-1}{de}
\a:temp{norsk}{iso-8859-1}{no}
\a:temp{nynorsk}{iso-8859-1}{no}
\a:temp{polish}{iso-8859-2}{pl}
\a:temp{polski}{iso-8859-2}{pl}
\a:temp{polutonikogreek}{iso-8859-7}{el}
\a:temp{portuges}{iso-8859-1}{pt}
\a:temp{portuguese}{iso-8859-1}{pt}
\a:temp{romanian}{iso-8859-2}{ro}
\a:temp{scottish}{iso-8859-1}{gd}
\a:temp{slovak}{iso-8859-2}{sk}
\a:temp{slovene}{iso-8859-2}{sl}
\a:temp{spanish}{iso-8859-1}{es}
\a:temp{swedish}{iso-8859-1}{sv}
\a:temp{turkish}{iso-8859-9}{tr}
\a:temp{ukrainian}{iso-8859-5}{uk}
\a:temp{uppersorbian}{iso-8859-2}{}
\a:temp{welsh}{iso-8859-1}{cy}
\def\:temp{charset=koi8-r}\ifx \A:charset\:temp \else
   \a:temp{russian}{iso-8859-5}{ru}
\fi


\def\:temp{charset=iso-8859-2}
\ifx \a:charset\:UnDef
      \ifx  \A:charset\:temp \let\:temp=\def \fi
\else \ifx  \a:charset\:temp \let\:temp=\def \fi
\fi
\ifx \:temp\def
   \:CheckOption{new-accents}     \if:Option \else
      \expand:after{\Configure{accent}}\csname T1\string\`\expandafter\endcsname
   \csname T1\string\`\endcsname{A{00C0}E{00C8}I{00CC}N{01F8}O{00D2}U{00D9}W{1E80}%
Y{1EF2}a{00E0}e{00E8}i{00EC}n{01F9}o{00F2}u{00F9}%
w{1E81}y{1EF3}\i{00EC}%
{}{}}
   {\a:accents{grave}{#1}}   {\b:accents{grave}{#1}{#2}}
\expand:after{\Configure{accent}}\csname T1\string\'\expandafter\endcsname
   \csname T1\string\'\endcsname{A{00C1}C{0106}D{010E}E{00C9}G{01F4}I{00CD}L{0139}N{0143}%
O{00D3}R{0154}S{015A}U{00DA}Y{00DD}Z{0179}a{00E1}c{0107}%
d{010F}e{00E9}g{01F5}i{00ED}l{013A}n{0144}o{00F3}r{0155}%
s{015B}u{00FA}y{00FD}z{017A}j{FFFD}J{FFDD}\i{00ED}\j{FFFD}%
{}{}}
   {\a:accents{acute}{#1}}   {\b:accents{acute}{#1}{#2}}
\expand:after{\Configure{accent}}\csname T1\string\^\expandafter\endcsname
   \csname T1\string\^\endcsname{A{00C2}E{00CA}I{00CE}O{00D4}U{00DB}a{00E2}e{00EA}%
i{00EE}o{00F4}u{00FB}C{0108}c{0109}G{011C}g{011D}%
H{0124}h{0125}J{0134}j{0135}S{015C}s{015D}W{0174}%
w{0175}Y{0176}y{0177}Z{1E90}z{1E91}\i{00EE}\j{0135}%
{}{}}
   {\a:accents{circ}{#1}}   {\b:accents{circ}{#1}{#2}}
\expand:after{\Configure{accent}}\csname T1\string\~\expandafter\endcsname
   \csname T1\string\~\endcsname{A{00C3}N{00D1}O{00D5}a{00E3}n{00F1}o{00F5}I{0128}%
i{0129}U{0168}u{0169}V{1E7C}v{1E7D}E{1EBC}e{1EBD}%
Y{1EF8}y{1EF9}\i{0129}%
{}{}}
   {\a:accents{tilde}{#1}}   {\b:accents{tilde}{#1}{#2}}
\expand:after{\Configure{accent}}\csname T1\string\"\expandafter\endcsname
   \csname T1\string\"\endcsname{H{1E26}h{1E27}W{1E84}w{1E85}X{1E8C}x{1E8D}%
t{1E97}A{00C4}E{00CB}I{00CF}O{00D6}U{00DC}%
a{00E4}e{00EB}i{00EF}o{00F6}u{00FC}y{00FF}%
Y{0178}\i{00EF}%
{}{34}}
   {\a:accents{uml}{#1}}     {\b:accents{uml}{#1}{#2}}
\expand:after{\Configure{accent}}\csname T1\string\r\endcsname
   \mathring{A{00C5}a{00E5}U{016E}u{016F}%
{}{}}
   {\a:accents{ring}{#1}}   {\b:accents{ring}{#1}{#2}}
\expand:after{\expand:after{\Configure{accent}}%
   \csname T1\string\c\endcsname}%
   \csname T1\string\c\endcsname{K{0136}k{0137}L{013B}l{013C}N{0145}n{0146}%
R{0156}r{0157}S{015E}s{015F}T{0162}t{0163}%
E{0228}e{0229}D{1E10}d{1E11}H{1E28}h{1E29}%
C{00C7}c{00E7}G{0122}g{0123}%
{}{}}
   {\a:accents{cedil}{#1}}     {\b:accents{cedil}{#1}{#2}}
\expand:after{\expand:after{\Configure{accent}}%
   \csname T1\string\t\endcsname}%
   \csname T1\string\t\endcsname{{}{}}
   {\a:accents{udot}{#1}}     {\b:accents{udot}{#1}{#2}}
\expand:after{\expand:after{\Configure{accent}}%
   \csname T1\string\H\endcsname}%
   \csname T1\string\H\endcsname{o{0151}O{0150}U{0170}u{0171}%
{}{}}
   {\a:accents{Huml}{#1}}{\b:accents{Huml}{#1}{#2}}
\expand:after{\expand:after{\Configure{accent}}%
   \csname T1\string\b\endcsname}%
   \csname T1\string\b\endcsname{B{1E06}b{1E07}%
D{1E0E}d{1E0F}K{1E34}k{1E35}L{1E3A}l{1E3B}N{1E48}n{1E49}%
R{1E5E}r{1E5F}T{1E6E}t{1E6F}Z{1E94}z{1E95}h{1E96}%
{}{}}
   {\a:accents{b}{#1}}     {\b:accents{b}{#1}{#2}}
\expand:after{\expand:after{\Configure{accent}}%
   \csname T1\string\d\endcsname}%
   \csname T1\string\d\endcsname{A{1EA0}a{1Ea1}B{1E04}b{1E05}D{1E0C}d{1E0D}%
E{1EB8}e{1EB9}H{1E24}h{1E25}I{1ECA}i{1ECB}%
K{1E32}k{1E33}L{1E36}l{1E37}M{1E42}m{1E43}%
N{1E46}n{1E47}O{1ECC}o{1ECD}R{1E5A}r{1E5B}%
S{1E62}s{1E63}T{1E6C}t{1E6D}U{1EE4}u{1EE5}%
V{1E7E}v{1E7F}W{1E88}w{1E89}Y{1EF4}y{1EF5}%
{}{}}
   {\a:accents{d}{#1}}     {\b:accents{d}{#1}{#2}}
\expand:after{\Configure{accent}}\csname T1\string\.\expandafter\endcsname
   \csname T1\string\.\endcsname
   {{}{}}
   {\a:accents{dot}{#1}}{\b:accents{dot}{#1}{#2}}
\expand:after{\Configure{accent}}\csname T1\string\u\expandafter\endcsname
   \csname T1\string\u\endcsname
   {g{011F}I{012C}i{012D}O{014E}o{014F}%
U{016C}u{016D}A{0102}a{0103}E{0114}%
e{0115}G{011E}\i{012D}%
{}{}}
   {\a:accents{breve}{#1}}{\b:accents{breve}{#1}{#2}}
\expand:after{\Configure{accent}}\csname T1\string\vec\expandafter\endcsname
   \csname T1\string\vec\endcsname
   {{}{}}
   {\a:accents{vec}{#1}}{\b:accents{vec}{#1}{#2}}
\expandafter\let\csname T1\string\v\endcsname\:UnDef
\expand:after{\Configure{accent}}\csname T1\string\v\expandafter\endcsname
   \csname T1\string\v\endcsname
   {C{010C}c{010D}D{010E}d{010F}%
E{011A}e{011B}L{013D}l{013E}N{0147}n{0148}R{0158}r{0159}%
S{0160}s{0161}T{0164}t{0165}Z{017D}z{017E}A{01CD}a{01CE}I{01CF}%
i{01D0}O{01D1}o{01D2}U{01D3}u{01D4}G{01E6}g{01E7}K{01E8}k{01E9}%
j{01F0}H{021E}h{021F}\i{01D0}\j{01F0}%
{}{}}
   {\a:accents{check}{#1}}{\b:accents{check}{#1}{#2}}
\expand:after{\Configure{accent}}\csname T1\string\=\expandafter\endcsname
   \csname T1\string\=\endcsname
   {{}{}}
   {\a:accents{bar}{#1}}{\b:accents{bar}{#1}{#2}}

\Configure{accent}\`\grave{A{00C0}E{00C8}I{00CC}N{01F8}O{00D2}U{00D9}W{1E80}%
Y{1EF2}a{00E0}e{00E8}i{00EC}n{01F9}o{00F2}u{00F9}%
w{1E81}y{1EF3}\i{00EC}%
{}{}}
   {\a:accents{grave}{#1}}   {\b:accents{grave}{#1}{#2}}
\Configure{accent}\'\acute{A{00C1}C{0106}D{010E}E{00C9}G{01F4}I{00CD}L{0139}N{0143}%
O{00D3}R{0154}S{015A}U{00DA}Y{00DD}Z{0179}a{00E1}c{0107}%
d{010F}e{00E9}g{01F5}i{00ED}l{013A}n{0144}o{00F3}r{0155}%
s{015B}u{00FA}y{00FD}z{017A}j{FFFD}J{FFDD}\i{00ED}\j{FFFD}%
{}{}}
   {\a:accents{acute}{#1}}   {\b:accents{acute}{#1}{#2}}
\Configure{accent}\^\hat{A{00C2}E{00CA}I{00CE}O{00D4}U{00DB}a{00E2}e{00EA}%
i{00EE}o{00F4}u{00FB}C{0108}c{0109}G{011C}g{011D}%
H{0124}h{0125}J{0134}j{0135}S{015C}s{015D}W{0174}%
w{0175}Y{0176}y{0177}Z{1E90}z{1E91}\i{00EE}\j{0135}%
{}{}}
   {\a:accents{hat}{#1}}   {\b:accents{hat}{#1}{#2}}
\Configure{accent}\~\tilde{A{00C3}N{00D1}O{00D5}a{00E3}n{00F1}o{00F5}I{0128}%
i{0129}U{0168}u{0169}V{1E7C}v{1E7D}E{1EBC}e{1EBD}%
Y{1EF8}y{1EF9}\i{0129}%
{}{}}
   {\a:accents{tilde}{#1}}   {\b:accents{tilde}{#1}{#2}}
\Configure{accent}\"\ddot{H{1E26}h{1E27}W{1E84}w{1E85}X{1E8C}x{1E8D}%
t{1E97}A{00C4}E{00CB}I{00CF}O{00D6}U{00DC}%
a{00E4}e{00EB}i{00EF}o{00F6}u{00FC}y{00FF}%
Y{0178}\i{00EF}%
{}{34}}
   {\a:accents{uml}{#1}}   {\b:accents{uml}{#1}{#2}}
\Configure{accent}\c\c{K{0136}k{0137}L{013B}l{013C}N{0145}n{0146}%
R{0156}r{0157}S{015E}s{015F}T{0162}t{0163}%
E{0228}e{0229}D{1E10}d{1E11}H{1E28}h{1E29}%
C{00C7}c{00E7}G{0122}g{0123}%
{}{}}
   {\a:accents{cedil}{#1}}     {\b:accents{cedil}{#1}{#2}}
\Configure{accent}\t\t{{}{}}
   {\a:accents{udot}{#1}}     {\b:accents{udot}{#1}{#2}}
\Configure{accent}\H\H{o{0151}O{0150}U{0170}u{0171}%
{}{}}
   {\a:accents{Huml}{#1}}     {\b:accents{Huml}{#1}{#2}}
\Configure{accent}\b\b{{}{}}
   {\a:accents{b}{#1}}     {\b:accents{b}{#1}{#2}}
\Configure{accent}\d\d{{}{}}
   {\a:accents{d}{#1}}     {\b:accents{d}{#1}{#2}}
\Configure{accent}\.\.{C{010A}c{010B}E{0116}e{0117}G{0120}g{0121}%
I{0130}Z{017B}z{017C}A{0226}a{0227}O{022E}%
o{022F}B{1E02}b{1E03}D{1E0A}d{1E0B}F{1E1E}%
f{1E1F}H{1E22}h{1E23}M{1E40}m{1E41}N{1E44}%
n{1E45}P{1E56}p{1E57}R{1E58}r{1E59}S{1E60}%
s{1E61}T{1E6A}t{1E6B}W{1E86}w{1E87}X{1E8A}%
x{1E8B}Y{1E8E}y{1E8F}%
{}{}}
   {\a:accents{dot}{#1}}      {\b:accents{dot}{#1}{#2}}
\Configure{accent}\dot\dot{C{010A}c{010B}E{0116}e{0117}G{0120}g{0121}%
I{0130}Z{017B}z{017C}A{0226}a{0227}O{022E}%
o{022F}B{1E02}b{1E03}D{1E0A}d{1E0B}F{1E1E}%
f{1E1F}H{1E22}h{1E23}M{1E40}m{1E41}N{1E44}%
n{1E45}P{1E56}p{1E57}R{1E58}r{1E59}S{1E60}%
s{1E61}T{1E6A}t{1E6B}W{1E86}w{1E87}X{1E8A}%
x{1E8B}Y{1E8E}y{1E8F}%
{}{}}
   {\a:accents{dot}{#1}}      {\b:accents{dot}{#1}{#2}}
\Configure{accent}\u\breve{g{011F}I{012C}i{012D}O{014E}o{014F}%
U{016C}u{016D}A{0102}a{0103}E{0114}%
e{0115}G{011E}\i{012D}%
{}{}}
   {\a:accents{breve}{#1}}      {\b:accents{breve}{#1}{#2}}
\Configure{accent}\vec\vec{{}{}}
   {\a:accents{vec}{#1}}      {\b:accents{vec}{#1}{#2}}
\Configure{accent}\v\v{C{010C}c{010D}D{010E}d{010F}%
E{011A}e{011B}L{013D}l{013E}N{0147}n{0148}R{0158}r{0159}%
S{0160}s{0161}T{0164}t{0165}Z{017D}z{017E}A{01CD}a{01CE}I{01CF}%
i{01D0}O{01D1}o{01D2}U{01D3}u{01D4}G{01E6}g{01E7}K{01E8}k{01E9}%
j{01F0}H{021E}h{021F}\i{01D0}\j{01F0}%
{}{}}
   {\a:accents{check}{#1}}      {\b:accents{check}{#1}{#2}}
\Configure{accent}\check\check{C{010C}c{010D}D{010E}d{010F}%
E{011A}e{011B}L{013D}l{013E}N{0147}n{0148}R{0158}r{0159}%
S{0160}s{0161}T{0164}t{0165}Z{017D}z{017E}A{01CD}a{01CE}I{01CF}%
i{01D0}O{01D1}o{01D2}U{01D3}u{01D4}G{01E6}g{01E7}K{01E8}k{01E9}%
j{01F0}H{021E}h{021F}\i{01D0}\j{01F0}%
{}{}}
   {\a:accents{check}{#1}}      {\b:accents{check}{#1}{#2}}
\Configure{accent}\=\bar{{}{}}
   {\a:accents{bar}{#1}}      {\b:accents{bar}{#1}{#2}}

\fi \fi


\:CheckOption{new-accents}     \if:Option \else
\Configure{accent}\bbl@umlauta
   \bbl@umlaute{H{1E26}h{1E27}W{1E84}w{1E85}X{1E8C}x{1E8D}%
t{1E97}A{00C4}E{00CB}I{00CF}O{00D6}U{00DC}%
a{00E4}e{00EB}i{00EF}o{00F6}u{00FC}y{00FF}%
Y{0178}\i{00EF}%
{}{34}}
   {\a:accents{uml}{#1}}     {\b:accents{uml}{#1}{#2}}
\fi


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{ngerman}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \:CheckOption{new-accents}     \if:Option \else
   \Configure{accent}\grmn@OTumlaut
      \grmn@OTumlaut{H{1E26}h{1E27}W{1E84}w{1E85}X{1E8C}x{1E8D}%
t{1E97}A{00C4}E{00CB}I{00CF}O{00D6}U{00DC}%
a{00E4}e{00EB}i{00EF}o{00F6}u{00FC}y{00FF}%
Y{0178}\i{00EF}%
{}{34}}
   {\a:accents{uml}{#1}}     {\b:accents{uml}{#1}{#2}}
\fi
\Configure{quotedblbase}{\leavevmode\ht:special{t4ht@+&{35}x201E;}x}
\Configure{quotesinglbase}{\leavevmode\ht:special{t4ht@+&{35}x201A;}x}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{plain}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \:CheckOption{fn-in}\if:Option
   \Configure{vfootnote}
  {\HCode{<sup>}\Link{fn\FNnum}{fn\FNnum-bk}%
      \ifx \FNmark\empty +\else \FNmark\fi\EndLink
\HCode{</sup>}%
}
  {\SaveEndP\global\setbox\fn:box=\vtop\bgroup\ShowPar
   \ifvoid\fn:box\else  \csname unvbox\endcsname\fn:box\fi
%
\HCode{<sup>}\Link{fn\FNnum-bk}{fn\FNnum}%
\ifx \FNmark\empty +\else \FNmark\fi
\EndLink\space\HCode{</sup>}%
}
  {\EndP\egroup\RecallEndP

}

\else
   \Log:Note{for inline footnotes, use
          the command line option `fn-in'}
   \Configure{vfootnote}
   {\HPageButton[fn\FNnum]{\FNmark}}
   {\BeginHPage[fn\FNnum]{ }}
   {\EndHPage{}}

\fi
\Configure{obeylines}
   {\ifvmode \:xhtml{\IgnorePar\EndP}\IgnoreIndent
       \HCode{<div class="obeylines-v">}%
       \gdef\ob:ln{\ht:special{t4ht=</div>}}%
    \else
       \SaveEndP \HCode{<span class="obeylines-h">}%
       \gdef\ob:ln{\ht:special{t4ht=</span>}\RecallEndP}%
    \fi
   }
   {\EndP\ob:ln\ShowPar}
   {\hbox{\HCode{<br />}}}
\Css{.obeylines-h,.obeylines-v {white-space: nowrap; }}
\Css{div.obeylines-v p { margin-top:0; margin-bottom:0; }}
\Configure{overline}
   {\HCode{<span class="overline">}}
   {\HCode{</span>}}
\Css{.overline{ text-decoration:overline; }}
\Css{.overline img{ border-top: 1px solid black;  }}
\Configure{displaylines}
   {\IgnorePar \EndP
     \HCode{<table \Hnewline border="0" width="100\%"
         class="displaylines">}\IgnorePar}
   {\HCode{</table>}}
   {\HCode{<tr class="displaylines"><td \Hnewline
       style="vertical-align:baseline;" class="displaylines"
       >}}{\HCode{</td></tr>}}
\Css{td.displaylines {text-align:center; white-space:nowrap;}}
\def\:zbsp#1{cellpadding="0" border="0" \Hnewline
   class="#1"}
\Configure{centerline}{\ifvmode \IgnorePar
     \fi \EndP\HCode{<div \Hnewline
      class="centerline">}}{\EndP\HCode{</div>}\ShowPar}
\Configure{leftline}{\ifvmode \IgnorePar
     \fi \EndP \HCode{<p\Hnewline  class="leftline">}}
   {\HCode{</p>}\ShowPar}
\Configure{rightline}
   {\IgnorePar\EndP\HCode{<p class="rightline">}}
   {\HCode{</p>}\ShowPar}
\Css{.centerline {text-align:center;}}
\Css{.rightline {text-align:right;}}

\expandafter\let\csname tex4ht:4ht\endcsname\empty
\def\no:dupl#1#2{%
   \expandafter\ifx \csname #1:4ht\endcsname\relax
      \expandafter\let \csname #1:4ht\endcsname\empty
      \expand:after{#2}%
   \fi
}

\Hinclude{\def\:temp{\ht:everypar={\setbox0=\lastbox\ht:everypar={}}}%
   \ifx \NoindentAfter\:temp
      \no:dupl{#1}{\expand:after{\input #1.4ht}}\fi}
   {osudeG}
\Hinclude{\ifx\amstexloaded@\relax
     \no:dupl{#1}{
      \ifx  \Space@\:UnDef   \expand:after{\input #1.4ht} %
      \else                  \input vanilla.4ht  \fi}%
   \fi}
   {amstex}
\Hinclude{\expandafter\ifx \csname amsppt.sty\endcsname\relax \else
       \no:dupl{#1}{\expand:after{\input #1.4ht}}\fi}
   {amsppt}
\Hinclude{\ifx \texinfoversion\:UnDef\else
      \no:dupl{#1}{\expand:after{\input texinfo.4ht}}\fi}
   {texinfo}
\Hinclude{\ifx \thistubstyle\:UnDef\else
      \no:dupl{#1}{\expand:after{\input tugboat.4ht}}\fi}
   {tugboat}

\expandafter\let\csname tex4ht:4ht\endcsname\empty
\def\no:dupl#1#2{%
   \expandafter\ifx \csname #1:4ht\endcsname\relax
      \expandafter\let \csname #1:4ht\endcsname\empty
      \expand:after{#2}%
   \fi
}

\Hinclude{\ifx \PsfigVersion\:UnDef \else
      \no:dupl{#1}{\expand:after{\input psfig.4ht}}\fi}
   {psfig}
\Hinclude{\:CheckOption{#1}
   \if:Option     \no:dupl{#1}{\expand:after{\input #1.4ht}}\fi}
   {pictex}
\Hinclude{%
   \expandafter\ifx \csname PSTricksLoaded\endcsname\relax\else
                  \no:dupl{#1}{\expand:after{\input #1.4ht}}\fi}
   {pstricks}
\Hinclude{%
   \ifx \:DraCatCodes\:UnDef \else
                  \no:dupl{#1}{\expand:after{\input #1.4ht}}\fi}
   {dratex}
\Hinclude{%
   \ifx \xyloaded\:UnDef \else
                  \no:dupl{#1}{\expand:after{\input #1.4ht}}\fi}
   {xy}

\Hinclude{%
   \ifx \epsfsetgraph\:UnDef \else
                  \no:dupl{#1}{\expand:after{\input #1.4ht}}\fi}
   {epsf}

\Hinclude{%
   \ifx \diagram@help@messages\:UnDef \else
                  \no:dupl{#1}{\expand:after{\input #1.4ht}}\fi}
   {diagrams}

\Hinclude{%
   \ifx \figvisu\:UnDef \else
                  \no:dupl{#1}{\expand:after{\input #1.4ht}}\fi}
   {fig4tex}

\Hinclude{}
   {pctable}
\Hinclude{%
   \:CheckOption{xhtml}\if:Option \fi}
   {xhtml}
\Hinclude{\:CheckOption{#1}
      \if:Option\else   \:CheckOption{ShowFont}\fi
      \if:Option\else   \:CheckOption{frames-}\fi
      \if:Option\else   \:CheckOption{frames}\fi
      \if:Option\else   \:CheckOption{image-maps}\fi
      \if:Option\else   \:CheckOption{java}\fi
      \if:Option\else   \:CheckOption{javascript}\fi
      \if:Option \no:dupl{#1}{\expand:after{\input #1.4ht}}\fi}
   {th4}
\Hinclude{\ifx \sethebrew\:UnDef\else \ifx \ArabTeX\:UnDef\else
      \no:dupl{#1}{\expand:after{\input hebtex.4ht}}\fi \fi}
   {hebtex}

\Configure{settabs}[1.5]{}{}{}{}{}
\Configure{line}{\HCode{<br />}}
\:CheckOption{new-accents}     \if:Option
   \:CheckOption{accent-}     \if:Option
  \Configure{HAccent}\acute{AEIOUYaeiouy{}}{\Picture+{}}{\EndPicture}
  \Configure{HAccent}\bar{}{\Picture+{}}{\EndPicture}
  \Configure{HAccent}\breve{}{\Picture+{}}{\EndPicture}
  \Configure{HAccent}\check{}{\Picture+{}}{\EndPicture}
  \Configure{HAccent}\ddot{AEIOUYaeiouy{}}{\Picture+{}}{\EndPicture}
  \Configure{HAccent}\dot{}{\Picture+{}}{\EndPicture}
  \Configure{HAccent}\grave{AEIOUaeiou{}}{\Picture+{}}{\EndPicture}
  \Configure{HAccent}\hat{AEIOUaeiou{}}{\Picture+{}}{\EndPicture}
  \Configure{HAccent}\tilde{AOaoNn{}}{\Picture+{}}{\EndPicture}
  \Configure{HAccent}\vec{}{\Picture+{}}{\EndPicture}
  \Configure{HAccent}\widehat{}{\Picture+{}}{\EndPicture}
  \Configure{HAccent}\widetilde{}{\Picture+{}}{\EndPicture}
\fi
\:CheckOption{mathaccent-}     \if:Option
  \Configure{HAccent}\"{AEIOUYaeiouy{}}{\Picture+{}}{\EndPicture}
  \Configure{HAccent}\'{AEIOUYaeiouy{}}{\Picture+{}}{\EndPicture}
  \Configure{HAccent}\.{}{\Picture+{}}{\EndPicture}
  \Configure{HAccent}\={}{\Picture+{}}{\EndPicture}
  \Configure{HAccent}\H{}{\Picture+{}}{\EndPicture}
  \Configure{HAccent}\^{AEIOUaeiou{}}{\Picture+{}}{\EndPicture}
  \Configure{HAccent}\`{AEIOUaeiou{}}{\Picture+{}}{\EndPicture}
  \Configure{HAccent}\b{}{\Picture+{}}{\EndPicture}
  \Configure{HAccent}\c{Cc{}}{\Picture+{}}{\EndPicture}
  \Configure{HAccent}\d{}{\Picture+{}}{\EndPicture}
  \Configure{HAccent}\t{}{\Picture+{}}{\EndPicture}
  \Configure{HAccent}\u{}{\Picture+{}}{\EndPicture}
  \Configure{HAccent}\v{}{\Picture+{}}{\EndPicture}
  \Configure{HAccent}\~{AOaoNn{}}{\Picture+{}}{\EndPicture}
\fi
\Configure{accent}{*}
   {<!--tex4ht:accent\Hnewline font="}{" char="}{" type="}{"-->}
   {<!--tex4ht:end accent-->}
\Configure{mathaccent}{*}
   {<!--tex4ht:mathaccent\Hnewline font="}{" char="}{" type="}{"-->}
   {<!--tex4ht:end mathaccent-->}
\Configure{accented}{*}
   {<!--tex4ht:accented\Hnewline font="}{" char="}{" type="}{"-->}
   {<!--tex4ht:end accented-->}
\Configure{accenting}{*}
   {<!--tex4ht:accenting\Hnewline-->}
   {<!--tex4ht:end accenting-->}

\else
   \Configure{accent}\`\grave{A{00C0}E{00C8}I{00CC}N{01F8}O{00D2}U{00D9}W{1E80}%
Y{1EF2}a{00E0}e{00E8}i{00EC}n{01F9}o{00F2}u{00F9}%
w{1E81}y{1EF3}\i{00EC}%
{}{}}
   {\a:accents{grave}{#1}}   {\b:accents{grave}{#1}{#2}}
\Configure{accent}\'\acute{A{00C1}C{0106}D{010E}E{00C9}G{01F4}I{00CD}L{0139}N{0143}%
O{00D3}R{0154}S{015A}U{00DA}Y{00DD}Z{0179}a{00E1}c{0107}%
d{010F}e{00E9}g{01F5}i{00ED}l{013A}n{0144}o{00F3}r{0155}%
s{015B}u{00FA}y{00FD}z{017A}j{FFFD}J{FFDD}\i{00ED}\j{FFFD}%
{}{}}
   {\a:accents{acute}{#1}}   {\b:accents{acute}{#1}{#2}}
\Configure{accent}\^\hat{A{00C2}E{00CA}I{00CE}O{00D4}U{00DB}a{00E2}e{00EA}%
i{00EE}o{00F4}u{00FB}C{0108}c{0109}G{011C}g{011D}%
H{0124}h{0125}J{0134}j{0135}S{015C}s{015D}W{0174}%
w{0175}Y{0176}y{0177}Z{1E90}z{1E91}\i{00EE}\j{0135}%
{}{}}
   {\a:accents{circ}{#1}}   {\b:accents{hat}{#1}{#2}}
\Configure{accent}\~\tilde{A{00C3}N{00D1}O{00D5}a{00E3}n{00F1}o{00F5}I{0128}%
i{0129}U{0168}u{0169}V{1E7C}v{1E7D}E{1EBC}e{1EBD}%
Y{1EF8}y{1EF9}\i{0129}%
{}{}}
   {\a:accents{tilde}{#1}}   {\b:accents{tilde}{#1}{#2}}
\Configure{accent}\"\ddot{H{1E26}h{1E27}W{1E84}w{1E85}X{1E8C}x{1E8D}%
t{1E97}A{00C4}E{00CB}I{00CF}O{00D6}U{00DC}%
a{00E4}e{00EB}i{00EF}o{00F6}u{00FC}y{00FF}%
Y{0178}\i{00EF}%
{}{34}}
   {\a:accents{uml}{#1}}     {\b:accents{uml}{#1}{#2}}
\Configure{accent}\c\c{C{C}c{c}{}{}}
   {\a:accents{cedil}{#1}}     {\b:accents{cedil}{#1}{#2}}
\Configure{accent}\t\t{{}{}}
   {\a:accents{udot}{#1}}     {\b:accents{udot}{#1}{#2}}
\Configure{accent}\H\H{O{0150}o{0151}U{0170}u{0171}Y{04F2}y{04F3}{}{}}
    {\a:accents{Huml}{#1}} {\b:accents{Huml}{#1}{#2}}
\Configure{accent}\b\b{{}{}}
    {\a:accents{b}{#1}} {\b:accents{b}{#1}{#2}}
\Configure{accent}\d\d{{}{}}
    {\a:accents{d}{#1}} {\b:accents{d}{#1}{#2}}
\Configure{accent}\.\.{{}{}}
   {\a:accents{dot}{#1}} {\b:accents{dot}{#1}{#2}}
\Configure{accent}\dot\dot{{}{}}
   {\a:accents{dot}{#1}} {\b:accents{dot}{#1}{#2}}
\Configure{accent}\u\breve{{}{}}{\a:accents{breve}{#1}}
   {\b:accents{breve}{#1}{#2}}
\Configure{accent}\vec\vec{{}{}}{\a:accents{vec}{#1}}
   {\b:accents{vec}{#1}{#2}}
\Configure{accent}\v\v{{}{}}{\a:accents{check}{#1}}
   {\b:accents{check}{#1}{#2}}
\Configure{accent}\check\check{{}{}}{\a:accents{check}{#1}}
   {\b:accents{check}{#1}{#2}}
\Configure{accent}\=\bar{{}{}}
   {\a:accents{bar}{#1}} {\b:accents{bar}{#1}{#2}}
\Configure{accent}\widetilde\widetilde{{}{}}
   {\a:accents{widetilde}{#1}} {\b:accents{widetilde}{#1}{#2}}
\Configure{accent}\widehat\widehat{{}{}}
   {\a:accents{widehat}{#1}} {\b:accents{widehat}{#1}{#2}}

   \Configure{accents}
      {\ht:special{t4ht@+\string&{35}x#2{59}}x}
      {\Picture+{ \:Picture:{#1}}#2{#3}\EndPicture}
\fi
\let\^^_\v

\Configure{ }{\:nbsp}

\def\end:TTT{\ifvmode\IgnorePar\fi \EndP\HCode{</td></tr></table>}}
\:CheckOption{new-accents}     \if:Option \else
  \Configure{accents}
    {\expandafter\ifx \csname #1-num\endcsname\relax
       \ht:special{t4ht@+\string&{35}x#2{59}}x%
     \else
       \ht:special{t4ht@+\string&\#x#2;}X%
     \fi
    }
    {\expandafter\ifx \csname a:#1-css\endcsname\relax
        \Picture+{ \a:@Picture{#1}}#2{#3}\EndPicture
     \else
        \csname a:#1-css\endcsname #3\csname b:#1-css\endcsname
     \fi
    }
    \expandafter\let\csname ring-num\endcsname=\def
\fi


\:CheckOption{fancylogo}\if:Option
\def\TeX{\HCode{<span class="TEX">}T\HCode{<span\Hnewline
     class="E">}E\HCode{</span>}X\HCode{</span>}}
\Css{span.TEX {letter-spacing: -0.125em; margin-right:0.125em;}}
\Css{span.TEX span.E{ position:relative;top:0.5ex;left:-0.0417em;}}
\Css{a span.TEX span.E {text-decoration: none; }}
\else
\def\TeX{TeX}
\fi

\Configure{underline}
   {\HCode{<span class="underline">}\hbox\bgroup \:gobble}
   {\egroup \HCode{</span>}}
\Css{.underline{ text-decoration:underline; }}
\Css{.underline img{ border-bottom: 1px solid black;
                     margin-bottom:1pt; }}
\def\plain:indent{\ShowIndent \global\let\plain:indent\empty}
\Configure{@BODY}{\plain:indent}
\Configure{settabs}[1.5]{\IgnorePar\EndP\leavevmode
     \ht:special{t4ht=<table
     \Hnewline\:zbsp{settabs}><tr \Hnewline style="vertical-align:baseline;"
     class="settabs">}}
   {\ht:special{t4ht=</tr></table>}}
   {\ht:special{t4ht=<td \ifx \TabWidth\empty \else
                width="\TabWidth"\fi \Hnewline class="settabs">}}
   {\ht:special{t4ht=</td>}}
\Configure{narrower}{\ifvmode \IgnorePar\fi  \EndP%
   \HCode{<table cellpadding="15" class="narrower"><tr
      class="narrower"><td class="narrower">}\ifvmode \IgnorePar\fi}
   {\ifvmode \IgnorePar\fi \EndP
    \HCode{</td></tr></table>}\ifvmode \IgnorePar\fi}
\Configure{proclaim}
    {\IgnorePar\EndP\HCode{<div class="proclaim"><span class="proclaim">}}
    {\HCode{</span>}}    {\IgnorePar\EndP\HCode{</div>}}
\Css{div.proclaim { margin-top: 1em; margin-bottom: 1em; }}
\Configure{beginsection}
  {\ifvmode \IgnorePar\fi \EndP
   \HCode{<div class="beginsection">}}
  {\ifvmode \IgnorePar\fi \EndP \HCode{</div>}}
  {\ifvmode \IgnorePar\fi \EndP \HCode{<h3 class="beginsection">}}
  {\HCode{</h3>}\par\ShowPar}
\ConfigureToc{beginsection}
     {} {\relax}  {}  { }
\Configure{TableOfContents}
   {\IgnorePar\EndP \HCode{<div class="TableOfContents"\a:LRdir>}}{}
   {\ifvmode \IgnorePar\fi\EndP
    \HCode{</div>}\ShowPar}{\HCode{<br />}}{}
\:CheckOption{1}     \if:Option
   \CutAt{beginsection}
   \Configure{beginsectionTITLE+}{#1}
   \ConfigureToc{beginsection}
     {\HCode{<span class="beginsectionToc" \a:LRdir>}}
     {\empty}
     {}
     {\HCode{</span><br />}}
   \let\au:StartSec\:StartSec
   \def\:StartSec{\TableOfContents[beginsection]%
                  \global\let\:StartSec\au:StartSec
                  \:StartSec}%
\else
    \Log:Note{for automatic sectioning
        pagination, use the command line option `1'}%
\fi
\Configure{insert}
  {\IgnorePar\EndP\HCode{<hr class="insert"\xml:empty>}\IgnorePar}
  {\IgnorePar\EndP\HCode{<hr class="endinsert"\xml:empty>}\IgnorePar}

\Configure{item}
   {}{}
   {\par\Configure{items}{\item:class}\HCode{<span class="item">}}
   {\HCode{</span>}\Configure{items}{}}
\Configure{itemitem}
   {}{}
   {\par\Configure{items}{\itemitem:class}\HCode{<span class="itemitem">}}
   {\HCode{</span>}\Configure{items}{}}
\Css{p.item {text-indent:-2em; margin-left:2em;}}
\Css{p.itemitem {text-indent:-2em; margin-left:4em;}}
\Css{span.item, span.itemitem {width:2em; margin-right:0.4em;}}
\Configure{!P}{\a:items}
\NewConfigure{items}{1}
\Configure{items}{}
\def\item:class#1class#2"#3"{#1class="item"}
\def\itemitem:class#1class#2"#3"{#1class="itemitem"}
             
\Configure{eqalign}
   {\:xhtml{\IgnorePar\EndP}\HCode
      {<div class="eqalign"><table class="eqalign">}}
   {\HCode{</table></div>}}
   {\HCode{<tr \Hnewline class="eqalign"
         style="vertical-align:middle;">}}{\IgnorePar\HCode{</tr>}}
   {\HCode{<td style="white-space:nowrap;text-align:\ifnum \HCol=2
         left\else right\fi"\Hnewline  class="eqalign\HCol"
         >}}
   {\HCode{</td>}}
\def\:eqalign:{\Configure{noalign}
  {\HCode{<tr><td class="noalign" colspan="2">}}%
  {\HCode{</td></tr>}}}
\Css{td.eqalign3 { text-align:right; margin-left:10em;}}
\Css{.eqalign td { white-space: nowrap; }}
\Css{div.eqalign {text-align:center;}}
\Configure{eqalignno}
   {\:xhtml{\IgnorePar\EndP}\HCode{<table class="eqalignno">}}
   {\HCode{</table>}}
   {\HCode{<tr\Hnewline class="eqalignno">}}{\IgnorePar\HCode{</tr>}}
   {\HCode{\ifnum \HCol=3 <td\Hnewline width="10"
           class="eqalignno-sp"></td>\fi
           <td style="text-align:\ifnum \HCol=2 left\else right\fi"\Hnewline
           class="eqalignno\HCol">}}
   {\HCode{</td>}}
\def\:eqalignno:{\Configure{noalign}
  {\HCode{<tr><td class="noalign" colspan="2">}}%
  {\HCode{</td></tr>}}}
\Css{td.eqalignno3, td.leqalignno3
       { text-align:right; margin-left:10em;}}
\Css{.leqalignno td, .eqalignno td
       { white-space: nowrap; }}
\Css{.leqalignno td.noalign, .eqalignno td.noalign
       { width:5\%; white-space: normal; }}
\Css{table.leqalignno, table.eqalignno {width:100\%;}}
\Configure{leqalignno}
   {\:xhtml{\IgnorePar\EndP}\HCode{<table class="leqalignno">}}
   {\HCode{</table>}}
   {\HCode{<tr \Hnewline
           class="leqalignno">}}{\IgnorePar\HCode{</tr>}}
   {\HCode{\ifnum \HCol=3 <td\Hnewline width="30"
           class="eqalignno-sp"></td>\fi
           <td style="text-align:\ifnum \HCol=2 left\else right\fi"\Hnewline
           class="leqalignno\HCol">}}
   {\HCode{</td>}}
\def\:leqalignno:{\Configure{noalign}
  {\HCode{<tr><td class="noalign" colspan="2">}}%
  {\HCode{</td></tr>}}}

\Configure{l}{\ht:special{t4ht@+\string&{35}x0142{59}}x}
\Configure{L}{\ht:special{t4ht@+\string&{35}x0141{59}}x}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%




%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{biblatex}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \HAssign\bibN=0
\Configure{thebibliography}%
   {\ifvmode \IgnorePar\fi \EndP
    \EndP\HCode{<dl \a:LRdir class="thebibliography">}%
    \PushMacro\end:itm
    \global\let\end:itm=\empty}
   {\ifvmode \IgnorePar\fi \EndP
    \PopMacro\end:itm \global\let\end:itm \end:itm
    \EndP\HCode{</dd></dl>}\ShowPar}
   {\ifvmode \IgnorePar\fi \EndP
    \gHAdvance\bibN by 1
    \end:itm \global\def\end:itm{\EndP\Tg</dd>}\HCode{<dt
        id="bib-\bibN"
        class="thebibliography">}\bgroup \bf}
   {\ifvmode \IgnorePar\fi \EndP
    \gHAdvance\bibN by 1
    \egroup\HCode{</dt><dd\Hnewline
       id="bib-\bibN" class="thebibliography">}\par\ShowPar}
\Configure{printshorthands}
   {\ifvmode \IgnorePar\fi \EndP
    \HCode{<dl class="printshorthands"><dt class="printshorthands">}}
   {\ifvmode \IgnorePar\fi \EndP  \HCode{</dd></dl>}}
   {\ifvmode \IgnorePar\fi \EndP
    \HCode{</dd><dt class="printshorthands">}}
   {\HCode{</dt><dd class="printshorthands">}\par\ShowPar}
\Css{dt.printshorthands{float:left; clear:left; margin-right:1em;}}
\Configure{finentry}
    {\hbox{\HCode{<!--finentry-->}}}
    {\hbox{\HCode{<!--/finentry-->}}}
\NewConfigure{printfield-entrykey}{2}
\Configure{printfield-entrykey}
   {\HCode{<span class="entrykey">}}
   {\HCode{</span>}}
\Configure{biblatex-style}
   {authortitle}
   {\Css{dd.thebibliography { text-indent: -2em; margin-left: 2em;}}
\Css{dd.thebibliography p:first-child{ text-indent: -2em; }}
\Css{dt.thebibliography{float:left; clear:left; margin-right:1em;}}
}
\Configure{biblatex-style}
   {authortitle-comp}
   {\Css{dd.thebibliography { text-indent: -2em; margin-left: 2em;}}
\Css{dd.thebibliography p:first-child{ text-indent: -2em; }}
\Css{dt.thebibliography{float:left; clear:left; margin-right:1em;}}
}
\Configure{biblatex-style}
   {authortitle-tcomp}
   {\Css{dd.thebibliography { text-indent: -2em; margin-left: 2em;}}
\Css{dd.thebibliography p:first-child{ text-indent: -2em; }}
\Css{dt.thebibliography{float:left; clear:left; margin-right:1em;}}
}
\Configure{biblatex-style}
   {authortitle-icomp}
   {\Css{dd.thebibliography { text-indent: -2em; margin-left: 2em;}}
\Css{dd.thebibliography p:first-child{ text-indent: -2em; }}
\Css{dt.thebibliography{float:left; clear:left; margin-right:1em;}}
}
\Configure{biblatex-style}
   {authortitle-ibid}
   {\Css{dd.thebibliography { text-indent: -2em; margin-left: 2em;}}
\Css{dd.thebibliography p:first-child{ text-indent: -2em; }}
\Css{dt.thebibliography{float:left; clear:left; margin-right:1em;}}
}
\Configure{biblatex-style}
   {authoryear}
   {\Css{dd.thebibliography { text-indent: -2em; margin-left: 2em;}}
\Css{dd.thebibliography p:first-child{ text-indent: -2em; }}
\Css{dt.thebibliography{float:left; clear:left; margin-right:1em;}}
}
\Configure{biblatex-style}
   {authoryear-ibid}
   {\Css{dd.thebibliography { text-indent: -2em; margin-left: 2em;}}
\Css{dd.thebibliography p:first-child{ text-indent: -2em; }}
\Css{dt.thebibliography{float:left; clear:left; margin-right:1em;}}
}
\Configure{biblatex-style}
   {authoryear-comp}
   {\Css{dd.thebibliography { text-indent: -2em; margin-left: 2em;}}
\Css{dd.thebibliography p:first-child{ text-indent: -2em; }}
\Css{dt.thebibliography{float:left; clear:left; margin-right:1em;}}
}
\Configure{biblatex-style}
   {verbose}
   {\Css{dd.thebibliography { text-indent: -2em; margin-left: 2em;}}
\Css{dd.thebibliography p:first-child{ text-indent: -2em; }}
\Css{dt.thebibliography{float:left; clear:left; margin-right:1em;}}
}
\Configure{biblatex-style}
   {verbose-ibid}
   {\Css{dd.thebibliography { text-indent: -2em; margin-left: 2em;}}
\Css{dd.thebibliography p:first-child{ text-indent: -2em; }}
\Css{dt.thebibliography{float:left; clear:left; margin-right:1em;}}
}
\Configure{biblatex-style}
   {verbose-note}
   {\Css{dd.thebibliography { text-indent: -2em; margin-left: 2em;}}
\Css{dd.thebibliography p:first-child{ text-indent: -2em; }}
\Css{dt.thebibliography{float:left; clear:left; margin-right:1em;}}
}
\Configure{biblatex-style}
   {alphabetic-verb}
   {\Css{dd.thebibliography {margin-left: 5em;}}
\Css{dt.thebibliography {float:left; clear:left; margin-right:1em;}}
}
\Configure{biblatex-style}
   {alphabetic}
   {\Css{dd.thebibliography {margin-left: 5em;}}
\Css{dt.thebibliography {float:left; clear:left; margin-right:1em;}}
}
\Configure{biblatex-style}
   {numeric}
   {\Css{dd.thebibliography {margin-left: 2.5em;}}
\Css{dt.thebibliography {float:left; clear:left; margin-right:1em;}}
}
\Configure{biblatex-style}
   {numeric-verb}
   {\Css{dd.thebibliography {margin-left: 2.5em;}}
\Css{dt.thebibliography {float:left; clear:left; margin-right:1em;}}
}
\Configure{biblatex-style}
   {numeric-comp}
   {\Css{dd.thebibliography {margin-left: 2.5em;}}
\Css{dt.thebibliography {float:left; clear:left; margin-right:1em;}}
}
\Configure{biblatex-style}
   {draft}
   {
     \Css{dd.thebibliography {margin-left: 2.5em;}}
     \Css{dt.thebibliography {float:left; clear:left; margin-right:1em;}}
   }
\Configure{biblatex-style}
   {reading}
   {
     \Css{.entrykey {float:right; margin-top:-1.25em;}}
   }
\Configure{biblatex-style}{verbose-trad1}{}
\Configure{biblatex-style}{verbose-trad2}{}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{reading}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{entryhead:name}
   {\hbox{\HCode{<!--entryhead:name-->}%
    \Css{dd\#bib-\bibN\space p:last-child
               {border-bottom:solid black 1px}}%
   }}
   {\hbox{\HCode{<!--/entryhead:name-->}}}
\Configure{entryhead:full}
   {\hbox{\HCode{<!--entryhead:full-->}%
    \Css{dd\#bib-\bibN\space p:last-child
               {border-bottom:solid black 1px}}%
   }}
   {\hbox{\HCode{<!--/entryhead:full-->}}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{glossary}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{gloskip}{list}{\item[]\HCode{<p class="gloskip"></p>}}
\Configure{gloskip}{altlist}{\item[]\HCode{<p class="gloskip"></p>}}
\Configure{gloskip}{super}{\cr\HCode{<p class="gloskip"></p>}}
\Configure{gloskip}{long}{\cr\HCode{<p class="gloskip"></p>}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{letter}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \ConfigureEnv{quote}
   {}{}
   {\IgnorePar\EndP
    \HCode{<blockquote class="\getClass{quote}">}\afterGetClass{quote}}
   {\IgnorePar\EndP\HCode{</blockquote>}\ShowPar\ShowIndent}
\NewConfigure{quoteClass}{2}
\Configure{quoteClass}{quote}{}

\ConfigureEnv{quotation}
   {}{}
   {\IgnorePar\EndP\HCode{<blockquote class="quotation">}}
   {\IgnorePar\EndP\HCode{</blockquote>}\ShowPar}

\ConfigureList{description}%
   {\EndP\HCode{<dl \a:LRdir class="description">}%
      \PushMacro\end:itm
\global\let\end:itm=\empty}
   {\PopMacro\end:itm \global\let\end:itm \end:itm
\EndP\HCode{</dd></dl>}\ShowPar}
   {\end:itm \global\def\end:itm{\EndP\Tg</dd>}\HCode{<dt
        class="description">}\bgroup \bf}
   {\egroup\EndP\HCode{</dt><dd\Hnewline class="description">}}

\Configure{enumiii}
    {\HCode{<span class="roman-numeral">}}
    {\HCode{</span>}}

{\Configure{Needs}{Font\string_Size: #1}\ifcase  \@ptsize
   \or \Needs{11}\or \Needs{12}\else \fi}

\ConfigureEnv{verse}
   {\ifvmode \IgnorePar\fi\EndP\Tg<div class="verse">}
   {\ifvmode \IgnorePar\fi\EndP\Tg</div>\par\ShowPar}
   {}{}
\ConfigureList{verse}
   {}{}
   {\parindent=\z@}  {\par}
\Css{.verse{white-space:nowrap; margin-left:2em}}
\Configure{opening}
   {\bgroup
       \ConfigureEnv{tabular}{}{}{}{}%
       \Configure{tabular}
         {\EndP\ifvmode \IgnorePar \fi
          \HCode{<div class="opening"\a:LRdir>}}
         {\HCode{</div><p class="clear-both" />}}
         {}
         {\HCode{<br />}}
         {}{}%
       \Configure{HBorder}
         {<br class="hline" />} {}{}
         {<br class="cline" />} {}{} {}
         {<br class="vspace" />} {}{}%
   }
   {\egroup}
\Configure{closing}
   {\EndP\ifvmode \IgnorePar\fi
    \HCode{<div class="closing">}}
   {\EndP\ifvmode \IgnorePar\fi
    \HCode{</div><p class="clear-both" />}}
\longindentation=0pt
\Css{div.opening{float:right;}}
\Css{div.closing {float:right; margin-right:2em;}}
\Css{p.clear-both{clear:both;}}
\Configure{address}
   {\ifvmode \IgnorePar\fi \EndP \HCode{<span class="address">}}
   {\HCode{</span>}}
\Configure{toaddress}
   {\HCode{<div class="toaddress">}}
   {\HCode{</div>}}
\Configure{toname}
   {\ifvmode \IgnorePar\fi \EndP \HCode{<div class="toname">}}
   {\HCode{</div>}}
\Configure{date}
   {\HCode{<span class="date" \a:LRdir>}}
   {\HCode{</span>}}
\Configure{dear}
   {\HCode{<span class="dear">}}
   {\HCode{</span>}}
\Configure{sincerely}
   {\HCode{<span class="sincerely">}}
   {\HCode{</span>}}
\Configure{signature}
   {\HCode{<span class="signature">}}
   {\HCode{</span>}}
\Configure{cc}
   {\HCode{<div class="cc">}\IgnorePar}
   {\ifvmode\IgnorePar\fi\HCode{</div>}}
\Configure{encl}
   {\HCode{<div class="encl">}\IgnorePar}
   {\ifvmode\IgnorePar\fi\HCode{</div>}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{latin2}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \ifx\A:charset\empty
\def\A:charset{charset=iso-8859-2}
\fi

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%




%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{seslideb}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \ConfigureEnv{center}
  {\IgnorePar \par \EndP \HCode{<div class="center"\Hnewline>}}
  {\ifvmode\IgnorePar\fi\EndP\HCode{</div>}}
  {} {}
{\Configure{Needs}{Font\string_Size: #1}%
   \expandafter\Needs\expandafter{\csname normalsize@fsize\endcsname}}
\ConfigureToc{swSlide}
   {} {\relax  }  {}  { }
\:CheckOption{0}
   \if:Option  \else    \:CheckOption{1} \fi
\if:Option
   \:CheckOption{1} \if:Option
      \CutAt{swSlide}
      \Configure{crosslinks}{}{}{}{}{}{}{}{}
   \fi
   \def\:temp{%
   \ifOption{1}{\par\IgnorePar\EndP\HCode{<hr />}\par}{}
   \HAssign\TocN=1
   \def\swTitle{\gHAdvance\TocN by 1 \TocN}\:TableOfContents[swSlide]
   \let\swTitle=\relax
   \ifOption{0}{\par\IgnorePar\EndP\HCode{<hr />}\par}{}
   \let\swSlide=\o:swSlide: \let\o:swSlide:=\empty \swSlide}
\HLet\swSlide=\:temp

   \Configure{swSlide}
  {\gHAdvance\swSlideN by 1 \Link{}{s-\swSlideN}\EndLink }
  {\rightline{
       {\HAdvance\swSlideN by -1 \Link{s-\swSlideN}{}\swSlideN\EndLink}
       \Link[\jobname.html]{}{}\HCode{&lt;&gt;}\EndLink{}
       {\HAdvance\swSlideN by 1
         \ifTag{)Qs-\swSlideN}{\Link{s-\swSlideN}{}\swSlideN\EndLink}{}}
     }
     \ifOption{0}{\par \IgnorePar\EndP\HCode{<hr />}\par}{}
   }
   {\IgnorePar\bgroup \bf }
   {\egroup \ShowPar\IgnoreIndent\par}
\HAssign\swSlideN=1

\else
   \Configure{swSlide}{}{}{\bgroup\bf}{\egroup}

   \Log:Note{pagination may be obtained
       through the option `0' or `1', at locations marked with
       \noexpand\csname PageBreak\string\endcsname}
\fi

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%





%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{url}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \:CheckOption{url-il2-pl} \if:Option
\else \:CheckOption{url-enc} \fi
\if:Option
   \Configure{string-encoder}{url-encoder}
%   \:CheckOption{url-il2-pl} \if:Option
      \input{html4-l2-url.4ht}

%   \else
      
%      \Log:Note{for il2-pl url encoding,
%                        use the command line option 'url-il2-pl'}
%   \fi
   \Configure{url}%
     {\tmp:toks={}\set:spaces#1!*?: %
\edef\:temp{\tmp:toks{\csname url-encoder\expandafter\endcsname
                      \the\tmp:toks !*?: }}\:temp
%
      \Link[\noexpand\the\tmp:toks \space
               class="url"]{}{}{\let\UrlBigBreaks\empty
                         \let\UrlBreaks\empty #1}\EndLink}
   \def\set:spaces{\futurelet\:temp\set:spacesoo}
\def\set:spacesoo{%
   \expandafter\ifx \space\:temp
      \tmp:toks\expandafter{\the\tmp:toks{ }}%
   \fi
   \set:spaceso
}
\def\set:spaceso#1#2!*?: {%
   \tmp:toks\expandafter{\the\tmp:toks #1}%
   \if !#2!\else \set:spaces#2!*?: \fi
}

\else
   \Log:Note{for URL encoding within href
          use the command line option `url-enc'}
   \Configure{url}%
     {\tmp:toks{#1}\Link[\noexpand\the\tmp:toks\space
               class="url"]{}{}{\let\UrlBigBreaks\empty
                         \let\UrlBreaks\empty #1}\EndLink}
\fi
\Configure{path}
  {\HCode{<span class="path">}\bgroup
   \Configure{obeylines}{}{}{}%
  }
  {\egroup\HCode{</span>}}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{hyperref}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{Form}
   {\IgnorePar\EndP\leavevmode \Tg<form \Hnewline \Attributes>}
   {\IgnorePar\EndP\Tg</form>}

\NewConfigure{::value}{1}
\Configure{::value}
   {\edef\Attributes{\Attributes\space value="\AttributeVal"}}
\NewConfigure{::name}{1}
\Configure{::name}
   {\edef\Attributes{\Attributes\space name="\AttributeVal"}}
\NewConfigure{::default}{1}
\Configure{::default}
   {\let\::default=\AttributeVal}
\def\get:int#1.#2//{\tmp:cnt=#1 }
\def\Default:Checked#1{%
   \ifx #1\Un:Def \let\:temp=\empty \else
      \let\:temp=\relax
      \let\:tempa=\relax
      \edef\:temp{\def\:temp####1#1#1####2//{\def\:temp{####2}}%
                      \:temp \AttributeVal #1=#1#1//%
          \def\:tempa####1=####2//{\def\noexpand\AttributeVal{####1}}%
              \:tempa\AttributeVal=//}%
      \:temp
   \fi
}

\NewConfigure{TextField::}{2}
\Configure{TextField::}{}{ \Tg<input type="text" \Attributes />}
\NewConfigure{TextField::width}{1}
\Configure{TextField::width}
   {\tmp:dim=\AttributeVal   \divide\tmp:dim by 6
    \expandafter\get:int\the\tmp:dim//%
    \edef\Attributes{\Attributes\space size="\the\tmp:cnt"}}
\NewConfigure{TextField::default}{1}
\Configure{TextField::default}
   {\edef\Attributes{\Attributes\space value="\AttributeVal"}}

\NewConfigure{TextField::multiline}{2}
\Configure{TextField::multiline}
  {}
  { \Tg<textarea
        \Attributes>\expandafter\set:ln\multiline:value,!*?: %
  \global\let\multiline:value=\empty \Tg</textarea>}

\let\multiline:value=\empty
\def\set:ln#1,#2!*?: {#1%
  \def\:temp{#2}\ifx \:temp\empty \else
     \hfil\break  \def\:temp{\set:ln#2!*?: }%
  \fi \:temp}

\NewConfigure{multiline::value}{1}
\Configure{multiline::value}
  {\let\multiline:value=\AttributeVal}

\NewConfigure{multiline::width}{1}
\Configure{multiline::width}
   {\tmp:dim=\AttributeVal   \divide\tmp:dim by 6
    \expandafter\get:int\the\tmp:dim//%
    \edef\Attributes{\Attributes\space cols="\the\tmp:cnt"}}

\NewConfigure{multiline::height}{1}
\Configure{multiline::height}
   {\tmp:dim=\AttributeVal   \divide\tmp:dim by 6
    \expandafter\get:int\the\tmp:dim//%
    \edef\Attributes{\Attributes\space rows="\the\tmp:cnt"}}

\NewConfigure{TextField::password}{2}
\Configure{TextField::password}
  {}{\Tg<input type="password" \Attributes />}

\NewConfigure{ChoiceMenu::radio}{5}
\Configure{ChoiceMenu::radio}
   {\IgnorePar\EndP\leavevmode
      \Tg<div id="form-\form:id">\gHAdvance\form:id by 1 }
   { }{\IgnorePar\EndP\Tg</div>}
   {\Default:Checked\radio::default
    \Tg<input\Hnewline type="radio"
            \ifx \:temp\empty\else checked="checked" \fi
            \Attributes\space />}
   {}
\NewConfigure{radio::default}{1}
\Configure{radio::default}
   {\let\radio::default=\AttributeVal}
\NewConfigure{ChoiceMenu::combo}{5}
\Configure{ChoiceMenu::combo}
   {}
   {~\Tg<select\Hnewline \Attributes \Hnewline size="1">}
   {\Tg</select>}
   {\Tg<option \ifx\::default\AttributeVal selected="selected"\fi
        \Hnewline>}
   {\Tg</option>}
\NewConfigure{combo::default}{1}
\Configure{combo::default}
   {\let\combo::default=\AttributeVal}
\NewConfigure{ChoiceMenu::popdown}{5}
\Configure{ChoiceMenu::popdown}
   {}{\HCode{\Hnewline <select \Attributes \Hnewline size="1">}}
   {\Tg</select>}
   {\Tg<option \ifx\::default\AttributeVal selected="selected"\fi
        \Hnewline>} {\Tg</option>}
\NewConfigure{ChoiceMenu::}{5}
\Configure{ChoiceMenu::}
   {}{\HCode{\Hnewline <select\Hnewline \Attributes>}}{\Tg</select>}
   {\Tg<option \ifx\::default\AttributeVal selected="selected"\fi
        \Hnewline>}  {\Tg</option>}
\NewConfigure{::menulength}{1}
\Configure{::menulength}
   {\edef\Attributes{\Attributes\space size="\AttributeVal"}}

\def\:tempc#1{%
  \NewConfigure{::#1}{1}%
  \Configure{::#1}%
    {\edef\Attributes{\Attributes\space #1="\AttributeVal"}}}
\:tempc{onclick}
\:tempc{onblur}
\:tempc{onchange}
\:tempc{onclick}
\:tempc{ondblclick}
\:tempc{onfocus}
\:tempc{onkeydown}
\:tempc{onkeypress}
\:tempc{onkeyup}
\:tempc{onmousedown}
\:tempc{onmousemove}
\:tempc{onmouseout}
\:tempc{onmouseover}
\:tempc{onmouseup}
\:tempc{onselect}

\NewConfigure{::action}{1}
\Configure{::action}
   {\edef\Attributes{\Attributes\space action="\AttributeVal"}}
\NewConfigure{::method}{1}
\Configure{::method}
   {\edef\Attributes{\Attributes\space method="\AttributeVal"}}
\NewConfigure{PushButton::}{1}
\Configure{PushButton::}
   {\leavevmode\Tg<input type="button" \Attributes\space/>}
\NewConfigure{Reset::}{1}
\Configure{Reset::}
  {\leavevmode\Tg<input type="reset" \Attributes\space/>}
\NewConfigure{Submit::}{1}
\Configure{Submit::}
  {\leavevmode\Tg<input type="submit" \Attributes\space/>}
\NewConfigure{CheckBox::}{2}
\Configure{CheckBox::}
  {\leavevmode\Tg<input type="checkbox" \Attributes\space/>}{}
\NewConfigure{CheckBox::checked}{2}
\Configure{CheckBox::checked}
  {\leavevmode\Tg<input type="checkbox" checked="checked"
      \Attributes\space/>}{}
\HAssign\form:id=0
\ifx \@baseurl\@empty \else
   \Configure{@HEAD}
      {\HCode{<base href="\:baseurl" />}}
   \let\:baseurl\@baseurl
   \let\@baseurl=\@empty
\fi

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{supertabular}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{SpBorder}
   {<tr\Hnewline class="vspace"><!--\SpBorder-->}
   {<td>\string&nbsp;</td>}
   {</tr>}
\ConfigureEnv{supertabular}
   {\par \IgnorePar \EndP \HCode{<div class="supertabular">}}
   {\ifvmode \IgnorePar \fi \EndP \HCode{</div>}\par}
   {} {}
\Css{.supertabular {text-align:center}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{array}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \:CheckOption{pic-tabular}  \if:Option \else
   \ConfigureEnv{tabular}
     {\Configure{noalign}%
  {\f:tabular\d:tabular \HCode{<tr><td colspan="\ar:cnt">}}
  {\HCode{</td></tr>}\pend:def\TableNo{0}\c:tabular\e:tabular}%
%
      \IgnorePar\ifvmode\else\HCode{<!--tex4ht:inline-->}\fi
\EndP\HCode{<div class="tabular">}%
      \PushStack\Col:Marg\AllColMargins
     }
     {\HCode{</div>}\PopStack\Col:Marg\AllColMargins\ShowPar
      \Configure{noalign}{}{}%
%
      \ShowPar
%
     }{}{}
   \Css{div.tabular, div.center div.tabular {text-align: center;
           margin-top:0.5em; margin-bottom:0.5em;  }}
   \Css{table.tabular td  p{margin-top:0em;}}
   \Css{table.tabular {margin-left: auto;
                       margin-right: auto;}}    
\fi
\Css{td p:first-child{ margin-top:0em; }}
\Css{td p:last-child{ margin-bottom:0em; }}
\Configure{multicolumn}
   {\let\col:Css\empty
    \Configure{VBorder}
       {}
       {\edef\col:Css{\col:Css
                     border-\ifnum \ar:cnt=0 left\else right\fi
                     :solid black 0.4pt;}%
       }{}{}%
   }
   {\ifx \col:Css\empty \else
        \Css{td\#TBL-\TableNo-\HRow-\HCol{\col:Css}}%
    \fi
   }
   {\ifvmode\IgnorePar\fi
    \HCode{<div class="multicolumn" }\HColAlign\HCode{>}%
    \ifx \col:Css\empty \else
        \Css{td\#TBL-\TableNo-\HRow-\HCol{\col:Css}}%
    \fi
   }
   {\ifvmode\IgnorePar\fi \EndP\HCode{</div>}}
\def\pic:env{%
   \def\begin##1{\bgroup
      \def\end####1{\o:end:{####1}\EndPicture\egroup}%
      \ifx \EndPicture\:UnDef
           \Picture+{ class="##1" style="text-align:middle"}%
      \else \let\EndPicture\empty\fi
      \o:begin:{##1}}%
}
\def\ColMargins{%
   \ifx \AllColMargins\empty
      \:warning{Empty \string\AllColMargins}%
   \else
      \tmp:cnt\HCol\relax
      \expandafter\nosp:hbr\AllColMargins 1//%
   \fi }
\def\nosp:hbr#11#2//{\ifnum \tmp:cnt>1 \advance\tmp:cnt by -1
   \nosp:hbr#2//\else\nosp:gt#11#2//\fi}
\def\nosp:gt#11#21#3//{%
   \def\:temp{#1}\ifx \:temp\empty 1\else 0\fi
   \def\:temp{#2}\ifx \:temp\empty 1\else 0\fi}
\Css{div.td00{ margin-left:0pt; margin-right:0pt; }}
\Css{div.td01{ margin-left:0pt; margin-right:5pt; }}
\Css{div.td10{ margin-left:5pt; margin-right:0pt; }}
\Css{div.td11{ margin-left:5pt; margin-right:5pt; }}
\Configure{halignTB<>}{tabular}{\HCode{id="TBL-\TableNo"
                                             class="tabular"\Hnewline
   \GROUPS\Hnewline
   }<>\HAlign}
\Css{table[rules] {border-left:solid black 0.4pt;
                   border-right:solid black 0.4pt; }}
\:CheckOption{pic-tabular}  \if:Option \else
   \Configure{tabular}
      {\ifvmode \IgnorePar\fi \EndP \halignTB{tabular}\putVBorder }
      {\HCode{</table>}}
      {\HCode{<tr \Hnewline}\halignTR
                            \HCode{ id="TBL-\TableNo-\HRow-">}}
      {\r:HA}
      {\HCode{<td \ifnum \HMultispan>1 colspan="\HMultispan"\fi}%
         \halignTD \HCode{ id="TBL-\TableNo-\HRow-\HCol"
         \Hnewline class="td}\NoFonts
           \bgroup
              \ifx \ttfamily\:UnDef \else \ttfamily\fi
              \ColMargins
           \egroup
\EndNoFonts
%
         \HCode{">}\SaveEndP
%
         \par  \ShowPar
\PushStack\Table:Stck\TableNo}
      {\IgnorePar \EndP
\PopStack\Table:Stck\TableNo \d:HA}
\fi
\Configure{@{}}{}

\Css{td.td00{ padding-left:0pt; padding-right:0pt; }}
\Css{td.td01{ padding-left:0pt; padding-right:5pt; }}
\Css{td.td10{ padding-left:5pt; padding-right:0pt; }}
\Css{td.td11{ padding-left:5pt; padding-right:5pt; }}
\Configure{halignTB<>}{array}{\HCode{id="TBL-\TableNo" class="array"\Hnewline
   \GROUPS\Hnewline
   }<>\HAlign}
\Css{table[rules] {border-left:solid black 0.4pt;
                   border-right:solid black 0.4pt; }}
\:CheckOption{pic-array}  \if:Option \else
   \Configure{array}
      {\ifvmode \IgnorePar\fi \EndP\halignTB{array}\putVBorder}
      {\HCode{</table>}}
      {\R:HA}
      {\r:HA}
      {\D:HA\HCode{<div class="td}\NoFonts
           \bgroup
              \ifx \ttfamily\:UnDef \else \ttfamily\fi
              \ColMargins
           \egroup
\EndNoFonts
%
            \HCode{">}\par  \ShowPar
\pic:env}
      {\IgnorePar \EndP
\HCode{</div>}\d:HA}
   \Configure{arrayparbox}{\ShowPar}
\fi
\let\VBorder\empty   \let\AllColMargins\empty
\Configure{VBorder}
   {\let\VBorder\empty \let\AllColMargins\empty
    \global\let\GROUPS\empty \HAssign\NewGroup = 0
    \gHAdvance\Next:TableNo by 1 \global\let\TableNo=\Next:TableNo }
   {\xdef\VBorder{\VBorder\ifnum \NewGroup> 0 </colgroup>\fi}
    \HAssign\NewGroup = 0 % \gdef\GROUPS{rules="groups"}}
    \Css{\#TBL-\TableNo\space colgroup{border-left: 1px solid black;border-right:1px solid black;}}
  \Css{\#TBL-\TableNo{border-collapse:collapse;}}}
   {\Advance:\NewGroup by 1
    \ifnum \NewGroup=1 \xdef\VBorder{\VBorder<colgroup
        id="TBL-\TableNo-\ar:cnt g">}\fi
    \xdef\VBorder{\VBorder<col\Hnewline id="TBL-\TableNo
       -\ar:cnt"\xml:empty>}\xdef\AllColMargins{\AllColMargins1}}
   {\xdef\AllColMargins{\AllColMargins 0}}
\Configure{HBorder}
   {<tr\Hnewline class="hline">} {<td><hr\xml:empty></td>}   {</tr>}
   {<tr\Hnewline class="cline">}
   {<td></td>} {<td><hr\xml:empty></td>} {</tr>}
   {<tr\Hnewline class="vspace" style="font-size:\HBorderspace">}
   {<td\Hnewline>\string&nbsp;</td>}
   {</tr>}
\Configure{putHBorder}{\HCode{\HBorder}}
\HAssign\Next:TableNo0 \global\let\TableNo=\Next:TableNo
\Css{.hline hr, .cline hr{  height : 0px; margin:0px; }}
\Css{.hline td, .cline td{ padding: 0; }}
\Css{.hline hr, .cline hr{border:none;border-top:1px solid black;}}
\def\putVBorder{\expandafter\put:VBorder\VBorder</>!*?: }
\def\put:VBorder#1</#2>#3!*?: {\def\:temp{#2}\ifx\:temp\empty
     \HCode{\VBorder}%
     \def\:temp{#1}\ifx\:temp\empty \else\HCode{</colgroup>}\fi
  \else  \def\:temp{\put:VBorder#3!*?: }\expandafter\:temp\fi
}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{longtable}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \:CheckOption{old-longtable}\if:Option
  \let\a:longtable=\a:tabular
\let\b:longtable=\b:tabular
\let\c:longtable=\c:tabular
\let\d:longtable=\d:tabular
\let\e:longtable=\e:tabular
\let\f:longtable=\f:tabular

\else
  \Configure{halignTB<>}{longtable}{\HCode{id="TBL-\TableNo" class="longtable"\Hnewline
   \GROUPS\Hnewline
   }<>\HAlign}
\Css{table[rules] {border-left:solid black 0.4pt;
                   border-right:solid black 0.4pt; }}
\Configure{longtable}
   {\IgnorePar\EndP
     \HCode{<!--l. \the\inputlineno-->%
<div class="longtable">}%
    \halignTB{longtable}\putVBorder }
   {\HCode{</table></div>}}
   {\HCode{<tr \Hnewline}\halignTR\HCode{ id="TBL-\TableNo-\HRow-">}}
   {\r:HA}
   {\HCode{<td \ifnum \HMultispan>1 colspan="\HMultispan"\fi}%
    \halignTD \HCode{ id="TBL-\TableNo-\HRow-\HCol"
    \Hnewline class="td}\NoFonts
           \bgroup
              \ifx \ttfamily\:UnDef \else \ttfamily\fi
              \ColMargins
           \egroup
\EndNoFonts
%
    \HCode{">}\SaveEndP
%
    \par  \ShowPar
\PushStack\Table:Stck\TableNo}
   {\PopStack\Table:Stck\TableNo \IgnorePar \EndP
\d:HA}
\Css{div.longtable{text-align:center;}}
\Css{table.longtable{margin-left:auto; margin-right: auto;}}
\Configure{longtableparbox}{\IgnorePar\leavevmode\ShowPar\par}

\fi
\:CheckOption{pic-longtable}  \if:Option
   \ConfigureEnv{longtable}
     {\IgnorePar\EndP\Tg<div class="pic-longtable">\Picture*{}}
     {\EndPicture\Tg</div>}{}{}
   \Css{div.pic-longtable {text-align:center;}}
\else
   \Log:Note{for pictorial longtable,
                      use the command line option `pic-longtable'}
\fi

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%




%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{mwart}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \ConfigureMark{subsection}
   {\ifHeadingNumbered \HCode{<span class="titlemark">}\mw@seccntformat
    \HeadingNumber \HCode{</span>}\fi}
\Configure{subsection}{}{}
   {\NoFonts \ifvmode \IgnorePar\fi
    \EndP\bgroup \IgnorePar\HCode{<h4 class="subsectionHead"\a:LRdir>}%
    \TitleMark \HtmlParOff}
   {\HCode{</h4>}\HtmlParOn \EndNoFonts \IgnoreIndent\egroup\par\ShowPar}
\Configure{subsectionTITLE+}{\thesubsection \space#1}
\Configure{likesubsection}{}{}{\EndP\bgroup
   \ifvmode \IgnorePar\fi
   \HCode{<h4 class="likesubsectionHead"\a:LRdir>}\HtmlParOff }
  {\HCode{</h4>}\HtmlParOn \IgnoreIndent\egroup\par\ShowPar}
\Configure{likesubsectionTITLE+}{#1}
\ConfigureMark{subsubsection}
   {\ifHeadingNumbered \HCode{<span class="titlemark">}\mw@seccntformat
    \HeadingNumber \HCode{</span>}\fi}
\Configure{subsubsection}{}{}
   {\NoFonts \ifvmode \IgnorePar \fi  \EndP
    \bgroup \IgnorePar\HCode{<h5 class="subsubsectionHead"\a:LRdir>}%
    \TitleMark \HtmlParOff}
   {\HCode{</h5>}\HtmlParOn \EndNoFonts \IgnoreIndent\egroup
    \par\ShowPar}
\Configure{subsubsectionTITLE+}{\thesubsubsection \space#1}
\Configure{likesubsubsection}{}{}
   {\ifvmode \IgnorePar\fi \EndP\bgroup\IgnorePar
    \HCode{<h5 class="likesubsubsectionHead"\a:LRdir>}\HtmlParOff}
   {\HCode{</h5>}\HtmlParOn \IgnoreIndent\egroup \par\ShowPar}
\ConfigureMark{part}
   {\ifHeadingNumbered \HCode{<span class="titlemark">}\partname
      \space \HeadingNumber \HCode{</span>}\fi}
\Configure{part}{}{}
   {\NoFonts\ifvmode \IgnorePar\fi \EndP\IgnorePar
    \HCode{<h1 class="partHead"\a:LRdir>}\TitleMark
    \HCode{<br />}\HtmlParOff}
   {\HCode{</h1>}\HtmlParOn \EndNoFonts \IgnoreIndent \par}
\Configure{partTITLE+}{\thepart\space #1}
\Css{h1.partHead{text-align: left}}
\Configure{likepart}{}{}
   {\IgnorePar\EndP\HCode{<h1 class="likepartHead"\a:LRdir>}}
   {\HCode{</h1>}\IgnoreIndent\par}
\Configure{likepartTITLE+}{#1}
\ConfigureMark{section}
   {\ifHeadingNumbered \HCode{<span class="titlemark">}\mw@seccntformat
    \HeadingNumber \HCode{</span>}\fi}
\Configure{section}{}{}
   {\NoFonts \ifvmode \IgnorePar\fi \EndP\IgnorePar
    \HCode{<h3 class="sectionHead"\a:LRdir>}\TitleMark\HtmlParOff}
   {\HCode{</h3>}\HtmlParOn \EndNoFonts \ShowPar \IgnoreIndent \par}
\Configure{sectionTITLE+}{\thesection\space#1}
\Configure{likesection}{}{}
   {\ifvmode \IgnorePar\fi
    \EndP\IgnorePar\HCode{<h3 class="likesectionHead"\a:LRdir>}\HtmlParOff}
   {\HCode{</h3>}\HtmlParOn \IgnoreIndent \par}
\Configure{likesectionTITLE+}{#1}
\Configure{paragraph}{}{}
  {\par\ShowPar\IgnoreIndent\HCode{<span
      class="paragraphHead"\a:LRdir>}\begingroup\bf}
  {\endgroup\HCode{</span>}\IgnorePar}
\Css{.paragraphHead, .likeparagraphHead
   { margin-top:2em; font-weight: bold;}}
\Configure{likeparagraph}{}{}
  {\ShowPar\IgnoreIndent\HCode{<span class="likeparagraphHead"\a:LRdir>}}
  {\HCode{</span>}\IgnorePar}
\ConfigureMark{subparagraph}{}
\Configure{subparagraph}{}{}
  {\par\ShowPar\IgnoreIndent
   \HCode{<span class="subparagraphHead"\a:LRdir>}\begingroup\bf
   \TitleMark\space}
  {\endgroup\HCode{</span>}\IgnorePar}
\Css{.subparagraphHead, .likesubparagraphHead
   { font-weight: bold;}}
\Configure{likesubparagraph}{}{}
  {\par\ShowPar\IgnoreIndent
   \HCode{<span class="likesubparagraphHead"\a:LRdir>}\begingroup\bf}
  {\endgroup\HCode{</span>}\IgnorePar}
\Configure{endpart}{likepart}
\Configure{endlikepart}{endpart}
\Configure{endsection}
   {likesection,chapter,likechapter,appendix,part,likepart}
\Configure{endlikesection}
   {section,chapter,likechapter,appendix,part,likepart}
\Configure{endsubsection}
   {likesubsection,section,likesection,chapter,%
      likechapter,appendix,part,likepart}
\Configure{endlikesubsection}
   {subsection,section,likesection,chapter,%
      likechapter,appendix,part,likepart}
\Configure{endsubsubsection}
   {likesubsubsection,subsection,likesubsection,section,%
      likesection,chapter,likechapter,appendix,part,likepart}
\Configure{endlikesubsubsection}
   {subsubsection,subsection,likesubsection,section,%
      likesection,chapter,likechapter,appendix,part,likepart}
\Configure{endparagraph}
   {likeparagraph,subsubsection,likesubsubsection,subsection,%
      likesubsection,section,%
      likesection,chapter,likechapter,appendix,part,likepart}
\Configure{endlikeparagraph}
   {paragraph,subsubsection,likesubsubsection,subsection,%
    likesubsection,section,%
    likesection,chapter,likechapter,appendix,part,likepart}
\Configure{endsubparagraph}
   {likesubparagraph,likeparagraph,subsubsection,likesubsubsection,%
    subsection,likesubsection,section,%
    likesection,chapter,likechapter,appendix,part,likepart}
\Configure{endlikesubparagraph}
   {subparagraph,likeparagraph,subsubsection,likesubsubsection,%
    subsection,likesubsection,section,%
    likesection,chapter,likechapter,appendix,part,likepart}

\ConfigureToc{part}
  {\HCode{<div class="partToc" \a:LRdir><span class="mark">}}
  {\HCode{</span>}. }
  {}
  {\HCode{</div>}}
\ConfigureToc{likepart}
  {\HCode{<div class="likepartToc" \a:LRdir><span class="mark">}}
  {\HCode{</span>}}
  {}
  {\HCode{</div>}}
\ConfigureToc{section}
  {\HCode{<div class="sectionToc" \a:LRdir><span class="mark">}}
  {\HCode{</span>}. }
  {}
  {\HCode{</div>}}
\ConfigureToc{likesection}
  {\HCode{<div class="likesectionToc" \a:LRdir><span class="mark">}}
  {\HCode{</span>}}
  {}
  {\HCode{</div>}}
\ConfigureToc{subsection}
  {\HCode{<div class="subsectionToc" \a:LRdir><span class="mark">}}
  {\HCode{</span>}. }
  {}
  {\HCode{</div>}}
\ConfigureToc{likesubsection}
  {\HCode{<div class="likesubsectionToc" \a:LRdir><span class="mark">}}
  {\HCode{</span>}}
  {}
  {\HCode{</div>}}
\ConfigureToc{subsubsection}
  {\HCode{<div class="subsubsectionToc" \a:LRdir><span class="mark">}}
  {\HCode{</span>}. }
  {}
  {\HCode{</div>}}
\ConfigureToc{likesubsubsection}
  {\HCode{<div class="likesubsubsectionToc" \a:LRdir><span class="mark">}}
  {\HCode{</span>}}
  {}
  {\HCode{</div>}}
\ConfigureToc{paragraph}
  {\HCode{<div class="paragraphToc" \a:LRdir><span class="mark">}}
  {\HCode{</span>}. }
  {}
  {\HCode{</div>}}
\ConfigureToc{likeparagraph}
  {\HCode{<div class="likeparagraphToc" \a:LRdir><span class="mark">}}
  {\HCode{</span>}}
  {}
  {\HCode{</div>}}
\ConfigureToc{subparagraph}
  {\HCode{<div class="subparagraphToc" \a:LRdir><span class="mark">}}
  {\HCode{</span>}. }
  {}
  {\HCode{</div>}}
\ConfigureToc{likesubparagraph}
  {\HCode{<div class="likesubparagraphToc" \a:LRdir><span class="mark">}}
  {\HCode{</span>}}
  {}
  {\HCode{</div>}}
\Css{.partToc a, .partToc, .likepartToc a, .likepartToc
        {line-height: 200\%; font-weight:bold; font-size:110\%;}}
\Css{.partToc, .likepartToc{text-align:center;margin-bottom:0.25em;
           margin-top:0.25em;}}

\Css{.sectionToc, .likesectionToc            {white-space: nowrap;}}
\Css{.subsectionToc, .likesubsectionToc
                            {margin-left:1em; white-space: nowrap;}}
\Css{.subsubsectionToc, .likesubsubsectionToc
                            {margin-left:2em; white-space: nowrap;}}
\Css{.paragraphToc, .likeparagraphToc
                            {margin-left:3em; white-space: nowrap;}}
\Css{.subparagraphToc, .likesubparagraphToc
                            {margin-left:4em; white-space: nowrap;}}

\:CheckOption{7}     \if:Option
    \expandafter\ifx \csname @chapter\endcsname\relax
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,part}
\CutAt{likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,likesubsection,subsection}
\fi

         \CutAt{subsection,section,likesection,part}
\CutAt{likesubsection,section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection}
\fi

         \CutAt{subsubsection,subsection,likesubsection,section,likesection,part}
\CutAt{likesubsubsection,subsection,likesubsection,section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection,paragraph}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection,%
    paragraph}
\fi

         \CutAt{paragraph,subsubsection,likesubsubsection,subsection,likesubsection,%
       section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection,%
    paragraph,subparagraph}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection,%
    paragraph,subparagraph}
\fi

         \CutAt{subparagraph,paragraph,subsubsection,likesubsubsection,%
       subsection,likesubsection,%
       section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,%
          section,likesection,subsection,likesubsection}
     \MiniToc:At{likepart,/part,%
          section,likesection,subsection,likesubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             subsubsection,paragraph}
     \MiniToc:At{likesubsection,/subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             subsubsection,paragraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
     \MiniToc:At{likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsubsection,/likesubsubsection,/subsection,%
             /likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             paragraph,subparagraph}
     \MiniToc:At{likesubsubsection,/subsubsection,/likesubsection,%
             /subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             paragraph,subparagraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsubsection,/likesubsubsection,%
          /subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          paragraph,subparagraph}
     \MiniToc:At{likesubsubsection,/subsubsection,/likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          paragraph,subparagraph}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{paragraph,/subsubsection,/likesubsubsection,/subsection,%
             /likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             subparagraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{paragraph,/subsubsection,/likesubsubsection,%
          /subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          subparagraph}
  \fi
\fi

    \else
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
     appendix,section\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection,likesubsection\fi}
\fi

         \CutAt{chapter,likechapter,appendix,part}
\CutAt{likechapter,appendix,part}
\CutAt{appendix,chapter,likechapter,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,chapter,likechapter,appendix,part}
\CutAt{likesection,chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,likesubsection,subsection}
\fi

         \CutAt{subsection,section,likesection,%
                  chapter,likechapter,appendix,part}
\CutAt{likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection}
\fi

         \CutAt{subsubsection,subsection,likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}
\CutAt{likesubsubsection,subsection,likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection,paragraph}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection,%
    paragraph}
\fi

         \CutAt{paragraph,subsubsection,likesubsubsection,subsection,likesubsection,%
       section,likesection,chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection,%
    paragraph,subparagraph}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection,%
    paragraph,subparagraph}
\fi

         \CutAt{subparagraph,paragraph,subsubsection,likesubsubsection,%
       subsection,likesubsection,%
       section,likesection,chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,likechapter,appendix,%
          section,likesection}
     \MiniToc:At{likepart,/part,chapter,likechapter,appendix,%
          section,likesection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,subsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,subsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,subsection}
   \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,likesection,subsection,likesubsection}
   \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             subsubsection,paragraph}
     \MiniToc:At{likesubsection,/subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             subsubsection,paragraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
     \MiniToc:At{likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsubsection,/likesubsubsection,/subsection,%
             /likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             paragraph,subparagraph}
     \MiniToc:At{likesubsubsection,/subsubsection,/likesubsection,%
             /subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             paragraph,subparagraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsubsection,/likesubsubsection,%
          /subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          paragraph,subparagraph}
     \MiniToc:At{likesubsubsection,/subsubsection,/likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          paragraph,subparagraph}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{paragraph,/subsubsection,/likesubsubsection,/subsection,%
             /likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             subparagraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{paragraph,/subsubsection,/likesubsubsection,%
          /subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          subparagraph}
  \fi
\fi

    \fi
    \:CheckOption{obj-toc}  \if:Option
   \Css{object.toc { float: left;
                     width: 25\%;
                     height: 100\%;
                     border: 1px solid \#888888;
                     margin-left:0em;
                     margin-top:0em;
                     margin-bottom:1em;
                     margin-right:1em;
                     padding-right:1em;
               }}
   \Css{body\#jobname-toc{margin:0em;}}
   \Css{body\#jobname-toc .tableofcontents{ white-space: nowrap; }}
   \Configure{@BODY}
      {\edef\:temp{\jobname-toc.\:html}
       \edef\:tempa{\FileName}
       \edef\:temp{\expandafter\string\csname\:temp\endcsname}
       \edef\:tempa{\expandafter\string\csname\:tempa\endcsname}
       \ifx\:temp\:tempa\else
          \hbox{
             \HCode{<object class="toc" data="\jobname-toc.\:html">}
                 [\Link[\jobname-toc.\:html]{}{}table of contents\EndLink]
             \HCode{</object>}}
       \fi
      }
      {}
   \pend:defI\Auto:ent{%
      \bgroup
      \let\contentsname=\empty
      \Configure{!BODY}{ id="jobname-toc"}%
      \Configure{Link}{a}{target="\string _top" href=}{id=}{}%
      \NextFile{\jobname-toc.\csname :html\endcsname}%
      \HPage{}%
   }
   \append:defI\Auto:ent{%
      \EndHPage{}%
      \egroup
   }
\else
   \Log:Note{for frames-like object-based table of contents,
                 use the command line option `obj-toc'}
\fi

\else\:CheckOption{6}     \if:Option
    \expandafter\ifx \csname @chapter\endcsname\relax
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,part}
\CutAt{likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,likesubsection,subsection}
\fi

         \CutAt{subsection,section,likesection,part}
\CutAt{likesubsection,section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection}
\fi

         \CutAt{subsubsection,subsection,likesubsection,section,likesection,part}
\CutAt{likesubsubsection,subsection,likesubsection,section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection,paragraph}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection,%
    paragraph}
\fi

         \CutAt{paragraph,subsubsection,likesubsubsection,subsection,likesubsection,%
       section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,%
          section,likesection,subsection,likesubsection}
     \MiniToc:At{likepart,/part,%
          section,likesection,subsection,likesubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             subsubsection,paragraph}
     \MiniToc:At{likesubsection,/subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             subsubsection,paragraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
     \MiniToc:At{likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsubsection,/likesubsubsection,/subsection,%
             /likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             paragraph,subparagraph}
     \MiniToc:At{likesubsubsection,/subsubsection,/likesubsection,%
             /subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             paragraph,subparagraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsubsection,/likesubsubsection,%
          /subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          paragraph,subparagraph}
     \MiniToc:At{likesubsubsection,/subsubsection,/likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          paragraph,subparagraph}
  \fi
\fi

    \else
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
     appendix,section\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection,likesubsection\fi}
\fi

         \CutAt{chapter,likechapter,appendix,part}
\CutAt{likechapter,appendix,part}
\CutAt{appendix,chapter,likechapter,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,chapter,likechapter,appendix,part}
\CutAt{likesection,chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,likesubsection,subsection}
\fi

         \CutAt{subsection,section,likesection,%
                  chapter,likechapter,appendix,part}
\CutAt{likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection}
\fi

         \CutAt{subsubsection,subsection,likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}
\CutAt{likesubsubsection,subsection,likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection,paragraph}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection,%
    paragraph}
\fi

         \CutAt{paragraph,subsubsection,likesubsubsection,subsection,likesubsection,%
       section,likesection,chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,likechapter,appendix,%
          section,likesection}
     \MiniToc:At{likepart,/part,chapter,likechapter,appendix,%
          section,likesection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,subsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,subsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,subsection}
   \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,likesection,subsection,likesubsection}
   \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             subsubsection,paragraph}
     \MiniToc:At{likesubsection,/subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             subsubsection,paragraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
     \MiniToc:At{likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsubsection,/likesubsubsection,/subsection,%
             /likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             paragraph,subparagraph}
     \MiniToc:At{likesubsubsection,/subsubsection,/likesubsection,%
             /subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             paragraph,subparagraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsubsection,/likesubsubsection,%
          /subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          paragraph,subparagraph}
     \MiniToc:At{likesubsubsection,/subsubsection,/likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          paragraph,subparagraph}
  \fi
\fi

    \fi
    \:CheckOption{obj-toc}  \if:Option
   \Css{object.toc { float: left;
                     width: 25\%;
                     height: 100\%;
                     border: 1px solid \#888888;
                     margin-left:0em;
                     margin-top:0em;
                     margin-bottom:1em;
                     margin-right:1em;
                     padding-right:1em;
               }}
   \Css{body\#jobname-toc{margin:0em;}}
   \Css{body\#jobname-toc .tableofcontents{ white-space: nowrap; }}
   \Configure{@BODY}
      {\edef\:temp{\jobname-toc.\:html}
       \edef\:tempa{\FileName}
       \edef\:temp{\expandafter\string\csname\:temp\endcsname}
       \edef\:tempa{\expandafter\string\csname\:tempa\endcsname}
       \ifx\:temp\:tempa\else
          \hbox{
             \HCode{<object class="toc" data="\jobname-toc.\:html">}
                 [\Link[\jobname-toc.\:html]{}{}table of contents\EndLink]
             \HCode{</object>}}
       \fi
      }
      {}
   \pend:defI\Auto:ent{%
      \bgroup
      \let\contentsname=\empty
      \Configure{!BODY}{ id="jobname-toc"}%
      \Configure{Link}{a}{target="\string _top" href=}{id=}{}%
      \NextFile{\jobname-toc.\csname :html\endcsname}%
      \HPage{}%
   }
   \append:defI\Auto:ent{%
      \EndHPage{}%
      \egroup
   }
\else
   \Log:Note{for frames-like object-based table of contents,
                 use the command line option `obj-toc'}
\fi

\else \:CheckOption{5}     \if:Option
    \expandafter\ifx \csname @chapter\endcsname\relax
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,part}
\CutAt{likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,likesubsection,subsection}
\fi

         \CutAt{subsection,section,likesection,part}
\CutAt{likesubsection,section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection}
\fi

         \CutAt{subsubsection,subsection,likesubsection,section,likesection,part}
\CutAt{likesubsubsection,subsection,likesubsection,section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,%
          section,likesection,subsection,likesubsection}
     \MiniToc:At{likepart,/part,%
          section,likesection,subsection,likesubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             subsubsection,paragraph}
     \MiniToc:At{likesubsection,/subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             subsubsection,paragraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
     \MiniToc:At{likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
  \fi
\fi

    \else
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
     appendix,section\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection,likesubsection\fi}
\fi

         \CutAt{chapter,likechapter,appendix,part}
\CutAt{likechapter,appendix,part}
\CutAt{appendix,chapter,likechapter,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,chapter,likechapter,appendix,part}
\CutAt{likesection,chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,likesubsection,subsection}
\fi

         \CutAt{subsection,section,likesection,%
                  chapter,likechapter,appendix,part}
\CutAt{likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection}
\fi

         \CutAt{subsubsection,subsection,likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}
\CutAt{likesubsubsection,subsection,likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,likechapter,appendix,%
          section,likesection}
     \MiniToc:At{likepart,/part,chapter,likechapter,appendix,%
          section,likesection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,subsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,subsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,subsection}
   \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,likesection,subsection,likesubsection}
   \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             subsubsection,paragraph}
     \MiniToc:At{likesubsection,/subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             subsubsection,paragraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
     \MiniToc:At{likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
  \fi
\fi

    \fi
    \:CheckOption{obj-toc}  \if:Option
   \Css{object.toc { float: left;
                     width: 25\%;
                     height: 100\%;
                     border: 1px solid \#888888;
                     margin-left:0em;
                     margin-top:0em;
                     margin-bottom:1em;
                     margin-right:1em;
                     padding-right:1em;
               }}
   \Css{body\#jobname-toc{margin:0em;}}
   \Css{body\#jobname-toc .tableofcontents{ white-space: nowrap; }}
   \Configure{@BODY}
      {\edef\:temp{\jobname-toc.\:html}
       \edef\:tempa{\FileName}
       \edef\:temp{\expandafter\string\csname\:temp\endcsname}
       \edef\:tempa{\expandafter\string\csname\:tempa\endcsname}
       \ifx\:temp\:tempa\else
          \hbox{
             \HCode{<object class="toc" data="\jobname-toc.\:html">}
                 [\Link[\jobname-toc.\:html]{}{}table of contents\EndLink]
             \HCode{</object>}}
       \fi
      }
      {}
   \pend:defI\Auto:ent{%
      \bgroup
      \let\contentsname=\empty
      \Configure{!BODY}{ id="jobname-toc"}%
      \Configure{Link}{a}{target="\string _top" href=}{id=}{}%
      \NextFile{\jobname-toc.\csname :html\endcsname}%
      \HPage{}%
   }
   \append:defI\Auto:ent{%
      \EndHPage{}%
      \egroup
   }
\else
   \Log:Note{for frames-like object-based table of contents,
                 use the command line option `obj-toc'}
\fi

\else\:CheckOption{4}     \if:Option
    \expandafter\ifx \csname @chapter\endcsname\relax
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,part}
\CutAt{likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,likesubsection,subsection}
\fi

         \CutAt{subsection,section,likesection,part}
\CutAt{likesubsection,section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,%
          section,likesection,subsection,likesubsection}
     \MiniToc:At{likepart,/part,%
          section,likesection,subsection,likesubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
  \fi
\fi

    \else
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
     appendix,section\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection,likesubsection\fi}
\fi

         \CutAt{chapter,likechapter,appendix,part}
\CutAt{likechapter,appendix,part}
\CutAt{appendix,chapter,likechapter,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,chapter,likechapter,appendix,part}
\CutAt{likesection,chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,likesubsection,subsection}
\fi

         \CutAt{subsection,section,likesection,%
                  chapter,likechapter,appendix,part}
\CutAt{likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,likechapter,appendix,%
          section,likesection}
     \MiniToc:At{likepart,/part,chapter,likechapter,appendix,%
          section,likesection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,subsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,subsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,subsection}
   \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,likesection,subsection,likesubsection}
   \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
  \fi
\fi

    \fi
    \:CheckOption{obj-toc}  \if:Option
   \Css{object.toc { float: left;
                     width: 25\%;
                     height: 100\%;
                     border: 1px solid \#888888;
                     margin-left:0em;
                     margin-top:0em;
                     margin-bottom:1em;
                     margin-right:1em;
                     padding-right:1em;
               }}
   \Css{body\#jobname-toc{margin:0em;}}
   \Css{body\#jobname-toc .tableofcontents{ white-space: nowrap; }}
   \Configure{@BODY}
      {\edef\:temp{\jobname-toc.\:html}
       \edef\:tempa{\FileName}
       \edef\:temp{\expandafter\string\csname\:temp\endcsname}
       \edef\:tempa{\expandafter\string\csname\:tempa\endcsname}
       \ifx\:temp\:tempa\else
          \hbox{
             \HCode{<object class="toc" data="\jobname-toc.\:html">}
                 [\Link[\jobname-toc.\:html]{}{}table of contents\EndLink]
             \HCode{</object>}}
       \fi
      }
      {}
   \pend:defI\Auto:ent{%
      \bgroup
      \let\contentsname=\empty
      \Configure{!BODY}{ id="jobname-toc"}%
      \Configure{Link}{a}{target="\string _top" href=}{id=}{}%
      \NextFile{\jobname-toc.\csname :html\endcsname}%
      \HPage{}%
   }
   \append:defI\Auto:ent{%
      \EndHPage{}%
      \egroup
   }
\else
   \Log:Note{for frames-like object-based table of contents,
                 use the command line option `obj-toc'}
\fi

\else\:CheckOption{3}     \if:Option
    \expandafter\ifx \csname @chapter\endcsname\relax
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,likesubsection,subsection}
\fi

         \CutAt{subsection,section,likesection,part}
\CutAt{likesubsection,section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,%
          section,likesection,subsection,likesubsection}
     \MiniToc:At{likepart,/part,%
          section,likesection,subsection,likesubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
  \fi
\fi

         \CutAt{section,likesection,part}
\CutAt{likesection,part}

    \else
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
     appendix,section\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection,likesubsection\fi}
\fi

         \CutAt{chapter,likechapter,appendix,part}
\CutAt{likechapter,appendix,part}
\CutAt{appendix,chapter,likechapter,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,chapter,likechapter,appendix,part}
\CutAt{likesection,chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,likechapter,appendix,%
          section,likesection}
     \MiniToc:At{likepart,/part,chapter,likechapter,appendix,%
          section,likesection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,subsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,subsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,subsection}
   \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,likesection,subsection,likesubsection}
   \fi
\fi

    \fi
    \:CheckOption{obj-toc}  \if:Option
   \Css{object.toc { float: left;
                     width: 25\%;
                     height: 100\%;
                     border: 1px solid \#888888;
                     margin-left:0em;
                     margin-top:0em;
                     margin-bottom:1em;
                     margin-right:1em;
                     padding-right:1em;
               }}
   \Css{body\#jobname-toc{margin:0em;}}
   \Css{body\#jobname-toc .tableofcontents{ white-space: nowrap; }}
   \Configure{@BODY}
      {\edef\:temp{\jobname-toc.\:html}
       \edef\:tempa{\FileName}
       \edef\:temp{\expandafter\string\csname\:temp\endcsname}
       \edef\:tempa{\expandafter\string\csname\:tempa\endcsname}
       \ifx\:temp\:tempa\else
          \hbox{
             \HCode{<object class="toc" data="\jobname-toc.\:html">}
                 [\Link[\jobname-toc.\:html]{}{}table of contents\EndLink]
             \HCode{</object>}}
       \fi
      }
      {}
   \pend:defI\Auto:ent{%
      \bgroup
      \let\contentsname=\empty
      \Configure{!BODY}{ id="jobname-toc"}%
      \Configure{Link}{a}{target="\string _top" href=}{id=}{}%
      \NextFile{\jobname-toc.\csname :html\endcsname}%
      \HPage{}%
   }
   \append:defI\Auto:ent{%
      \EndHPage{}%
      \egroup
   }
\else
   \Log:Note{for frames-like object-based table of contents,
                 use the command line option `obj-toc'}
\fi

\else\:CheckOption{2}     \if:Option
    \expandafter\ifx \csname @chapter\endcsname\relax
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,part}
\CutAt{likesection,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,%
          section,likesection,subsection,likesubsection}
     \MiniToc:At{likepart,/part,%
          section,likesection,subsection,likesubsection}
  \fi
\fi

    \else
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
     appendix,section\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection,likesubsection\fi}
\fi

         \CutAt{chapter,likechapter,appendix,part}
\CutAt{likechapter,appendix,part}
\CutAt{appendix,chapter,likechapter,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,likechapter,appendix,%
          section,likesection}
     \MiniToc:At{likepart,/part,chapter,likechapter,appendix,%
          section,likesection}
  \fi
\fi

    \fi
    \:CheckOption{obj-toc}  \if:Option
   \Css{object.toc { float: left;
                     width: 25\%;
                     height: 100\%;
                     border: 1px solid \#888888;
                     margin-left:0em;
                     margin-top:0em;
                     margin-bottom:1em;
                     margin-right:1em;
                     padding-right:1em;
               }}
   \Css{body\#jobname-toc{margin:0em;}}
   \Css{body\#jobname-toc .tableofcontents{ white-space: nowrap; }}
   \Configure{@BODY}
      {\edef\:temp{\jobname-toc.\:html}
       \edef\:tempa{\FileName}
       \edef\:temp{\expandafter\string\csname\:temp\endcsname}
       \edef\:tempa{\expandafter\string\csname\:tempa\endcsname}
       \ifx\:temp\:tempa\else
          \hbox{
             \HCode{<object class="toc" data="\jobname-toc.\:html">}
                 [\Link[\jobname-toc.\:html]{}{}table of contents\EndLink]
             \HCode{</object>}}
       \fi
      }
      {}
   \pend:defI\Auto:ent{%
      \bgroup
      \let\contentsname=\empty
      \Configure{!BODY}{ id="jobname-toc"}%
      \Configure{Link}{a}{target="\string _top" href=}{id=}{}%
      \NextFile{\jobname-toc.\csname :html\endcsname}%
      \HPage{}%
   }
   \append:defI\Auto:ent{%
      \EndHPage{}%
      \egroup
   }
\else
   \Log:Note{for frames-like object-based table of contents,
                 use the command line option `obj-toc'}
\fi

\else\:CheckOption{1}     \if:Option
    \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
    \CutAt{part}
\CutAt{likepart}

    \:CheckOption{obj-toc}  \if:Option
   \Css{object.toc { float: left;
                     width: 25\%;
                     height: 100\%;
                     border: 1px solid \#888888;
                     margin-left:0em;
                     margin-top:0em;
                     margin-bottom:1em;
                     margin-right:1em;
                     padding-right:1em;
               }}
   \Css{body\#jobname-toc{margin:0em;}}
   \Css{body\#jobname-toc .tableofcontents{ white-space: nowrap; }}
   \Configure{@BODY}
      {\edef\:temp{\jobname-toc.\:html}
       \edef\:tempa{\FileName}
       \edef\:temp{\expandafter\string\csname\:temp\endcsname}
       \edef\:tempa{\expandafter\string\csname\:tempa\endcsname}
       \ifx\:temp\:tempa\else
          \hbox{
             \HCode{<object class="toc" data="\jobname-toc.\:html">}
                 [\Link[\jobname-toc.\:html]{}{}table of contents\EndLink]
             \HCode{</object>}}
       \fi
      }
      {}
   \pend:defI\Auto:ent{%
      \bgroup
      \let\contentsname=\empty
      \Configure{!BODY}{ id="jobname-toc"}%
      \Configure{Link}{a}{target="\string _top" href=}{id=}{}%
      \NextFile{\jobname-toc.\csname :html\endcsname}%
      \HPage{}%
   }
   \append:defI\Auto:ent{%
      \EndHPage{}%
      \egroup
   }
\else
   \Log:Note{for frames-like object-based table of contents,
                 use the command line option `obj-toc'}
\fi

\else
    \Log:Note{for automatic sectioning
        pagination, use the command line option
                     `1', `2', `3', '4', '5', '6', or '7'}%
\fi \fi \fi \fi \fi \fi  \fi
\:CheckOption{sec-filename}   \if:Option \else
    \Log:Note{for files named derived from section
        titles, use the command line option `sec-filename'}%
\fi
 
\Configure{maketitle}
   {\ifvmode \IgnorePar\fi \EndP {\Configure{maketitle}{}{}{}{}%
\a:NoSection \let\leavevmode\empty \let\not@math@alphabet\:gobbleII
\def\text@command##1{##1}\let\selectfont\empty
\def\check@icl ##1\check@icr{}%
\let\thanks\:gobble
\def\mbox{\hbox}%
\let\\\space \def\TeX{TeX}%
\def\gobble:font##1##2{##2}\:TITLE: \no:fonts
\def\footnotemark[##1]{}%
\def\a:ttl##1##2//{##1//}%
\let\large=\empty
\let \bf=\empty
\let \centering=\empty
\def \ignorespaces##1\vskip##2//{##1}%
\Tag{TITLE+}{\@title//}%
}%
%
    \HCode{<div class="maketitle">}}
   {\ifvmode \IgnorePar\fi \EndP \HCode{</div>}}
   {\NoFonts\IgnorePar\HCode{<h2 class="titleHead"\a:LRdir>}\IgnorePar}
   {\HCode{</h2>}\IgnoreIndent\EndNoFonts}
\Css{div.maketitle {text-align:center;}}
\Css{h2.titleHead{text-align:center;}}
\Css{div.maketitle{ margin-bottom: 2em; }}
\:CheckOption{fn-in}\if:Option
   \Configure{thanks author date and}
   {\SaveEndP\global\setbox\fn:box=\vtop\bgroup\ShowPar
     \ifvoid\fn:box\else  \csname unvbox\endcsname\fn:box\fi}
   {\EndP\egroup\RecallEndP }
   {\HCode{<div class="author" \a:LRdir>}}{\HCode{</div>}}
   {\HCode{<div class="date" \a:LRdir>}}{\HCode{</div>}}
   {\HCode{<br class="and" />}}
   {\HCode{<br />}}
\Configure{thank}
   {\csname a:thank-mark\endcsname
\Link{tk-\the\c@footnote}{\ifx
        \footnote\thanks kt-\the\c@footnote\fi}}
   {\EndLink \csname b:thank-mark\endcsname
}
   {\HCode{<p>}\protect\Link{\ifx \footnote\thanks kt-\the\c@footnote
      \fi}{tk-\the\c@footnote}\csname a:thank-mark\endcsname
}
   {\csname b:thank-mark\endcsname
\protect\EndLink}
   {\HCode{</p>}}

\Css{div.author, div.date {text-align:center;}}
\Css{div.thanks{text-align:left; margin-left:10\%; font-size:85\%;
                font-style:italic; }}

\else
   \Configure{thanks author date and}
   {\ifvmode \IgnorePar\fi\EndP \HCode{<div class="thanks" \a:LRdir>}}
   {\ifvmode \IgnorePar\fi\EndP \HCode{</div>}}
   {\ifvmode \IgnorePar\fi\EndP \HCode{<div class="author" \a:LRdir>}}
   {\ifvmode \IgnorePar\fi\EndP \HCode{</div>}}
   {\ifvmode \IgnorePar\fi\EndP \HCode{<div class="date" \a:LRdir>}}
   {\ifvmode \IgnorePar\fi\EndP \HCode{</div>}}
   {\HCode{<br class="and" />}}
   {\HCode{<br />}}
\Configure{thank}
   {\csname a:thank-mark\endcsname
\Link{tk-\the\c@footnote}{}}
   {\EndLink \csname b:thank-mark\endcsname
}
   {\HCode{<br />}\protect\Link{}{tk-\the\c@footnote}\protect
     \EndLink \csname a:thank-mark\endcsname
}
   {\csname b:thank-mark\endcsname
} {}

\Css{div.author, div.date {text-align:center;}}
\Css{div.thanks{text-align:left; margin-left:10\%; font-size:85\%;
                font-style:italic; }}
\Css{div.author{white-space: nowrap;}}

\fi
\Configure{@begin}{theindex}{\section*{\indexname}}
\Configure{theindex}
   {\ifvmode \IgnorePar\fi \EndP
    \HCode{<div class="theindex">}\let\end:theidx\empty}
   {\end:theidx\HCode{</div>}}
   {} {\HCode{<br />}\hfil\break}
   {\ \ \ \ } {\HCode{<br />}\hfil\break}
   {\ \ \ \ \ \ \ \ } {\HCode{<br />}\hfil\break}
   {\hbox{\end:theidx\HCode{<p class="theindex">}}%
    \def\end:theidx{\HCode{</p>}}}

\Configure{caption}{\HCode{\if:nopar  \else <br />\fi}
   \:xhtml{\IgnorePar\EndP}\HCode{<div class="caption"\Hnewline
                                 ><span class="id">}}
   {: } {\HCode{</span><span \Hnewline class="content">}}
   {\HCode{</span></div>}\HCode{<!--tex4ht:label?:
   \cur:th\:currentlabel\space-->}%
}
\Css{div.caption {text-indent:-2em; margin-left:3em; margin-right:1em;
                  text-align:left;}}
\Css{div.caption span.id{font-weight: bold; white-space: nowrap; }}

\ConfigureEnv{thebibliography}{\IgnorePar}{\ShowPar\par}{}{}

\:CheckOption{no-bib} \if:Option\else
   \:CheckOption{mouseover} \if:Option
      \ConfigureList{thebibliography}%
   {\ifvmode\IgnorePar\fi\EndP \js:on
\HCode{<div
                   class="thebibliography">}\let\en:bib=\empty}
   {\en:bib \ifvmode\IgnorePar\fi\EndP \HCode{</div>}}
   {\en:bib\def\en:bib{\ht:special {t4ht@DCopyTo: \jobname-js.tex Skip bib }%
\csname bibliography2\endcsname
\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont bib }%
%
%
        \EndP\ht:special {t4ht@DCopyTo: \jobname-js.tex Skip bib }%
%
\HCode{<!--}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont bib }%
%
\HCode{</div></bibitem>\Hnewline}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Until bib }%
%
\HCode{-->}
}\HCode{<!--}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex From bib }%
%
\HCode{<bibitem>}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Skip bib }%
%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Set1 bib }%
%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont bib }%
%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Set2 bib }%
%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Skip bib }%
%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont bib }%
%
\HCode{<div class="js">}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Skip bib }%
%
\HCode{-->}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont bib }%
%
%
        \Configure{HtmlPar}
   {\EndP\HCode{<p class="bibitem" \a:LRdir>}}
   {\EndP\HCode{<p class="bibitem" \a:LRdir>}}
   {\Tg</p>} {\Tg</p>}%
\par\ShowPar
        \leavevmode \ht:special {t4ht@DCopyTo: \jobname-js.tex Skip bib }%
\HCode{<span
      class="biblabel">}\Configure{HtmlPar}
   {\EndP\HCode{<p class="bibitem-p" \a:LRdir>}}
   {\EndP\HCode{<p class="bibitem-p" \a:LRdir>}}
   {\Tg</p>} {\Tg</p>}%
}
   {\HCode{<span class="bibsp">}\:nbsp
      \:nbsp\:nbsp\HCode{</span></span>}\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont bib }%
}

   \else
      \ConfigureList{thebibliography}%
   {\ifvmode\IgnorePar\fi \EndP \HCode{<div
                   class="thebibliography">}\let\en:bib=\empty}
   {\en:bib \ifvmode\IgnorePar\fi \EndP \HCode{</div>}}
   {\en:bib\def\en:bib{\csname bibliography2\endcsname
\EndP}%
   \Configure{HtmlPar}
   {\EndP\HCode{<p class="bibitem" \a:LRdir>}}
   {\EndP\HCode{<p class="bibitem" \a:LRdir>}}
   {\Tg</p>} {\Tg</p>}%
\par\ShowPar
    \HCode{<span class="biblabel">}\Configure{HtmlPar}
   {\EndP\HCode{<p class="bibitem-p" \a:LRdir>}}
   {\EndP\HCode{<p class="bibitem-p" \a:LRdir>}}
   {\Tg</p>} {\Tg</p>}%
}
   {\HCode{<span class="bibsp">}\:nbsp
      \:nbsp\:nbsp\HCode{</span></span>}}

   \fi
   \Css{p.bibitem { text-indent: -2em; margin-left: 2em;
       margin-top:0.6em; margin-bottom:0.6em;     }}
\Css{p.bibitem-p { text-indent: 0em; margin-left: 2em;
       margin-top:0.6em; margin-bottom:0.6em;     }}

\fi

%\def\:SPAN#1#2{\HCode{<span class="#1">}#2\HCode{</span>}}
\ConfigureToc{lof}
  {\HCode{<span class="lofToc" \a:LRdir>}}{\ }{}{\HCode{</span><br />}}
\ConfigureToc{lot}
  {\HCode{<span class="lotToc" \a:LRdir>}}{\ }{}{\HCode{</span><br />}}

\ConfigureList{description}%
   {\EndP\HCode{<dl \a:LRdir class="description">}%
      \PushMacro\end:itm
\global\let\end:itm=\empty}
   {\PopMacro\end:itm \global\let\end:itm \end:itm
\EndP\HCode{</dd></dl>}\ShowPar}
   {\end:itm \global\def\end:itm{\EndP\Tg</dd>}\HCode{<dt
        class="description">}\bgroup \bf}
   {\egroup\EndP\HCode{</dt><dd\Hnewline class="description">}}

\ConfigureEnv{quote}
   {}{}
   {\IgnorePar\EndP
    \HCode{<blockquote class="\getClass{quote}">}\afterGetClass{quote}}
   {\IgnorePar\EndP\HCode{</blockquote>}\ShowPar\ShowIndent}
\NewConfigure{quoteClass}{2}
\Configure{quoteClass}{quote}{}

\ConfigureEnv{verse}
   {\ifvmode \IgnorePar\fi\EndP\Tg<div class="verse">}
   {\ifvmode \IgnorePar\fi\EndP\Tg</div>\par\ShowPar}
   {}{}
\ConfigureList{verse}
   {}{}
   {\parindent=\z@}  {\par}
\Css{.verse{white-space:nowrap; margin-left:2em}}

{\Configure{Needs}{Font\string_Size: #1}\ifcase  \@ptsize
   \or \Needs{11}\or \Needs{12}\else \fi}

\ConfigureEnv{quotation}
   {}{}
   {\IgnorePar\EndP\HCode{<blockquote class="quotation">}}
   {\IgnorePar\EndP\HCode{</blockquote>}\ShowPar}

\Configure{listof}{}{}{}{\HCode{<br />}}{}{ }

\ConfigureEnv{abstract}
   {\IgnorePar\EndP
    \HCode{<table\Hnewline class="abstract"><tr><td\Hnewline>}\par\ShowPar}
   {\ifvmode \IgnorePar\fi \EndP\HCode{</td></tr></table>}}{}{}
\Css{.abstract p {margin-left:5\%; margin-right:5\%;}}
\Css{table.abstract {width:100\%;}}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{mwrep}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \ConfigureMark{subsection}
   {\ifHeadingNumbered \HCode{<span class="titlemark">}\mw@seccntformat
    \HeadingNumber \HCode{</span>}\fi}
\Configure{subsection}{}{}
   {\NoFonts \ifvmode \IgnorePar\fi
    \EndP\bgroup \IgnorePar\HCode{<h4 class="subsectionHead"\a:LRdir>}%
    \TitleMark \HtmlParOff}
   {\HCode{</h4>}\HtmlParOn \EndNoFonts \IgnoreIndent\egroup\par\ShowPar}
\Configure{subsectionTITLE+}{\thesubsection \space#1}
\Configure{likesubsection}{}{}{\EndP\bgroup
   \ifvmode \IgnorePar\fi
   \HCode{<h4 class="likesubsectionHead"\a:LRdir>}\HtmlParOff }
  {\HCode{</h4>}\HtmlParOn \IgnoreIndent\egroup\par\ShowPar}
\Configure{likesubsectionTITLE+}{#1}
\ConfigureMark{subsubsection}
   {\ifHeadingNumbered \HCode{<span class="titlemark">}\mw@seccntformat
    \HeadingNumber \HCode{</span>}\fi}
\Configure{subsubsection}{}{}
   {\NoFonts \ifvmode \IgnorePar \fi  \EndP
    \bgroup \IgnorePar\HCode{<h5 class="subsubsectionHead"\a:LRdir>}%
    \TitleMark \HtmlParOff}
   {\HCode{</h5>}\HtmlParOn \EndNoFonts \IgnoreIndent\egroup
    \par\ShowPar}
\Configure{subsubsectionTITLE+}{\thesubsubsection \space#1}
\Configure{likesubsubsection}{}{}
   {\ifvmode \IgnorePar\fi \EndP\bgroup\IgnorePar
    \HCode{<h5 class="likesubsubsectionHead"\a:LRdir>}\HtmlParOff}
   {\HCode{</h5>}\HtmlParOn \IgnoreIndent\egroup \par\ShowPar}
\ConfigureMark{part}
   {\ifHeadingNumbered \HCode{<span class="titlemark">}\partname
      \space \HeadingNumber \HCode{</span>}\fi}
\Configure{part}{}{}
   {\NoFonts\ifvmode \IgnorePar\fi \EndP\IgnorePar
    \HCode{<h1 class="partHead"\a:LRdir>}\TitleMark
    \HCode{<br />}\HtmlParOff}
   {\HCode{</h1>}\HtmlParOn \EndNoFonts \IgnoreIndent \par}
\Configure{partTITLE+}{\thepart\space #1}
\Css{h1.partHead{text-align: left}}
\Configure{likepart}{}{}
   {\IgnorePar\EndP\HCode{<h1 class="likepartHead"\a:LRdir>}}
   {\HCode{</h1>}\IgnoreIndent\par}
\Configure{likepartTITLE+}{#1}
\ConfigureMark{section}
   {\ifHeadingNumbered \HCode{<span class="titlemark">}\mw@seccntformat
    \HeadingNumber \HCode{</span>}\fi}
\Configure{section}{}{}
   {\NoFonts \ifvmode \IgnorePar\fi \EndP\IgnorePar
    \HCode{<h3 class="sectionHead"\a:LRdir>}\TitleMark\HtmlParOff}
   {\HCode{</h3>}\HtmlParOn \EndNoFonts \ShowPar \IgnoreIndent \par}
\Configure{sectionTITLE+}{\thesection\space#1}
\Configure{likesection}{}{}
   {\ifvmode \IgnorePar\fi
    \EndP\IgnorePar\HCode{<h3 class="likesectionHead"\a:LRdir>}\HtmlParOff}
   {\HCode{</h3>}\HtmlParOn \IgnoreIndent \par}
\Configure{likesectionTITLE+}{#1}
\Configure{paragraph}{}{}
  {\par\ShowPar\IgnoreIndent\HCode{<span
      class="paragraphHead"\a:LRdir>}\begingroup\bf}
  {\endgroup\HCode{</span>}\IgnorePar}
\Css{.paragraphHead, .likeparagraphHead
   { margin-top:2em; font-weight: bold;}}
\Configure{likeparagraph}{}{}
  {\ShowPar\IgnoreIndent\HCode{<span class="likeparagraphHead"\a:LRdir>}}
  {\HCode{</span>}\IgnorePar}
\ConfigureMark{subparagraph}{}
\Configure{subparagraph}{}{}
  {\par\ShowPar\IgnoreIndent
   \HCode{<span class="subparagraphHead"\a:LRdir>}\begingroup\bf
   \TitleMark\space}
  {\endgroup\HCode{</span>}\IgnorePar}
\Css{.subparagraphHead, .likesubparagraphHead
   { font-weight: bold;}}
\Configure{likesubparagraph}{}{}
  {\par\ShowPar\IgnoreIndent
   \HCode{<span class="likesubparagraphHead"\a:LRdir>}\begingroup\bf}
  {\endgroup\HCode{</span>}\IgnorePar}
\Configure{endpart}{likepart}
\Configure{endlikepart}{endpart}
\Configure{endsection}
   {likesection,chapter,likechapter,appendix,part,likepart}
\Configure{endlikesection}
   {section,chapter,likechapter,appendix,part,likepart}
\Configure{endsubsection}
   {likesubsection,section,likesection,chapter,%
      likechapter,appendix,part,likepart}
\Configure{endlikesubsection}
   {subsection,section,likesection,chapter,%
      likechapter,appendix,part,likepart}
\Configure{endsubsubsection}
   {likesubsubsection,subsection,likesubsection,section,%
      likesection,chapter,likechapter,appendix,part,likepart}
\Configure{endlikesubsubsection}
   {subsubsection,subsection,likesubsection,section,%
      likesection,chapter,likechapter,appendix,part,likepart}
\Configure{endparagraph}
   {likeparagraph,subsubsection,likesubsubsection,subsection,%
      likesubsection,section,%
      likesection,chapter,likechapter,appendix,part,likepart}
\Configure{endlikeparagraph}
   {paragraph,subsubsection,likesubsubsection,subsection,%
    likesubsection,section,%
    likesection,chapter,likechapter,appendix,part,likepart}
\Configure{endsubparagraph}
   {likesubparagraph,likeparagraph,subsubsection,likesubsubsection,%
    subsection,likesubsection,section,%
    likesection,chapter,likechapter,appendix,part,likepart}
\Configure{endlikesubparagraph}
   {subparagraph,likeparagraph,subsubsection,likesubsubsection,%
    subsection,likesubsection,section,%
    likesection,chapter,likechapter,appendix,part,likepart}

\ConfigureMark{chapter}
   {\ifHeadingNumbered \HCode{<span class="titlemark">}\mw@seccntformat
    \HeadingNumber \HCode{</span>}\fi}
\Configure{chapter}{}{}
   {\NoFonts \ifvmode \IgnorePar\fi \EndP\IgnorePar
    \HCode{<h2 class="chapterHead"\a:LRdir>}\TitleMark\HtmlParOff}
   {\HCode{</h2>}\HtmlParOn \EndNoFonts \IgnoreIndent \par}
\Configure{chapterTITLE+}{\thesection\space#1}
\Configure{likechapter}{}{}
   {\ifvmode \IgnorePar\fi
    \EndP\IgnorePar\HCode{<h2 class="likechapterHead"\a:LRdir>}\HtmlParOff}
   {\HCode{</h2>}\HtmlParOn \IgnoreIndent \par}
\Configure{likechapterTITLE+}{#1}

\ConfigureToc{part}
  {\HCode{<div class="partToc" \a:LRdir><span class="mark">}}
  {\HCode{</span>}. }
  {}
  {\HCode{</div>}}
\ConfigureToc{likepart}
  {\HCode{<div class="likepartToc" \a:LRdir><span class="mark">}}
  {\HCode{</span>}}
  {}
  {\HCode{</div>}}
\ConfigureToc{section}
  {\HCode{<div class="sectionToc" \a:LRdir><span class="mark">}}
  {\HCode{</span>}. }
  {}
  {\HCode{</div>}}
\ConfigureToc{likesection}
  {\HCode{<div class="likesectionToc" \a:LRdir><span class="mark">}}
  {\HCode{</span>}}
  {}
  {\HCode{</div>}}
\ConfigureToc{subsection}
  {\HCode{<div class="subsectionToc" \a:LRdir><span class="mark">}}
  {\HCode{</span>}. }
  {}
  {\HCode{</div>}}
\ConfigureToc{likesubsection}
  {\HCode{<div class="likesubsectionToc" \a:LRdir><span class="mark">}}
  {\HCode{</span>}}
  {}
  {\HCode{</div>}}
\ConfigureToc{subsubsection}
  {\HCode{<div class="subsubsectionToc" \a:LRdir><span class="mark">}}
  {\HCode{</span>}. }
  {}
  {\HCode{</div>}}
\ConfigureToc{likesubsubsection}
  {\HCode{<div class="likesubsubsectionToc" \a:LRdir><span class="mark">}}
  {\HCode{</span>}}
  {}
  {\HCode{</div>}}
\ConfigureToc{paragraph}
  {\HCode{<div class="paragraphToc" \a:LRdir><span class="mark">}}
  {\HCode{</span>}. }
  {}
  {\HCode{</div>}}
\ConfigureToc{likeparagraph}
  {\HCode{<div class="likeparagraphToc" \a:LRdir><span class="mark">}}
  {\HCode{</span>}}
  {}
  {\HCode{</div>}}
\ConfigureToc{subparagraph}
  {\HCode{<div class="subparagraphToc" \a:LRdir><span class="mark">}}
  {\HCode{</span>}. }
  {}
  {\HCode{</div>}}
\ConfigureToc{likesubparagraph}
  {\HCode{<div class="likesubparagraphToc" \a:LRdir><span class="mark">}}
  {\HCode{</span>}}
  {}
  {\HCode{</div>}}
\Css{.partToc a, .partToc, .likepartToc a, .likepartToc
        {line-height: 200\%; font-weight:bold; font-size:110\%;}}
\Css{.partToc, .likepartToc{text-align:center;margin-bottom:0.25em;
           margin-top:0.25em;}}

\ConfigureToc{chapter}
  {\HCode{<div class="chapterToc" \a:LRdir><span class="mark">}}
  {\HCode{</span>}. }
  {}
  {\HCode{</div>}}
\ConfigureToc{likechapter}
  {\HCode{<div class="likechapterToc" \a:LRdir><span class="mark">}}
  {\HCode{</span>}}
  {}
  {\HCode{</div>}}
\Css{.chapterToc, .likechapterToc            {white-space: nowrap;}}
\Css{.sectionToc, .likesectionToc
                            {margin-left:1em; white-space: nowrap;}}
\Css{.subsectionToc, .likesubsectionToc
                            {margin-left:2em; white-space: nowrap;}}
\Css{.subsubsectionToc, .likesubsubsectionToc
                            {margin-left:3em; white-space: nowrap;}}
\Css{.paragraphToc, .likeparagraphToc
                            {margin-left:4em; white-space: nowrap;}}
\Css{.subparagraphToc, .likesubparagraphToc
                            {margin-left:5em; white-space: nowrap;}}

\:CheckOption{7}     \if:Option
    \expandafter\ifx \csname @chapter\endcsname\relax
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,part}
\CutAt{likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,likesubsection,subsection}
\fi

         \CutAt{subsection,section,likesection,part}
\CutAt{likesubsection,section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection}
\fi

         \CutAt{subsubsection,subsection,likesubsection,section,likesection,part}
\CutAt{likesubsubsection,subsection,likesubsection,section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection,paragraph}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection,%
    paragraph}
\fi

         \CutAt{paragraph,subsubsection,likesubsubsection,subsection,likesubsection,%
       section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection,%
    paragraph,subparagraph}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection,%
    paragraph,subparagraph}
\fi

         \CutAt{subparagraph,paragraph,subsubsection,likesubsubsection,%
       subsection,likesubsection,%
       section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,%
          section,likesection,subsection,likesubsection}
     \MiniToc:At{likepart,/part,%
          section,likesection,subsection,likesubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             subsubsection,paragraph}
     \MiniToc:At{likesubsection,/subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             subsubsection,paragraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
     \MiniToc:At{likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsubsection,/likesubsubsection,/subsection,%
             /likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             paragraph,subparagraph}
     \MiniToc:At{likesubsubsection,/subsubsection,/likesubsection,%
             /subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             paragraph,subparagraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsubsection,/likesubsubsection,%
          /subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          paragraph,subparagraph}
     \MiniToc:At{likesubsubsection,/subsubsection,/likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          paragraph,subparagraph}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{paragraph,/subsubsection,/likesubsubsection,/subsection,%
             /likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             subparagraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{paragraph,/subsubsection,/likesubsubsection,%
          /subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          subparagraph}
  \fi
\fi

    \else
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
     appendix,section\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection,likesubsection\fi}
\fi

         \CutAt{chapter,likechapter,appendix,part}
\CutAt{likechapter,appendix,part}
\CutAt{appendix,chapter,likechapter,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,chapter,likechapter,appendix,part}
\CutAt{likesection,chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,likesubsection,subsection}
\fi

         \CutAt{subsection,section,likesection,%
                  chapter,likechapter,appendix,part}
\CutAt{likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection}
\fi

         \CutAt{subsubsection,subsection,likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}
\CutAt{likesubsubsection,subsection,likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection,paragraph}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection,%
    paragraph}
\fi

         \CutAt{paragraph,subsubsection,likesubsubsection,subsection,likesubsection,%
       section,likesection,chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection,%
    paragraph,subparagraph}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection,%
    paragraph,subparagraph}
\fi

         \CutAt{subparagraph,paragraph,subsubsection,likesubsubsection,%
       subsection,likesubsection,%
       section,likesection,chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,likechapter,appendix,%
          section,likesection}
     \MiniToc:At{likepart,/part,chapter,likechapter,appendix,%
          section,likesection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,subsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,subsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,subsection}
   \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,likesection,subsection,likesubsection}
   \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             subsubsection,paragraph}
     \MiniToc:At{likesubsection,/subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             subsubsection,paragraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
     \MiniToc:At{likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsubsection,/likesubsubsection,/subsection,%
             /likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             paragraph,subparagraph}
     \MiniToc:At{likesubsubsection,/subsubsection,/likesubsection,%
             /subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             paragraph,subparagraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsubsection,/likesubsubsection,%
          /subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          paragraph,subparagraph}
     \MiniToc:At{likesubsubsection,/subsubsection,/likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          paragraph,subparagraph}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{paragraph,/subsubsection,/likesubsubsection,/subsection,%
             /likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             subparagraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{paragraph,/subsubsection,/likesubsubsection,%
          /subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          subparagraph}
  \fi
\fi

    \fi
    \:CheckOption{obj-toc}  \if:Option
   \Css{object.toc { float: left;
                     width: 25\%;
                     height: 100\%;
                     border: 1px solid \#888888;
                     margin-left:0em;
                     margin-top:0em;
                     margin-bottom:1em;
                     margin-right:1em;
                     padding-right:1em;
               }}
   \Css{body\#jobname-toc{margin:0em;}}
   \Css{body\#jobname-toc .tableofcontents{ white-space: nowrap; }}
   \Configure{@BODY}
      {\edef\:temp{\jobname-toc.\:html}
       \edef\:tempa{\FileName}
       \edef\:temp{\expandafter\string\csname\:temp\endcsname}
       \edef\:tempa{\expandafter\string\csname\:tempa\endcsname}
       \ifx\:temp\:tempa\else
          \hbox{
             \HCode{<object class="toc" data="\jobname-toc.\:html">}
                 [\Link[\jobname-toc.\:html]{}{}table of contents\EndLink]
             \HCode{</object>}}
       \fi
      }
      {}
   \pend:defI\Auto:ent{%
      \bgroup
      \let\contentsname=\empty
      \Configure{!BODY}{ id="jobname-toc"}%
      \Configure{Link}{a}{target="\string _top" href=}{id=}{}%
      \NextFile{\jobname-toc.\csname :html\endcsname}%
      \HPage{}%
   }
   \append:defI\Auto:ent{%
      \EndHPage{}%
      \egroup
   }
\else
   \Log:Note{for frames-like object-based table of contents,
                 use the command line option `obj-toc'}
\fi

\else\:CheckOption{6}     \if:Option
    \expandafter\ifx \csname @chapter\endcsname\relax
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,part}
\CutAt{likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,likesubsection,subsection}
\fi

         \CutAt{subsection,section,likesection,part}
\CutAt{likesubsection,section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection}
\fi

         \CutAt{subsubsection,subsection,likesubsection,section,likesection,part}
\CutAt{likesubsubsection,subsection,likesubsection,section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection,paragraph}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection,%
    paragraph}
\fi

         \CutAt{paragraph,subsubsection,likesubsubsection,subsection,likesubsection,%
       section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,%
          section,likesection,subsection,likesubsection}
     \MiniToc:At{likepart,/part,%
          section,likesection,subsection,likesubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             subsubsection,paragraph}
     \MiniToc:At{likesubsection,/subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             subsubsection,paragraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
     \MiniToc:At{likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsubsection,/likesubsubsection,/subsection,%
             /likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             paragraph,subparagraph}
     \MiniToc:At{likesubsubsection,/subsubsection,/likesubsection,%
             /subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             paragraph,subparagraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsubsection,/likesubsubsection,%
          /subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          paragraph,subparagraph}
     \MiniToc:At{likesubsubsection,/subsubsection,/likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          paragraph,subparagraph}
  \fi
\fi

    \else
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
     appendix,section\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection,likesubsection\fi}
\fi

         \CutAt{chapter,likechapter,appendix,part}
\CutAt{likechapter,appendix,part}
\CutAt{appendix,chapter,likechapter,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,chapter,likechapter,appendix,part}
\CutAt{likesection,chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,likesubsection,subsection}
\fi

         \CutAt{subsection,section,likesection,%
                  chapter,likechapter,appendix,part}
\CutAt{likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection}
\fi

         \CutAt{subsubsection,subsection,likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}
\CutAt{likesubsubsection,subsection,likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection,paragraph}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection,%
    paragraph}
\fi

         \CutAt{paragraph,subsubsection,likesubsubsection,subsection,likesubsection,%
       section,likesection,chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,likechapter,appendix,%
          section,likesection}
     \MiniToc:At{likepart,/part,chapter,likechapter,appendix,%
          section,likesection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,subsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,subsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,subsection}
   \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,likesection,subsection,likesubsection}
   \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             subsubsection,paragraph}
     \MiniToc:At{likesubsection,/subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             subsubsection,paragraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
     \MiniToc:At{likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsubsection,/likesubsubsection,/subsection,%
             /likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             paragraph,subparagraph}
     \MiniToc:At{likesubsubsection,/subsubsection,/likesubsection,%
             /subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             paragraph,subparagraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsubsection,/likesubsubsection,%
          /subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          paragraph,subparagraph}
     \MiniToc:At{likesubsubsection,/subsubsection,/likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          paragraph,subparagraph}
  \fi
\fi

    \fi
    \:CheckOption{obj-toc}  \if:Option
   \Css{object.toc { float: left;
                     width: 25\%;
                     height: 100\%;
                     border: 1px solid \#888888;
                     margin-left:0em;
                     margin-top:0em;
                     margin-bottom:1em;
                     margin-right:1em;
                     padding-right:1em;
               }}
   \Css{body\#jobname-toc{margin:0em;}}
   \Css{body\#jobname-toc .tableofcontents{ white-space: nowrap; }}
   \Configure{@BODY}
      {\edef\:temp{\jobname-toc.\:html}
       \edef\:tempa{\FileName}
       \edef\:temp{\expandafter\string\csname\:temp\endcsname}
       \edef\:tempa{\expandafter\string\csname\:tempa\endcsname}
       \ifx\:temp\:tempa\else
          \hbox{
             \HCode{<object class="toc" data="\jobname-toc.\:html">}
                 [\Link[\jobname-toc.\:html]{}{}table of contents\EndLink]
             \HCode{</object>}}
       \fi
      }
      {}
   \pend:defI\Auto:ent{%
      \bgroup
      \let\contentsname=\empty
      \Configure{!BODY}{ id="jobname-toc"}%
      \Configure{Link}{a}{target="\string _top" href=}{id=}{}%
      \NextFile{\jobname-toc.\csname :html\endcsname}%
      \HPage{}%
   }
   \append:defI\Auto:ent{%
      \EndHPage{}%
      \egroup
   }
\else
   \Log:Note{for frames-like object-based table of contents,
                 use the command line option `obj-toc'}
\fi

\else \:CheckOption{5}     \if:Option
    \expandafter\ifx \csname @chapter\endcsname\relax
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,part}
\CutAt{likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,likesubsection,subsection}
\fi

         \CutAt{subsection,section,likesection,part}
\CutAt{likesubsection,section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection}
\fi

         \CutAt{subsubsection,subsection,likesubsection,section,likesection,part}
\CutAt{likesubsubsection,subsection,likesubsection,section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,%
          section,likesection,subsection,likesubsection}
     \MiniToc:At{likepart,/part,%
          section,likesection,subsection,likesubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             subsubsection,paragraph}
     \MiniToc:At{likesubsection,/subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             subsubsection,paragraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
     \MiniToc:At{likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
  \fi
\fi

    \else
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
     appendix,section\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection,likesubsection\fi}
\fi

         \CutAt{chapter,likechapter,appendix,part}
\CutAt{likechapter,appendix,part}
\CutAt{appendix,chapter,likechapter,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,chapter,likechapter,appendix,part}
\CutAt{likesection,chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,likesubsection,subsection}
\fi

         \CutAt{subsection,section,likesection,%
                  chapter,likechapter,appendix,part}
\CutAt{likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection}
\fi

         \CutAt{subsubsection,subsection,likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}
\CutAt{likesubsubsection,subsection,likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,likechapter,appendix,%
          section,likesection}
     \MiniToc:At{likepart,/part,chapter,likechapter,appendix,%
          section,likesection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,subsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,subsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,subsection}
   \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,likesection,subsection,likesubsection}
   \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             subsubsection,paragraph}
     \MiniToc:At{likesubsection,/subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             subsubsection,paragraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
     \MiniToc:At{likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
  \fi
\fi

    \fi
    \:CheckOption{obj-toc}  \if:Option
   \Css{object.toc { float: left;
                     width: 25\%;
                     height: 100\%;
                     border: 1px solid \#888888;
                     margin-left:0em;
                     margin-top:0em;
                     margin-bottom:1em;
                     margin-right:1em;
                     padding-right:1em;
               }}
   \Css{body\#jobname-toc{margin:0em;}}
   \Css{body\#jobname-toc .tableofcontents{ white-space: nowrap; }}
   \Configure{@BODY}
      {\edef\:temp{\jobname-toc.\:html}
       \edef\:tempa{\FileName}
       \edef\:temp{\expandafter\string\csname\:temp\endcsname}
       \edef\:tempa{\expandafter\string\csname\:tempa\endcsname}
       \ifx\:temp\:tempa\else
          \hbox{
             \HCode{<object class="toc" data="\jobname-toc.\:html">}
                 [\Link[\jobname-toc.\:html]{}{}table of contents\EndLink]
             \HCode{</object>}}
       \fi
      }
      {}
   \pend:defI\Auto:ent{%
      \bgroup
      \let\contentsname=\empty
      \Configure{!BODY}{ id="jobname-toc"}%
      \Configure{Link}{a}{target="\string _top" href=}{id=}{}%
      \NextFile{\jobname-toc.\csname :html\endcsname}%
      \HPage{}%
   }
   \append:defI\Auto:ent{%
      \EndHPage{}%
      \egroup
   }
\else
   \Log:Note{for frames-like object-based table of contents,
                 use the command line option `obj-toc'}
\fi

\else\:CheckOption{4}     \if:Option
    \expandafter\ifx \csname @chapter\endcsname\relax
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,part}
\CutAt{likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,likesubsection,subsection}
\fi

         \CutAt{subsection,section,likesection,part}
\CutAt{likesubsection,section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,%
          section,likesection,subsection,likesubsection}
     \MiniToc:At{likepart,/part,%
          section,likesection,subsection,likesubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
  \fi
\fi

    \else
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
     appendix,section\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection,likesubsection\fi}
\fi

         \CutAt{chapter,likechapter,appendix,part}
\CutAt{likechapter,appendix,part}
\CutAt{appendix,chapter,likechapter,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,chapter,likechapter,appendix,part}
\CutAt{likesection,chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,likesubsection,subsection}
\fi

         \CutAt{subsection,section,likesection,%
                  chapter,likechapter,appendix,part}
\CutAt{likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,likechapter,appendix,%
          section,likesection}
     \MiniToc:At{likepart,/part,chapter,likechapter,appendix,%
          section,likesection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,subsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,subsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,subsection}
   \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,likesection,subsection,likesubsection}
   \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
  \fi
\fi

    \fi
    \:CheckOption{obj-toc}  \if:Option
   \Css{object.toc { float: left;
                     width: 25\%;
                     height: 100\%;
                     border: 1px solid \#888888;
                     margin-left:0em;
                     margin-top:0em;
                     margin-bottom:1em;
                     margin-right:1em;
                     padding-right:1em;
               }}
   \Css{body\#jobname-toc{margin:0em;}}
   \Css{body\#jobname-toc .tableofcontents{ white-space: nowrap; }}
   \Configure{@BODY}
      {\edef\:temp{\jobname-toc.\:html}
       \edef\:tempa{\FileName}
       \edef\:temp{\expandafter\string\csname\:temp\endcsname}
       \edef\:tempa{\expandafter\string\csname\:tempa\endcsname}
       \ifx\:temp\:tempa\else
          \hbox{
             \HCode{<object class="toc" data="\jobname-toc.\:html">}
                 [\Link[\jobname-toc.\:html]{}{}table of contents\EndLink]
             \HCode{</object>}}
       \fi
      }
      {}
   \pend:defI\Auto:ent{%
      \bgroup
      \let\contentsname=\empty
      \Configure{!BODY}{ id="jobname-toc"}%
      \Configure{Link}{a}{target="\string _top" href=}{id=}{}%
      \NextFile{\jobname-toc.\csname :html\endcsname}%
      \HPage{}%
   }
   \append:defI\Auto:ent{%
      \EndHPage{}%
      \egroup
   }
\else
   \Log:Note{for frames-like object-based table of contents,
                 use the command line option `obj-toc'}
\fi

\else\:CheckOption{3}     \if:Option
    \expandafter\ifx \csname @chapter\endcsname\relax
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,likesubsection,subsection}
\fi

         \CutAt{subsection,section,likesection,part}
\CutAt{likesubsection,section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,%
          section,likesection,subsection,likesubsection}
     \MiniToc:At{likepart,/part,%
          section,likesection,subsection,likesubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
  \fi
\fi

         \CutAt{section,likesection,part}
\CutAt{likesection,part}

    \else
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
     appendix,section\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection,likesubsection\fi}
\fi

         \CutAt{chapter,likechapter,appendix,part}
\CutAt{likechapter,appendix,part}
\CutAt{appendix,chapter,likechapter,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,chapter,likechapter,appendix,part}
\CutAt{likesection,chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,likechapter,appendix,%
          section,likesection}
     \MiniToc:At{likepart,/part,chapter,likechapter,appendix,%
          section,likesection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,subsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,subsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,subsection}
   \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,likesection,subsection,likesubsection}
   \fi
\fi

    \fi
    \:CheckOption{obj-toc}  \if:Option
   \Css{object.toc { float: left;
                     width: 25\%;
                     height: 100\%;
                     border: 1px solid \#888888;
                     margin-left:0em;
                     margin-top:0em;
                     margin-bottom:1em;
                     margin-right:1em;
                     padding-right:1em;
               }}
   \Css{body\#jobname-toc{margin:0em;}}
   \Css{body\#jobname-toc .tableofcontents{ white-space: nowrap; }}
   \Configure{@BODY}
      {\edef\:temp{\jobname-toc.\:html}
       \edef\:tempa{\FileName}
       \edef\:temp{\expandafter\string\csname\:temp\endcsname}
       \edef\:tempa{\expandafter\string\csname\:tempa\endcsname}
       \ifx\:temp\:tempa\else
          \hbox{
             \HCode{<object class="toc" data="\jobname-toc.\:html">}
                 [\Link[\jobname-toc.\:html]{}{}table of contents\EndLink]
             \HCode{</object>}}
       \fi
      }
      {}
   \pend:defI\Auto:ent{%
      \bgroup
      \let\contentsname=\empty
      \Configure{!BODY}{ id="jobname-toc"}%
      \Configure{Link}{a}{target="\string _top" href=}{id=}{}%
      \NextFile{\jobname-toc.\csname :html\endcsname}%
      \HPage{}%
   }
   \append:defI\Auto:ent{%
      \EndHPage{}%
      \egroup
   }
\else
   \Log:Note{for frames-like object-based table of contents,
                 use the command line option `obj-toc'}
\fi

\else\:CheckOption{2}     \if:Option
    \expandafter\ifx \csname @chapter\endcsname\relax
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,part}
\CutAt{likesection,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,%
          section,likesection,subsection,likesubsection}
     \MiniToc:At{likepart,/part,%
          section,likesection,subsection,likesubsection}
  \fi
\fi

    \else
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
     appendix,section\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection,likesubsection\fi}
\fi

         \CutAt{chapter,likechapter,appendix,part}
\CutAt{likechapter,appendix,part}
\CutAt{appendix,chapter,likechapter,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,likechapter,appendix,%
          section,likesection}
     \MiniToc:At{likepart,/part,chapter,likechapter,appendix,%
          section,likesection}
  \fi
\fi

    \fi
    \:CheckOption{obj-toc}  \if:Option
   \Css{object.toc { float: left;
                     width: 25\%;
                     height: 100\%;
                     border: 1px solid \#888888;
                     margin-left:0em;
                     margin-top:0em;
                     margin-bottom:1em;
                     margin-right:1em;
                     padding-right:1em;
               }}
   \Css{body\#jobname-toc{margin:0em;}}
   \Css{body\#jobname-toc .tableofcontents{ white-space: nowrap; }}
   \Configure{@BODY}
      {\edef\:temp{\jobname-toc.\:html}
       \edef\:tempa{\FileName}
       \edef\:temp{\expandafter\string\csname\:temp\endcsname}
       \edef\:tempa{\expandafter\string\csname\:tempa\endcsname}
       \ifx\:temp\:tempa\else
          \hbox{
             \HCode{<object class="toc" data="\jobname-toc.\:html">}
                 [\Link[\jobname-toc.\:html]{}{}table of contents\EndLink]
             \HCode{</object>}}
       \fi
      }
      {}
   \pend:defI\Auto:ent{%
      \bgroup
      \let\contentsname=\empty
      \Configure{!BODY}{ id="jobname-toc"}%
      \Configure{Link}{a}{target="\string _top" href=}{id=}{}%
      \NextFile{\jobname-toc.\csname :html\endcsname}%
      \HPage{}%
   }
   \append:defI\Auto:ent{%
      \EndHPage{}%
      \egroup
   }
\else
   \Log:Note{for frames-like object-based table of contents,
                 use the command line option `obj-toc'}
\fi

\else\:CheckOption{1}     \if:Option
    \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
    \CutAt{part}
\CutAt{likepart}

    \:CheckOption{obj-toc}  \if:Option
   \Css{object.toc { float: left;
                     width: 25\%;
                     height: 100\%;
                     border: 1px solid \#888888;
                     margin-left:0em;
                     margin-top:0em;
                     margin-bottom:1em;
                     margin-right:1em;
                     padding-right:1em;
               }}
   \Css{body\#jobname-toc{margin:0em;}}
   \Css{body\#jobname-toc .tableofcontents{ white-space: nowrap; }}
   \Configure{@BODY}
      {\edef\:temp{\jobname-toc.\:html}
       \edef\:tempa{\FileName}
       \edef\:temp{\expandafter\string\csname\:temp\endcsname}
       \edef\:tempa{\expandafter\string\csname\:tempa\endcsname}
       \ifx\:temp\:tempa\else
          \hbox{
             \HCode{<object class="toc" data="\jobname-toc.\:html">}
                 [\Link[\jobname-toc.\:html]{}{}table of contents\EndLink]
             \HCode{</object>}}
       \fi
      }
      {}
   \pend:defI\Auto:ent{%
      \bgroup
      \let\contentsname=\empty
      \Configure{!BODY}{ id="jobname-toc"}%
      \Configure{Link}{a}{target="\string _top" href=}{id=}{}%
      \NextFile{\jobname-toc.\csname :html\endcsname}%
      \HPage{}%
   }
   \append:defI\Auto:ent{%
      \EndHPage{}%
      \egroup
   }
\else
   \Log:Note{for frames-like object-based table of contents,
                 use the command line option `obj-toc'}
\fi

\else
    \Log:Note{for automatic sectioning
        pagination, use the command line option
                     `1', `2', `3', '4', '5', '6', or '7'}%
\fi \fi \fi \fi \fi \fi  \fi
\:CheckOption{sec-filename}   \if:Option \else
    \Log:Note{for files named derived from section
        titles, use the command line option `sec-filename'}%
\fi
 
\Configure{maketitle}
   {\ifvmode \IgnorePar\fi \EndP {\Configure{maketitle}{}{}{}{}%
\a:NoSection \let\leavevmode\empty \let\not@math@alphabet\:gobbleII
\def\text@command##1{##1}\let\selectfont\empty
\def\check@icl ##1\check@icr{}%
\let\thanks\:gobble
\def\mbox{\hbox}%
\let\\\space \def\TeX{TeX}%
\def\gobble:font##1##2{##2}\:TITLE: \no:fonts
\def\footnotemark[##1]{}%
\def\a:ttl##1##2//{##1//}%
\let\large=\empty
\let \bf=\empty
\let \centering=\empty
\def \ignorespaces##1\vskip##2//{##1}%
\Tag{TITLE+}{\@title//}%
}%
%
    \HCode{<div class="maketitle">}}
   {\ifvmode \IgnorePar\fi \EndP \HCode{</div>}}
   {\NoFonts\IgnorePar\HCode{<h2 class="titleHead"\a:LRdir>}\IgnorePar}
   {\HCode{</h2>}\IgnoreIndent\EndNoFonts}
\Css{div.maketitle {text-align:center;}}
\Css{h2.titleHead{text-align:center;}}
\Css{div.maketitle{ margin-bottom: 2em; }}
\:CheckOption{fn-in}\if:Option
   \Configure{thanks author date and}
   {\SaveEndP\global\setbox\fn:box=\vtop\bgroup\ShowPar
     \ifvoid\fn:box\else  \csname unvbox\endcsname\fn:box\fi}
   {\EndP\egroup\RecallEndP }
   {\HCode{<div class="author" \a:LRdir>}}{\HCode{</div>}}
   {\HCode{<div class="date" \a:LRdir>}}{\HCode{</div>}}
   {\HCode{<br class="and" />}}
   {\HCode{<br />}}
\Configure{thank}
   {\csname a:thank-mark\endcsname
\Link{tk-\the\c@footnote}{\ifx
        \footnote\thanks kt-\the\c@footnote\fi}}
   {\EndLink \csname b:thank-mark\endcsname
}
   {\HCode{<p>}\protect\Link{\ifx \footnote\thanks kt-\the\c@footnote
      \fi}{tk-\the\c@footnote}\csname a:thank-mark\endcsname
}
   {\csname b:thank-mark\endcsname
\protect\EndLink}
   {\HCode{</p>}}

\Css{div.author, div.date {text-align:center;}}
\Css{div.thanks{text-align:left; margin-left:10\%; font-size:85\%;
                font-style:italic; }}

\else
   \Configure{thanks author date and}
   {\ifvmode \IgnorePar\fi\EndP \HCode{<div class="thanks" \a:LRdir>}}
   {\ifvmode \IgnorePar\fi\EndP \HCode{</div>}}
   {\ifvmode \IgnorePar\fi\EndP \HCode{<div class="author" \a:LRdir>}}
   {\ifvmode \IgnorePar\fi\EndP \HCode{</div>}}
   {\ifvmode \IgnorePar\fi\EndP \HCode{<div class="date" \a:LRdir>}}
   {\ifvmode \IgnorePar\fi\EndP \HCode{</div>}}
   {\HCode{<br class="and" />}}
   {\HCode{<br />}}
\Configure{thank}
   {\csname a:thank-mark\endcsname
\Link{tk-\the\c@footnote}{}}
   {\EndLink \csname b:thank-mark\endcsname
}
   {\HCode{<br />}\protect\Link{}{tk-\the\c@footnote}\protect
     \EndLink \csname a:thank-mark\endcsname
}
   {\csname b:thank-mark\endcsname
} {}

\Css{div.author, div.date {text-align:center;}}
\Css{div.thanks{text-align:left; margin-left:10\%; font-size:85\%;
                font-style:italic; }}
\Css{div.author{white-space: nowrap;}}

\fi
\Configure{@begin}{theindex}{\section*{\indexname}}
\Configure{theindex}
   {\ifvmode \IgnorePar\fi \EndP
    \HCode{<div class="theindex">}\let\end:theidx\empty}
   {\end:theidx\HCode{</div>}}
   {} {\HCode{<br />}\hfil\break}
   {\ \ \ \ } {\HCode{<br />}\hfil\break}
   {\ \ \ \ \ \ \ \ } {\HCode{<br />}\hfil\break}
   {\hbox{\end:theidx\HCode{<p class="theindex">}}%
    \def\end:theidx{\HCode{</p>}}}

\Configure{caption}{\HCode{\if:nopar  \else <br />\fi}
   \:xhtml{\IgnorePar\EndP}\HCode{<div class="caption"\Hnewline
                                 ><span class="id">}}
   {: } {\HCode{</span><span \Hnewline class="content">}}
   {\HCode{</span></div>}\HCode{<!--tex4ht:label?:
   \cur:th\:currentlabel\space-->}%
}
\Css{div.caption {text-indent:-2em; margin-left:3em; margin-right:1em;
                  text-align:left;}}
\Css{div.caption span.id{font-weight: bold; white-space: nowrap; }}

\ConfigureEnv{thebibliography}{\IgnorePar}{\ShowPar\par}{}{}

\:CheckOption{no-bib} \if:Option\else
   \:CheckOption{mouseover} \if:Option
      \ConfigureList{thebibliography}%
   {\ifvmode\IgnorePar\fi\EndP \js:on
\HCode{<div
                   class="thebibliography">}\let\en:bib=\empty}
   {\en:bib \ifvmode\IgnorePar\fi\EndP \HCode{</div>}}
   {\en:bib\def\en:bib{\ht:special {t4ht@DCopyTo: \jobname-js.tex Skip bib }%
\csname bibliography2\endcsname
\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont bib }%
%
%
        \EndP\ht:special {t4ht@DCopyTo: \jobname-js.tex Skip bib }%
%
\HCode{<!--}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont bib }%
%
\HCode{</div></bibitem>\Hnewline}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Until bib }%
%
\HCode{-->}
}\HCode{<!--}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex From bib }%
%
\HCode{<bibitem>}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Skip bib }%
%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Set1 bib }%
%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont bib }%
%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Set2 bib }%
%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Skip bib }%
%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont bib }%
%
\HCode{<div class="js">}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Skip bib }%
%
\HCode{-->}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont bib }%
%
%
        \Configure{HtmlPar}
   {\EndP\HCode{<p class="bibitem" \a:LRdir>}}
   {\EndP\HCode{<p class="bibitem" \a:LRdir>}}
   {\Tg</p>} {\Tg</p>}%
\par\ShowPar
        \leavevmode \ht:special {t4ht@DCopyTo: \jobname-js.tex Skip bib }%
\HCode{<span
      class="biblabel">}\Configure{HtmlPar}
   {\EndP\HCode{<p class="bibitem-p" \a:LRdir>}}
   {\EndP\HCode{<p class="bibitem-p" \a:LRdir>}}
   {\Tg</p>} {\Tg</p>}%
}
   {\HCode{<span class="bibsp">}\:nbsp
      \:nbsp\:nbsp\HCode{</span></span>}\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont bib }%
}

   \else
      \ConfigureList{thebibliography}%
   {\ifvmode\IgnorePar\fi \EndP \HCode{<div
                   class="thebibliography">}\let\en:bib=\empty}
   {\en:bib \ifvmode\IgnorePar\fi \EndP \HCode{</div>}}
   {\en:bib\def\en:bib{\csname bibliography2\endcsname
\EndP}%
   \Configure{HtmlPar}
   {\EndP\HCode{<p class="bibitem" \a:LRdir>}}
   {\EndP\HCode{<p class="bibitem" \a:LRdir>}}
   {\Tg</p>} {\Tg</p>}%
\par\ShowPar
    \HCode{<span class="biblabel">}\Configure{HtmlPar}
   {\EndP\HCode{<p class="bibitem-p" \a:LRdir>}}
   {\EndP\HCode{<p class="bibitem-p" \a:LRdir>}}
   {\Tg</p>} {\Tg</p>}%
}
   {\HCode{<span class="bibsp">}\:nbsp
      \:nbsp\:nbsp\HCode{</span></span>}}

   \fi
   \Css{p.bibitem { text-indent: -2em; margin-left: 2em;
       margin-top:0.6em; margin-bottom:0.6em;     }}
\Css{p.bibitem-p { text-indent: 0em; margin-left: 2em;
       margin-top:0.6em; margin-bottom:0.6em;     }}

\fi

%\def\:SPAN#1#2{\HCode{<span class="#1">}#2\HCode{</span>}}
\ConfigureToc{lof}
  {\HCode{<span class="lofToc" \a:LRdir>}}{\ }{}{\HCode{</span><br />}}
\ConfigureToc{lot}
  {\HCode{<span class="lotToc" \a:LRdir>}}{\ }{}{\HCode{</span><br />}}

\ConfigureList{description}%
   {\EndP\HCode{<dl \a:LRdir class="description">}%
      \PushMacro\end:itm
\global\let\end:itm=\empty}
   {\PopMacro\end:itm \global\let\end:itm \end:itm
\EndP\HCode{</dd></dl>}\ShowPar}
   {\end:itm \global\def\end:itm{\EndP\Tg</dd>}\HCode{<dt
        class="description">}\bgroup \bf}
   {\egroup\EndP\HCode{</dt><dd\Hnewline class="description">}}

\ConfigureEnv{quote}
   {}{}
   {\IgnorePar\EndP
    \HCode{<blockquote class="\getClass{quote}">}\afterGetClass{quote}}
   {\IgnorePar\EndP\HCode{</blockquote>}\ShowPar\ShowIndent}
\NewConfigure{quoteClass}{2}
\Configure{quoteClass}{quote}{}

\ConfigureEnv{verse}
   {\ifvmode \IgnorePar\fi\EndP\Tg<div class="verse">}
   {\ifvmode \IgnorePar\fi\EndP\Tg</div>\par\ShowPar}
   {}{}
\ConfigureList{verse}
   {}{}
   {\parindent=\z@}  {\par}
\Css{.verse{white-space:nowrap; margin-left:2em}}

{\Configure{Needs}{Font\string_Size: #1}\ifcase  \@ptsize
   \or \Needs{11}\or \Needs{12}\else \fi}

\ConfigureEnv{quotation}
   {}{}
   {\IgnorePar\EndP\HCode{<blockquote class="quotation">}}
   {\IgnorePar\EndP\HCode{</blockquote>}\ShowPar}

\Configure{listof}{}{}{}{\HCode{<br />}}{}{ }

\ConfigureEnv{abstract}
   {\IgnorePar\EndP
    \HCode{<table\Hnewline class="abstract"><tr><td\Hnewline>}\par\ShowPar}
   {\ifvmode \IgnorePar\fi \EndP\HCode{</td></tr></table>}}{}{}
\Css{.abstract p {margin-left:5\%; margin-right:5\%;}}
\Css{table.abstract {width:100\%;}}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{mwbk}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \ConfigureMark{subsection}
   {\ifHeadingNumbered \HCode{<span class="titlemark">}\mw@seccntformat
    \HeadingNumber \HCode{</span>}\fi}
\Configure{subsection}{}{}
   {\NoFonts \ifvmode \IgnorePar\fi
    \EndP\bgroup \IgnorePar\HCode{<h4 class="subsectionHead"\a:LRdir>}%
    \TitleMark \HtmlParOff}
   {\HCode{</h4>}\HtmlParOn \EndNoFonts \IgnoreIndent\egroup\par\ShowPar}
\Configure{subsectionTITLE+}{\thesubsection \space#1}
\Configure{likesubsection}{}{}{\EndP\bgroup
   \ifvmode \IgnorePar\fi
   \HCode{<h4 class="likesubsectionHead"\a:LRdir>}\HtmlParOff }
  {\HCode{</h4>}\HtmlParOn \IgnoreIndent\egroup\par\ShowPar}
\Configure{likesubsectionTITLE+}{#1}
\ConfigureMark{subsubsection}
   {\ifHeadingNumbered \HCode{<span class="titlemark">}\mw@seccntformat
    \HeadingNumber \HCode{</span>}\fi}
\Configure{subsubsection}{}{}
   {\NoFonts \ifvmode \IgnorePar \fi  \EndP
    \bgroup \IgnorePar\HCode{<h5 class="subsubsectionHead"\a:LRdir>}%
    \TitleMark \HtmlParOff}
   {\HCode{</h5>}\HtmlParOn \EndNoFonts \IgnoreIndent\egroup
    \par\ShowPar}
\Configure{subsubsectionTITLE+}{\thesubsubsection \space#1}
\Configure{likesubsubsection}{}{}
   {\ifvmode \IgnorePar\fi \EndP\bgroup\IgnorePar
    \HCode{<h5 class="likesubsubsectionHead"\a:LRdir>}\HtmlParOff}
   {\HCode{</h5>}\HtmlParOn \IgnoreIndent\egroup \par\ShowPar}
\ConfigureMark{part}
   {\ifHeadingNumbered \HCode{<span class="titlemark">}\partname
      \space \HeadingNumber \HCode{</span>}\fi}
\Configure{part}{}{}
   {\NoFonts\ifvmode \IgnorePar\fi \EndP\IgnorePar
    \HCode{<h1 class="partHead"\a:LRdir>}\TitleMark
    \HCode{<br />}\HtmlParOff}
   {\HCode{</h1>}\HtmlParOn \EndNoFonts \IgnoreIndent \par}
\Configure{partTITLE+}{\thepart\space #1}
\Css{h1.partHead{text-align: left}}
\Configure{likepart}{}{}
   {\IgnorePar\EndP\HCode{<h1 class="likepartHead"\a:LRdir>}}
   {\HCode{</h1>}\IgnoreIndent\par}
\Configure{likepartTITLE+}{#1}
\ConfigureMark{section}
   {\ifHeadingNumbered \HCode{<span class="titlemark">}\mw@seccntformat
    \HeadingNumber \HCode{</span>}\fi}
\Configure{section}{}{}
   {\NoFonts \ifvmode \IgnorePar\fi \EndP\IgnorePar
    \HCode{<h3 class="sectionHead"\a:LRdir>}\TitleMark\HtmlParOff}
   {\HCode{</h3>}\HtmlParOn \EndNoFonts \ShowPar \IgnoreIndent \par}
\Configure{sectionTITLE+}{\thesection\space#1}
\Configure{likesection}{}{}
   {\ifvmode \IgnorePar\fi
    \EndP\IgnorePar\HCode{<h3 class="likesectionHead"\a:LRdir>}\HtmlParOff}
   {\HCode{</h3>}\HtmlParOn \IgnoreIndent \par}
\Configure{likesectionTITLE+}{#1}
\Configure{paragraph}{}{}
  {\par\ShowPar\IgnoreIndent\HCode{<span
      class="paragraphHead"\a:LRdir>}\begingroup\bf}
  {\endgroup\HCode{</span>}\IgnorePar}
\Css{.paragraphHead, .likeparagraphHead
   { margin-top:2em; font-weight: bold;}}
\Configure{likeparagraph}{}{}
  {\ShowPar\IgnoreIndent\HCode{<span class="likeparagraphHead"\a:LRdir>}}
  {\HCode{</span>}\IgnorePar}
\ConfigureMark{subparagraph}{}
\Configure{subparagraph}{}{}
  {\par\ShowPar\IgnoreIndent
   \HCode{<span class="subparagraphHead"\a:LRdir>}\begingroup\bf
   \TitleMark\space}
  {\endgroup\HCode{</span>}\IgnorePar}
\Css{.subparagraphHead, .likesubparagraphHead
   { font-weight: bold;}}
\Configure{likesubparagraph}{}{}
  {\par\ShowPar\IgnoreIndent
   \HCode{<span class="likesubparagraphHead"\a:LRdir>}\begingroup\bf}
  {\endgroup\HCode{</span>}\IgnorePar}
\Configure{endpart}{likepart}
\Configure{endlikepart}{endpart}
\Configure{endsection}
   {likesection,chapter,likechapter,appendix,part,likepart}
\Configure{endlikesection}
   {section,chapter,likechapter,appendix,part,likepart}
\Configure{endsubsection}
   {likesubsection,section,likesection,chapter,%
      likechapter,appendix,part,likepart}
\Configure{endlikesubsection}
   {subsection,section,likesection,chapter,%
      likechapter,appendix,part,likepart}
\Configure{endsubsubsection}
   {likesubsubsection,subsection,likesubsection,section,%
      likesection,chapter,likechapter,appendix,part,likepart}
\Configure{endlikesubsubsection}
   {subsubsection,subsection,likesubsection,section,%
      likesection,chapter,likechapter,appendix,part,likepart}
\Configure{endparagraph}
   {likeparagraph,subsubsection,likesubsubsection,subsection,%
      likesubsection,section,%
      likesection,chapter,likechapter,appendix,part,likepart}
\Configure{endlikeparagraph}
   {paragraph,subsubsection,likesubsubsection,subsection,%
    likesubsection,section,%
    likesection,chapter,likechapter,appendix,part,likepart}
\Configure{endsubparagraph}
   {likesubparagraph,likeparagraph,subsubsection,likesubsubsection,%
    subsection,likesubsection,section,%
    likesection,chapter,likechapter,appendix,part,likepart}
\Configure{endlikesubparagraph}
   {subparagraph,likeparagraph,subsubsection,likesubsubsection,%
    subsection,likesubsection,section,%
    likesection,chapter,likechapter,appendix,part,likepart}

\ConfigureMark{chapter}
   {\ifHeadingNumbered \HCode{<span class="titlemark">}\mw@seccntformat
    \HeadingNumber \HCode{</span>}\fi}
\Configure{chapter}{}{}
   {\NoFonts \ifvmode \IgnorePar\fi \EndP\IgnorePar
    \HCode{<h2 class="chapterHead"\a:LRdir>}\TitleMark\HtmlParOff}
   {\HCode{</h2>}\HtmlParOn \EndNoFonts \IgnoreIndent \par}
\Configure{chapterTITLE+}{\thesection\space#1}
\Configure{likechapter}{}{}
   {\ifvmode \IgnorePar\fi
    \EndP\IgnorePar\HCode{<h2 class="likechapterHead"\a:LRdir>}\HtmlParOff}
   {\HCode{</h2>}\HtmlParOn \IgnoreIndent \par}
\Configure{likechapterTITLE+}{#1}

\ConfigureToc{part}
  {\HCode{<div class="partToc" \a:LRdir><span class="mark">}}
  {\HCode{</span>}. }
  {}
  {\HCode{</div>}}
\ConfigureToc{likepart}
  {\HCode{<div class="likepartToc" \a:LRdir><span class="mark">}}
  {\HCode{</span>}}
  {}
  {\HCode{</div>}}
\ConfigureToc{section}
  {\HCode{<div class="sectionToc" \a:LRdir><span class="mark">}}
  {\HCode{</span>}. }
  {}
  {\HCode{</div>}}
\ConfigureToc{likesection}
  {\HCode{<div class="likesectionToc" \a:LRdir><span class="mark">}}
  {\HCode{</span>}}
  {}
  {\HCode{</div>}}
\ConfigureToc{subsection}
  {\HCode{<div class="subsectionToc" \a:LRdir><span class="mark">}}
  {\HCode{</span>}. }
  {}
  {\HCode{</div>}}
\ConfigureToc{likesubsection}
  {\HCode{<div class="likesubsectionToc" \a:LRdir><span class="mark">}}
  {\HCode{</span>}}
  {}
  {\HCode{</div>}}
\ConfigureToc{subsubsection}
  {\HCode{<div class="subsubsectionToc" \a:LRdir><span class="mark">}}
  {\HCode{</span>}. }
  {}
  {\HCode{</div>}}
\ConfigureToc{likesubsubsection}
  {\HCode{<div class="likesubsubsectionToc" \a:LRdir><span class="mark">}}
  {\HCode{</span>}}
  {}
  {\HCode{</div>}}
\ConfigureToc{paragraph}
  {\HCode{<div class="paragraphToc" \a:LRdir><span class="mark">}}
  {\HCode{</span>}. }
  {}
  {\HCode{</div>}}
\ConfigureToc{likeparagraph}
  {\HCode{<div class="likeparagraphToc" \a:LRdir><span class="mark">}}
  {\HCode{</span>}}
  {}
  {\HCode{</div>}}
\ConfigureToc{subparagraph}
  {\HCode{<div class="subparagraphToc" \a:LRdir><span class="mark">}}
  {\HCode{</span>}. }
  {}
  {\HCode{</div>}}
\ConfigureToc{likesubparagraph}
  {\HCode{<div class="likesubparagraphToc" \a:LRdir><span class="mark">}}
  {\HCode{</span>}}
  {}
  {\HCode{</div>}}
\Css{.partToc a, .partToc, .likepartToc a, .likepartToc
        {line-height: 200\%; font-weight:bold; font-size:110\%;}}
\Css{.partToc, .likepartToc{text-align:center;margin-bottom:0.25em;
           margin-top:0.25em;}}

\ConfigureToc{chapter}
  {\HCode{<div class="chapterToc" \a:LRdir><span class="mark">}}
  {\HCode{</span>}. }
  {}
  {\HCode{</div>}}
\ConfigureToc{likechapter}
  {\HCode{<div class="likechapterToc" \a:LRdir><span class="mark">}}
  {\HCode{</span>}}
  {}
  {\HCode{</div>}}
\Css{.chapterToc, .likechapterToc            {white-space: nowrap;}}
\Css{.sectionToc, .likesectionToc
                            {margin-left:1em; white-space: nowrap;}}
\Css{.subsectionToc, .likesubsectionToc
                            {margin-left:2em; white-space: nowrap;}}
\Css{.subsubsectionToc, .likesubsubsectionToc
                            {margin-left:3em; white-space: nowrap;}}
\Css{.paragraphToc, .likeparagraphToc
                            {margin-left:4em; white-space: nowrap;}}
\Css{.subparagraphToc, .likesubparagraphToc
                            {margin-left:5em; white-space: nowrap;}}

\:CheckOption{7}     \if:Option
    \expandafter\ifx \csname @chapter\endcsname\relax
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,part}
\CutAt{likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,likesubsection,subsection}
\fi

         \CutAt{subsection,section,likesection,part}
\CutAt{likesubsection,section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection}
\fi

         \CutAt{subsubsection,subsection,likesubsection,section,likesection,part}
\CutAt{likesubsubsection,subsection,likesubsection,section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection,paragraph}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection,%
    paragraph}
\fi

         \CutAt{paragraph,subsubsection,likesubsubsection,subsection,likesubsection,%
       section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection,%
    paragraph,subparagraph}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection,%
    paragraph,subparagraph}
\fi

         \CutAt{subparagraph,paragraph,subsubsection,likesubsubsection,%
       subsection,likesubsection,%
       section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,%
          section,likesection,subsection,likesubsection}
     \MiniToc:At{likepart,/part,%
          section,likesection,subsection,likesubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             subsubsection,paragraph}
     \MiniToc:At{likesubsection,/subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             subsubsection,paragraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
     \MiniToc:At{likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsubsection,/likesubsubsection,/subsection,%
             /likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             paragraph,subparagraph}
     \MiniToc:At{likesubsubsection,/subsubsection,/likesubsection,%
             /subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             paragraph,subparagraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsubsection,/likesubsubsection,%
          /subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          paragraph,subparagraph}
     \MiniToc:At{likesubsubsection,/subsubsection,/likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          paragraph,subparagraph}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{paragraph,/subsubsection,/likesubsubsection,/subsection,%
             /likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             subparagraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{paragraph,/subsubsection,/likesubsubsection,%
          /subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          subparagraph}
  \fi
\fi

    \else
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
     appendix,section\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection,likesubsection\fi}
\fi

         \CutAt{chapter,likechapter,appendix,part}
\CutAt{likechapter,appendix,part}
\CutAt{appendix,chapter,likechapter,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,chapter,likechapter,appendix,part}
\CutAt{likesection,chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,likesubsection,subsection}
\fi

         \CutAt{subsection,section,likesection,%
                  chapter,likechapter,appendix,part}
\CutAt{likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection}
\fi

         \CutAt{subsubsection,subsection,likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}
\CutAt{likesubsubsection,subsection,likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection,paragraph}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection,%
    paragraph}
\fi

         \CutAt{paragraph,subsubsection,likesubsubsection,subsection,likesubsection,%
       section,likesection,chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection,%
    paragraph,subparagraph}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection,%
    paragraph,subparagraph}
\fi

         \CutAt{subparagraph,paragraph,subsubsection,likesubsubsection,%
       subsection,likesubsection,%
       section,likesection,chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,likechapter,appendix,%
          section,likesection}
     \MiniToc:At{likepart,/part,chapter,likechapter,appendix,%
          section,likesection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,subsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,subsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,subsection}
   \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,likesection,subsection,likesubsection}
   \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             subsubsection,paragraph}
     \MiniToc:At{likesubsection,/subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             subsubsection,paragraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
     \MiniToc:At{likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsubsection,/likesubsubsection,/subsection,%
             /likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             paragraph,subparagraph}
     \MiniToc:At{likesubsubsection,/subsubsection,/likesubsection,%
             /subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             paragraph,subparagraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsubsection,/likesubsubsection,%
          /subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          paragraph,subparagraph}
     \MiniToc:At{likesubsubsection,/subsubsection,/likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          paragraph,subparagraph}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{paragraph,/subsubsection,/likesubsubsection,/subsection,%
             /likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             subparagraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{paragraph,/subsubsection,/likesubsubsection,%
          /subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          subparagraph}
  \fi
\fi

    \fi
    \:CheckOption{obj-toc}  \if:Option
   \Css{object.toc { float: left;
                     width: 25\%;
                     height: 100\%;
                     border: 1px solid \#888888;
                     margin-left:0em;
                     margin-top:0em;
                     margin-bottom:1em;
                     margin-right:1em;
                     padding-right:1em;
               }}
   \Css{body\#jobname-toc{margin:0em;}}
   \Css{body\#jobname-toc .tableofcontents{ white-space: nowrap; }}
   \Configure{@BODY}
      {\edef\:temp{\jobname-toc.\:html}
       \edef\:tempa{\FileName}
       \edef\:temp{\expandafter\string\csname\:temp\endcsname}
       \edef\:tempa{\expandafter\string\csname\:tempa\endcsname}
       \ifx\:temp\:tempa\else
          \hbox{
             \HCode{<object class="toc" data="\jobname-toc.\:html">}
                 [\Link[\jobname-toc.\:html]{}{}table of contents\EndLink]
             \HCode{</object>}}
       \fi
      }
      {}
   \pend:defI\Auto:ent{%
      \bgroup
      \let\contentsname=\empty
      \Configure{!BODY}{ id="jobname-toc"}%
      \Configure{Link}{a}{target="\string _top" href=}{id=}{}%
      \NextFile{\jobname-toc.\csname :html\endcsname}%
      \HPage{}%
   }
   \append:defI\Auto:ent{%
      \EndHPage{}%
      \egroup
   }
\else
   \Log:Note{for frames-like object-based table of contents,
                 use the command line option `obj-toc'}
\fi

\else\:CheckOption{6}     \if:Option
    \expandafter\ifx \csname @chapter\endcsname\relax
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,part}
\CutAt{likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,likesubsection,subsection}
\fi

         \CutAt{subsection,section,likesection,part}
\CutAt{likesubsection,section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection}
\fi

         \CutAt{subsubsection,subsection,likesubsection,section,likesection,part}
\CutAt{likesubsubsection,subsection,likesubsection,section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection,paragraph}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection,%
    paragraph}
\fi

         \CutAt{paragraph,subsubsection,likesubsubsection,subsection,likesubsection,%
       section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,%
          section,likesection,subsection,likesubsection}
     \MiniToc:At{likepart,/part,%
          section,likesection,subsection,likesubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             subsubsection,paragraph}
     \MiniToc:At{likesubsection,/subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             subsubsection,paragraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
     \MiniToc:At{likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsubsection,/likesubsubsection,/subsection,%
             /likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             paragraph,subparagraph}
     \MiniToc:At{likesubsubsection,/subsubsection,/likesubsection,%
             /subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             paragraph,subparagraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsubsection,/likesubsubsection,%
          /subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          paragraph,subparagraph}
     \MiniToc:At{likesubsubsection,/subsubsection,/likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          paragraph,subparagraph}
  \fi
\fi

    \else
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
     appendix,section\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection,likesubsection\fi}
\fi

         \CutAt{chapter,likechapter,appendix,part}
\CutAt{likechapter,appendix,part}
\CutAt{appendix,chapter,likechapter,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,chapter,likechapter,appendix,part}
\CutAt{likesection,chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,likesubsection,subsection}
\fi

         \CutAt{subsection,section,likesection,%
                  chapter,likechapter,appendix,part}
\CutAt{likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection}
\fi

         \CutAt{subsubsection,subsection,likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}
\CutAt{likesubsubsection,subsection,likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection,paragraph}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection,%
    paragraph}
\fi

         \CutAt{paragraph,subsubsection,likesubsubsection,subsection,likesubsection,%
       section,likesection,chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,likechapter,appendix,%
          section,likesection}
     \MiniToc:At{likepart,/part,chapter,likechapter,appendix,%
          section,likesection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,subsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,subsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,subsection}
   \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,likesection,subsection,likesubsection}
   \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             subsubsection,paragraph}
     \MiniToc:At{likesubsection,/subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             subsubsection,paragraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
     \MiniToc:At{likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsubsection,/likesubsubsection,/subsection,%
             /likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             paragraph,subparagraph}
     \MiniToc:At{likesubsubsection,/subsubsection,/likesubsection,%
             /subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             paragraph,subparagraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsubsection,/likesubsubsection,%
          /subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          paragraph,subparagraph}
     \MiniToc:At{likesubsubsection,/subsubsection,/likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          paragraph,subparagraph}
  \fi
\fi

    \fi
    \:CheckOption{obj-toc}  \if:Option
   \Css{object.toc { float: left;
                     width: 25\%;
                     height: 100\%;
                     border: 1px solid \#888888;
                     margin-left:0em;
                     margin-top:0em;
                     margin-bottom:1em;
                     margin-right:1em;
                     padding-right:1em;
               }}
   \Css{body\#jobname-toc{margin:0em;}}
   \Css{body\#jobname-toc .tableofcontents{ white-space: nowrap; }}
   \Configure{@BODY}
      {\edef\:temp{\jobname-toc.\:html}
       \edef\:tempa{\FileName}
       \edef\:temp{\expandafter\string\csname\:temp\endcsname}
       \edef\:tempa{\expandafter\string\csname\:tempa\endcsname}
       \ifx\:temp\:tempa\else
          \hbox{
             \HCode{<object class="toc" data="\jobname-toc.\:html">}
                 [\Link[\jobname-toc.\:html]{}{}table of contents\EndLink]
             \HCode{</object>}}
       \fi
      }
      {}
   \pend:defI\Auto:ent{%
      \bgroup
      \let\contentsname=\empty
      \Configure{!BODY}{ id="jobname-toc"}%
      \Configure{Link}{a}{target="\string _top" href=}{id=}{}%
      \NextFile{\jobname-toc.\csname :html\endcsname}%
      \HPage{}%
   }
   \append:defI\Auto:ent{%
      \EndHPage{}%
      \egroup
   }
\else
   \Log:Note{for frames-like object-based table of contents,
                 use the command line option `obj-toc'}
\fi

\else \:CheckOption{5}     \if:Option
    \expandafter\ifx \csname @chapter\endcsname\relax
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,part}
\CutAt{likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,likesubsection,subsection}
\fi

         \CutAt{subsection,section,likesection,part}
\CutAt{likesubsection,section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection}
\fi

         \CutAt{subsubsection,subsection,likesubsection,section,likesection,part}
\CutAt{likesubsubsection,subsection,likesubsection,section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,%
          section,likesection,subsection,likesubsection}
     \MiniToc:At{likepart,/part,%
          section,likesection,subsection,likesubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             subsubsection,paragraph}
     \MiniToc:At{likesubsection,/subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             subsubsection,paragraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
     \MiniToc:At{likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
  \fi
\fi

    \else
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
     appendix,section\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection,likesubsection\fi}
\fi

         \CutAt{chapter,likechapter,appendix,part}
\CutAt{likechapter,appendix,part}
\CutAt{appendix,chapter,likechapter,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,chapter,likechapter,appendix,part}
\CutAt{likesection,chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,likesubsection,subsection}
\fi

         \CutAt{subsection,section,likesection,%
                  chapter,likechapter,appendix,part}
\CutAt{likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection,subsubsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,%
    likesubsection,subsection,likesubsubsection,subsubsection}
\fi

         \CutAt{subsubsection,subsection,likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}
\CutAt{likesubsubsection,subsection,likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,likechapter,appendix,%
          section,likesection}
     \MiniToc:At{likepart,/part,chapter,likechapter,appendix,%
          section,likesection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,subsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,subsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,subsection}
   \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,likesection,subsection,likesubsection}
   \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
             /chapter,/likechapter,%
             /appendix,/part,%
             subsubsection,paragraph}
     \MiniToc:At{likesubsection,/subsection,/likesection,%
             /section,/chapter,/likechapter,/appendix,/part,%
             subsubsection,paragraph}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{subsection,/likesubsection,/section,/likesection,%
          /chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
     \MiniToc:At{likesubsection,/subsection,%
          /likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsubsection,likesubsubsection,%
          paragraph}
  \fi
\fi

    \fi
    \:CheckOption{obj-toc}  \if:Option
   \Css{object.toc { float: left;
                     width: 25\%;
                     height: 100\%;
                     border: 1px solid \#888888;
                     margin-left:0em;
                     margin-top:0em;
                     margin-bottom:1em;
                     margin-right:1em;
                     padding-right:1em;
               }}
   \Css{body\#jobname-toc{margin:0em;}}
   \Css{body\#jobname-toc .tableofcontents{ white-space: nowrap; }}
   \Configure{@BODY}
      {\edef\:temp{\jobname-toc.\:html}
       \edef\:tempa{\FileName}
       \edef\:temp{\expandafter\string\csname\:temp\endcsname}
       \edef\:tempa{\expandafter\string\csname\:tempa\endcsname}
       \ifx\:temp\:tempa\else
          \hbox{
             \HCode{<object class="toc" data="\jobname-toc.\:html">}
                 [\Link[\jobname-toc.\:html]{}{}table of contents\EndLink]
             \HCode{</object>}}
       \fi
      }
      {}
   \pend:defI\Auto:ent{%
      \bgroup
      \let\contentsname=\empty
      \Configure{!BODY}{ id="jobname-toc"}%
      \Configure{Link}{a}{target="\string _top" href=}{id=}{}%
      \NextFile{\jobname-toc.\csname :html\endcsname}%
      \HPage{}%
   }
   \append:defI\Auto:ent{%
      \EndHPage{}%
      \egroup
   }
\else
   \Log:Note{for frames-like object-based table of contents,
                 use the command line option `obj-toc'}
\fi

\else\:CheckOption{4}     \if:Option
    \expandafter\ifx \csname @chapter\endcsname\relax
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,part}
\CutAt{likesection,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,likesubsection,subsection}
\fi

         \CutAt{subsection,section,likesection,part}
\CutAt{likesubsection,section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,%
          section,likesection,subsection,likesubsection}
     \MiniToc:At{likepart,/part,%
          section,likesection,subsection,likesubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
  \fi
\fi

    \else
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
     appendix,section\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection,likesubsection\fi}
\fi

         \CutAt{chapter,likechapter,appendix,part}
\CutAt{likechapter,appendix,part}
\CutAt{appendix,chapter,likechapter,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,chapter,likechapter,appendix,part}
\CutAt{likesection,chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,likesubsection,subsection}
\fi

         \CutAt{subsection,section,likesection,%
                  chapter,likechapter,appendix,part}
\CutAt{likesubsection,section,likesection,%
                  chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,likechapter,appendix,%
          section,likesection}
     \MiniToc:At{likepart,/part,chapter,likechapter,appendix,%
          section,likesection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,subsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,subsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,subsection}
   \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,likesection,subsection,likesubsection}
   \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
  \fi
\fi

    \fi
    \:CheckOption{obj-toc}  \if:Option
   \Css{object.toc { float: left;
                     width: 25\%;
                     height: 100\%;
                     border: 1px solid \#888888;
                     margin-left:0em;
                     margin-top:0em;
                     margin-bottom:1em;
                     margin-right:1em;
                     padding-right:1em;
               }}
   \Css{body\#jobname-toc{margin:0em;}}
   \Css{body\#jobname-toc .tableofcontents{ white-space: nowrap; }}
   \Configure{@BODY}
      {\edef\:temp{\jobname-toc.\:html}
       \edef\:tempa{\FileName}
       \edef\:temp{\expandafter\string\csname\:temp\endcsname}
       \edef\:tempa{\expandafter\string\csname\:tempa\endcsname}
       \ifx\:temp\:tempa\else
          \hbox{
             \HCode{<object class="toc" data="\jobname-toc.\:html">}
                 [\Link[\jobname-toc.\:html]{}{}table of contents\EndLink]
             \HCode{</object>}}
       \fi
      }
      {}
   \pend:defI\Auto:ent{%
      \bgroup
      \let\contentsname=\empty
      \Configure{!BODY}{ id="jobname-toc"}%
      \Configure{Link}{a}{target="\string _top" href=}{id=}{}%
      \NextFile{\jobname-toc.\csname :html\endcsname}%
      \HPage{}%
   }
   \append:defI\Auto:ent{%
      \EndHPage{}%
      \egroup
   }
\else
   \Log:Note{for frames-like object-based table of contents,
                 use the command line option `obj-toc'}
\fi

\else\:CheckOption{3}     \if:Option
    \expandafter\ifx \csname @chapter\endcsname\relax
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,likesubsection,subsection}
\fi

         \CutAt{subsection,section,likesection,part}
\CutAt{likesubsection,section,likesection,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,%
          section,likesection,subsection,likesubsection}
     \MiniToc:At{likepart,/part,%
          section,likesection,subsection,likesubsection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
             subsection,subsubsection}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{section,/likesection,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
     \MiniToc:At{likesection,/section,/chapter,/likechapter,/appendix,/part,%
          subsection,likesubsection,subsubsection,likesubsubsection}
  \fi
\fi

         \CutAt{section,likesection,part}
\CutAt{likesection,part}

    \else
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
     appendix,section\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection,likesubsection\fi}
\fi

         \CutAt{chapter,likechapter,appendix,part}
\CutAt{likechapter,appendix,part}
\CutAt{appendix,chapter,likechapter,part}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,chapter,likechapter,appendix,part}
\CutAt{likesection,chapter,likechapter,appendix,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,likechapter,appendix,%
          section,likesection}
     \MiniToc:At{likepart,/part,chapter,likechapter,appendix,%
          section,likesection}
  \fi
\fi

         \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,subsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,subsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,subsection}
   \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,likesection,subsection,likesubsection}
   \fi
\fi

    \fi
    \:CheckOption{obj-toc}  \if:Option
   \Css{object.toc { float: left;
                     width: 25\%;
                     height: 100\%;
                     border: 1px solid \#888888;
                     margin-left:0em;
                     margin-top:0em;
                     margin-bottom:1em;
                     margin-right:1em;
                     padding-right:1em;
               }}
   \Css{body\#jobname-toc{margin:0em;}}
   \Css{body\#jobname-toc .tableofcontents{ white-space: nowrap; }}
   \Configure{@BODY}
      {\edef\:temp{\jobname-toc.\:html}
       \edef\:tempa{\FileName}
       \edef\:temp{\expandafter\string\csname\:temp\endcsname}
       \edef\:tempa{\expandafter\string\csname\:tempa\endcsname}
       \ifx\:temp\:tempa\else
          \hbox{
             \HCode{<object class="toc" data="\jobname-toc.\:html">}
                 [\Link[\jobname-toc.\:html]{}{}table of contents\EndLink]
             \HCode{</object>}}
       \fi
      }
      {}
   \pend:defI\Auto:ent{%
      \bgroup
      \let\contentsname=\empty
      \Configure{!BODY}{ id="jobname-toc"}%
      \Configure{Link}{a}{target="\string _top" href=}{id=}{}%
      \NextFile{\jobname-toc.\csname :html\endcsname}%
      \HPage{}%
   }
   \append:defI\Auto:ent{%
      \EndHPage{}%
      \egroup
   }
\else
   \Log:Note{for frames-like object-based table of contents,
                 use the command line option `obj-toc'}
\fi

\else\:CheckOption{2}     \if:Option
    \expandafter\ifx \csname @chapter\endcsname\relax
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi

         \CutAt{section,likesection,part}
\CutAt{likesection,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,%
          section,likesection,subsection,likesubsection}
     \MiniToc:At{likepart,/part,%
          section,likesection,subsection,likesubsection}
  \fi
\fi

    \else
         \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
         \CutAt{part}
\CutAt{likepart}

         \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
     appendix,section\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection\expandafter\ifx
     \csname @chapter\endcsname\relax ,subsection,likesubsection\fi}
\fi

         \CutAt{chapter,likechapter,appendix,part}
\CutAt{likechapter,appendix,part}
\CutAt{appendix,chapter,likechapter,part}

         \:CheckOption{notoc*}     \if:Option
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,likechapter,appendix,%
          section,likesection}
     \MiniToc:At{likepart,/part,chapter,likechapter,appendix,%
          section,likesection}
  \fi
\fi

    \fi
    \:CheckOption{obj-toc}  \if:Option
   \Css{object.toc { float: left;
                     width: 25\%;
                     height: 100\%;
                     border: 1px solid \#888888;
                     margin-left:0em;
                     margin-top:0em;
                     margin-bottom:1em;
                     margin-right:1em;
                     padding-right:1em;
               }}
   \Css{body\#jobname-toc{margin:0em;}}
   \Css{body\#jobname-toc .tableofcontents{ white-space: nowrap; }}
   \Configure{@BODY}
      {\edef\:temp{\jobname-toc.\:html}
       \edef\:tempa{\FileName}
       \edef\:temp{\expandafter\string\csname\:temp\endcsname}
       \edef\:tempa{\expandafter\string\csname\:tempa\endcsname}
       \ifx\:temp\:tempa\else
          \hbox{
             \HCode{<object class="toc" data="\jobname-toc.\:html">}
                 [\Link[\jobname-toc.\:html]{}{}table of contents\EndLink]
             \HCode{</object>}}
       \fi
      }
      {}
   \pend:defI\Auto:ent{%
      \bgroup
      \let\contentsname=\empty
      \Configure{!BODY}{ id="jobname-toc"}%
      \Configure{Link}{a}{target="\string _top" href=}{id=}{}%
      \NextFile{\jobname-toc.\csname :html\endcsname}%
      \HPage{}%
   }
   \append:defI\Auto:ent{%
      \EndHPage{}%
      \egroup
   }
\else
   \Log:Note{for frames-like object-based table of contents,
                 use the command line option `obj-toc'}
\fi

\else\:CheckOption{1}     \if:Option
    \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,appendix}
\fi
      
    \CutAt{part}
\CutAt{likepart}

    \:CheckOption{obj-toc}  \if:Option
   \Css{object.toc { float: left;
                     width: 25\%;
                     height: 100\%;
                     border: 1px solid \#888888;
                     margin-left:0em;
                     margin-top:0em;
                     margin-bottom:1em;
                     margin-right:1em;
                     padding-right:1em;
               }}
   \Css{body\#jobname-toc{margin:0em;}}
   \Css{body\#jobname-toc .tableofcontents{ white-space: nowrap; }}
   \Configure{@BODY}
      {\edef\:temp{\jobname-toc.\:html}
       \edef\:tempa{\FileName}
       \edef\:temp{\expandafter\string\csname\:temp\endcsname}
       \edef\:tempa{\expandafter\string\csname\:tempa\endcsname}
       \ifx\:temp\:tempa\else
          \hbox{
             \HCode{<object class="toc" data="\jobname-toc.\:html">}
                 [\Link[\jobname-toc.\:html]{}{}table of contents\EndLink]
             \HCode{</object>}}
       \fi
      }
      {}
   \pend:defI\Auto:ent{%
      \bgroup
      \let\contentsname=\empty
      \Configure{!BODY}{ id="jobname-toc"}%
      \Configure{Link}{a}{target="\string _top" href=}{id=}{}%
      \NextFile{\jobname-toc.\csname :html\endcsname}%
      \HPage{}%
   }
   \append:defI\Auto:ent{%
      \EndHPage{}%
      \egroup
   }
\else
   \Log:Note{for frames-like object-based table of contents,
                 use the command line option `obj-toc'}
\fi

\else
    \Log:Note{for automatic sectioning
        pagination, use the command line option
                     `1', `2', `3', '4', '5', '6', or '7'}%
\fi \fi \fi \fi \fi \fi  \fi
\:CheckOption{sec-filename}   \if:Option \else
    \Log:Note{for files named derived from section
        titles, use the command line option `sec-filename'}%
\fi
 
\Configure{maketitle}
   {\ifvmode \IgnorePar\fi \EndP {\Configure{maketitle}{}{}{}{}%
\a:NoSection \let\leavevmode\empty \let\not@math@alphabet\:gobbleII
\def\text@command##1{##1}\let\selectfont\empty
\def\check@icl ##1\check@icr{}%
\let\thanks\:gobble
\def\mbox{\hbox}%
\let\\\space \def\TeX{TeX}%
\def\gobble:font##1##2{##2}\:TITLE: \no:fonts
\def\footnotemark[##1]{}%
\def\a:ttl##1##2//{##1//}%
\let\large=\empty
\let \bf=\empty
\let \centering=\empty
\def \ignorespaces##1\vskip##2//{##1}%
\Tag{TITLE+}{\@title//}%
}%
%
    \HCode{<div class="maketitle">}}
   {\ifvmode \IgnorePar\fi \EndP \HCode{</div>}}
   {\NoFonts\IgnorePar\HCode{<h2 class="titleHead"\a:LRdir>}\IgnorePar}
   {\HCode{</h2>}\IgnoreIndent\EndNoFonts}
\Css{div.maketitle {text-align:center;}}
\Css{h2.titleHead{text-align:center;}}
\Css{div.maketitle{ margin-bottom: 2em; }}
\:CheckOption{fn-in}\if:Option
   \Configure{thanks author date and}
   {\SaveEndP\global\setbox\fn:box=\vtop\bgroup\ShowPar
     \ifvoid\fn:box\else  \csname unvbox\endcsname\fn:box\fi}
   {\EndP\egroup\RecallEndP }
   {\HCode{<div class="author" \a:LRdir>}}{\HCode{</div>}}
   {\HCode{<div class="date" \a:LRdir>}}{\HCode{</div>}}
   {\HCode{<br class="and" />}}
   {\HCode{<br />}}
\Configure{thank}
   {\csname a:thank-mark\endcsname
\Link{tk-\the\c@footnote}{\ifx
        \footnote\thanks kt-\the\c@footnote\fi}}
   {\EndLink \csname b:thank-mark\endcsname
}
   {\HCode{<p>}\protect\Link{\ifx \footnote\thanks kt-\the\c@footnote
      \fi}{tk-\the\c@footnote}\csname a:thank-mark\endcsname
}
   {\csname b:thank-mark\endcsname
\protect\EndLink}
   {\HCode{</p>}}

\Css{div.author, div.date {text-align:center;}}
\Css{div.thanks{text-align:left; margin-left:10\%; font-size:85\%;
                font-style:italic; }}

\else
   \Configure{thanks author date and}
   {\ifvmode \IgnorePar\fi\EndP \HCode{<div class="thanks" \a:LRdir>}}
   {\ifvmode \IgnorePar\fi\EndP \HCode{</div>}}
   {\ifvmode \IgnorePar\fi\EndP \HCode{<div class="author" \a:LRdir>}}
   {\ifvmode \IgnorePar\fi\EndP \HCode{</div>}}
   {\ifvmode \IgnorePar\fi\EndP \HCode{<div class="date" \a:LRdir>}}
   {\ifvmode \IgnorePar\fi\EndP \HCode{</div>}}
   {\HCode{<br class="and" />}}
   {\HCode{<br />}}
\Configure{thank}
   {\csname a:thank-mark\endcsname
\Link{tk-\the\c@footnote}{}}
   {\EndLink \csname b:thank-mark\endcsname
}
   {\HCode{<br />}\protect\Link{}{tk-\the\c@footnote}\protect
     \EndLink \csname a:thank-mark\endcsname
}
   {\csname b:thank-mark\endcsname
} {}

\Css{div.author, div.date {text-align:center;}}
\Css{div.thanks{text-align:left; margin-left:10\%; font-size:85\%;
                font-style:italic; }}
\Css{div.author{white-space: nowrap;}}

\fi
\Configure{@begin}{theindex}{\section*{\indexname}}
\Configure{theindex}
   {\ifvmode \IgnorePar\fi \EndP
    \HCode{<div class="theindex">}\let\end:theidx\empty}
   {\end:theidx\HCode{</div>}}
   {} {\HCode{<br />}\hfil\break}
   {\ \ \ \ } {\HCode{<br />}\hfil\break}
   {\ \ \ \ \ \ \ \ } {\HCode{<br />}\hfil\break}
   {\hbox{\end:theidx\HCode{<p class="theindex">}}%
    \def\end:theidx{\HCode{</p>}}}

\Configure{caption}{\HCode{\if:nopar  \else <br />\fi}
   \:xhtml{\IgnorePar\EndP}\HCode{<div class="caption"\Hnewline
                                 ><span class="id">}}
   {: } {\HCode{</span><span \Hnewline class="content">}}
   {\HCode{</span></div>}\HCode{<!--tex4ht:label?:
   \cur:th\:currentlabel\space-->}%
}
\Css{div.caption {text-indent:-2em; margin-left:3em; margin-right:1em;
                  text-align:left;}}
\Css{div.caption span.id{font-weight: bold; white-space: nowrap; }}

\ConfigureEnv{thebibliography}{\IgnorePar}{\ShowPar\par}{}{}

\:CheckOption{no-bib} \if:Option\else
   \:CheckOption{mouseover} \if:Option
      \ConfigureList{thebibliography}%
   {\ifvmode\IgnorePar\fi\EndP \js:on
\HCode{<div
                   class="thebibliography">}\let\en:bib=\empty}
   {\en:bib \ifvmode\IgnorePar\fi\EndP \HCode{</div>}}
   {\en:bib\def\en:bib{\ht:special {t4ht@DCopyTo: \jobname-js.tex Skip bib }%
\csname bibliography2\endcsname
\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont bib }%
%
%
        \EndP\ht:special {t4ht@DCopyTo: \jobname-js.tex Skip bib }%
%
\HCode{<!--}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont bib }%
%
\HCode{</div></bibitem>\Hnewline}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Until bib }%
%
\HCode{-->}
}\HCode{<!--}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex From bib }%
%
\HCode{<bibitem>}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Skip bib }%
%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Set1 bib }%
%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont bib }%
%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Set2 bib }%
%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Skip bib }%
%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont bib }%
%
\HCode{<div class="js">}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Skip bib }%
%
\HCode{-->}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont bib }%
%
%
        \Configure{HtmlPar}
   {\EndP\HCode{<p class="bibitem" \a:LRdir>}}
   {\EndP\HCode{<p class="bibitem" \a:LRdir>}}
   {\Tg</p>} {\Tg</p>}%
\par\ShowPar
        \leavevmode \ht:special {t4ht@DCopyTo: \jobname-js.tex Skip bib }%
\HCode{<span
      class="biblabel">}\Configure{HtmlPar}
   {\EndP\HCode{<p class="bibitem-p" \a:LRdir>}}
   {\EndP\HCode{<p class="bibitem-p" \a:LRdir>}}
   {\Tg</p>} {\Tg</p>}%
}
   {\HCode{<span class="bibsp">}\:nbsp
      \:nbsp\:nbsp\HCode{</span></span>}\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont bib }%
}

   \else
      \ConfigureList{thebibliography}%
   {\ifvmode\IgnorePar\fi \EndP \HCode{<div
                   class="thebibliography">}\let\en:bib=\empty}
   {\en:bib \ifvmode\IgnorePar\fi \EndP \HCode{</div>}}
   {\en:bib\def\en:bib{\csname bibliography2\endcsname
\EndP}%
   \Configure{HtmlPar}
   {\EndP\HCode{<p class="bibitem" \a:LRdir>}}
   {\EndP\HCode{<p class="bibitem" \a:LRdir>}}
   {\Tg</p>} {\Tg</p>}%
\par\ShowPar
    \HCode{<span class="biblabel">}\Configure{HtmlPar}
   {\EndP\HCode{<p class="bibitem-p" \a:LRdir>}}
   {\EndP\HCode{<p class="bibitem-p" \a:LRdir>}}
   {\Tg</p>} {\Tg</p>}%
}
   {\HCode{<span class="bibsp">}\:nbsp
      \:nbsp\:nbsp\HCode{</span></span>}}

   \fi
   \Css{p.bibitem { text-indent: -2em; margin-left: 2em;
       margin-top:0.6em; margin-bottom:0.6em;     }}
\Css{p.bibitem-p { text-indent: 0em; margin-left: 2em;
       margin-top:0.6em; margin-bottom:0.6em;     }}

\fi

%\def\:SPAN#1#2{\HCode{<span class="#1">}#2\HCode{</span>}}
\ConfigureToc{lof}
  {\HCode{<span class="lofToc" \a:LRdir>}}{\ }{}{\HCode{</span><br />}}
\ConfigureToc{lot}
  {\HCode{<span class="lotToc" \a:LRdir>}}{\ }{}{\HCode{</span><br />}}

\ConfigureList{description}%
   {\EndP\HCode{<dl \a:LRdir class="description">}%
      \PushMacro\end:itm
\global\let\end:itm=\empty}
   {\PopMacro\end:itm \global\let\end:itm \end:itm
\EndP\HCode{</dd></dl>}\ShowPar}
   {\end:itm \global\def\end:itm{\EndP\Tg</dd>}\HCode{<dt
        class="description">}\bgroup \bf}
   {\egroup\EndP\HCode{</dt><dd\Hnewline class="description">}}

\ConfigureEnv{quote}
   {}{}
   {\IgnorePar\EndP
    \HCode{<blockquote class="\getClass{quote}">}\afterGetClass{quote}}
   {\IgnorePar\EndP\HCode{</blockquote>}\ShowPar\ShowIndent}
\NewConfigure{quoteClass}{2}
\Configure{quoteClass}{quote}{}

\ConfigureEnv{verse}
   {\ifvmode \IgnorePar\fi\EndP\Tg<div class="verse">}
   {\ifvmode \IgnorePar\fi\EndP\Tg</div>\par\ShowPar}
   {}{}
\ConfigureList{verse}
   {}{}
   {\parindent=\z@}  {\par}
\Css{.verse{white-space:nowrap; margin-left:2em}}

{\Configure{Needs}{Font\string_Size: #1}\ifcase  \@ptsize
   \or \Needs{11}\or \Needs{12}\else \fi}

\ConfigureEnv{quotation}
   {}{}
   {\IgnorePar\EndP\HCode{<blockquote class="quotation">}}
   {\IgnorePar\EndP\HCode{</blockquote>}\ShowPar}

\Configure{listof}{}{}{}{\HCode{<br />}}{}{ }

\ConfigureEnv{abstract}
   {\IgnorePar\EndP
    \HCode{<table\Hnewline class="abstract"><tr><td\Hnewline>}\par\ShowPar}
   {\ifvmode \IgnorePar\fi \EndP\HCode{</td></tr></table>}}{}{}
\Css{.abstract p {margin-left:5\%; margin-right:5\%;}}
\Css{table.abstract {width:100\%;}}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{csquotes}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{displayquote}
{\ifvmode\IgnorePar\fi\EndP\HCode{<blockquote>}}
{\ifvmode\IgnorePar\fi\EndP\HCode{<footer>}}
{\EndP\HCode{</footer>}}
{\ifvmode\IgnorePar\fi\EndP\HCode{</blockquote>}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{CJK}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \def\A:charset{charset=utf-8}
\Configure{CJK.enc}{GBpmC}{\def\A:charset{charset=gbk}}
\Configure{CJK.enc}{GBK}{\def\A:charset{charset=gbk}}
\Configure{CJK.enc}{GBt}{\def\A:charset{charset=gbk}}
\Configure{CJK.enc}{GBtpmC}{\def\A:charset{charset=gbk}}
\Configure{CJK.enc}{CNS1-7}{\def\A:charset{charset=gbk}}

\Configure{CJK.enc}{Bg5}{\def\A:charset{charset=big5}}
\Configure{CJK.enc}{Bg5pmC}{\def\A:charset{charset=big5}}
\Configure{CJK.enc}{Bg5+}{\def\A:charset{charset=big5}}

\Configure{CJK.enc}{JIS}{\def\A:charset{charset=iso-2022-jp}}
\Configure{CJK.enc}{JISpmC}{\def\A:charset{charset=iso-2022-jp}}
\Configure{CJK.enc}{JISdnp}{\def\A:charset{charset=iso-2022-jp}}
\Configure{CJK.enc}{JISwn}{\def\A:charset{charset=iso-2022-jp}}
\Configure{CJK.enc}{JIS2}{\def\A:charset{charset=iso-2022-jp}}
\Configure{CJK.enc}{JIS2dnp}{\def\A:charset{charset=iso-2022-jp}}
\Configure{CJK.enc}{SJIS}{\def\A:charset{charset=iso-2022-jp}}

\Configure{CJK.enc}{KS}{\def\A:charset{charset=iso-2022-kr}}
\Configure{CJK.enc}{KSpmC}{\def\A:charset{charset=iso-2022-kr}}
\Configure{CJK.enc}{KSHL}{\def\A:charset{charset=iso-2022-kr}}

\Configure{CJKbold}{\HCode{<b>}}{\HCode{</b>}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{german}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \:CheckOption{new-accents}     \if:Option \else
   \Configure{accent}\grmn@OTumlaut
      \grmn@OTumlaut{H{1E26}h{1E27}W{1E84}w{1E85}X{1E8C}x{1E8D}%
t{1E97}A{00C4}E{00CB}I{00CF}O{00D6}U{00DC}%
a{00E4}e{00EB}i{00EF}o{00F6}u{00FC}y{00FF}%
Y{0178}\i{00EF}%
{}{34}}
   {\a:accents{uml}{#1}}     {\b:accents{uml}{#1}{#2}}
\fi
\Configure{quotedblbase}{\leavevmode\ht:special{t4ht@+&{35}x201E;}x}
\Configure{quotesinglbase}{\leavevmode\ht:special{t4ht@+&{35}x201A;}x}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{moreverb}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \ConfigureEnv{verbatimtab}
   {\env:verb{verbatim}}
   {\endenv:verb}{}{}
\Configure{verbatimtab}
   {\HAdvance\Verb:N by 1 \ifnum \Verb:N>1 \:nbsp \HCode{<br />}\fi}
   {\a:sp}
\ConfigureEnv{boxedverbatim}
   {\env:verb{boxedverbatim}}{\endenv:verb}{}{}
\ConfigureEnv{boxedverbatim*}
   {\env:verb{boxedverbatim}}{\endenv:verb}{}{}
\Css{table.boxedverbatim {width:100\%;}}
\ConfigureEnv{boxedverbatim}
   {\env:verB{boxedverbatim}}{\endenv:verb}{}{}
\ConfigureEnv{boxedverbatim*}
   {\env:verB{boxedverbatim}}{\endenv:verb}{}{}
\def\env:verB#1{\IgnorePar\HCode{<table  \Hnewline
   class="#1"><tr class="#1"><td \Hnewline
   class="#1"><pre class="#1">}\EndNoFonts}
\Css{ pre.boxedverbatim{border:solid 1px; padding-right:1em;} }
\Css{table.boxedverbatim {text-align:center;}}
\Configure{listinginput}
   {\HCode{<div class="listinginput">}}
   {\IgnorePar\HCode{</div>}}
\Css{.listinginput p{ margin-bottom:0em; margin-top:0em; }}
\Configure{verbatimtabinput}
   {\ifvmode \IgnorePar\fi \EndP
    \HCode{<div class="verbatimtabinput"\a:LRdir>}}
   {\ifvmode \IgnorePar\fi \EndP \HCode{</div>}}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{fancyvrb}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \HAssign\fancyvrbNo0
\Configure{fancyvrb}
   {\IgnorePar \EndP \gHAdvance\fancyvrbNo by 1
    \gHAssign\fancyvrb:cnt0
    \HCode{<pre class="fancyvrb" id="fancyvrb\fancyvrbNo">}}
   {\EndP\HCode{</pre>}}
   {\gHAdvance\fancyvrb:cnt by 1
    \ifnum \fancyvrb:cnt>1
    \HCode{\Hnewline}\fi} {}
   {}{}
\Css{pre.fancyvrb {white-space: pre-wrap; margin:0em;font-family:monospace,monospace;}}
\Configure{fancyvrbcolor}
  {\Css{pre\#fancyvrb\fancyvrbNo { color: \HColor; }}}
  {\Css{pre\#fancyvrb\fancyvrbNo { background-color: \HColor;}}}
  {\Css{pre\#fancyvrb\fancyvrbNo { border-color: \HColor;}}}
\Configure{fancyvrbframe}
   {\Css{pre\#fancyvrb\fancyvrbNo { border-top: solid \HSize; }}}
   {\Css{pre\#fancyvrb\fancyvrbNo { border-left: solid \HSize; }}}
   {\Css{pre\#fancyvrb\fancyvrbNo { border-bottom: solid \HSize; }}}
   {\Css{pre\#fancyvrb\fancyvrbNo { border-right: solid \HSize; }}}
   {\Css{pre\#fancyvrb\fancyvrbNo {border-width:\HSize;}}}
   {\Css{pre\#fancyvrb\fancyvrbNo {padding:\HSize;}}}
\Configure{BVerbatimInput}
   {\ifvmode \IgnorePar \fi \EndP
    \gHAssign\HRow=0
    \HCode{<div class="BVerbatimInput">}}
   {\ifvmode \IgnorePar \fi \EndP \HCode{</div>}}
   {\gHAdvance\HRow by 1 \ifnum \HRow>1 \HCode{<br />}\fi}{}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{epsf}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{epsfsetgraph}
  {\Picture+[\PicName]{}}
  {\EndPicture}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{psfig}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{psfig} {\Picture+[psfig]{}}{\EndPicture}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{amscd}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \ConfigureEnv{CD}
   {\Picture*{ class="CD"}$} {$\EndPicture} {}{}
\Css{.CD {text-align:center}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{color}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{HColor}{red}{\#FF0000}
\Configure{HColor}{rgb 1 0 0}{\#FF0000}
\Configure{HColor}{blue}{\#0000FF}
\Configure{HColor}{rgb 0 0 1}{\#0000FF}
\Configure{HColor}{green}{\#00FF00}
\Configure{HColor}{rgb 0 1 0}{\#00FF00}
\Configure{HColor}{white}{\#FFFFFF}
\Configure{HColor}{gray 1}{\#FFFFFF}
\Configure{HColor}{rgb 1 1 1}{\#FFFFFF}
\Configure{HColor}{black}{\#000000}
\Configure{HColor}{gray 0}{\#000000}
\Configure{HColor}{rgb 0 0 0}{\#000000}
\Configure{HColor}{cyan}{\#00FFFF}
\Configure{HColor}{cmyk 1 0 0 0}{\#00FFFF}
\Configure{HColor}{magenta}{\#FF00FF}
\Configure{HColor}{cmyk 0 1 0 0}{\#FF00FF}
\Configure{HColor}{yellow}{\#FFFF00}
\Configure{HColor}{cmyk 0 0 1 0}{\#FFFF00}
\Configure{color}{\:gobble}
\HAssign\textcolorN=0
\Configure{textcolor}
   {\gHAdvance\textcolorN by 1
    \Configure{color}%
      {\Configure{SetHColor}
           {\Css{span\#textcolor\textcolorN{color:\HColor}}}}%
    \HCode{<span id="textcolor\textcolorN">}}%
   {\HCode{</span>}}
\Configure{colorbox}
    {\bgroup
     \gHAdvance\textcolorN by 1
     \ifvmode \let\v:colorbox\def \IgnorePar \EndP
     \else \let\v:colorbox=\relax \fi
     \let\A:color=\a:color
\Configure{color}%
  {\let\a:color=\A:color
   \Configure{SetHColor}
       {\Css{\ifx \v:colorbox\def div\else span\fi
             \#colorbox\textcolorN{background-color:\HColor;}}}}%
%
     \HCode{<\ifx \v:colorbox\def div\else span\fi \Hnewline
                  class="colorbox" id="colorbox\textcolorN">}}%
    {\ifx \v:colorbox\def \EndP\HCode{</div>}\par
     \else \HCode{</span>}\fi
     \egroup
    }
\Configure{fcolorbox}
   {\bgroup\gHAdvance\textcolorN by 1
     \ifvmode \let\v:colorbox\def \IgnorePar \EndP
     \else \let\v:colorbox=\relax \fi
     \HCode{<\ifx \v:colorbox\def div\else span\fi \Hnewline
                  class="colorbox" id="colorbox\textcolorN">}%
    \let\A:color=\a:color
\Configure{color}%
    {\Configure{color}%
    {\let\a:color=\A:color
     \Configure{SetHColor}{%
         \Css{\#colorbox\textcolorN{background-color: \HColor;}}%
    }}%
%
     \Configure{SetHColor}{%
         \Css{\#colorbox\textcolorN{border: solid 1px  \HColor;}}}%
    }%
%
    \Configure{fbox}{\leavevmode }{}%
}
{\ifx \v:colorbox\def \EndP\HCode{</div>}\par
 \else \HCode{</span>}\fi  \egroup}

\Configure{HColor:gray}{%
  \if :#1:%
   \int:of\:tempa{255}{#2}%
  \else%
   \int:of\:tempa{255}{#1}%
  \fi%
   \Configure{HColor}{}{rgb(\:tempa,\:tempa,\:tempa)}%
}
\Configure{HColor:rgb}{%
   \int:of\:tempa{255}{#1}%
   \int:of\:tempb{255}{#2}%
   \if :#3:
   \int:of\:tempc{255}{#4}%
   \else%
   \int:of\:tempc{255}{#3}%
   \fi%
   \Configure{HColor}{}{rgb(\:tempa,\:tempb,\:tempc)}%
}
\Configure{HColor:cmyk}{%
   \int:of\:Cyan{255}{#1}%
   \int:of\:Magenta{255}{#2}%
   \int:of\:Yellow{255}{#3}%
   \if :#4:%
   \int:of\:Black{255}{#5}%
   \else%
   \int:of\:Black{255}{#4}%
   \fi%
   \:cmyk\:tempa\:Cyan
   \:cmyk\:tempb\:Magenta
   \:cmyk\:tempc\:Yellow
   \Configure{HColor}{}{rgb(\:tempa,\:tempb,\:tempc)}%
}
\def\int:of#1#2#3{%
   \tmp:dim=#3pt \tmp:dim=#2\tmp:dim
   \edef\:temp{\tmp:cnt\the\tmp:dim//}%
   \def#1##1//{}\afterassignment#1\:temp
   \edef#1{\the\tmp:cnt}%
}
\def\:cmyk#1#2{%
   \tmp:cnt=255 \advance\tmp:cnt by -\:Black
   \multiply\tmp:cnt by#2 \advance\tmp:cnt by \:Black
   \advance\tmp:cnt by -255 \tmp:cnt=-\tmp:cnt
   \ifnum \tmp:cnt<0 \tmp:cnt=0 \fi
   \edef#1{\the\tmp:cnt}%
}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{xcolor}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{rowcolors}
   {\Configure{SetHColor}{%
      \expandafter\ifx \csname HColor\endcsname\relax \else
          \Css{tr\#TBL-\TableNo-\the\rownum-{background-color:\HColor}}%
      \fi
   }}
\Configure{HColor!gray}{%
   \XC@c@lcD\rangeGray{}{#1}\@@tmp
   \int:of\:tempa{255}{\@@tmp}%
   \Configure{HColor}{}{rgb(\:tempa,\:tempa,\:tempa)}%
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%




%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{colortbl}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{@classz}
   {\let\begin:current@color\relax
    \let\end:current@color\relax }
   {%
     \ifx \CT@column@color\relax \else
     \ifx \CT@column@color\empty \else{%
         \def\CT@color{\@ifnextchar[\color:ii\color:i}%
         \CT@column@color!*?: %
         \edef\:temp{\noexpand\add:color
            {background-color}{\:temp}{\ar:cnt}}\:temp
     }\fi \fi
   }
   {\begin:current@color}
   {\end:current@color}
\Configure{rowcolor}{\row:clr}
\def\row:clr#1{{%
  \HAdvance\HRow by 1
  \add:color{background-color}{#1}{\HRow- td}}}
\Configure{text-colortbl}
  {\add:color{color}{\current@color}{\HRow-\HCol}}
\Configure{cell-colortbl}
   {\add:color{background-color}{\current@color}{\HRow-\HCol}}
\def\add:color#1#2#3{%
  \Configure{SetHColor}{\Css{ \#TBL-\TableNo-#3{ #1:\HColor }}}{#2}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{minitoc}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
       \Configure{minitoc}
   {\Configure{tableofcontents}
      {\HCode{<div class="minitoc"><hr\xml:empty>}\IgnorePar}{}
      {\IgnorePar\HCode{<hr\xml:empty></div>}\ShowPar}
      {\HCode{<br />}}{}}  {}
   {\HCode{<div class="minitoc-\TocOption">}}  {\HCode{</div>}}
\Configure{minilof}
   {\Configure{tableofcontents}
      {\HCode{<div class="minilof"><hr\xml:empty>}\IgnorePar}{}
      {\IgnorePar\HCode{<hr\xml:empty></div>}\ShowPar}
      {\HCode{<br />}}{}}  {}
   {\HCode{<div class="minilof-\TocOption">}}  {\HCode{</div>}}
\Configure{minilot}
   {\Configure{tableofcontents}
      {\HCode{<div class="minilot"><hr\xml:empty>}\IgnorePar}{}
      {\IgnorePar\HCode{<hr\xml:empty></div>}\ShowPar}
      {\HCode{<br />}}{}}  {}
   {\HCode{<div class="minilot-\TocOption">}}  {\HCode{</div>}}
\Css{.minitoc-l,.minilot-l,.minilof-l
   {text-align:left;margin-left:3em;}}
\Css{.minitoc-c,.minilot-c,.minilof-c
   {text-align:center;margin-left:3em;}}
\Css{.minitoc-r,.minilot-r,.minilof-r
   {text-align:right;margin-left:3em;}}
\Css{DIV.minitoc,DIV.minilot,DIV.minilof{margin-left:3em;}}
\Css{.minitoc .sectionToc { font-weight:bold;} }
\Configure{parttoc}{}{}
   {\HCode{<div class="parttoc-\TocOption">}} {\HCode{</div>}}
\Configure{partlof}{}{}
   {\HCode{<div class="partlof-\TocOption">}} {\HCode{</div>}}
\Configure{partlot}{}{}
   {\HCode{<div class="partlot-\TocOption">}} {\HCode{</div>}}
\Css{.parttoc-l,.partlof-l,.partlot-l{text-align:left;}}
\Css{.parttoc-c,.partlof-c,.partlot-c{text-align:center;}}
\Css{.parttoc-r,.partlof-r,.partlot-r{text-align:right;}}
\Configure{secttoc}{}{}
   {\HCode{<div class="secttoc-\TocOption">}} {\HCode{</div>}}
\Configure{sectlof}{}{}
   {\HCode{<div class="sectlof-\TocOption">}} {\HCode{</div>}}
\Configure{sectlot}{}{}
   {\HCode{<div class="sectlot-\TocOption">}} {\HCode{</div>}}
\Css{.secttoc-l,.sectlof-l,.sectlot-l{text-align:left;}}
\Css{.secttoc-c,.sectlof-c,.sectlot-c{text-align:center;}}
\Css{.secttoc-r,.sectlof-r,.sectlot-r{text-align:right;}}
\:CheckOption{3}     \if:Option
   \let\minitoc=\empty
\fi
\Configure{minitoc@}
   {\ifx \mtc@rule\relax \else \par \IgnorePar \HCode{<hr/>}\par\fi
    \bgroup \let\mtc@rule\relax
   }
   {\egroup
    \ifx \mtc@rule\relax \else \par \IgnorePar \HCode{<hr/>}\par\fi
   }


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{index}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{NoSection}
  {\let\sv:index\p@index \let\sv:label\label
   \let\sv:newline\newline \def\newline{ }%
   \def\p@index[##1]{\@gobble}\let\label\@gobble
   \let\sva:rEfLiNK\a:rEfLiNK
\let\svb:rEfLiNK\b:rEfLiNK
\let\svc:rEfLiNK\c:rEfLiNK
\expandafter\let\expandafter\svC:rEfLiNK\c:rEfLiNK
\Configure{ref}{}{}{}%  \let\sv:ref\ref  \let\ref\@gobble
%
  }
  {\let\p@index\sv:index \let\label\sv:label
   \let\a:rEfLiNK\sva:rEfLiNK
\let\b:rEfLiNK\svb:rEfLiNK
\let\c:rEfLiNK\svc:rEfLiNK
\expandafter\let\c:rEfLiNK\svC:rEfLiNK  %  \let\ref\sv:ref
%
   \let\newline\sv:newline
  }

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{multind}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{@begin}{theindex}
   {\ifx \indexname\empty \else\:CheckOption{1}     \if:Option
  \:CheckOption{notoc*}     \if:Option
      \addcontentsline{toc}{section}{\indexname}%
  \fi
\else \:CheckOption{2}     \if:Option
  \:CheckOption{notoc*}     \if:Option
      \addcontentsline{toc}{section}{\indexname}%
  \fi
\else \:CheckOption{3}     \if:Option
  \:CheckOption{notoc*}     \if:Option
      \addcontentsline{toc}{section}{\indexname}%
  \fi
\else \:CheckOption{4}     \if:Option
  \:CheckOption{notoc*}     \if:Option
      \addcontentsline{toc}{section}{\indexname}%
  \fi
\else
      \addcontentsline{toc}{section}{\indexname}%
\fi \fi \fi \fi
\fi}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{fancybox}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
      \Configure{ovalbox}
     {\ifvmode \IgnorePar\EndP
               \HCode{<div class="ovalbox">}%
               \def\end:bx{\HCode{</div>}\par}%
      \else
               \HCode{<span class="ovalbox">}%
               \def\end:bx{\HCode{</span>}}%
      \fi}
     {\end:bx}
  \Css{.ovalbox {
          padding-left:3pt;
          padding-right:3pt;
          border:solid thin;
      }}
  \Configure{Ovalbox}
     {\ifvmode \IgnorePar\EndP
               \HCode{<div class="Ovalbox-thick">}%
               \def\end:bx{\HCode{</div>}\par}%
      \else
               \HCode{<span class="Ovalbox-thick">}%
               \def\end:bx{\HCode{</span>}}%
      \fi}
     {\end:bx}
  \Css{.Ovalbox-thick {
          padding-left:3pt;
          padding-right:3pt;
          border:solid thick;
      }}
  \Configure{shadowbox}
     {\ifvmode \IgnorePar\EndP
               \HCode{<div class="shadowbox">}%
               \def\end:bx{\HCode{</div>}\par}%
      \else
               \HCode{<span class="shadowbox">}%
               \def\end:bx{\HCode{</span>}}%
      \fi}
     {\end:bx}
  \Css{.shadowbox {
          padding-left:3pt;
          padding-right:3pt;
          border:solid thin;
          border-right:solid thick;
          border-bottom:solid thick;
      }}
  \Configure{doublebox}
     {\ifvmode \IgnorePar\EndP
               \HCode{<div class="doublebox">}%
               \def\end:bx{\HCode{</div>}\par}%
      \else
               \HCode{<span class="doublebox">}%
               \def\end:bx{\HCode{</span>}}%
      \fi}
     {\end:bx}
  \Css{.doublebox {
          padding-left:3pt;
          padding-right:3pt;
          border-style:double;
          border:solid thick;
      }}
\Configure{Btrivlist}
   {\ifvmode \IgnorePar\fi \EndP \HCode{<table>}}
   {\HCode{</table>}}
   {\HCode{<tr><td \csname Btrivlist-dir\endcsname>}}
   {\HCode{</td></tr>}}
\Configure{Btrivlist-dir}
   {l}{style="white-space:normal; text-align:left;" }
   {c}{style="white-space:normal; text-align:center;" }
   {r}{style="white-space:normal; text-align:right;" }
   {}
\Configure{Blist}
   {\ifvmode \IgnorePar\fi \EndP \HCode{<table>}}
   {\HCode{</table>}}
   {\HCode{<tr>}}
   {\HCode{</tr>}}
   {\HCode{<td>}}
   {\HCode{</td>}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{adjustbox}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % add support for vertical alignment of table rows
\Configure{halignTR}{}
\Configure{AdjustboxValignTop}{\Css{\#TBL-\TableNo-\HRow-{vertical-align:top;}}}
\Configure{AdjustboxValignMiddle}{\Css{\#TBL-\TableNo-\HRow-{vertical-align:middle;}}}
\Configure{AdjustboxValignCenter}{\Css{\#TBL-\TableNo-\HRow-{vertical-align:middle;}}}
\Configure{AdjustboxValignBottom}{\Css{\#TBL-\TableNo-\HRow-{vertical-align:bottom;}}}
% convert size in pt to em, based on the current font size
\def\pt:to:em#1{\strip@pt\dimexpr#1/\f@size em}
\Configure{Adjustbox}
{\IgnorePar\EndP\IgnorePar\HCode{<div class="adjustbox" id="\AdjustboxId">}}
{\Css{\#\AdjustboxId{border: \pt:to:em{\fboxrule} solid black;padding: \pt:to:em{\fboxsep};}}%
\ifvmode\IgnorePar\fi\EndP\HCode{</div>}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{awesomebox}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{awesomebox}{%
  \Css{\#\awesomebox@id\space .icon{border-right:4px solid \#\awesomebox@rule@color;}}
  \ifvmode\IgnorePar\fi\EndP%
  \HCode{<div class="awesomebox" id="\awesomebox@id"><div class="icon">}%
  \Picture+{}%
}{\EndPicture%
  \HCode{</div><div class="boxcontent">}%
  \par%
}{%
  \ifvmode\IgnorePar\fi\EndP%
  \HCode{</div></div>}%
}

\Css{.awesomebox{display:grid; grid-template-columns: 90px auto;margin-top:1rem;margin-bottom:1rem;}}
\Css{.awesomebox .icon{padding-right:0.5rem;margin-right:0.5rem;text-align:center;}}
\Css{.awesomebox .boxcontent{vertical-align:top;}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{alltt}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \ConfigureEnv{alltt}
   {\IgnorePar\EndP\HCode{<div class="alltt">}}
   {\IgnorePar\EndP\HCode{</div>}} {}{}
\Css{.alltt P { margin-bottom : 0em; margin-top : 0em; }}
\Css{.alltt { margin-bottom : 1em; margin-top : 1em; font-family:monospace,monospace; }}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{latin1}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{textdegree}{{\leavevmode\ht:special{t4ht@+&{35}x00B0;}x}}
\def\HTitleText#1{%
   \bgroup
      \uccode`\~#1%
      \uppercase{%
   \egroup
      \edef~{\string~}%
   }%
}
\Configure{@TITLE}
  {\DeclareInputText{168}{"}%
   \HTitleText{209}%
    \HTitleText{194}%
    \HTitleText{210}%
    \HTitleText{195}%
    \HTitleText{211}%
    \HTitleText{196}%
    \HTitleText{212}%
    \HTitleText{197}%
    \HTitleText{213}%
    \HTitleText{198}%
    \HTitleText{214}%
    \HTitleText{199}%
    \HTitleText{215}%
    \HTitleText{200}%
    \HTitleText{216}%
    \HTitleText{201}%
    \HTitleText{217}%
    \HTitleText{202}%
    \HTitleText{218}%
    \HTitleText{203}%
    \HTitleText{219}%
    \HTitleText{204}%
    \HTitleText{220}%
    \HTitleText{205}%
    \HTitleText{221}%
    \HTitleText{206}%
    \HTitleText{222}%
    \HTitleText{207}%
    \HTitleText{223}%
    \HTitleText{224}%
    \HTitleText{240}%
    \HTitleText{225}%
    \HTitleText{241}%
    \HTitleText{226}%
    \HTitleText{242}%
    \HTitleText{227}%
    \HTitleText{243}%
    \HTitleText{228}%
    \HTitleText{244}%
    \HTitleText{229}%
    \HTitleText{245}%
    \HTitleText{230}%
    \HTitleText{246}%
    \HTitleText{231}%
    \HTitleText{247}%
    \HTitleText{232}%
    \HTitleText{248}%
    \HTitleText{233}%
    \HTitleText{249}%
    \HTitleText{234}%
    \HTitleText{250}%
    \HTitleText{235}%
    \HTitleText{251}%
    \HTitleText{236}%
    \HTitleText{252}%
    \HTitleText{237}%
    \HTitleText{253}%
    \HTitleText{238}%
    \HTitleText{254}%
    \HTitleText{239}%
    \HTitleText{255}%
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%





%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{vanilla}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{title}
   {\IgnorePar\EndP\HCode{<div class="title">}\begingroup\bf}
   {\endgroup\IgnorePar\HCode{</div>}}
\Css{div.title {margin-top: 0.5em;}}
\Configure{author}
   {\IgnorePar\EndP\HCode{<br /><div class="author">}\IgnorePar\par}
   {\IgnorePar\EndP\HCode{</div>}}
   \Css{div.author{text-align:center;}}

\Configure{matrix}
   {\EndP\HCode{<center><table\Hnewline
        border="0" cellpadding="0" cellspacing="15" class="matrix">}}
   {\HCode{</table></center>}\IgnorePar}
   {\HCode{<tr\Hnewline style="vertical-align:top;">}}{\HCode{</tr>}}
   {\HCode{<td>}}   {\HCode{</td>}}
\Configure{align}
   {\EndP\HCode{<center><table\Hnewline
        border="0" cellpadding="0" cellspacing="15" class="align">}}
   {\HCode{</table></center>}\IgnorePar}
   {\HCode{<tr\Hnewline style="vertical-align:top;">}}{\HCode{</tr>}}
   {\HCode{<td>}}   {\HCode{</td>}}

\Configure{heading}
   {}{}{\IgnorePar\EndP\HCode{<h2 class="heading">}}{\HCode{</h2>}}
\ConfigureToc{heading}
  {}{\HCode{<span class="heading">}}{}{\HCode{</span><br />}}
\Configure{subheading}
  {}{}{\EndP\HCode{<h3 class="subheading">}}{.\HCode{</h3>}}
\ConfigureToc{subheading}
  {}{\HCode{<span class="subheading">}}{}{\HCode{</span><br />}}
\Configure{demo}
    {\IgnorePar\EndP\HCode{<div class="demo"><span class="demo">}}
    {\HCode{</span>}}    {\IgnorePar\EndP\HCode{</div>}}
\Configure{aligned}
   {\EndP\HCode{<center><table\Hnewline
        border="0" cellpadding="0" cellspacing="15" class="aligned">}}
   {\HCode{</table></center>}\IgnorePar}
   {\HCode{<tr\Hnewline style="vertical-align:top;">}}{\HCode{</tr>}}
   {\HCode{<td>}}   {\HCode{</td>}}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{eplain}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{columns}
   {\ifvmode \IgnorePar\fi \EndP
    \HCode{<div class="columns"><!--cols=\NumColumns-->}}
   {\ifvmode \IgnorePar\fi \EndP \HCode{</div>}}
\Css{div.columns { margin-left:2em; margin-right:2em; }}
\Configure{bibliography}
   {\ifvmode \IgnorePar\fi \EndP
    \HCode{<div class="bibliography">}\par}
   {\ifvmode \IgnorePar\fi \EndP  \HCode{</div>}\par}
\Configure{makecolumns}
    {\ifvmode \IgnorePar\fi \EndP
     \HCode{<table class="makecolumns"><tr><td>}%
     \gdef\make:col{\gdef\make:col{\HCode{<br />}}}}
    {\HCode{</td></tr></table>}}
    {\HCode{</td><td>}%
     \gdef\make:col{\gdef\make:col{\HCode{<br />}}}}
    {\make:col}
    {}
\Css{table.makecolumns{width:100\%;}}
\Css{table.makecolumns td {vertical-align:top;}}
\Configure{flushleft}
   {\ifvmode \IgnorePar\fi \EndP
    \HCode{<div class="flushleft">}}
   {\ifvmode \IgnorePar\fi \EndP
    \HCode{</div>}}
   {\HCode{<br />}}
\Configure{flushright}
   {\ifvmode \IgnorePar\fi \EndP
    \HCode{<div class="flushright">}}
   {\ifvmode \IgnorePar\fi \EndP
    \HCode{</div>}}
   {\HCode{<br />}}
\Configure{center}
   {\ifvmode \IgnorePar\fi \EndP
    \HCode{<div class="center">}}
   {\ifvmode \IgnorePar\fi \EndP
    \HCode{</div>}}
   {\HCode{<br />}}
\Css{div.center {text-align:center;}}
\Css{div.flushright {text-align:right;}}
\Css{div.flushleft {text-align:left;}}
\Configure{monthname}
   {\HCode{<span class="month">}}
   {\HCode{</span>}}
\Configure{timestring}
   {\HCode{<span class="time">}}
   {\HCode{</span>}}
\Configure{timestamp}
   {\HCode{<span class="timestamp">}}
   {\HCode{</span>}}
\Configure{today}
   {\HCode{<span class="today">}}
   {\HCode{</span>}}

\Configure{numberedlist}
   {\ifvmode \IgnorePar\fi \EndP
    \HCode{<ol>}\let\end:itm=\empty}
   {\ifvmode \IgnorePar\fi \end:itm \HCode{</ol>}}
   {\end:itm \def\end:itm{\EndP\Tg</li>}\HCode{<li>}\special{t4ht@[}\IgnorePar}
   {\special{t4ht@]}}
\Configure{orderedlist}
   {\ifvmode \IgnorePar\fi \EndP
    \HCode{<ol>}\let\end:itm=\empty}
   {\ifvmode \IgnorePar\fi \end:itm \HCode{</ol>}}
   {\end:itm \def\end:itm{\EndP\Tg</li>}\HCode{<li>}\special{t4ht@[}\IgnorePar}
   {\special{t4ht@]}}
\Configure{unorderedlist}
   {\ifvmode \IgnorePar\fi \EndP
    \HCode{<ul>}\let\end:itm=\empty}
   {\ifvmode \IgnorePar\fi \end:itm \HCode{</ul>}}
   {\ifvmode \IgnorePar\fi \EndP
    \end:itm \def\end:itm{\EndP\Tg</li>}%
    \HCode{<li>}\special{t4ht@[}\IgnorePar}
   {\special{t4ht@]}}
\Configure{listing}
   {\IgnorePar\EndP \HCode{<div class="listing">}\par
    \Configure{HtmlPar}
      {\EndP}
      {\EndP}
      {~\HCode{<br />}}
      {~\HCode{<br />}}
   }
   {\HCode{</div>}\par}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{context}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \catcode`\!=11
{
  \def\:tempc{%
    \catcode`\.=12
    \gdef\:tempc}
  \:tempc#1.#2.{#1}
}
{\Configure{Needs}{Font\string_Size: #1}%
   \Needs{\expandafter\:tempc\the\bodyfontsize .}}

\Configure{dolist}
   {\ifvmode \IgnorePar\fi \EndP
    \HCode{<div class="dolist">}}
   {\ifvmode \IgnorePar\fi \EndP
    \HCode{</div>}}

\NewConfigure{-@@ly}{2}

\Configure{sectie}
   {\gHAdvance \sec:Level by 1\relax
    \ifnum \sec:Level=1
        \ifvmode \IgnorePar\fi \EndP
        \HCode{<div class="\cur:Name">}%
    \else
        \ifvmode \IgnorePar\fi
        \HCode{<span class="\cur:Name">}%
    \fi
   }
   {\ifnum \sec:Level=1
        \ifvmode \IgnorePar\fi \EndP
        \HCode{</div>}%
    \else
        \ifvmode \IgnorePar\fi
        \HCode{</span>}%
    \fi
    \gHAdvance \sec:Level by -1\relax
   }
\HAssign\sec:Level=0
\def\:tmp#1#2{%
  \ConfigureMark{#1}
     {\HCode{<span class="titlemark">}\finalsectionnumber
      \HCode{</span>}}
  \Configure{#1}%
     {}{}
     {\ifvmode \IgnorePar\fi \EndP\IgnorePar
      \HCode{<#2 class="#1Head"\a:LRdir>}\NoFonts
      \TitleMark\space\HtmlParOff
      \bgroup
         \let\setstrut=\empty
         \let\begstrut=\empty
         \let\endstrut=\empty
     }
     {\egroup
      \EndNoFonts \HCode{</#2>}\HtmlParOn
      \IgnoreIndent \par \ShowPar}
  \Configure{#1TITLE+}{\finalsectionnumber\space##1}
  \ifx \end:secs\empty \else
    \edef\:temp{\noexpand\Configure{end#1}{\end:secs}}\:temp
  \fi
  \edef\end:secs{\end:secs,#1}%
  \NewConfigure{#1-ko}{2}
}
\def\end:secs{}
\def\:tempd#1{\edef\:temp{\noexpand\:tmp{#1}}\:temp}

  \:tempd{\v!chapter
}{h1}
  \:tempd{\v!section
}{h2}
  \:tempd{\v!subsection
}{h3}
  \:tempd{\v!subsubsection
}{h4}
  \:tempd{\v!subsubsubsection
}{h5}
  \:tempd{\v!subsubsubsubsection
}{h5}

\Configure{startstop}
   {\ifvmode \IgnorePar \EndP
       \HCode{<div class="startstop">}\par
       \def\end:startstop{\ifvmode \IgnorePar \EndP \fi
                          \HCode{</div>}\par}%
    \else
       \HCode{<span class="startstop">}%
       \def\end:startstop{\ifvmode \IgnorePar \HCode{</span>}\par
                          \else \HCode{</span>}\fi}%
    \fi}
   {\end:startstop}

\Configure{placecontent}
   {\ifvmode \IgnorePar\fi \EndP
    \def\toc:br{\def\toc:br{\HCode{<br />}}}%
    \HCode{<div class="tableofcontents"\a:LRdir>}\IgnorePar}
   {}
   {\IgnorePar\EndP\HCode{</div>}\ShowPar}
   {} {}
\Configure{contenthead}
    {\ifvmode \IgnorePar\fi \EndP \HCode{<h2>}\NoFonts}
    {\ifvmode \IgnorePar\fi \EndNoFonts \HCode{</h2>}\par}
\ConfigureToc{part}
  {\toc:br
   \HCode{<span class="partToc" \a:LRdir><span class="toc-mark">}}
  {\HCode{</span>}~}
  {}
  {\HCode{</span>}}
\ConfigureToc{chapter}
  {\toc:br
   \HCode{<span class="chapterToc" \a:LRdir><span class="toc-mark">}}
  {\HCode{</span>}~}
  {}
  {\HCode{</span>}}
\ConfigureToc{section}
  {\toc:br
   \HCode{<span class="sectionToc" \a:LRdir><span class="toc-mark">}}
  {\HCode{</span>}~}
  {}
  {\HCode{</span>}}
\ConfigureToc{subsection}
  {\toc:br
   \HCode{<span class="subsectionToc" \a:LRdir><span class="toc-mark">}}
  {\HCode{</span>}~}
  {}
  {\HCode{</span>}}
\ConfigureToc{subsubsection}
  {\toc:br
   \HCode{<span class="subsubsectionToc" \a:LRdir><span class="toc-mark">}}
  {\HCode{</span>}~}
  {}
  {\HCode{</span>}}
\ConfigureToc{subsubsubsection}
  {\toc:br
   \HCode{<span class="subsubsubsectionToc" \a:LRdir><span class="toc-mark">}}
  {\HCode{</span>}~}
  {}
  {\HCode{</span>}}
\ConfigureToc{subsubsubsubsection}
  {\toc:br
   \HCode{<span class="subsubsubsubsectionToc" \a:LRdir><span class="toc-mark">}}
  {\HCode{</span>}~}
  {}
  {\HCode{</span>}}

\Configure{description-item}
   {\ifvmode \IgnorePar\fi \EndP
    \HCode{<dl class="description-item">
           <dt class="description-dt">}\everypar{}}
   {\HCode{</dt><dd class="description-dd">}\everypar{\HtmlPar}\par}
   {\ifvmode \IgnorePar\fi \EndP
    \HCode{</dd></dl>}}
\Configure{description-word}
   {\HCode{<span class="description-word">}}
   {\ifvmode \IgnorePar \HCode{</span>}\par
                          \else \HCode{</span>}\fi}

\Configure{itemgroup}
   {\ifvmode\IgnorePar\fi \EndP
    \HCode{<dl class="\currentitemgroup">}\let\end:dd=\empty}
   {\ifvmode\IgnorePar\fi \EndP \end:dd \HCode{</dl>}}
\Configure{head-listitem}
   {\ifvmode\IgnorePar\fi \EndP
    \end:dd \HCode{<dt class="\currentitemgroup
                              -head">}}
   {\ifvmode\IgnorePar\fi \EndP
    \HCode{</dt><dd class="\currentitemgroup -head%
                               ">}\def\end:dd{\HCode{</dd>}}}
\Configure{symbol-listitem}
   {\ifvmode\IgnorePar\fi \EndP
    \end:dd \HCode{<dt class="\currentitemgroup
                              -symbol">}}
   {\ifvmode\IgnorePar\fi \EndP
    \HCode{</dt><dd class="\currentitemgroup -symbol%
                               ">}\def\end:dd{\HCode{</dd>}}}
\Configure{other-listitem}
   {\ifvmode\IgnorePar\fi \EndP
    \end:dd \HCode{<dt class="\currentitemgroup
                              -other">}}
   {\ifvmode\IgnorePar\fi \EndP
    \HCode{</dt><dd class="\currentitemgroup -other%
                               ">}\def\end:dd{\HCode{</dd>}}}
\Configure{itemize-group}
    {\ifvmode \IgnorePar\fi \EndP
     \HCode{<dl class="dd-\itemlevel">}\global\let\end:dd=\empty}
    {\ifvmode \IgnorePar\fi \EndP \HCode{</dd></dl>}}
\Configure{itemize-other-item}
    {\ifvmode \IgnorePar\fi \EndP
     \HCode{\ifx\end:dd\empty\else </dd>\fi<dt>}\global\let\end:dd=\relax}
    {\ifvmode \IgnorePar\fi \EndP \HCode{</dt><dd>}\par}
\Css{dd p{margin-top:-1.2em; margin-bottom:1.7em;}}

\Configure{typing}
   {\ifvmode \IgnorePar\fi \EndP \par \ShowPar
    \def\verb:par{%
      \HCode{<!--l. \the\inputlineno-->%
<div class="typing">}%
      \gdef\verb:par{\HCode{<br />}}}%
   }
   {\ifvmode \IgnorePar\fi \HCode{</div>}\par}
   {\verb:par}
   {\HCode{\string&}\HChar{-35}\HCode{x00A0;}}
\Css{div.typing
       {font-family: monospace,monospace; white-space: nowrap; }}

\Configure{narrower}
   {\ifvmode \IgnorePar\fi \EndP \HCode{<div class="narrower">}}
   {\ifvmode \IgnorePar\fi \EndP \HCode{</div>}}
\Css{div.narrower {margin-left:2em; margin-right:2em;}}
\Configure{midaligned}
   {\ifvmode \IgnorePar\fi \EndP
    \HCode{<div class="midaligned">}}
   {\ifvmode \IgnorePar\fi \EndP  \HCode{</div>}\par}
\Configure{leftaligned}
   {\ifvmode \IgnorePar\fi \EndP
    \HCode{<div class="leftaligned">}}
   {\ifvmode \IgnorePar\fi \EndP  \HCode{</div>}\par}
\Configure{rightaligned}
   {\ifvmode \IgnorePar\fi \EndP
    \HCode{<div class="rightaligned">}}
   {\ifvmode \IgnorePar\fi \EndP  \HCode{</div>}\par}
\Css{div.midaligned {text-align:center;}}
\Css{div.leftaligned {text-align:left;}}
\Css{div.rightaligned {text-align:right;}}

\Configure{plaatsblok}
   {\ifvmode \IgnorePar\fi \EndP\HCode{<div class="float">}}
   {\ifvmode \IgnorePar\fi \EndP\HCode{</div>}}
\Configure{caption}
   {\HCode{<span class="caption-label">}}   {\HCode{</span>}}
   {\HCode{<span class="caption-text">}}   {\HCode{</span>}}
\NewConfigure{figure}{2}
\Configure{figure}
   {\ifvmode \IgnorePar\fi \EndP\HCode{<div class="figure">}}
   {\ifvmode \IgnorePar\fi \EndP\HCode{</div>}}
\Css{div.figure {border-top:solid black 1px; border-bottom:solid black 1px;}}
\Configure{externalfigure}{\Picture[fig]}
\Configure{placefloat}
   {\ifvmode\IgnorePar\fi \EndP
    \HCode{<div class="place-float">}\IgnorePar }
   {\ifvmode\IgnorePar\fi \EndP\HCode{</div>}}
\Css{.place-float  .framed-border{ border:0px;}}
\Css{.place-float  .framed-border .framed-border{ border:1px solid black;}}
\Css{.place-float { border-top:1px black solid;
                    border-bottom:1px black solid;
                    margin: 1em;
                    padding-top: 5px;
                    padding-bottom: 5px;
                   }}
\Configure{figure-li}
   {\ifvmode \IgnorePar\fi \EndP
    \HCode{<div class="entry"><span class="num">}\par\IgnorePar}
   {\HCode{</span><span class="title">}}
   {\HCode{</span><span class="page"><!--}}
   {\HCode{--></span></div>}}

\Configure{\v!tabulate}
   {\ifvmode \IgnorePar\fi
    \EndP \HCode{<table class="\v!tabulate">}}
   {\ifvmode\IgnorePar\fi\HCode{</table>}\par}
   {\HCode{<tr>}}
   {\ifvmode \IgnorePar\fi \HCode{</tr>}}
   {\HCode{<td }\ifx \csname \HAlign :T:D\endcsname\relax \else
                    \csname \HAlign :T:D\endcsname \fi\HCode{>}}
   {\HCode{</td>}}
\Css{table.tabulate td {padding-left:0.4em; padding-right:0.4em;}}

\Configure{table}
   {\PushStack\Table:Stck\TableNo
    \PushStack\Row:Stck\HRow     \HAssign\HRow=0\relax
    \PushStack\Col:Stck\Prev:Col
    \gHAdvance\Table:No by 1\relax
    \HAssign\TableNo=\Table:No\relax
    \ifvmode \IgnorePar\fi \EndP\halignTB{table}\putVBorder
}
   {\HCode{</table>}%
    \PopStack\Table:Stck\TableNo
    \PopStack\Row:Stck\HRow
    \PopStack\Col:Stck\Prev:Col
   }
   {\gHAdvance\HRow by 1
    \HCode{<tr class="TBL-\TableNo-\HRow">}%
    \currentTABLEcolumn=0 \gHAssign\Prev:Col=0 }
   {\HCode{</tr>}}
   {\HAssign\HCol=\the\currentTABLEcolumn\relax
    \HAssign\HMultispan=\HCol\relax
    \HAdvance\HMultispan by -\Prev:Col\relax
    \gHAssign\Prev:Col=\HCol\relax
    \HAdvance\HCol by 1\relax
    \ifnum \HMultispan>1  \HAdvance\HCol by 1
                          \HAdvance\HCol by -\HMultispan\relax \fi
    \HCode{\Hnewline<td class="TBL-\TableNo-\HRow-\HCol" }%
    \halignTD
    \HCode{ \ifnum \HMultispan>1  colspan="\HMultispan" \fi >}%
\gdef\dd:table{%
      \gdef\dd:table{}%
      \x:tableCell
      \d:table}%
\def\x:tableCell{\e:tableCell \global\let\x:tableCell=\empty}%
}
   {\HCode{</td>}}

\HAssign\Table:No=0
\HAssign\TableNo=0
\HAssign\Prev:Col=0
\HAssign\HRow=0
\Configure{tableCell}
   {\e:table\HCode{<div class="cell-1">}\ShowPar\par}
   {\e:table\HCode{<div class="cell-2">}\ShowPar\par}
   {\e:table\HCode{<div class="cell-3">}\ShowPar\par}
   {\e:table\HCode{<div class="cell-4">}\ShowPar\par}
   {\ifvmode \IgnorePar\fi \EndP\HCode{</div>}\f:table}
\let\VBorder\empty   \let\AllColMargins\empty
\Configure{VBorder}
   {\let\VBorder\empty
    \let\AllColMargins\empty
    \global\let\GROUPS\empty
    \HAssign\NewGroup = 0
   }
   {%
      \let\:temp\TableNo \let\TableNo=\relax
      \edef\VBorder{\VBorder\ifnum \NewGroup> 0 </colgroup>\fi}%
      \let\TableNo\:temp
      \HAssign\NewGroup = 0
    \gdef\GROUPS{rules="groups"}%
   }
   {\Advance:\NewGroup by 1
      \let\:temp\TableNo \let\TableNo=\relax
      \ifnum \NewGroup=1 \edef\VBorder{\VBorder<colgroup
          id="TBL-\TableNo-\ar:cnt g">}\fi
      \edef\VBorder{\VBorder<col\Hnewline id="TBL-\TableNo
         -\ar:cnt"\xml:empty>}\xdef\AllColMargins{\AllColMargins1}%
      \let\TableNo\:temp
   }
   {%
      \let\:temp\TableNo \let\TableNo=\relax
      \edef\AllColMargins{\AllColMargins 0}%
      \let\TableNo\:temp
   }
\Css{table.table td {vertical-align:top;}}
\Css{table.table td { padding-left:3pt; padding-right:3pt; }}

\Configure{halignTB}{\HCode{<table }}{\HCode{>}}
\Configure{halignTB<>}{table}{\HCode{id="TBL-\TableNo" class="table"\Hnewline
   \GROUPS\Hnewline
   }<>\HAlign}
\Css{table[rules] {border-left:solid black 0.4pt;
                   border-right:solid black 0.4pt; }}
\Configure{TABLElongrule}{\HCode{<hr />}}
\Configure{TableHL}
  {\TABLEnoalign{%
  \HCode{<tr>}%
\tmp:cnt=\maxTABLEcolumn
\advance\tmp:cnt by 2
\HCode{<td colspan="\the\tmp:cnt"><hr /></td>}%
  \HCode{</tr>}}%
}
\Configure{halignTD} {}{}
   {<}{\HCode{ style="white-space:nowrap; text-align:left;"}}
   {-}{\HCode{ style="white-space:nowrap; text-align:center;"}}
   {>}{\HCode{ style="white-space:nowrap; text-align:right;"}}
   {l}{\HCode{ style="white-space:nowrap; text-align:left;"}}
   {c}{\HCode{ style="white-space:nowrap; text-align:center;"}}
   {r}{\HCode{ style="white-space:nowrap; text-align:right;"}}
   {^}{\HCode{ style="vertical-align:top; white-space:nowrap;"}}
   {=}{\HCode{ style="vertical-align:baseline; white-space:nowrap;"}}
   {|}{\HCode{ style="vertical-align:middle; white-space:nowrap;"}}
   {_}{\HCode{ style="vertical-align:bottom; white-space:nowrap;"}}
   {p}{\HCode{ style="white-space:normal; text-align:left;"}%
          \Protect\a:HColWidth}
   {m}{\HCode{ style="white-space:nowrap;
                      text-align:left; vertical-align:middle;"}}
   {b}{\HCode{ style="white-space:nowrap; text-align:left;
                      vertical-align:baseline;"}}
   {}

\Configure{bTABLE}
  {\ifvmode \IgnorePar \fi \EndP
   \PushStack\Table:Stck\TableNo
   \gHAdvance\Next:TableNo by 1
   \global\let\TableNo=\Next:TableNo
   \HCode{<!--table \TableNo--><table class="bTABLE">}}
  {\ifvmode \IgnorePar \fi
   \HCode{</table>}\PopStack\Table:Stck\TableNo }
  {\ifvmode \IgnorePar \fi \HCode{<!--row \rowTBL--><tr>}}
  {\ifvmode \IgnorePar \fi \HCode{</tr>}}
  {\expandafter\ifx \csname bTBL\rowTBL,\colTBL\endcsname\relax
     \let\need:endTD\relax
     \ifvmode \IgnorePar \fi \HCode{<!--}%
   \else
     \let\need:endTD\def
     \HCode{<!--cell \rowTBL,\colTBL--><td id="TBL-\TableNo-\rowTBL-\colTBL"
           \expandafter\expandafter\expandafter\bTBL:sty
                                     \csname bTBL\rowTBL,\colTBL\endcsname
       >}%
   \Configure{framed}
      {\Css{td\#TBL-\TableNo-\rowTBL-\colTBL{
                padding-left:5pt; padding-right:5pt; border:solid black 1px;
      }}}%
      {}%
   \fi
  }
  {\ifvmode \IgnorePar \fi \EndP
   \ifx \need:endTD\def
     \HCode{</td>}
   \else
     \HCode{-->}
   \fi
  }
\def\bTBL:sty#1#2{%
   \ifnum #1>1 \space rowspan="#1"\fi
   \ifnum #2>1 \space colspan="#2" style="text-align:center;"\fi
}
\Css{table.bTABLE p{margin-top:0em; margin-bottom:0em;}}
\Css{table.bTABLE{margin-left:10\%; margin-right:10\%;
          margin-top:1em; margin-bottom:1em;
      }}
\Css{table.bTABLE {border-spacing:0px;
           border-top: solid black 1px;
           border-bottom: solid black 1px; }}


\Configure{index}
   {\Link{}{in-\nextinternalreference}\EndLink}
\Configure{indexpage}{%
   \gHAdvance\Idx:No by 1 #1%
   {#2}%
   {#3}%
   {#4}%
   {\Link{in-#3}{}\Idx:No\EndLink}}
\HAssign\Idx:No = 0
\Configure{indexchar}
   {\ifvmode \IgnorePar\fi \EndP
    \HCode{<div class="indexchar">}}
   {\HCode{</div>}\par}
\Css{div.indexchar{margin-top:0.2em; margin-bottom:0.1pt;}}
\Configure{index-env}
   {\ifvmode \IgnorePar\fi \EndP\HCode{<div class="index-env">}\par}
   {\ifvmode \IgnorePar\fi \EndP \HCode{</div>}\par}
\Css{div.index-env p{margin-top:0em; margin-bottom:0em;}}
\NewConfigure{-@@idindex}{2}

\Configure{crlf}{\HCode{<br />}}

\Configure{externaldocument}{\Link}{\EndLink}
\Configure{-@@ur}
   {\HCode{<span class="url">}}
   {\HCode{</span>}}

\Configure{framed}
   {\ifvmode
       \def\end:framed{\ifvmode \IgnorePar\fi\EndP\HCode{</div>}}%
       \IgnorePar \EndP
      \HCode{<div class="framed-\ifdim\ruledlinewidth>0em
          border%
       \else
          background%
       \fi
"
>}%
    \else
      \def\end:framed{\HCode{</span>}}%
      \HCode{<span class="framed-\ifdim\ruledlinewidth>0em
          border%
       \else
          background%
       \fi
"
>}%
    \fi
   }
   {\end:framed}
\Css{.framed-border{border: solid black 1px; }}
\Css{.framed-background{background-color: \#CCCCCC; }}

\HAssign\fn:c=0
\Configure{footnote}
    {\HPage{}}
    {\EndHPage{}}
    {\HCode{<sup>}\Link{}{fnc-\fn:c}}
    {\EndLink\HCode{</sup>}}
\Configure{footnotemark}
    {\HCode{<sup>}\gHAdvance\fn:c by 1 \Link{fnc-\fn:c}{}}
    {\ifvmode\IgnorePar\fi \EndLink\HCode{</sup>}}

\Configure{-@@fm}
   {\ifvmode
      \IgnorePar\EndP\HCode{<div class="formula-no">}%
      \def\end:margp{\ifvmode \IgnorePar\fi \EndP \HCode{</div>}}%
      \par
    \else
      \SaveEndP
      \HCode{<span class="formula-no">}%
      \bgroup
         \Configure{HtmlPar}{\HCode{<br />}}{\HCode{<br />}}{}{}%
      \def\end:margp{\egroup\HCode{</span>}\RecallEndP}%
    \fi
   }
   {\end:margp}
\Css{.formula-no {width:5\%; float:right; text-align:right;
  margin-right:auto; }}
\Configure{mtable}
   {\ifvmode \IgnorePar\fi \EndP
    \HCode{<table class="mtable">}}
   {\HCode{</table>}}
   {\HCode{<tr>}}
   {\HCode{</tr>}}
   {\HCode{<td>}}
   {\HCode{</td>}}
\Configure{mathalignment}
   {\ifvmode \IgnorePar\fi \EndP
    \Css{table.\currentmathalignment { margin-left:5\%; }}%
    \Css{td.\currentmathalignment { text-align:left; }}%
    \HCode{<table class="\currentmathalignment">}}
   {\HCode{</table>}}
   {\HCode{<tr class="\currentmathalignment">}}
   {\HCode{</tr>}}
   {\HCode{<td class="\currentmathalignment">}}
   {\HCode{</td>}}
\NewConfigure{align}{6}
\Configure{align}
   {\ifvmode \IgnorePar\fi \EndP
    \HCode{<table class="align">}}
   {\HCode{</table>}}
   {\HCode{<tr class="align">}}
   {\HCode{</tr>}}
   {\HCode{<td class="align">}}
   {\HCode{</td>}}
\Css{table.align { margin-left:5\%; }}
\Css{td.align { text-align:left; }}
\Configure{intertext}
   {\f:mtable\d:mtable\c:mtable\HCode{<td colspan="10"
                          class="intertext">}}
   {\f:mtable\d:mtable\c:mtable\e:mtable}
\Css{.intertext {text-align:left;}}
\Configure{frac}
   {\Picture+{ class="frac"}\bgroup}
   {}{}
   {\egroup\EndPicture}
\Css{.frac {vertical-align:middle;}}

\def\:temp{LaTeX}
\HLet\LaTeX\:temp

\Configure{MPcode}
    {\Picture*[pic]{}}
    {\EndPicture}

\catcode`\!=12

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%











%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{tabulary}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{halignTD} {}{}
   {<}{\HCode{ style="white-space:nowrap; text-align:left;"}}
   {-}{\HCode{ style="white-space:nowrap; text-align:center;"}}
   {>}{\HCode{ style="white-space:nowrap; text-align:right;"}}
   {l}{\HCode{ style="white-space:nowrap; text-align:left;"}}
   {c}{\HCode{ style="white-space:nowrap; text-align:center;"}}
   {r}{\HCode{ style="white-space:nowrap; text-align:right;"}}
   {^}{\HCode{ style="white-space:nowrap; vertical-align:top";}}
   {=}{\HCode{ style="vertical-align:baseline; white-space:nowrap;"}}
   {|}{\HCode{ style="vertical-align:middle; white-space:nowrap;"}}
   {_}{\HCode{ style="vertical-align:bottom; white-space:nowrap;"}}
   {p}{\HCode{ style="white-space:normal; text-align:left;"}}
   {m}{\HCode{ style="white-space:nowrap; text-align:left; vertical-align:middle;"}}
   {b}{\HCode{ style="white-space:normal; text-align:left; vertical-align:baseline;"}}
   {L}{\HCode{ style="white-space:normal; text-align:left;"}}
   {R}{\HCode{ style="white-space:normal; text-align:right;"}}
   {C}{\HCode{ style="white-space:normal; text-align:center;"}}
   {J}{\HCode{ style="white-space:normal;"}}
   {}
\ConfigureEnv{tabulary}
  {\Configure{noalign}%
  {\f:tabular\d:tabular \HCode{<tr><td colspan="\ar:cnt">}}
  {\HCode{</td></tr>}\pend:def\TableNo{0}\c:tabular\e:tabular}%
%
   \IgnorePar\ifvmode\else\HCode{<!--tex4ht:inline-->}\fi
\EndP\HCode{<div class="tabular">}%
   \PushStack\Col:Marg\AllColMargins
  }
  {\HCode{</div>}\PopStack\Col:Marg\AllColMargins\ShowPar
      \Configure{noalign}{}{}%
%
      \ShowPar
%
  }{}{}
   \Configure{tabulary}
      {\ifvmode \IgnorePar\fi \EndP \halignTB{tabulary}\putVBorder }
      {\HCode{</table>}}
      {\HCode{<tr \Hnewline}\halignTR
                            \HCode{ id="TBL-\TableNo-\HRow-">}}
      {\r:HA}
      {\HCode{<td \ifnum \HMultispan>1 colspan="\HMultispan"\fi}%
         \halignTD \HCode{ id="TBL-\TableNo-\HRow-\HCol"
         \Hnewline class="td}\NoFonts
           \bgroup
              \ifx \ttfamily\:UnDef \else \ttfamily\fi
              \ColMargins
           \egroup
\EndNoFonts
%
         \HCode{">}\par  \ShowPar
\PushStack\Table:Stck\TableNo}
      {\IgnorePar \EndP
\PopStack\Table:Stck\TableNo \d:HA}
\Configure{halignTB<>}{tabulary}{\HCode{id="TBL-\TableNo" class="tabulary"\Hnewline
   \GROUPS\Hnewline
   }<>\HAlign}
\Css{table[rules] {border-left:solid black 0.4pt;
                   border-right:solid black 0.4pt; }}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%




%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{ntheorem}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \ConfigureEnv{Anmerkung}
   {\ifvmode\IgnorePar\fi \EndP
    \HCode{<div class="Anmerkung">}}
   {\ifvmode\IgnorePar\fi \EndP \HCode{</div>}} {}{}
\ConfigureEnv{Beispiel}
   {\ifvmode\IgnorePar\fi \EndP
    \HCode{<div class="Beispiel">}}
   {\ifvmode\IgnorePar\fi \EndP \HCode{</div>}} {}{}
\ConfigureEnv{Bemerkung}
   {\ifvmode\IgnorePar\fi \EndP
    \HCode{<div class="Bemerkung">}}
   {\ifvmode\IgnorePar\fi \EndP \HCode{</div>}} {}{}
\ConfigureEnv{Beweis}
   {\ifvmode\IgnorePar\fi \EndP
    \HCode{<div class="Beweis">}}
   {\ifvmode\IgnorePar\fi \EndP \HCode{</div>}} {}{}
\ConfigureEnv{Corollary}
   {\ifvmode\IgnorePar\fi \EndP
    \HCode{<div class="Corollary">}}
   {\ifvmode\IgnorePar\fi \EndP \HCode{</div>}} {}{}
\ConfigureEnv{Definition}
   {\ifvmode\IgnorePar\fi \EndP
    \HCode{<div class="Definition">}}
   {\ifvmode\IgnorePar\fi \EndP \HCode{</div>}} {}{}
\ConfigureEnv{Example}
   {\ifvmode\IgnorePar\fi \EndP
    \HCode{<div class="Example">}}
   {\ifvmode\IgnorePar\fi \EndP \HCode{</div>}} {}{}
\ConfigureEnv{Korollar}
   {\ifvmode\IgnorePar\fi \EndP
    \HCode{<div class="Korollar">}}
   {\ifvmode\IgnorePar\fi \EndP \HCode{</div>}} {}{}
\ConfigureEnv{Lemma}
   {\ifvmode\IgnorePar\fi \EndP
    \HCode{<div class="Lemma">}}
   {\ifvmode\IgnorePar\fi \EndP \HCode{</div>}} {}{}
\ConfigureEnv{Proof}
   {\ifvmode\IgnorePar\fi \EndP
    \HCode{<div class="Proof">}}
   {\ifvmode\IgnorePar\fi \EndP \HCode{</div>}} {}{}
\ConfigureEnv{Proposition}
   {\ifvmode\IgnorePar\fi \EndP
    \HCode{<div class="Proposition">}}
   {\ifvmode\IgnorePar\fi \EndP \HCode{</div>}} {}{}
\ConfigureEnv{Remark}
   {\ifvmode\IgnorePar\fi \EndP
    \HCode{<div class="Remark">}}
   {\ifvmode\IgnorePar\fi \EndP \HCode{</div>}} {}{}
\ConfigureEnv{Satz}
   {\ifvmode\IgnorePar\fi \EndP
    \HCode{<div class="Satz">}}
   {\ifvmode\IgnorePar\fi \EndP \HCode{</div>}} {}{}
\ConfigureEnv{Theorem}
   {\ifvmode\IgnorePar\fi \EndP
    \HCode{<div class="Theorem">}}
   {\ifvmode\IgnorePar\fi \EndP \HCode{</div>}} {}{}
\ConfigureEnv{anmerkung}
   {\ifvmode\IgnorePar\fi \EndP
    \HCode{<div class="anmerkung">}}
   {\ifvmode\IgnorePar\fi \EndP \HCode{</div>}} {}{}
\ConfigureEnv{beispiel}
   {\ifvmode\IgnorePar\fi \EndP
    \HCode{<div class="beispiel">}}
   {\ifvmode\IgnorePar\fi \EndP \HCode{</div>}} {}{}
\ConfigureEnv{bemerkung}
   {\ifvmode\IgnorePar\fi \EndP
    \HCode{<div class="bemerkung">}}
   {\ifvmode\IgnorePar\fi \EndP \HCode{</div>}} {}{}
\ConfigureEnv{beweis}
   {\ifvmode\IgnorePar\fi \EndP
    \HCode{<div class="beweis">}}
   {\ifvmode\IgnorePar\fi \EndP \HCode{</div>}} {}{}
\ConfigureEnv{corollary}
   {\ifvmode\IgnorePar\fi \EndP
    \HCode{<div class="corollary">}}
   {\ifvmode\IgnorePar\fi \EndP \HCode{</div>}} {}{}
\ConfigureEnv{definition}
   {\ifvmode\IgnorePar\fi \EndP
    \HCode{<div class="definition">}}
   {\ifvmode\IgnorePar\fi \EndP \HCode{</div>}} {}{}
\ConfigureEnv{example}
   {\ifvmode\IgnorePar\fi \EndP
    \HCode{<div class="example">}}
   {\ifvmode\IgnorePar\fi \EndP \HCode{</div>}} {}{}
\ConfigureEnv{korollar}
   {\ifvmode\IgnorePar\fi \EndP
    \HCode{<div class="korollar">}}
   {\ifvmode\IgnorePar\fi \EndP \HCode{</div>}} {}{}
\ConfigureEnv{lemma}
   {\ifvmode\IgnorePar\fi \EndP
    \HCode{<div class="lemma">}}
   {\ifvmode\IgnorePar\fi \EndP \HCode{</div>}} {}{}
\ConfigureEnv{proof}
   {\ifvmode\IgnorePar\fi \EndP
    \HCode{<div class="proof">}}
   {\ifvmode\IgnorePar\fi \EndP \HCode{</div>}} {}{}
\ConfigureEnv{proposition}
   {\ifvmode\IgnorePar\fi \EndP
    \HCode{<div class="proposition">}}
   {\ifvmode\IgnorePar\fi \EndP \HCode{</div>}} {}{}
\ConfigureEnv{remark}
   {\ifvmode\IgnorePar\fi \EndP
    \HCode{<div class="remark">}}
   {\ifvmode\IgnorePar\fi \EndP \HCode{</div>}} {}{}
\ConfigureEnv{satz}
   {\ifvmode\IgnorePar\fi \EndP
    \HCode{<div class="satz">}}
   {\ifvmode\IgnorePar\fi \EndP \HCode{</div>}} {}{}
\ConfigureEnv{theorem}
   {\ifvmode\IgnorePar\fi \EndP
    \HCode{<div class="theorem">}}
   {\ifvmode\IgnorePar\fi \EndP \HCode{</div>}} {}{}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{bussproofs}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{DisplayProof}{\Picture*{}}{\EndPicture}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{proof}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{infer}{\Picture*{}}{\EndPicture}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{t2benc}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \def\:temp{charset=koi8-r}\ifx \A:charset\:temp \else
   \def\A:charset{charset=iso-8859-5}
\fi

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{memoir}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{poemline}
   {\HCode{<span class="poemline">}} {\HCode{</span>}}
\Css{.poemline {text-align:right; width:6em;}}

\Configure{legend}{\ifvmode\IgnorePar\fi\EndP\HCode{<div class="legend">}}{\HCode{</div>}}

\Configure{book}
{\ifvmode\IgnorePar\fi\EndP\HCode{<h2 class="bookHead"><span class="booknumber">}%
\bookname\refstepcounter{book}\space\thebook\HtmlParOff\HCode{</span><span class="booktitle">}}
{\HCode{</span></h2>}\HtmlParOn}{}{}
\Css{.booknumber{display:block;}}
\Configure{toToc}{book}{part}

\ConfigureEnv{abstract}
   {\IgnorePar\EndP
    \HCode{<div\Hnewline class="abstract"\Hnewline>}\par\ShowPar}
   {\ifvmode \IgnorePar\fi \EndP\HCode{</div>}\par}{}{}


\Configure{abstracttitle}{\ifvmode\IgnorePar\fi\EndP\HCode{<h3 class="abstracttitle">}\HtmlParOff}
   {\HCode{</h3>}\HtmlParOn}

\Css{div.abstract p {margin-left:5\%; margin-right:5\%;}}
\Css{div.abstract {width:100\%;}}
\Css{.abstracttitle{text-align:center;margin-bottom:1em;}}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{verse}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{poemtitle}
   {\par\IgnorePar\EndP
       \HCode{<div class="poemtitle"><span class="poemtitlemark">}}
   {\HCode{</span>}}
   {\ifvmode \IgnorePar\fi \EndP \HCode{</div>}\par}
\Configure{likepoemtitle}
   {\par\IgnorePar\EndP  \HCode{<div class="likepoemtitle">}}
   {\ifvmode \IgnorePar\fi \EndP \HCode{</div>}\par}
\Css{.poemtitle, likepoemtitle {margin-left:2em; margin-bottom:0.5em;}}
\ConfigureEnv{verse}
   {\ifvmode \IgnorePar\fi\EndP
    \HCode{<div class="verse">}%
    \bgroup
       \Configure{hspace}
          {\HCode{<span style="margin-right:\the\tmp:dim">}\:nbsp}
          {\HCode{</span>}} {}
       \let\end:verseln\empty
   }
   {\egroup \ifvmode \IgnorePar\fi \EndP \HCode{</div>}\par\ShowPar}
   {}{}

\ConfigureList{verse}
   {} {\ifvmode \IgnorePar\fi \EndP \end:verseln}
   {\parindent=\z@}  {}

\Configure{verseline}
   {\ifvmode \IgnorePar\fi \EndP \end:verseln
    \HCode{<div class="verseline">}\def\end:verseln{\HCode{</div>}}}
   {\ifvmode \IgnorePar\fi \EndP \end:verseln
    \HCode{<div class="skip-verseline">}%
    \def\end:verseln{\HCode{</div>}}}

\Configure{flagverse}
   {\HCode{<span class="flagverse">}\bgroup \setlength{\vleftskip}{0em}}
   {\egroup \HCode{</span>}\ignorespaces}

\Css{.skip-verseline {margin-top: 1em;}}
\Css{.skip-verseline, .verseline {white-space: nowrap;}}
\Css{.flagverse {float:right; font-size:85\%;
                   text-decoration:underline;}}
\Css{.verse p{margin-bottom:0;}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%





%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{arabicore}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{LRdir}{ dir="\if@rl rtl\else ltr\fi"
 }
\Configure{Rregion} {\beginL} {\endL}
\Configure{TITLE+}{\HCode{\jobname}}

\NewConfigure{dtd-lang}{1}
\Configure{dtd-lang}{AR}
\def\A:charset{charset=utf-8}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%





%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{rlbabel}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{LRdir}{ dir="\if@rl rtl\else ltr\fi"
 }
\Configure{Rregion} {\beginL} {\endL}
\Configure{TITLE+}{\HCode{\jobname}}

\Configure{!P}{\a:LRdir}
\Configure{!BODY}{\a:LRdir}
\Configure{moreL}
  {\ifvmode \let\end:moreRL=\empty
   \else\HCode{<span dir="ltr" >}\def\end:moreRL{\HCode{</span>}}\fi}
  {\end:moreRL}
\Configure{moreR}
  {\ifvmode \let\end:moreRL=\empty
   \else\HCode{<span dir="rtl" >}\def\end:moreRL{\HCode{</span>}}\fi}
  {\end:moreRL}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{hebtex}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \def\A:charset{charset=iso-8859-8}
\Configure{arabtext}
   {\ifhmode \let\end:arabtex=\empty \IgnorePar
    \else
         \HCode{<div style="text-align:right"><table class="arabtex"><tr><td\Hnewline
              style="white-space:nowrap; text-align:right">}%
         \def\end:arabtex{\HCode{</td></tr></table></div>}}%
    \fi
    \global\let\start:arab=\relax}
   {\end:arabtex}
   {\ifx \start:arab\relax \global\let\start:arab=\empty
    \else \expandafter\Tg<br />\fi}
   {}
\:CheckOption{nikud}     \if:Option
   \Configure{chireq}{\char5 }
   \Configure{cholem}{\char3 }
   \Configure{chpatach}{\char1\char7 }
   \Configure{chqames}{\char2\char7 }
   \Configure{chsegol}{\char3\char7 }
   \Configure{dagesh}{\char46 }
   \Configure{meteg}{\char44 }
   \Configure{patachf}{\char1 }
   \Configure{patach}{\char1 }
   \Configure{qameschat}{\char6\char7 }
   \Configure{qames}{\char6 }
   \Configure{qibbus}{\HCode{<!--qibbus-->}}
   \Configure{rdot}{\HCode{<!--rdot-->}}
   \Configure{segol}{\char3 }
   \Configure{sere}{\char9 }
   \Configure{shindot}{\HCode{<!--shindot-->}}
   \Configure{shwa}{\char7 }
   \Configure{sindot}{\HCode{<!--sindot-->}}
\else
   \Log:Note{for hebrew vowels, use
        the command line option `nikud'}
   \Configure{chireq}{\HCode{<!--chireq-->}}
   \Configure{cholem}{\HCode{<!--cholem-->}}
   \Configure{chpatach}{\HCode{<!--chpatach-->}}
   \Configure{chqames}{\HCode{<!--chqames-->}}
   \Configure{chsegol}{\HCode{<!--chsegol-->}}
   \Configure{dagesh}{\HCode{<!--dagesh-->}}
   \Configure{meteg}{\HCode{<!--meteg-->}}
   \Configure{patachf}{\HCode{<!--patachf-->}}
   \Configure{patach}{\HCode{<!--patach-->}}
   \Configure{qameschat}{\HCode{<!--qameschat-->}}
   \Configure{qames}{\HCode{<!--qames-->}}
   \Configure{qibbus}{\HCode{<!--qibbus-->}}
   \Configure{rdot}{\HCode{<!--rdot-->}}
   \Configure{segol}{\HCode{<!--segol-->}}
   \Configure{sere}{\HCode{<!--sere-->}}
   \Configure{shindot}{\HCode{<!--shindot-->}}
   \Configure{shwa}{\HCode{<!--shwa-->}}
   \Configure{sindot}{\HCode{<!--sindot-->}}
\fi

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{abidir}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \:CheckOption{pic-RL}\if:Option
   \Configure{RL}
      {\ifvmode \IgnorePar\EndP \def\RL:tag{div}\else \def\RL:tag{span}\fi
       \HCode{<\RL:tag\space class="pic-RL">}\Picture*{}}
      {\EndPicture\HCode{</\RL:tag>}}
      {}  {} {} {}
   \Css{div.pic-RL{text-align:right;}}
\else
   \Log:Note{for pictorial RL, use
             the command line option `pic-RL'}
   \Configure{RL}
      {\HCode{<span class="RL">}} {\HCode{</span>}}
      {}  {\HCode{<br />}} {} {}

\fi

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%




%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{koi8-r}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \def\A:charset{charset=koi8-r}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{frenchb}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \ifx\A:charset\empty
\def\A:charset{charset=iso-8859-1}
\fi
\Configure{@TITLE}{\Configure{frenchb-thinspace}{}{}}
\Configure{system-nbsp}
   {\ht:special{t4ht@[unhskip}}
   {\ht:special{t4ht@]unhskip}}
\ifx \tmp:bx\:UnDef \csname newbox\endcsname \tmp:bx \fi
\Configure{frenchb-nbsp}
   {\ht:special{t4ht@?unhskip}\HCode{<span class="frenchb-nbsp">}%
    \:nbsp\setbox\tmp:bx=\hbox\bgroup}
   {\egroup \HCode{</span>}}
\Css{.frenchb-nbsp{font-size:75\%;}}
\Configure{frenchb-thinspace}
   {\ht:special{t4ht@?unhskip}\HCode{<span class="frenchb-thinspace">}%
    \:nbsp\setbox\tmp:bx=\hbox\bgroup}
   {\egroup \HCode{</span>}}
\Css{.frenchb-thinspace{font-size:75\%;}}
\NewConfigure{frenchup}{2}
\Configure{frenchup}{\HCode{<sup class="french">}}{\HCode{</sup>}}
\Css{sup.french{
vertical-align:super;
font-size:70\%;
}}
\renewcommand\fup[1]{\a:frenchup#1\b:frenchup}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{powerdot}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \HAssign\PauseId = 0
\HAssign\pauseId = 0

\Configure{@HEAD}
   {\HCode{\Hnewline<!--
       http://www.w3.org/Talks/Tools/Slidy/slidy.js -->\Hnewline
    <script src="Slidy/slidy.js"
            type="text/javascript"><![CDATA[ \Hnewline
    ]]></script>\Hnewline}}
\Log:Note{Requires the slidy.js and *.css files from
          http://www.w3.org/Talks/Tools/Slidy/slidy.zip
          in subdirectory Slidy}
\def\:temp#1font=#2,#3!*?: {%
   \if !#2!%
     \Log:Note{for adjusted font size, use
          the command line option `font=...' (e.g., font=-2)}
   \else
     \Configure{@HEAD}
          {\HCode{<meta name="font-size-adjustment"
                        content="#2" />}\Hnewline}
   \fi}
\expandafter\:temp\Preamble ,font=,!*?: 
\Configure{maketitle}
   {\ifvmode \IgnorePar\fi \EndP {\Configure{maketitle}{}{}{}{}%
\a:NoSection \let\leavevmode\empty \let\not@math@alphabet\:gobbleII
\def\text@command##1{##1}\let\selectfont\empty
\def\check@icl ##1\check@icr{}%
\let\thanks\:gobble
\def\TeX{TeX}%
\def\mbox{\hbox}%
\def\gobble:font##1##2{##2}\:TITLE: \no:fonts
\def\footnotemark[##1]{}%
\Tag{TITLE+}{\@title}}
%
    \HCode{<div class="slide cover"><div class="maketitle">}}
   {\ifvmode \IgnorePar\fi \EndP \HCode{</div></div>}}
   {\NoFonts\IgnorePar\HCode{<h1 class="slideTitle"\a:LRdir>}\IgnorePar}
   {\HCode{</h1>}\IgnoreIndent\EndNoFonts}
\Css{div.slide.cover{width:100\%;}}
\ConfigureEnv{titleslide}{}{}{}{}
\ConfigureEnv{slide}
   {\ifvmode \IgnorePar\fi \EndP \HCode{<div class="slide">}}
   {\ifvmode \IgnorePar\fi \EndP \HCode{</div>}}
   {} {}
\ConfigureEnv{sectionslide}
   {\ifvmode \IgnorePar\fi \EndP \HCode{<div class="slide">}}
   {\ifvmode \IgnorePar\fi \EndP \HCode{</div>}}
   {} {}
\Configure{slidetitle}
   {\ifvmode \IgnorePar\fi \EndP
    \HCode{<h1  class="slideTitle">}\IgnorePar\bgroup
    \ConfigureEnv{minipage}{}{}{}{}}
   {\egroup\ifvmode \IgnorePar\fi \EndP \HCode{</h1>}\ShowPar\par}
\Css{div.toolbar {
  position: fixed; z-index: 200;
  top: auto; bottom: 0; left: 0; right: 0;
  height: 1.2em; text-align: right;
  padding-left: 1em;
  padding-right: 1em;
  font-size: 60\%;
  color: \#FF0000; background: \#EEEEEE;
} }
\ConfigureList{itemize}%
  {\PushStack\Table:Stck\pauseId
\gHAdvance\PauseId by 1
\global\let\pauseId=\PauseId
%
   \EndP\HCode{<ul \a:LRdir
          class="\ifTag{pi-\pauseId}{incremental }%
itemize\expandafter\the
         \csname @itemdepth\endcsname">}%
      \PushMacro\end:itm
\global\let\end:itm=\empty}
  {\PopMacro\end:itm \global\let\end:itm \end:itm
\ifvmode \IgnorePar\fi
    \EndP\HCode{</li></ul>}\ShowPar
   \expandafter\ifx\csname pi-\pauseId\endcsname\relax \else
  \expandafter\global\expandafter\let\csname
       pi-\pauseId\endcsname=\:UnDef
  \Tag{pi-\pauseId}{}%
\fi
\PopStack\Table:Stck\pauseId
\global\let\pauseId=\pauseId
}
  {\end:itm \global\def\end:itm{\EndP\Tg</li>}\DeleteMark}
  {\HCode{<li class="itemize">}}
   \ConfigureList{enumerate}%
      {\PushStack\Table:Stck\pauseId
\gHAdvance\PauseId by 1
\global\let\pauseId=\PauseId
\EndP\HCode{<ol \a:enumerate:\space
      class="\ifTag{pi-\pauseId}{incremental }%
enumerate\expandafter
                            \the\csname @enumdepth\endcsname"
      \a:LRdir
     >}\PushMacro\end:itm
\global\let\end:itm=\empty
}
      {\PopMacro\end:itm \global\let\end:itm \end:itm
%
\EndP\HCode{</li></ol>}\ShowPar
}
      {\end:itm \gdef\end:itm{\EndP\Tg</li>}\DeleteMark
}
      {{\Configure{Link}{li}{}{ class="enumerate" id=}{}%
 \let\EndLink=\empty \AnchorLabel }%
\expandafter\ifx\csname pi-\pauseId\endcsname\relax \else
  \expandafter\global\expandafter\let\csname
       pi-\pauseId\endcsname=\:UnDef
  \Tag{pi-\pauseId}{}%
\fi
\PopStack\Table:Stck\pauseId
\global\let\pauseId=\pauseId
}
\ConfigureList{description}%
   {\PushStack\Table:Stck\pauseId
\gHAdvance\PauseId by 1
\global\let\pauseId=\PauseId
\EndP\HCode{<dl \a:LRdir
         class="\ifTag{pi-\pauseId}{incremental }%
description">}%
      \PushMacro\end:itm
\global\let\end:itm=\empty}
   {\PopMacro\end:itm \global\let\end:itm \end:itm
\EndP\HCode{</dd></dl>}\ShowPar
    \expandafter\ifx\csname pi-\pauseId\endcsname\relax \else
  \expandafter\global\expandafter\let\csname
       pi-\pauseId\endcsname=\:UnDef
  \Tag{pi-\pauseId}{}%
\fi
\PopStack\Table:Stck\pauseId
\global\let\pauseId=\pauseId
}
   {\end:itm \global\def\end:itm{\EndP\Tg</dd>}\HCode{<dt
        class="description">}\bgroup \bf}
   {\egroup\EndP\HCode{</dt><dd\Hnewline class="description">}}
\def\pause{\hbox{\expandafter\global\expandafter\let\csname
       pi-\pauseId\endcsname=\def}}
\let\pd:item\pd@item
\def\pd@item[#1]<#2>{\pd:item[#1]<>\pause}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%





%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{mex}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \def\MeX{\HCode{<span class="MeX">}MeX\HCode{</span>}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{titlesec}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \ifx \ttl@assign@ii\:Undef
  \ConfigureMark{subsection}
   {\ifnum \c:secnumdepth>\c@secnumdepth  \expandafter\:gobble \else
    \csname thetitlesubsection\endcsname\fi}
\Configure{subsection}{}{}
   {\EndP\bgroup \IgnorePar\HCode{<h4 class="subsectionHead"\a:LRdir>}%
    \TitleMark\space}
   {\HCode{</h4>}\IgnoreIndent\egroup\par\ShowPar}
\Configure{likesubsection}{}{}
   {\EndP\bgroup \IgnorePar\HCode{<h4 class="likesubsectionHead"\a:LRdir>}}
   {\HCode{</h4>}\IgnoreIndent\egroup\par\ShowPar}
\ConfigureMark{subsubsection}
   {\ifnum \c:secnumdepth>\c@secnumdepth   \expandafter\:gobble \else
    \csname thetitlesubsubsection\endcsname\fi}
\Configure{subsubsection}{}{}
   {\EndP\bgroup \IgnorePar\HCode{<h5 class="subsubsectionHead"\a:LRdir>}%
    \TitleMark\space}
   {\HCode{</h5>}\IgnoreIndent\egroup \par\ShowPar}
\Configure{likesubsubsection}{}{}
   {\EndP\bgroup \IgnorePar\HCode{<h5 class="likesubsubsectionHead"\a:LRdir>}%
    \TitleMark\space}
   {\HCode{</h5>}\IgnoreIndent\egroup \par\ShowPar}
\ConfigureMark{section}
   {\ifnum \c:secnumdepth>\c@secnumdepth  \expandafter\:gobble
    \else  \csname thetitlesection\endcsname\fi}
\Configure{section}{}{}
   {\IgnorePar \EndP\IgnorePar\HCode{<h3 class="sectionHead"\a:LRdir>}
    \TitleMark\space}
   {\HCode{</h3>}\IgnoreIndent\par \ShowPar}
\Configure{likesection}{}{}
   {\IgnorePar \EndP\IgnorePar\HCode{<h3 class="likesectionHead"\a:LRdir>}}
   {\HCode{</h3>}\IgnoreIndent\par \ShowPar}

\fi

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{jeep}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \ConfigureEnv{outline}
   {}{\ShowPar
}{}{}
\ConfigureList{outline}%
   {\EndP\HCode{<ol type="1"
      class="enumerate\expandafter\the\csname @enumdepth\endcsname"
      \a:LRdir
     >}\PushMacro\end:itm
\global\let\end:itm=\empty
}
   {\PopMacro\end:itm \global\let\end:itm \end:itm
%
\EndP\HCode{</li></ol>}\ShowPar
}
   {\end:itm \gdef\end:itm{\EndP\Tg</li>}\DeleteMark
}
   {\HCode{<li class="enumerate" value="\expandafter\the\csname
   c@enum\romannumeral\the\@enumdepth\endcsname"\Hnewline>}\AnchorLabel
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{path}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{path}
  {\HCode{<span class="path">}\bgroup
   \Configure{obeylines}{}{}{}%
  }
  {\egroup\HCode{</span>}}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%






%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{mdwtab}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{smarray}
   {\ifvmode \IgnorePar\fi \EndP\halignTB{smarray}\putVBorder}
   {\HCode{</table>}}
   {\R:HA}
   {\r:HA}
   {\D:HA\HCode{<div class="td}\NoFonts
           \bgroup
              \ifx \ttfamily\:UnDef \else \ttfamily\fi
              \ColMargins
           \egroup
\EndNoFonts
%
         \HCode{">}\par  \ShowPar
\pic:env}
   {\IgnorePar \EndP
\HCode{</div>}\d:HA}
\Configure{halignTB<>}
   {smarray}
   {\HCode{id="TBL-\TableNo" class="smarray"\Hnewline
           \GROUPS\Hnewline
          }<>\HAlign
   }
\Configure{tabular*}
   {\a:tabular}
   {\b:tabular}
   {\c:tabular}
   {\d:tabular}
   {\e:tabular}
   {\f:tabular}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{multirow}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{multirow}
    {\HCode{<div class="multirow"><!-- rows=\the\@tempcnta\space -->}}
    {\HCode{</div>}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{wrapfig}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{wrapfloat}
    {\ifvmode\IgnorePar\EndP
       \HCode{<div class="wrapfig-\WFplace">}%
       \def\endWrap{\ifvmode\IgnorePar\fi\EndP\HCode{</div>}\par}%
     \else
       \HCode{<span class="wrapfig-\WFplace">}\bgroup
       \Configure{caption}
   {\HCode{<br /><span class="caption"><span class="id">}}
   {\HCode{</span>}: }{}{\HCode{</span><br />}}%
%
       \def\endWrap{\egroup\HCode{</span>}}%
     \fi
    }
    {\endWrap}
\Css{.caption span.id{font-weight: bold;}}
\Css{
  .wrapfig-r,
  .wrapfig-ri,
  .wrapfig-ir,
  .wrapfig-ro,
  .wrapfig-or
  {float:right; text-align:left;
            margin-left:auto; margin-top:0.5em;}
}
\Css{
  .wrapfig-l,
  .wrapfig-li,
  .wrapfig-il,
  .wrapfig-lo,
  .wrapfig-ol
  {float:left; text-align:left;
            margin-right:auto; margin-top:0.5em;}
}
\Css{.wrapfig-r .caption td.content,
     .wrapfig-ri .caption td.content,
     .wrapfig-ir .caption td.content,
     .wrapfig-ro .caption td.content,
     .wrapfig-or .caption td.content,
     .wrapfig-l  .caption td.content,
     .wrapfig-li  .caption td.content,
     .wrapfig-il  .caption td.content,
     .wrapfig-lo  .caption td.content,
     .wrapfig-ol .caption td.content
     {white-space: normal; }}
\Css{.wrapfig-r .caption,
     .wrapfig-ri .caption,
     .wrapfig-ir .caption,
     .wrapfig-ro .caption,
     .wrapfig-or .caption,
     .wrapfig-l .caption,
     .wrapfig-li .caption,
     .wrapfig-il .caption,
     .wrapfig-lo .caption,
     .wrapfig-ol .caption
     {width:30\%; }}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{subscript}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{textsubscript}
  {\HCode{<sub class="textsubscript">}\bgroup\small}
  {\egroup \HCode{</sub>}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{subfigure}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{subfigure}
   {\ifvmode \IgnorePar \fi \EndP
     \HCode{<div class="subfigure"><table><tr><td style="text-align:left">}}
   {\ifvmode \IgnorePar \fi \EndP  \HCode{</td></tr></table></div>}}
\Configure{subfigurecaption}
   {\ifvmode \IgnorePar\fi \EndP \HCode{<div class="subfigcaption">}}
   {}{}
   {\ifvmode \IgnorePar\fi \EndP \HCode{</div>}}
\Css{.subfigcaption {margin-top:1em;
   margin-left:1em;  text-align:center;}}
\Css{div.subfigure {text-align:center;display:inline-block;}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{subcaption}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{subfigure}
{\ifvmode\IgnorePar\fi\EndP%
\HCode{<div class="subfigure">}\par\ShowPar%
\Configure{caption}{\ifvmode\IgnorePar\fi\EndP\HCode{<div class="caption" ><span class="id">}}%
   {:} {\HCode{</span><span \Hnewline class="content">}}%
   {\HCode{</span></div>}}%
}%
{\ifvmode\IgnorePar\fi\EndP\HCode{</div>}}%
\Css{div.subfigure {text-align:center;display:inline-block; max-width:45\%;}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%





%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{emulateapj}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \ConfigureMark{subsection}
   {\ifnum \c:secnumdepth>\c@secnumdepth  \expandafter\:gobble
    \else
       \HCode{<span class="titlemark">}\@seccntformat{section}%
       \thesubsection\HCode{</span>}\fi}
\Configure{subsection}{}{}
   {\EndP\bgroup \IgnorePar\HCode{<h4 class="subsectionHead"\a:LRdir>}%
    \TitleMark{. \space}}
   {\HCode{</h4>}\IgnoreIndent\egroup}
\Configure{slugcomment}
   {\HCode{<div class="slugcomment">}}
   {\HCode{</div>}}
\Css{.slugcomment{text-align:center;font-size:85\%;
                  font-style: italic;}}
\Configure{subtitle}{\HCode{<div class="subtitle">}}{\HCode{</div>}}
\Configure{submitted}{}{\expandafter\Tg<br />}
\Configure{title}{\HCode{<h1 class="title">}}{\HCode{</h1>}}
\Css{.title{text-align:center;}}
\Configure{author}
   {\IgnorePar\EndP\HCode{<div class="author">}}{\HCode{</div>}}
\Css{div.author{text-align:center;}}
\Configure{affil}{\HCode{<div class="affil"><div>}}{\HCode{</div></div>}}
\Css{.affil{text-align:center;}}
\Css{.affil div{text-align:left;
   margin-right:15pt;margin-left:15pt;}}
\Configure{keywords}
   {\IgnorePar\EndP\HCode{<div class="keywords"><div>}}
   {\HCode{</div></div>}}
\Css{.keywords{text-align:center;}}
\Css{.keywords div{text-align:left; margin-right:15pt;margin-left:30pt;
   text-indent:-15pt;}}
\Configure{subjectheadings}
   {\HCode{<div class="subjectheadings"><div>}}{\HCode{</div></div>}}
\Css{.subjectheadings{text-align:center;}}
\Css{.subjectheadings div{text-align:left;
   margin-right:15pt;margin-left:15pt;}}

\Css{.abstract {margin-right:15pt;margin-left:15pt;}}
\ConfigureMark{section}
   {\ifnum \c:secnumdepth>\c@secnumdepth  \expandafter\:gobble
    \else
       \HCode{<span class="titlemark">}\@seccntformat{section}%
       \thesection\HCode{</span>}\fi}
\Configure{section}{}{}
   {\IgnorePar \EndP\IgnorePar\HCode{<h3 class="sectionHead"\a:LRdir>}
    \TitleMark{. \space}}
   {\HCode{</h3>}\IgnoreIndent \ShowPar \par}
\ConfigureEnv{references}
  {\IgnorePar\EndP\Tg<div class="references">}
  {\IgnorePar\EndP\Tg</div>} {}{}
\Css{.references p { margin: 0.35em; text-indent:-2em;margin-left:2em;}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{picins}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{parpic}
   {\IgnorePar\EndP\HCode{<div class="picins-\parpicOpt">}}
   {\ifvmode \IgnorePar\fi \EndP \HCode{</div>}}
\Css{.picins-dr, .picins-rd { float:right;
  padding: 2px; margin-left:5px; margin-bottom:3px;
  border: 1px dashed black;
  }}
\Css{.picins-dl, .picins-ld, .picins-d { float:left;
  padding: 2px; margin-right:5px; margin-bottom:3px;
  border: 1px dashed black;
  }}
\Css{.picins-fr, .picins-rf { float:right;
  padding: 2px; margin-left:5px; margin-bottom:3px;
  border: 1px dashed black;
  }}
\Css{.picins-fl, .picins-lf, .picins-f { float:left;
  padding: 2px; margin-right:5px; margin-bottom:3px;
  border: 1px solid black;
  }}
\Css{.picins-sr, .picins-rs { float:right;
  padding: 2px; margin-left:5px; margin-bottom:3px;
  border-left: 1px solid black;
  border-top: 1px solid black;
  border-right: 4px solid black;
  border-bottom: 4px solid black;
  }}
\Css{.picins-sl, .picins-ls, .picins-s { float:left;
  padding: 2px; margin-right:5px; margin-bottom:3px;
  border-left: 1px solid black;
  border-top: 1px solid black;
  border-right: 4px solid black;
  border-bottom: 4px solid black;
  }}
\Css{.picins-xr, .picins-rx { float:right;
  padding: 2px; margin-left:5px; margin-bottom:3px;
  border-left: 1px solid black;
  border-top: 1px solid black;
  border-right: 1px solid black;
  border-bottom: 1px solid black;
  }}
\Css{.picins-xl, .picins-lx, .picins-x { float:left;
  padding: 2px; margin-right:5px; margin-bottom:3px;
  border-left: 1px solid black;
  border-top: 1px solid black;
  border-right: 1px solid black;
  border-bottom: 1px solid black;
  }}
\Css{.picins-r { float:right;
  padding: 2px; margin-left:5px; margin-bottom:3px;
  }}
\Css{.picins-l, .picins- { float:left;
  padding: 2px; margin-right:5px; margin-bottom:3px;
  }}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{nomencl}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \ConfigureList{thenomenclature}%
   {\EndP\HCode{<dl \a:LRdir class="thenomenclature">}%
      \PushMacro\end:itm
      \global\let\end:itm=\empty}
   {\PopMacro\end:itm \global\let\end:itm \end:itm
      \EndP\HCode{</dd></dl>}\ShowPar}
   {\end:itm \global\def\end:itm{\EndP\Tg</dd>}\HCode{<dt
        class="thenomenclature">}\bgroup \bf}
   {\egroup\EndP\HCode{</dt><dd\Hnewline class="thenomenclature">}}
\Css{dt.thenomenclature{float:left; clear:left;}}
\:CheckOption{2} \if:Option \else
   \:CheckOption{3} \if:Option \else
      \:CheckOption{4} \if:Option \else
         \:CheckOption{5} \if:Option \else
            \:CheckOption{6} \if:Option \else
               \:CheckOption{7}
            \fi
         \fi
      \fi
   \fi
\fi
\if:Option
   \pend:def\thenomenclature{%
      \if@intoc
         \expandafter\let\csname if:intoc\expandafter\endcsname\csname if@intoc\endcsname
\expandafter\edef\csname if@intoc\endcsname{%
        \expandafter\noexpand\csname iftrue\endcsname
           \let\expandafter\noexpand \csname if@intoc\endcsname
               \expandafter\noexpand \csname if:intoc\endcsname
        \expandafter\noexpand\csname else\endcsname}%
%
      \fi
      \def\:temp{thenomenclature}\ifx\:temp\@currenvir
  \RecallEverypar
\fi
%
   }
\fi

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{ot4enc}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \def\add:acc#1{\ht:special{t4ht@+\string&\#x#1;}x}
\Configure{add accent}{OT4:18} %\`
  {A}{\add:acc{00C0}}
  {E}{\add:acc{00C8}}
  {I}{\add:acc{00CC}}
  {N}{\add:acc{01F8}}
  {O}{\add:acc{00D2}}
  {U}{\add:acc{00D9}}
  {W}{\add:acc{1E80}}
  {Y}{\add:acc{1EF2}}
  {a}{\add:acc{00E0}}
  {e}{\add:acc{00E8}}
  {i}{\add:acc{00EC}}
  {n}{\add:acc{01F9}}
  {o}{\add:acc{00F2}}
  {u}{\add:acc{00F9}}
  {w}{\add:acc{1E81}}
  {y}{\add:acc{1EF3}}
  {\i}{\add:acc{00EC}}
  {}{}
\Configure{add accent}{OT4:127} %\"
       {H}{\add:acc{1E26}}
     {h}{\add:acc{1E27}}
     {W}{\add:acc{1E84}}
     {w}{\add:acc{1E85}}
     {X}{\add:acc{1E8C}}
     {x}{\add:acc{1E8D}}
     {t}{\add:acc{1E97}}
     {A}{\add:acc{00C4}}
     {E}{\add:acc{00CB}}
     {I}{\add:acc{00CF}}
     {O}{\add:acc{00D6}}
     {U}{\add:acc{00DC}}
     {a}{\add:acc{00E4}}
     {e}{\add:acc{00EB}}
     {i}{\add:acc{00EF}}
     {o}{\add:acc{00F6}}
     {u}{\add:acc{00FC}}
     {y}{\add:acc{00FF}}
     {Y}{\add:acc{0178}}
     {\i}{\add:acc{00EF}}
     {m}{m\add:acc{0308}}
  {}{}
\Configure{add accent}{OT4:19} %\'
     {A}{\add:acc{00C1}}
     {C}{\add:acc{0106}}
     {D}{\add:acc{010E}}
     {E}{\add:acc{00C9}}
     {G}{\add:acc{01F4}}
     {I}{\add:acc{00CD}}
     {L}{\add:acc{0139}}
     {N}{\add:acc{0143}}
     {O}{\add:acc{00D3}}
     {R}{\add:acc{0154}}
     {S}{\add:acc{015A}}
     {U}{\add:acc{00DA}}
     {Y}{\add:acc{00DD}}
     {Z}{\add:acc{0179}}
     {a}{\add:acc{00E1}}
     {c}{\add:acc{0107}}
     {d}{\add:acc{010F}}
     {e}{\add:acc{00E9}}
     {g}{\add:acc{01F5}}
     {i}{\add:acc{00ED}}
     {l}{\add:acc{013A}}
     {n}{\add:acc{0144}}
     {o}{\add:acc{00F3}}
     {r}{\add:acc{0155}}
     {s}{\add:acc{015B}}
     {u}{\add:acc{00FA}}
     {y}{\add:acc{00FD}}
     {z}{\add:acc{017A}}
     {j}{\add:acc{FFFD}}
     {J}{\add:acc{FFDD}}
     {\i}{\add:acc{00ED}}
     {\j}{\add:acc{FFFD}}
  {}{}
\Configure{add accent}{OT4:95} %\.
       {C}{\add:acc{010A}}
     {c}{\add:acc{010B}}
     {E}{\add:acc{0116}}
     {e}{\add:acc{0117}}
     {G}{\add:acc{0120}}
     {g}{\add:acc{0121}}
     {I}{\add:acc{0130}}
     {Z}{\add:acc{017B}}
     {z}{\add:acc{017C}}
     {A}{\add:acc{0226}}
     {a}{\add:acc{0227}}
     {O}{\add:acc{022E}}
     {o}{\add:acc{022F}}
     {B}{\add:acc{1E02}}
     {b}{\add:acc{1E03}}
     {D}{\add:acc{1E0A}}
     {d}{\add:acc{1E0B}}
     {F}{\add:acc{1E1E}}
     {f}{\add:acc{1E1F}}
     {H}{\add:acc{1E22}}
     {h}{\add:acc{1E23}}
     {M}{\add:acc{1E40}}
     {m}{\add:acc{1E41}}
     {N}{\add:acc{1E44}}
     {n}{\add:acc{1E45}}
     {P}{\add:acc{1E56}}
     {p}{\add:acc{1E57}}
     {R}{\add:acc{1E58}}
     {r}{\add:acc{1E59}}
     {S}{\add:acc{1E60}}
     {s}{\add:acc{1E61}}
     {T}{\add:acc{1E6A}}
     {t}{\add:acc{1E6B}}
     {W}{\add:acc{1E86}}
     {w}{\add:acc{1E87}}
     {X}{\add:acc{1E8A}}
     {x}{\add:acc{1E8B}}
     {Y}{\add:acc{1E8E}}
     {y}{\add:acc{1E8F}}
  {}{}
\Configure{add accent}{OT4:22} %\=
     {}{}
\Configure{add accent}{OT4:94} %\^
     {A}{\add:acc{00C2}}
     {E}{\add:acc{00CA}}
     {I}{\add:acc{00CE}}
     {O}{\add:acc{00D4}}
     {U}{\add:acc{00DB}}
     {a}{\add:acc{00E2}}
     {e}{\add:acc{00EA}}
     {i}{\add:acc{00EE}}
     {o}{\add:acc{00F4}}
     {u}{\add:acc{00FB}}
     {C}{\add:acc{0108}}
     {c}{\add:acc{0109}}
     {G}{\add:acc{011C}}
     {g}{\add:acc{011D}}
     {H}{\add:acc{0124}}
     {h}{\add:acc{0125}}
     {J}{\add:acc{0134}}
     {j}{\add:acc{0135}}
     {S}{\add:acc{015C}}
     {s}{\add:acc{015D}}
     {W}{\add:acc{0174}}
     {w}{\add:acc{0175}}
     {Y}{\add:acc{0176}}
     {y}{\add:acc{0177}}
     {Z}{\add:acc{1E90}}
     {z}{\add:acc{1E91}}
     {\i}{\add:acc{00EE}}
     {\j}{\add:acc{0135}}
  {}{}
\Configure{add accent}{OT4:126} %\~
       {A}{\add:acc{00C3}}
     {N}{\add:acc{00D1}}
     {O}{\add:acc{00D5}}
     {a}{\add:acc{00E3}}
     {n}{\add:acc{00F1}}
     {o}{\add:acc{00F5}}
     {I}{\add:acc{0128}}
     {i}{\add:acc{0129}}
     {U}{\add:acc{0168}}
     {u}{\add:acc{0169}}
     {V}{\add:acc{1E7C}}
     {v}{\add:acc{1E7D}}
     {E}{\add:acc{1EBC}}
     {e}{\add:acc{1EBD}}
     {Y}{\add:acc{1EF8}}
     {y}{\add:acc{1EF9}}
     {\i}{\add:acc{0129}}
  {}{}
\Configure{add accent}{OT4:125} %\H
     {o}{\add:acc{0151}}
     {O}{\add:acc{0150}}
     {U}{\add:acc{0170}}
     {u}{\add:acc{0171}}
  {}{}
\Configure{add accent}{OT4:21} %\u
     {g}{\add:acc{011F}}
     {I}{\add:acc{012C}}
     {i}{\add:acc{012D}}
     {O}{\add:acc{014E}}
     {o}{\add:acc{014F}}
     {U}{\add:acc{016C}}
     {u}{\add:acc{016D}}
     {A}{\add:acc{0102}}
     {a}{\add:acc{0103}}
     {E}{\add:acc{0114}}
     {e}{\add:acc{0115}}
     {G}{\add:acc{011E}}
     {\i}{\add:acc{012D}}
     {y}{y\add:acc{0306}}
  {}{}
\Configure{add accent}{OT4:20} %\v
     {C}{\add:acc{010C}}
     {c}{\add:acc{010D}}
     {D}{\add:acc{010E}}
     {d}{\add:acc{010F}}
     {E}{\add:acc{011A}}
     {e}{\add:acc{011B}}
     {L}{\add:acc{013D}}
     {l}{\add:acc{013E}}
     {N}{\add:acc{0147}}
     {n}{\add:acc{0148}}
     {R}{\add:acc{0158}}
     {r}{\add:acc{0159}}
     {S}{\add:acc{0160}}
     {s}{\add:acc{0161}}
     {T}{\add:acc{0164}}
     {t}{\add:acc{0165}}
     {Z}{\add:acc{017D}}
     {z}{\add:acc{017E}}
     {A}{\add:acc{01CD}}
     {a}{\add:acc{01CE}}
     {I}{\add:acc{01CF}}
     {i}{\add:acc{01D0}}
     {O}{\add:acc{01D1}}
     {o}{\add:acc{01D2}}
     {U}{\add:acc{01D3}}
     {u}{\add:acc{01D4}}
     {G}{\add:acc{01E6}}
     {g}{\add:acc{01E7}}
     {K}{\add:acc{01E8}}
     {k}{\add:acc{01E9}}
     {j}{\add:acc{01F0}}
     {H}{\add:acc{021E}}
     {h}{\add:acc{021F}}
     {\i}{\add:acc{01D0}}
     {\j}{\add:acc{01F0}}
  {}{}
\Configure{add accent}{OT4:23} %\r
     {A}{\add:acc{00C5}}
     {a}{\add:acc{00E5}}
     {U}{\add:acc{016E}}
     {u}{\add:acc{016F}}
   {}{}
\Configure{add accent}{OT4:24} %\c
       {K}{\add:acc{0136}}
     {k}{\add:acc{0137}}
     {L}{\add:acc{013B}}
     {l}{\add:acc{013C}}
     {N}{\add:acc{0145}}
     {n}{\add:acc{0146}}
     {R}{\add:acc{0156}}
     {r}{\add:acc{0157}}
     {S}{\add:acc{015E}}
     {s}{\add:acc{015F}}
     {T}{\add:acc{0162}}
     {t}{\add:acc{0163}}
     {E}{\add:acc{0228}}
     {e}{\add:acc{0229}}
     {D}{\add:acc{1E10}}
     {d}{\add:acc{1E11}}
     {H}{\add:acc{1E28}}
     {h}{\add:acc{1E29}}
     {C}{\add:acc{00C7}}
     {c}{\add:acc{00E7}}
     {G}{\add:acc{0122}}
     {g}{\add:acc{0123}}
  {}{}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{pd1enc}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \def\add:acc#1{\ht:special{t4ht@+\string&\#x#1;}x}
\Configure{add accent}{PD1:96} %\`
  {A}{\add:acc{00C0}}
  {E}{\add:acc{00C8}}
  {I}{\add:acc{00CC}}
  {N}{\add:acc{01F8}}
  {O}{\add:acc{00D2}}
  {U}{\add:acc{00D9}}
  {W}{\add:acc{1E80}}
  {Y}{\add:acc{1EF2}}
  {a}{\add:acc{00E0}}
  {e}{\add:acc{00E8}}
  {i}{\add:acc{00EC}}
  {n}{\add:acc{01F9}}
  {o}{\add:acc{00F2}}
  {u}{\add:acc{00F9}}
  {w}{\add:acc{1E81}}
  {y}{\add:acc{1EF3}}
  {\i}{\add:acc{00EC}}
  {}{}
\Configure{add accent}{PD1:168} %\"
       {H}{\add:acc{1E26}}
     {h}{\add:acc{1E27}}
     {W}{\add:acc{1E84}}
     {w}{\add:acc{1E85}}
     {X}{\add:acc{1E8C}}
     {x}{\add:acc{1E8D}}
     {t}{\add:acc{1E97}}
     {A}{\add:acc{00C4}}
     {E}{\add:acc{00CB}}
     {I}{\add:acc{00CF}}
     {O}{\add:acc{00D6}}
     {U}{\add:acc{00DC}}
     {a}{\add:acc{00E4}}
     {e}{\add:acc{00EB}}
     {i}{\add:acc{00EF}}
     {o}{\add:acc{00F6}}
     {u}{\add:acc{00FC}}
     {y}{\add:acc{00FF}}
     {Y}{\add:acc{0178}}
     {\i}{\add:acc{00EF}}
     {m}{m\add:acc{0308}}
  {}{}
\Configure{add accent}{PD1:180} %\'
     {A}{\add:acc{00C1}}
     {C}{\add:acc{0106}}
     {D}{\add:acc{010E}}
     {E}{\add:acc{00C9}}
     {G}{\add:acc{01F4}}
     {I}{\add:acc{00CD}}
     {L}{\add:acc{0139}}
     {N}{\add:acc{0143}}
     {O}{\add:acc{00D3}}
     {R}{\add:acc{0154}}
     {S}{\add:acc{015A}}
     {U}{\add:acc{00DA}}
     {Y}{\add:acc{00DD}}
     {Z}{\add:acc{0179}}
     {a}{\add:acc{00E1}}
     {c}{\add:acc{0107}}
     {d}{\add:acc{010F}}
     {e}{\add:acc{00E9}}
     {g}{\add:acc{01F5}}
     {i}{\add:acc{00ED}}
     {l}{\add:acc{013A}}
     {n}{\add:acc{0144}}
     {o}{\add:acc{00F3}}
     {r}{\add:acc{0155}}
     {s}{\add:acc{015B}}
     {u}{\add:acc{00FA}}
     {y}{\add:acc{00FD}}
     {z}{\add:acc{017A}}
     {j}{\add:acc{FFFD}}
     {J}{\add:acc{FFDD}}
     {\i}{\add:acc{00ED}}
     {\j}{\add:acc{FFFD}}
  {}{}
\Configure{add accent}{PD1:27} %\.
       {C}{\add:acc{010A}}
     {c}{\add:acc{010B}}
     {E}{\add:acc{0116}}
     {e}{\add:acc{0117}}
     {G}{\add:acc{0120}}
     {g}{\add:acc{0121}}
     {I}{\add:acc{0130}}
     {Z}{\add:acc{017B}}
     {z}{\add:acc{017C}}
     {A}{\add:acc{0226}}
     {a}{\add:acc{0227}}
     {O}{\add:acc{022E}}
     {o}{\add:acc{022F}}
     {B}{\add:acc{1E02}}
     {b}{\add:acc{1E03}}
     {D}{\add:acc{1E0A}}
     {d}{\add:acc{1E0B}}
     {F}{\add:acc{1E1E}}
     {f}{\add:acc{1E1F}}
     {H}{\add:acc{1E22}}
     {h}{\add:acc{1E23}}
     {M}{\add:acc{1E40}}
     {m}{\add:acc{1E41}}
     {N}{\add:acc{1E44}}
     {n}{\add:acc{1E45}}
     {P}{\add:acc{1E56}}
     {p}{\add:acc{1E57}}
     {R}{\add:acc{1E58}}
     {r}{\add:acc{1E59}}
     {S}{\add:acc{1E60}}
     {s}{\add:acc{1E61}}
     {T}{\add:acc{1E6A}}
     {t}{\add:acc{1E6B}}
     {W}{\add:acc{1E86}}
     {w}{\add:acc{1E87}}
     {X}{\add:acc{1E8A}}
     {x}{\add:acc{1E8B}}
     {Y}{\add:acc{1E8E}}
     {y}{\add:acc{1E8F}}
  {}{}
\Configure{add accent}{PD1:26} %\^
     {A}{\add:acc{00C2}}
     {E}{\add:acc{00CA}}
     {I}{\add:acc{00CE}}
     {O}{\add:acc{00D4}}
     {U}{\add:acc{00DB}}
     {a}{\add:acc{00E2}}
     {e}{\add:acc{00EA}}
     {i}{\add:acc{00EE}}
     {o}{\add:acc{00F4}}
     {u}{\add:acc{00FB}}
     {C}{\add:acc{0108}}
     {c}{\add:acc{0109}}
     {G}{\add:acc{011C}}
     {g}{\add:acc{011D}}
     {H}{\add:acc{0124}}
     {h}{\add:acc{0125}}
     {J}{\add:acc{0134}}
     {j}{\add:acc{0135}}
     {S}{\add:acc{015C}}
     {s}{\add:acc{015D}}
     {W}{\add:acc{0174}}
     {w}{\add:acc{0175}}
     {Y}{\add:acc{0176}}
     {y}{\add:acc{0177}}
     {Z}{\add:acc{1E90}}
     {z}{\add:acc{1E91}}
     {\i}{\add:acc{00EE}}
     {\j}{\add:acc{0135}}
  {}{}
\Configure{add accent}{PD1:31} %\~
       {A}{\add:acc{00C3}}
     {N}{\add:acc{00D1}}
     {O}{\add:acc{00D5}}
     {a}{\add:acc{00E3}}
     {n}{\add:acc{00F1}}
     {o}{\add:acc{00F5}}
     {I}{\add:acc{0128}}
     {i}{\add:acc{0129}}
     {U}{\add:acc{0168}}
     {u}{\add:acc{0169}}
     {V}{\add:acc{1E7C}}
     {v}{\add:acc{1E7D}}
     {E}{\add:acc{1EBC}}
     {e}{\add:acc{1EBD}}
     {Y}{\add:acc{1EF8}}
     {y}{\add:acc{1EF9}}
     {\i}{\add:acc{0129}}
  {}{}
\Configure{add accent}{PD1:24} %\u
     {g}{\add:acc{011F}}
     {I}{\add:acc{012C}}
     {i}{\add:acc{012D}}
     {O}{\add:acc{014E}}
     {o}{\add:acc{014F}}
     {U}{\add:acc{016C}}
     {u}{\add:acc{016D}}
     {A}{\add:acc{0102}}
     {a}{\add:acc{0103}}
     {E}{\add:acc{0114}}
     {e}{\add:acc{0115}}
     {G}{\add:acc{011E}}
     {\i}{\add:acc{012D}}
     {y}{y\add:acc{0306}}
  {}{}
\Configure{add accent}{PD1:20} %\v
     {C}{\add:acc{010C}}
     {c}{\add:acc{010D}}
     {D}{\add:acc{010E}}
     {d}{\add:acc{010F}}
     {E}{\add:acc{011A}}
     {e}{\add:acc{011B}}
     {L}{\add:acc{013D}}
     {l}{\add:acc{013E}}
     {N}{\add:acc{0147}}
     {n}{\add:acc{0148}}
     {R}{\add:acc{0158}}
     {r}{\add:acc{0159}}
     {S}{\add:acc{0160}}
     {s}{\add:acc{0161}}
     {T}{\add:acc{0164}}
     {t}{\add:acc{0165}}
     {Z}{\add:acc{017D}}
     {z}{\add:acc{017E}}
     {A}{\add:acc{01CD}}
     {a}{\add:acc{01CE}}
     {I}{\add:acc{01CF}}
     {i}{\add:acc{01D0}}
     {O}{\add:acc{01D1}}
     {o}{\add:acc{01D2}}
     {U}{\add:acc{01D3}}
     {u}{\add:acc{01D4}}
     {G}{\add:acc{01E6}}
     {g}{\add:acc{01E7}}
     {K}{\add:acc{01E8}}
     {k}{\add:acc{01E9}}
     {j}{\add:acc{01F0}}
     {H}{\add:acc{021E}}
     {h}{\add:acc{021F}}
     {\i}{\add:acc{01D0}}
     {\j}{\add:acc{01F0}}
  {}{}
\Configure{add accent}{PD1:21} %\r
     {A}{\add:acc{00C5}}
     {a}{\add:acc{00E5}}
     {U}{\add:acc{016E}}
     {u}{\add:acc{016F}}
   {}{}
\Configure{add accent}{PD1:184} %\c
       {K}{\add:acc{0136}}
     {k}{\add:acc{0137}}
     {L}{\add:acc{013B}}
     {l}{\add:acc{013C}}
     {N}{\add:acc{0145}}
     {n}{\add:acc{0146}}
     {R}{\add:acc{0156}}
     {r}{\add:acc{0157}}
     {S}{\add:acc{015E}}
     {s}{\add:acc{015F}}
     {T}{\add:acc{0162}}
     {t}{\add:acc{0163}}
     {E}{\add:acc{0228}}
     {e}{\add:acc{0229}}
     {D}{\add:acc{1E10}}
     {d}{\add:acc{1E11}}
     {H}{\add:acc{1E28}}
     {h}{\add:acc{1E29}}
     {C}{\add:acc{00C7}}
     {c}{\add:acc{00E7}}
     {G}{\add:acc{0122}}
     {g}{\add:acc{0123}}
  {}{}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{revtex4}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \ConfigureSec{section}
   {\ifvmode \IgnorePar \fi \EndP
    \HCode{<h3 class="sectionHead"\a:LRdir>}\IgnorePar}
   {\lowercase{\HCode{</h3>}}}
   {}{}
\ConfigureSec{subsection}
   {\ifvmode \IgnorePar \fi \EndP
    \HCode{<h4 class="subsectionHead"\a:LRdir>}\IgnorePar}
   {\lowercase{\HCode{</h4>}}}
   {}{}
\ConfigureSec{subsubsection}
   {\ifvmode \IgnorePar \fi \EndP
    \HCode{<h5 class="subsubsectionHead"\a:LRdir>}\IgnorePar}
   {\lowercase{\HCode{</h5>}}}
   {}{}
\ConfigureSec{paragraph}
   {\ifvmode \IgnorePar \fi \EndP
    \HCode{<h5 class="paragraphHead"\a:LRdir>}\IgnorePar}
   {\lowercase{\HCode{</h5>}}}
   {}{}
\ConfigureSec{subparagraph}
   {\ifvmode \IgnorePar \fi \EndP
    \HCode{<h5 class="subparagraphHead"\a:LRdir>}\IgnorePar}
   {\lowercase{\HCode{</h5>}}}
   {}{}

\Configure{maketitle}
   {\ifvmode \IgnorePar\fi \EndP {\Configure{maketitle}{}{}{}{}%
\a:NoSection \let\leavevmode\empty \let\not@math@alphabet\:gobbleII
\def\text@command##1{##1}\let\selectfont\empty
\def\check@icl ##1\check@icr{}%
\let\thanks\:gobble
\def\mbox{\hbox}%
\let\\\space \def\TeX{TeX}%
\def\gobble:font##1##2{##2}\:TITLE: \no:fonts
\def\footnotemark[##1]{}%
\def\a:ttl##1##2//{##1//}%
\let\large=\empty
\let \bf=\empty
\let \centering=\empty
\def \ignorespaces##1\vskip##2//{##1}%
\Tag{TITLE+}{\@title//}%
}%
%
    \HCode{<div  class="maketitle">}\par\ShowPar}
   {\ifvmode \IgnorePar\fi \EndP \HCode{</div>}}
   {\NoFonts\IgnorePar\HCode{<h2 class="titleHead"\a:LRdir>}\IgnorePar}
   {\ifvmode \IgnorePar\fi \EndP
    \HCode{</h2>}\IgnoreIndent\EndNoFonts}
\Css{h2.titleHead{text-align:center;}}
\Css{div.maketitle{ margin-bottom: 2em;}}
\Configure{thanks author date and}
   {\ifvmode \IgnorePar\fi\EndP \HCode{<div class="thanks" \a:LRdir>}}
   {\ifvmode \IgnorePar\fi\EndP \HCode{</div>}}
   {\ifvmode \IgnorePar\fi\EndP \HCode{<div class="author" \a:LRdir>}}
   {\ifvmode \IgnorePar\fi\EndP \HCode{</div>}}
   {\lowercase{\HCode{<span class="date" \a:LRdir>}}}
   {\HCode{</span>}}
   {\HCode{<br class="and" />}}
   {\HCode{<br />}}
\Configure{doauthor}
   {\HCode{<span class="author" \a:LRdir>}}
   {\HCode{</span>}}
\Css{div.author{margin-top:2em;text-align:center;}}

\Configure{affil}
   {\ifvmode \IgnorePar\fi \EndP
    \HCode{<div\Hnewline class="affil">}}
   {\ifvmode \IgnorePar\fi \EndP
    \HCode{</div>}\IgnorePar}
\Css{.affil {text-align:center}}
\Configure{RRAPformat}
   {\ifvmode\IgnorePar\fi \EndP \HCode{<div class="RRAP">}}
   {\ifvmode\IgnorePar\fi \EndP \HCode{</div>}}
\Configure{received}
   {\lowercase{\HCode{<span class="received" \a:LRdir>}}}
   {\HCode{</span>}}
\Configure{revised}
   {\lowercase{\HCode{<span class="revised" \a:LRdir>}}}
   {\HCode{</span>}}
\Configure{accepted}
   {\lowercase{\HCode{<span class="accepted" \a:LRdir>}}}
   {\HCode{</span>}}
\Configure{published}
   {\lowercase{\HCode{<span class="published" \a:LRdir>}}}
   {\HCode{</span>}}
\Css{div.RRAP{margin-top:1em;margin-bottom:1em;text-align:center;}}
\Configure{abstract}
   {\ifvmode \IgnorePar\fi \EndP
    \HCode{<div class="abstract">}\par \ShowPar}
   {\ifvmode \IgnorePar\fi \EndP \HCode{</div>}}
\Css{.abstract{margin:1em;}}
\Configure{pacs}
   {\ifvmode \IgnorePar\fi \EndP
    \HCode{<div class="pacs">}}
   {\ifvmode \IgnorePar\fi \EndP \HCode{</div>}}
\Css{.pacs{margin-left:1em;}}
\Configure{keywords}
   {\ifvmode \IgnorePar\fi \EndP \HCode{<div class="keywords">}}
   {\ifvmode \IgnorePar\fi \EndP \HCode{</div>}}
\Css{.keywords{margin-left:1em;}}
\ConfigureEnv{thebibliography}{\par\leavevmode}{\ShowPar}{}{}
\ConfigureList{thebibliography}%
   {\ifvmode\IgnorePar\fi \EndP \HCode{<div
                   class="thebibliography">}\let\en:bib=\empty}
   {\en:bib \ifvmode\IgnorePar\fi \EndP \HCode{</div>}}
   {\en:bib\def\en:bib{\csname bibliography2\endcsname
\EndP}%
   \Configure{HtmlPar}
   {\EndP\HCode{<p class="bibitem" \a:LRdir>}}
   {\EndP\HCode{<p class="bibitem" \a:LRdir>}}
   {\Tg</p>} {\Tg</p>}%
\par\ShowPar
    \HCode{<span class="biblabel">}\Configure{HtmlPar}
   {\EndP\HCode{<p class="bibitem-p" \a:LRdir>}}
   {\EndP\HCode{<p class="bibitem-p" \a:LRdir>}}
   {\Tg</p>} {\Tg</p>}%
}
   {\HCode{<span class="bibsp">}\:nbsp
      \:nbsp\:nbsp\HCode{</span></span>}}

\Configure{endnote}
   {\HCode{<span class="endnote">}}
   {\HCode{</span>}}
\Configure{footnotebody}
   {\HCode{<span class="footnote-body" \a:LRdir>}}
   {\HCode{</span>}}
\Configure{frontpagefootnote}
   {\ifvmode \IgnorePar\fi \EndP
    \HCode{<div class="frontpagefootnotes">}}
   {\ifvmode \IgnorePar\fi \EndP \HCode{</div>}}
   {\HCode{<div class="frontpagefootnote">}}
   {\HCode{</div>}}
\Css{.frontpagefootnote{margin-left:1em;}}
\Configure{endpart}{likepart}
\Configure{endlikepart}{endpart}
\Configure{part}{}{}
   {\IgnorePar \EndP\HCode{<h1 class="partHead"\a:LRdir>}%
       \HCode{<span class="titlemark">}\partname \ \thepart
       \HCode{<br /></span>}}
   {\HCode{</h1>}\IgnoreIndent\par}
\Configure{likepart}{}{}
   {\IgnorePar\EndP\HCode{<h1 class="likepartHead"\a:LRdir>}}
   {\HCode{</h1>}\IgnoreIndent\par}
\Configure{partTITLE+}{\thepart\space #1}
\Configure{likepartTITLE+}{#1}
\Css{h1.partHead{text-align: center}}

\Configure{endsection}
     {likesection,chapter,likechapter,appendix,part,likepart}
\Configure{endlikesection}
     {section,chapter,likechapter,appendix,part,likepart}
\ConfigureMark{section}
   {\ifnum \c:secnumdepth>\c@secnumdepth \expandafter\:gobble
    \else
       \HCode{<span class="titlemark">}\@seccntformat{section}%
       \HCode{</span>}\fi }
\Configure{sectionTITLE+}{\ifnum \c:secnumdepth>\c@secnumdepth
      \ifnum \c@secnumdepth > 0
      \thesection\space
    \fi\fi #1}

\Configure{section}{}{}
   {\ifvmode \IgnorePar\fi \EndP\IgnorePar
    \HCode{<h3 class="sectionHead"\a:LRdir>}\TitleMark\space\HtmlParOff}
   {\HCode{</h3>}\HtmlParOn\ShowPar \IgnoreIndent \par}
\Configure{likesection}{}{}
   {\ifvmode \IgnorePar\fi
    \EndP\IgnorePar\HCode{<h3 class="likesectionHead"\a:LRdir>}\HtmlParOff}
   {\HCode{</h3>}\HtmlParOn \IgnoreIndent \ShowPar \par}
\Configure{likesectionTITLE+}{#1}

\Configure{endsubsection}
   {likesubsection,section,likesection,chapter,%
      likechapter,appendix,part,likepart}
\Configure{endlikesubsection}
   {subsection,section,likesection,chapter,%
      likechapter,appendix,part,likepart}
\ConfigureMark{subsubsection}
   {\ifnum \c:secnumdepth>\c@secnumdepth  \expandafter\:gobble
    \else
       \HCode{<span class="titlemark">}\@seccntformat{subsubsection}%
       \HCode{</span>}\fi}
\Configure{subsubsectionTITLE+}{\ifnum \c:secnumdepth>\c@secnumdepth
      \ifnum \c@secnumdepth > 0
      \thesubsubsection\space
    \fi\fi #1}

\Configure{subsubsection}{}{}
   {\ifvmode \IgnorePar \fi  \EndP
    \bgroup \IgnorePar\HCode{<h5 class="subsubsectionHead"\a:LRdir>}%
    \TitleMark\space \HtmlParOff}
   {\HCode{</h5>}\HtmlParOn \IgnoreIndent\egroup\par\ShowPar}
\Configure{likesubsubsection}{}{}
   {\ifvmode \IgnorePar\fi \EndP\bgroup\IgnorePar
    \HCode{<h5 class="likesubsubsectionHead"\a:LRdir>}\HtmlParOff}
   {\HCode{</h5>}\HtmlParOn \IgnoreIndent\egroup\par\ShowPar}

\ConfigureMark{subsection}
   {\ifnum \c:secnumdepth>\c@secnumdepth  \expandafter\:gobble
    \else
       \HCode{<span class="titlemark">}\@seccntformat{subsection}%
       \HCode{</span>}\fi }
\Configure{subsectionTITLE+}{\ifnum \c:secnumdepth>\c@secnumdepth
      \ifnum \c@secnumdepth > 0
      \thesubsection\space
    \fi\fi #1}

\Configure{subsection}{}{}
   {\ifvmode \IgnorePar\fi
    \EndP\bgroup \IgnorePar\HCode{<h4 class="subsectionHead"\a:LRdir>}%
    \TitleMark\space \HtmlParOff}
   {\HCode{</h4>}\HtmlParOn \IgnoreIndent\egroup\par\ShowPar}
\Configure{likesubsection}{}{}{\EndP\bgroup
   \ifvmode \IgnorePar\fi
   \HCode{<h4 class="likesubsectionHead"\a:LRdir>}\HtmlParOff }
  {\HCode{</h4>}\HtmlParOn \IgnoreIndent\egroup\par\ShowPar}
\Configure{likesubsectionTITLE+}{#1}


\Configure{endsubsubsection}
   {likesubsubsection,subsection,likesubsection,section,%
      likesection,chapter,likechapter,appendix,part,likepart}
\Configure{endlikesubsubsection}
   {subsubsection,subsection,likesubsection,section,%
      likesection,chapter,likechapter,appendix,part,likepart}

\Configure{endparagraph}
   {likeparagraph,subsubsection,likesubsubsection,subsection,%
    likesubsection,section,%
    likesection,chapter,likechapter,appendix,part,likepart}
\Configure{paragraph}{}{}
  {\ShowPar\IgnoreIndent\HCode{<span class="paragraphHead"\a:LRdir>}\begingroup\bf}
  {\endgroup\HCode{</span>}\par\IgnorePar}
\Configure{likeparagraph}{}{}
  {\ShowPar\IgnoreIndent\HCode{<span class="likeparagraphHead"\a:LRdir>}}
  {\HCode{</span>}\par\IgnorePar}
\Css{.paragraphHead, .likeparagraphHead
   { margin-top:2em; font-weight: bold;}}

\Configure{subparagraph}{}{}
  {\ShowPar\HCode{<span class="subparagraphHead"\a:LRdir>}\begingroup\bf
   \TitleMark\space}
  {\endgroup\HCode{</span>}\IgnorePar}
\Css{.subparagraphHead { font-weight: bold;}}
\ConfigureEnv{widetext}
  {\ifvmode \IgnorePar\fi \EndP
   \HCode{<div class="widetext">}}
  {\ifvmode \IgnorePar\fi \EndP \HCode{</div>}\par}
  {}{}
\ConfigureEnv{ruledtabular}
   {\ifvmode \IgnorePar\fi \HCode{<div class="ruledtabular">}}
   {\ifvmode \IgnorePar\fi \HCode{</div>}}
   {}{}
\Css{div.ruledtabular table {
    border-top: black 1px double;
    border-bottom: black 1px double}}
\Configure{caption}{\HCode{\if:nopar  \else <br />\fi}
   \:xhtml{\IgnorePar\EndP}\HCode{<div class="caption"\Hnewline
                                 ><span class="id">}}
   {: } {\HCode{</span><span \Hnewline class="content">}}
   {\HCode{</span></div>}\HCode{<!--tex4ht:label?:
   \cur:th\:currentlabel\space-->}%
}
\Css{div.caption {text-indent:-2em; margin-left:3em; margin-right:1em;
                  text-align:left;}}
\Css{div.caption span.id{font-weight: bold; white-space: nowrap; }}

\Configure{abstractheading}
  {\ifvmode \IgnorePar\fi \EndP
   \HCode{<div class="abstractheading">}}
  {\ifvmode \IgnorePar\fi \EndP \HCode{</div>}\par}
\Css{div.abstractheading{text-align:center}}
\Configure{preprint}
  {\ifvmode \IgnorePar\fi \EndP
   \HCode{<div class="preprint">}}
  {\ifvmode \IgnorePar\fi \EndP \HCode{</div>}\par}
\Css{div.preprint{text-align:right}}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%




%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{aa}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
       \Configure{caption}{\HCode{\if:nopar  \else <br />\fi}
   \:xhtml{\IgnorePar\EndP}\HCode{<div class="caption"\Hnewline
                                 ><span class="id">}}
   {: } {\HCode{</span><span \Hnewline class="content">}}
   {\HCode{</span></div>}\HCode{<!--tex4ht:label?:
   \cur:th\:currentlabel\space-->}%
}
\Css{div.caption {text-indent:-2em; margin-left:3em; margin-right:1em;
                  text-align:left;}}
\Css{div.caption span.id{font-weight: bold; white-space: nowrap; }}


    \Configure{subtitle institute}
   {\HCode{<br /><span class="subtitle">}}{\HCode{</span>}}
   {\HCode{<div class="institute">}}{\HCode{</div>}}
   {\Tg<sup>}{\Tg</sup>}
   {\HCode{<br />}}

\Configure{maketitle}
   {\ifvmode \IgnorePar\fi \EndP
    \HCode{<div style="text-align:center;" >}}
   {\HCode{</div>}}
   {\NoFonts\IgnorePar \HCode{<h2 class="maketitleHead"\a:LRdir>}\IgnorePar}
   {\HCode{</h2>}\IgnoreIndent\EndNoFonts}
\Configure{thanks author date and} {}{}
   {\HCode{<div class="author" style="text-align:center;" \a:LRdir>}}{\HCode{</div>}}
   {\HCode{<div class="date" style="text-align:center;" \a:LRdir>}}{\HCode{</div>}}
   {\SPAN:{and}and\EndSPAN:}
   {\HCode{<br />}}
\Css{div.maketitle {text-align:center;}}
\ConfigureEnv{abstract}
   {\:xhtml{\IgnorePar\EndP}\HCode {<div class="abstract">}}
   {\HCode{</div>}}{}{}

\Css{div.abstract{text-align:center;}}

\Configure{makeheadbox}
   {\HCode{<table class="makeheadbox"
       width="100\%"><tr><td><table><tr><td>}}
   {\HCode{</td></tr><tr><td>}}
   {\HCode{</td></tr><tr><td>}}
   {\HCode{</td></tr></table></td><td class="AALogo" width="10\%">}}
   {\HCode{</td></tr></table>}}
\Css{.AALogo{font-size:120\%;font-weight: bold; text-align:right;}}

\Configure{endpart}{likepart}
\Configure{endlikepart}{endpart}
\Configure{part}{}{}
   {\IgnorePar \EndP\HCode{<h1 class="partHead"\a:LRdir>}%
       \HCode{<span class="titlemark">}\partname \ \thepart
       \HCode{<br /></span>}}
   {\HCode{</h1>}\IgnoreIndent\par}
\Configure{likepart}{}{}
   {\IgnorePar\EndP\HCode{<h1 class="likepartHead"\a:LRdir>}}
   {\HCode{</h1>}\IgnoreIndent\par}
\Configure{partTITLE+}{\thepart\space #1}
\Configure{likepartTITLE+}{#1}
\Css{h1.partHead{text-align: center}}

\Configure{endsection}
     {likesection,chapter,likechapter,appendix,part,likepart}
\Configure{endlikesection}
     {section,chapter,likechapter,appendix,part,likepart}
\ConfigureMark{section}
   {\ifnum \c:secnumdepth>\c@secnumdepth \expandafter\:gobble
    \else
       \HCode{<span class="titlemark">}\@seccntformat{section}%
       \HCode{</span>}\fi }
\Configure{sectionTITLE+}{\ifnum \c:secnumdepth>\c@secnumdepth
      \ifnum \c@secnumdepth > 0
      \thesection\space
    \fi\fi #1}

\Configure{section}{}{}
   {\ifvmode \IgnorePar\fi \EndP\IgnorePar
    \HCode{<h3 class="sectionHead"\a:LRdir>}\TitleMark\space\HtmlParOff}
   {\HCode{</h3>}\HtmlParOn\ShowPar \IgnoreIndent \par}
\Configure{likesection}{}{}
   {\ifvmode \IgnorePar\fi
    \EndP\IgnorePar\HCode{<h3 class="likesectionHead"\a:LRdir>}\HtmlParOff}
   {\HCode{</h3>}\HtmlParOn \IgnoreIndent \ShowPar \par}
\Configure{likesectionTITLE+}{#1}

\Configure{endsubsection}
   {likesubsection,section,likesection,chapter,%
      likechapter,appendix,part,likepart}
\Configure{endlikesubsection}
   {subsection,section,likesection,chapter,%
      likechapter,appendix,part,likepart}
\ConfigureMark{subsubsection}
   {\ifnum \c:secnumdepth>\c@secnumdepth  \expandafter\:gobble
    \else
       \HCode{<span class="titlemark">}\@seccntformat{subsubsection}%
       \HCode{</span>}\fi}
\Configure{subsubsectionTITLE+}{\ifnum \c:secnumdepth>\c@secnumdepth
      \ifnum \c@secnumdepth > 0
      \thesubsubsection\space
    \fi\fi #1}

\Configure{subsubsection}{}{}
   {\ifvmode \IgnorePar \fi  \EndP
    \bgroup \IgnorePar\HCode{<h5 class="subsubsectionHead"\a:LRdir>}%
    \TitleMark\space \HtmlParOff}
   {\HCode{</h5>}\HtmlParOn \IgnoreIndent\egroup\par\ShowPar}
\Configure{likesubsubsection}{}{}
   {\ifvmode \IgnorePar\fi \EndP\bgroup\IgnorePar
    \HCode{<h5 class="likesubsubsectionHead"\a:LRdir>}\HtmlParOff}
   {\HCode{</h5>}\HtmlParOn \IgnoreIndent\egroup\par\ShowPar}

\ConfigureMark{subsection}
   {\ifnum \c:secnumdepth>\c@secnumdepth  \expandafter\:gobble
    \else
       \HCode{<span class="titlemark">}\@seccntformat{subsection}%
       \HCode{</span>}\fi }
\Configure{subsectionTITLE+}{\ifnum \c:secnumdepth>\c@secnumdepth
      \ifnum \c@secnumdepth > 0
      \thesubsection\space
    \fi\fi #1}

\Configure{subsection}{}{}
   {\ifvmode \IgnorePar\fi
    \EndP\bgroup \IgnorePar\HCode{<h4 class="subsectionHead"\a:LRdir>}%
    \TitleMark\space \HtmlParOff}
   {\HCode{</h4>}\HtmlParOn \IgnoreIndent\egroup\par\ShowPar}
\Configure{likesubsection}{}{}{\EndP\bgroup
   \ifvmode \IgnorePar\fi
   \HCode{<h4 class="likesubsectionHead"\a:LRdir>}\HtmlParOff }
  {\HCode{</h4>}\HtmlParOn \IgnoreIndent\egroup\par\ShowPar}
\Configure{likesubsectionTITLE+}{#1}


\Configure{endsubsubsection}
   {likesubsubsection,subsection,likesubsection,section,%
      likesection,chapter,likechapter,appendix,part,likepart}
\Configure{endlikesubsubsection}
   {subsubsection,subsection,likesubsection,section,%
      likesection,chapter,likechapter,appendix,part,likepart}

\Configure{endparagraph}
   {likeparagraph,subsubsection,likesubsubsection,subsection,%
    likesubsection,section,%
    likesection,chapter,likechapter,appendix,part,likepart}
\Configure{paragraph}{}{}
  {\ShowPar\IgnoreIndent\HCode{<span class="paragraphHead"\a:LRdir>}\begingroup\bf}
  {\endgroup\HCode{</span>}\par\IgnorePar}
\Configure{likeparagraph}{}{}
  {\ShowPar\IgnoreIndent\HCode{<span class="likeparagraphHead"\a:LRdir>}}
  {\HCode{</span>}\par\IgnorePar}
\Css{.paragraphHead, .likeparagraphHead
   { margin-top:2em; font-weight: bold;}}

\ConfigureMark{subparagraph}{}
\Configure{subparagraph}{}{}
  {\ShowPar\HCode{<span class="subparagraphHead"\a:LRdir>}\begingroup\bf
   \TitleMark\space}
  {\endgroup\HCode{</span>}\IgnorePar}
\Configure{likesubparagraph}{}{}
  {\ShowPar\HCode{<span class="likesubparagraphHead"\a:LRdir>}\begingroup\bf}
  {\endgroup\HCode{</span>}\IgnorePar}
\Css{.subparagraphHead, .likesubparagraphHead
   { font-weight: bold;}}

\Configure{endlikeparagraph}
   {paragraph,subsubsection,likesubsubsection,subsection,%
    likesubsection,section,%
    likesection,chapter,likechapter,appendix,part,likepart}
\Configure{endsubparagraph}
   {likesubparagraph,likeparagraph,subsubsection,likesubsubsection,%
    subsection,likesubsection,section,%
    likesection,chapter,likechapter,appendix,part,likepart}
\Configure{endlikesubparagraph}
   {subparagraph,likeparagraph,subsubsection,likesubsubsection,%
    subsection,likesubsection,section,%
    likesection,chapter,likechapter,appendix,part,likepart}

\ConfigureEnv{thebibliography}{\IgnorePar}{\ShowPar\par}{}{}

\ifx \part\:UnDef \else
   \Configure{endpart}{likepart}
\Configure{endlikepart}{endpart}
\Configure{part}{}{}
   {\IgnorePar \EndP\HCode{<h1 class="partHead"\a:LRdir>}%
       \HCode{<span class="titlemark">}\partname \ \thepart
       \HCode{<br /></span>}}
   {\HCode{</h1>}\IgnoreIndent\par}
\Configure{likepart}{}{}
   {\IgnorePar\EndP\HCode{<h1 class="likepartHead"\a:LRdir>}}
   {\HCode{</h1>}\IgnoreIndent\par}
\Configure{partTITLE+}{\thepart\space #1}
\Configure{likepartTITLE+}{#1}
\Css{h1.partHead{text-align: center}}

\fi

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{texinfo}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{index}
  {\IgnorePar\leavevmode\EndP\Tg<div class="index">}
  {\IgnorePar\EndP\Tg</div>}
  {\leavevmode\Tg<span class="entry">}
  {\Tg</span>\expandafter\Tg<br />\IgnorePar}
\Configure{group}
   {\IgnorePar\EndP\HCode{<div class="group">}}
   {\ifvmode \IgnorePar\fi \EndP\HCode{</div>}}
\Css{div.obeylines-v  div.group  p { margin-top:0; margin-bottom:0; }}
\Configure{multitable}
   {\IgnorePar \EndP\HCode{<table\Hnewline class="multitable">}\IgnorePar}
   {\HCode{</table>}}
   {\HCode{<tr>}}
   {\HCode{</tr>}}
   {\HCode{<td \Hnewline class="multitabl\the\colcount">}}
   {\IgnorePar \EndP\HCode{</td>}}
\Css{.multitable td{padding-left:1em; padding-right:1em;}}
\Configure{example}
   {\IgnorePar\EndP\HCode{<div class="example">}}
   {\ifvmode \IgnorePar\fi \EndP\HCode{</div>}}
\Css{div.example { margin-left:2em; }}
\Configure{smallexample}
   {\IgnorePar\EndP\HCode{<div class="smallexample">}}
   {\ifvmode \IgnorePar\fi \EndP\HCode{</div>}}
\Css{div.smallexample { margin-left:2em; }}
\ConfigureMark{chapter}{\the\chapno}
\Configure{chapter}{}{}
   {\IgnorePar\EndP\HCode{<h2 class="chapterHead"\a:LRdir>}\TitleMark\space}
   {\HCode{</h2>}\IgnoreIndent\par}
\ConfigureMark{appendix}{\appendixletter}
\Configure{appendix}{}{}
   {\IgnorePar\EndP
    \HCode{<h2 class="appendixHead"\a:LRdir>}Appendix \TitleMark\space}
   {\HCode{</h2>}\IgnoreIndent\par}
\Configure{unnumbered}{}{}
   {\IgnorePar\EndP\HCode{<h2 class="unnumberedHead"\a:LRdir>}}
   {\HCode{</h2>}\IgnoreIndent\par}
\ConfigureMark{numberedsec}{\the\chapno.\the\secno}
\Configure{numberedsec}{}{}
   {\IgnorePar\EndP\HCode{<h3
       class="numberedsecHead"\a:LRdir>}\TitleMark\space}
   {\HCode{</h3>}\IgnoreIndent\par}
\ConfigureMark{appendixsec}{\appendixletter.\the\secno}
\Configure{appendixsec}{}{}
   {\IgnorePar\EndP\HCode{<h3
       class="appendixsecHead"\a:LRdir>}\TitleMark\space}
   {\HCode{</h3>}\IgnoreIndent\par}
\Configure{unnumberedsec}{}{}
   {\IgnorePar\EndP\HCode{<h3 class="unnumberedsecHead"\a:LRdir>}}
   {\HCode{</h3>}\IgnoreIndent\par}
\ConfigureMark{numberedsubsec}{\the\chapno.\the\secno .\the\subsecno}
\Configure{numberedsubsec}{}{}
   {\IgnorePar\EndP\HCode{<h4
       class="numberedsubsecHead"\a:LRdir>}\TitleMark\space}
   {\HCode{</h4>}\IgnoreIndent\par}
\ConfigureMark{appendixsubsec}{\appendixletter .\the\secno.\the\subsecno}
\Configure{appendixsubsec}{}{}
   {\IgnorePar\EndP\HCode{<h4
     class="appendixsubsecHead"\a:LRdir>}\TitleMark\space}
   {\HCode{</h4>}\IgnoreIndent\par}
\ConfigureMark{appendixsubsec}{\appendixletter.\the\secno
                                        .\the\subsecno}
\Configure{appendixsubsec}{}{}
   {\IgnorePar\EndP\HCode{<h4
       class="appendixsubsecHead"\a:LRdir>}\TitleMark\space}
   {\HCode{</h4>}\IgnoreIndent\par}
\Configure{unnumberedsubsec}{}{}
   {\IgnorePar\EndP\HCode{<h4 class="unnumberedsubsecHead"\a:LRdir>}}
   {\HCode{</h4>}\IgnoreIndent\par}
\ConfigureMark{numberedsubsubsec}{\the\chapno.\the\secno
                      .\the\subsecno.\the\subsubsecno}
\Configure{numberedsubsubsec}{}{}
   {\IgnorePar\EndP\HCode{<h5
       class="numberedsubsubsecHead"\a:LRdir>}\TitleMark\space}
   {\HCode{</h5>}\IgnoreIndent\par}
\ConfigureMark{appendixsubsubsec}{\appendixletter
             .\the\secno.\the\subsecno.\the\subsubsecno}
\Configure{appendixsubsubsec}{}{}
   {\IgnorePar\EndP\HCode{<h5
     class="appendixsubsubsecHead"\a:LRdir>}\TitleMark\space}
   {\HCode{</h5>}\IgnoreIndent\par}
\ConfigureMark{appendixsubsubsec}{\appendixletter.\the\secno
                                  .\the\subsecno.\the\subsubsecno}
\Configure{appendixsubsubsec}{}{}
   {\IgnorePar\EndP\HCode{<h5
       class="appendixsubsubsecHead"\a:LRdir>}\TitleMark\space}
   {\HCode{</h5>}\IgnoreIndent\par}
\Configure{unnumberedsubsubsec}{}{}
   {\IgnorePar\EndP\HCode{<h5 class="unnumberedsubsubsecHead"\a:LRdir>}}
   {\HCode{</h5>}\IgnoreIndent\par}
\ConfigureToc{chapter}
    {\Tg<span class="chapterToc" \a:LRdir>}{ }{}{\Tg</span>\expandafter\Tg<br />}
\ConfigureToc{appendix}
    {\Tg<span class="appendixToc" \a:LRdir>}{ }{}{\Tg</span>\expandafter\Tg<br />}
\ConfigureToc{unnumbered}
    {\Tg<span class="unnumberedToc" \a:LRdir>}{ }{}{\Tg</span>\expandafter\Tg<br />}
\ConfigureToc{numberedsec}
    {\Tg<span class="numberedsecToc" \a:LRdir>}{ }{}{\Tg</span>\expandafter\Tg<br />}
\ConfigureToc{appendixsec}
    {\Tg<span class="appendixsecToc" \a:LRdir>}{ }{}{\Tg</span>\expandafter\Tg<br />}
\ConfigureToc{unnumberedsec}
    {\Tg<span class="unnumberedsecToc" \a:LRdir>}{ }{}{\Tg</span>\expandafter\Tg<br />}
\ConfigureToc{numberedsubsec}
    {\Tg<span class="numberedsubsecToc" \a:LRdir>}{ }{}{\Tg</span>\expandafter\Tg<br />}
\ConfigureToc{appendixsubsec}
    {\Tg<span class="appendixsubsecToc" \a:LRdir>}{ }{}{\Tg</span>\expandafter\Tg<br />}
\ConfigureToc{appendixsubsec}
    {\Tg<span class="appendixsubsecToc" \a:LRdir>}{ }{}{\Tg</span>\expandafter\Tg<br />}
\ConfigureToc{unnumberedsubsec}
    {\Tg<span class="unnumberedsubsecToc" \a:LRdir>}{ }{}{\Tg</span>\expandafter\Tg<br />}
\ConfigureToc{numberedsubsubsec}
    {\Tg<span class="numberedsubsubsecToc" \a:LRdir>}{ }{}{\Tg</span>\expandafter\Tg<br />}
\ConfigureToc{appendixsubsubsec}
    {\Tg<span class="appendixsubsubsecToc" \a:LRdir>}{ }{}{\Tg</span>\expandafter\Tg<br />}
\ConfigureToc{appendixsubsubsec}
    {\Tg<span class="appendixsubsubsecToc" \a:LRdir>}{ }{}{\Tg</span>\expandafter\Tg<br />}
\ConfigureToc{unnumberedsubsubsec}
    {\Tg<span class="unnumberedsubsubsecToc" \a:LRdir>}{ }{}{\Tg</span>\expandafter\Tg<br />}
\Configure{enumerate}
   {\IgnorePar\EndP\HCode{<ol\space class="enumerate"\Hnewline>}}
   {\IgnorePar\EndP\HCode{</li></ol>}\ShowPar}
   {\IgnorePar\EndP\ifnum \itemno>1 \Tg</li>\fi\DeleteMark}
   {\HCode{<li class="enumerate">}}
\Configure{itemize}
   {\IgnorePar\EndP\HCode{<ul\space\a:LRdir class="itemize"\Hnewline>}}
   {\IgnorePar\EndP\HCode{</li></ul>}\ShowPar}
   {\IgnorePar\EndP\ifnum \itemno>1 \Tg</li>\fi\DeleteMark}
   {\HCode{<li class="itemize">}}
\Configure{table}%
   {\IgnorePar\EndP\HCode{<dl \a:LRdir class="description">}%
    \PushMacro\end:itm
\global\let\end:itm\empty}
   {\PopMacro\end:itm \global\let\end:itm \end:itm
\IgnorePar\EndP\HCode{</dd></dl>}}
   {\IgnorePar\end:itm \global\def\end:itm{\EndP\Tg</dd>}\HCode{<dt
        class="description">}\bgroup \bf}
   {\egroup\IgnorePar\EndP\HCode{</dt><dd\Hnewline class="description">}}
\Configure{titlepage}
   {\IgnorePar\EndP\HCode{<div class="titlepage">}}
   {\IgnorePar\EndP\HCode{</div>}}
\Configure{title}
   {\IgnorePar\EndP\HCode{<div class="title">}}
   {\IgnorePar\EndP\HCode{</div>}}
\Configure{subtitle}
   {\IgnorePar\EndP\HCode{<div class="subtitle">}}
   {\IgnorePar\EndP\HCode{</div>}}
\Configure{author}
   {\IgnorePar\EndP\HCode{<div class="author">}}
   {\IgnorePar\EndP\HCode{</div>}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{doc}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \ConfigureEnv{macrocode}
  {\ifvmode \IgnorePar\fi\EndP\HCode{<pre class="macrocode">}}
  {\ifvmode \IgnorePar \HCode{</pre>}\par\else \HCode{</pre>}\fi}
  {}{}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{scrbook}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \ConfigureEnv{description}{\IgnorePar}{}{}{}
\Configure{maketitle}
   {\ifvmode \IgnorePar\fi \EndP {\Configure{maketitle}{}{}{}{}%
\a:NoSection \let\leavevmode\empty \let\not@math@alphabet\:gobbleII
\def\text@command##1{##1}\let\selectfont\empty
\def\check@icl ##1\check@icr{}%
\let\thanks\:gobble
\def\mbox{\hbox}%
\let\\\space \def\TeX{TeX}%
\def\gobble:font##1##2{##2}\:TITLE: \no:fonts
\Tag{TITLE+}{\@title}}%
%
    \HCode{<div class="maketitle">}}
   {\HCode{</div>}}
   {\IgnorePar \EndP
    \NoFonts\HCode{<h2 class="titleHead"\a:LRdir>}\IgnorePar}
   {\HCode{</h2>}\IgnoreIndent\EndNoFonts}
\Css{h2.titleHead{text-align:center;}}
\Css{div.maketitle{ margin-bottom: 2em; text-align:center; }}
\:CheckOption{fn-in}\if:Option
   \Configure{thanks author date and}
   {\SaveEndP\global\setbox\fn:box=\vtop\bgroup\ShowPar
     \ifvoid\fn:box\else  \csname unvbox\endcsname\fn:box\fi}
   {\EndP\egroup\RecallEndP }
   {\HCode{<div class="author" \a:LRdir>}}{\HCode{</div>}}
   {\HCode{<div class="date" \a:LRdir>}}{\HCode{</div>}}
   {\HCode{<br class="and" />}}
   {\HCode{<br />}}
\Configure{thank}
   {\csname a:thank-mark\endcsname
\Link{tk-\the\c@footnote}{\ifx
        \footnote\thanks kt-\the\c@footnote\fi}}
   {\EndLink \csname b:thank-mark\endcsname
}
   {\HCode{<p>}\protect\Link{\ifx \footnote\thanks kt-\the\c@footnote
      \fi}{tk-\the\c@footnote}\csname a:thank-mark\endcsname
}
   {\csname b:thank-mark\endcsname
\protect\EndLink}
   {\HCode{</p>}}

\Css{div.author, div.date {text-align:center;}}
\Css{div.thanks{text-align:left; margin-left:10\%; font-size:85\%;
                font-style:italic; }}

\else
   \Configure{thanks author date and}
   {\ifvmode \IgnorePar\fi\EndP \HCode{<div class="thanks" \a:LRdir>}}
   {\ifvmode \IgnorePar\fi\EndP \HCode{</div>}}
   {\ifvmode \IgnorePar\fi\EndP \HCode{<div class="author" \a:LRdir>}}
   {\ifvmode \IgnorePar\fi\EndP \HCode{</div>}}
   {\ifvmode \IgnorePar\fi\EndP \HCode{<div class="date" \a:LRdir>}}
   {\ifvmode \IgnorePar\fi\EndP \HCode{</div>}}
   {\HCode{<br class="and" />}}
   {\HCode{<br />}}
\Configure{thank}
   {\csname a:thank-mark\endcsname
\Link{tk-\the\c@footnote}{}}
   {\EndLink \csname b:thank-mark\endcsname
}
   {\HCode{<br />}\protect\Link{}{tk-\the\c@footnote}\protect
     \EndLink \csname a:thank-mark\endcsname
}
   {\csname b:thank-mark\endcsname
} {}

\Css{div.author, div.date {text-align:center;}}
\Css{div.thanks{text-align:left; margin-left:10\%; font-size:85\%;
                font-style:italic; }}
\Css{div.author{white-space: nowrap;}}

\fi

\ConfigureEnv{titlepage}
   {\bgroup
      \ifvmode \IgnorePar\fi \EndP
      \HCode{<div class="titlepage">}%
      \ConfigureEnv{center}{}{}{}{}}
   {\ifvmode \IgnorePar\fi \EndP \HCode{</div>}%
    \egroup}
   {} {}
\Configure{dedication}
   {\ifvmode \IgnorePar\fi\EndP \HCode{<div class="dedication" >}}
   {\ifvmode \IgnorePar\fi\EndP \HCode{</div>}}
\Css{div.dedication {text-align:center;}}

%  \Css{span.footnote-mark{ vertical-align: super }}
\Css{span.footnote-mark   sup.textsuperscript,
     span.footnote-mark a sup.textsuperscript{ font-size:80\%; }}
\ConfigureMark{minisec}{}
\Configure{minisec}{}{}
   {\ifvmode \IgnorePar \fi  \EndP
    \bgroup \IgnorePar\HCode{<h5 class="minisecHead"\a:LRdir>}%
    \TitleMark\space \HtmlParOff}
   {\HCode{</h5>}\HtmlParOn \IgnoreIndent\egroup\par\ShowPar}

\ConfigureMark{subsection}
   {\ifnum \c:secnumdepth>\c@secnumdepth  \expandafter\:gobble
    \else
       \HCode{<span class="titlemark">}\thesubsection
       \HCode{</span>}\fi }
\Configure{subsectionTITLE+}{\ifnum \c:secnumdepth>\c@secnumdepth
      \ifnum \c@secnumdepth > 0
      \thesubsection\space
    \fi\fi #1}

\Configure{subsection}{}{}
   {\ifvmode \IgnorePar\fi
    \EndP\bgroup \IgnorePar\HCode{<h4 class="subsectionHead"\a:LRdir>}%
    \TitleMark~~\HtmlParOff}
   {\HCode{</h4>}\HtmlParOn \IgnoreIndent\egroup\par\ShowPar}
\Configure{likesubsection}{}{}{\EndP\bgroup
   \ifvmode \IgnorePar\fi
   \HCode{<h4 class="likesubsectionHead"\a:LRdir>}\HtmlParOff }
  {\HCode{</h4>}\HtmlParOn \IgnoreIndent\egroup\par\ShowPar}
\Configure{likesubsectionTITLE+}{#1}
\def\tocpart#1#2#3{\par
   \HCode{<span class="partToc" \a:LRdir>}\if !#1!\else
                                   #1~~\fi #2\HCode{</span>}\par}%
\def\toclikepart#1#2#3{\par
   \HCode{<span class="likepartToc" \a:LRdir>}#2\HCode{</span>}\par}%
\Css{.partToc a, .partToc, .likepartToc a, .likepartToc
        {line-height: 200\%; font-weight:bold; font-size:110\%;}}
   \Css{.chapterToc a, .chapterToc, .likechapterToc a, .likechapterToc,
        .appendixToc a, .appendixToc, .addchapToc a
        {line-height: 200\%; font-weight:bold;}}
   \def\tocchapter#1#2#3{\par
      \HCode{<span class="chapterToc" \a:LRdir>}#1~~#2\HCode{</span>}\par}
   \def\toclikechapter#1#2#3{\par
      \HCode{<span class="likechapterToc" \a:LRdir>}#2\HCode{</span>}\par}%
   \def\tocaddchap#1#2#3{\par
      \HCode{<span class="addchapToc" \a:LRdir>}#2\HCode{</span>}\par}%
   \def\tocappendix#1#2#3{\par
      \HCode{<span class="appendixToc" \a:LRdir>}#1~~#2\HCode{</span>}\par}
   \def\tocsection#1#2#3{\par\ \toc:num{section}{#1}{#2}\par}
   \def\toclikesection#1#2#3{\par\
      \HCode{<span class="likesectionToc" \a:LRdir>}#2\HCode{</span>}\par}
   \def\tocsubsection#1#2#3{\par\ \ \toc:num{subsection}{#1}{#2}\par}
   \def\toclikesubsection#1#2#3{\par
      \ \ \HCode{<span class="likesubsectionToc" \a:LRdir>}#2\HCode{</span>}\par}
   \def\tocsubsubsection#1#2#3{\par
      \ \ \ \toc:num{subsubsection}{#1}{#2}\par}
   \def\toclikesubsubsection#1#2#3{\par
      \ \ \ \HCode{<span class="likesubsubsectionToc" \a:LRdir>}#2\HCode{</span>}\par}
   \def\tocparagraph#1#2#3{\par\ \ \ \toc:num{paragraph}{#1}{#2}\par}
   \def\toclikeparagraph#1#2#3{\par
      \ \ \ \HCode{<span class="likeparagraphToc" \a:LRdir>}#2\HCode{</span>}\par}
   \def\tocsubparagraph#1#2#3{\par
      \ \ \ \ \ \toc:num{subparagraph}{#1}{#2}\par}
   \def\toclikesubparagraph#1#2#3{\par
      \ \ \ \ \ \HCode{<span class="likesubparagraphToc" \a:LRdir>}#2\HCode{</span>}\par}
\def\toc:num#1#2#3{\def\:temp{#1#2}%
   \HCode{<span class="#1Toc" \a:LRdir>}\ifx \:temp\empty
   \else \def\:temp{#2}\ifx\:temp\empty\else #2~~\fi\fi #3\HCode{</span>}}
\Configure{@begin}{theindex}{\ifx \indexname\empty \else
    \chapter*{\indexname}\fi}
\ConfigureMark{section}
   {\ifnum \c:secnumdepth>\c@secnumdepth \expandafter\:gobble
    \else
       \HCode{<span class="titlemark">}\thesection\HCode{</span>}\fi }
\Configure{sectionTITLE+}{\ifnum \c:secnumdepth>\c@secnumdepth
      \ifnum \c@secnumdepth > 0
      \thesection\space
    \fi\fi #1}

\Configure{section}{}{}
   {\ifvmode \IgnorePar\fi \EndP\IgnorePar
    \HCode{<h3 class="sectionHead"\a:LRdir>}\TitleMark~~\HtmlParOff}
   {\HCode{</h3>}\HtmlParOn \IgnoreIndent \ShowPar \par}
\Configure{likesection}{}{}
   {\ifvmode \IgnorePar\fi
    \EndP\IgnorePar\HCode{<h3 class="likesectionHead"\a:LRdir>}\HtmlParOff}
   {\HCode{</h3>}\HtmlParOn \IgnoreIndent \ShowPar\par}
\Configure{likesectionTITLE+}{#1}
\ConfigureMark{subsubsection}
   {\ifnum \c:secnumdepth>\c@secnumdepth  \expandafter\:gobble
    \else
       \HCode{<span class="titlemark">}\@seccntformat{subsubsection}%
       \HCode{</span>}\fi}
\Configure{subsubsectionTITLE+}{\ifnum \c:secnumdepth>\c@secnumdepth
      \ifnum \c@secnumdepth > 0
      \thesubsubsection\space
    \fi\fi #1}

\Configure{subsubsection}{}{}
   {\ifvmode \IgnorePar \fi  \EndP
    \bgroup \IgnorePar\HCode{<h5 class="subsubsectionHead"\a:LRdir>}%
    \TitleMark\space \HtmlParOff}
   {\HCode{</h5>}\HtmlParOn \IgnoreIndent\egroup\par\ShowPar}
\Configure{likesubsubsection}{}{}
   {\ifvmode \IgnorePar\fi \EndP\bgroup\IgnorePar
    \HCode{<h5 class="likesubsubsectionHead"\a:LRdir>}\HtmlParOff}
   {\HCode{</h5>}\HtmlParOn \IgnoreIndent\egroup\par\ShowPar}

\ConfigureMark{appendix}{\HCode{<span class="titlemark">}%
   \thechapter\HCode{</span>}}
\Configure{appendix}{}{}
   {\IgnorePar\EndP\HCode{<h2 class="appendixHead"\a:LRdir>}\TitleMark{}.~~}
   {\HCode{</h2>}\IgnoreIndent\par}
\Configure{appendixTITLE+}{\thechapter\space#1}
\Configure{likechapter}{}{}
   {\IgnorePar\EndP\HCode{<h2 class="likechapterHead"\a:LRdir>}}
   {\HCode{</h2>}\IgnoreIndent\par}
\Configure{likechapterTITLE+}{#1}
\Configure{addchap}{}{}
   {\IgnorePar\EndP\HCode{<h2 class="addchapHead"\a:LRdir>}}
   {\HCode{</h2>}\IgnoreIndent\par}

\ConfigureEnv{thebibliography}{\IgnorePar}{\ShowPar\par}{}{}

\:CheckOption{no-bib} \if:Option\else
   \:CheckOption{mouseover} \if:Option
      \ConfigureList{thebibliography}%
   {\ifvmode\IgnorePar\fi\EndP \js:on
\HCode{<div
                   class="thebibliography">}\let\en:bib=\empty}
   {\en:bib \ifvmode\IgnorePar\fi\EndP \HCode{</div>}}
   {\en:bib\def\en:bib{\ht:special {t4ht@DCopyTo: \jobname-js.tex Skip bib }%
\csname bibliography2\endcsname
\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont bib }%
%
%
        \EndP\ht:special {t4ht@DCopyTo: \jobname-js.tex Skip bib }%
%
\HCode{<!--}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont bib }%
%
\HCode{</div></bibitem>\Hnewline}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Until bib }%
%
\HCode{-->}
}\HCode{<!--}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex From bib }%
%
\HCode{<bibitem>}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Skip bib }%
%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Set1 bib }%
%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont bib }%
%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Set2 bib }%
%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Skip bib }%
%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont bib }%
%
\HCode{<div class="js">}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Skip bib }%
%
\HCode{-->}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont bib }%
%
%
        \Configure{HtmlPar}
   {\EndP\HCode{<p class="bibitem" \a:LRdir>}}
   {\EndP\HCode{<p class="bibitem" \a:LRdir>}}
   {\Tg</p>} {\Tg</p>}%
\par\ShowPar
        \leavevmode \ht:special {t4ht@DCopyTo: \jobname-js.tex Skip bib }%
\HCode{<span
      class="biblabel">}\Configure{HtmlPar}
   {\EndP\HCode{<p class="bibitem-p" \a:LRdir>}}
   {\EndP\HCode{<p class="bibitem-p" \a:LRdir>}}
   {\Tg</p>} {\Tg</p>}%
}
   {\HCode{<span class="bibsp">}\:nbsp
      \:nbsp\:nbsp\HCode{</span></span>}\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont bib }%
}

   \else
      \ConfigureList{thebibliography}%
   {\ifvmode\IgnorePar\fi \EndP \HCode{<div
                   class="thebibliography">}\let\en:bib=\empty}
   {\en:bib \ifvmode\IgnorePar\fi \EndP \HCode{</div>}}
   {\en:bib\def\en:bib{\csname bibliography2\endcsname
\EndP}%
   \Configure{HtmlPar}
   {\EndP\HCode{<p class="bibitem" \a:LRdir>}}
   {\EndP\HCode{<p class="bibitem" \a:LRdir>}}
   {\Tg</p>} {\Tg</p>}%
\par\ShowPar
    \HCode{<span class="biblabel">}\Configure{HtmlPar}
   {\EndP\HCode{<p class="bibitem-p" \a:LRdir>}}
   {\EndP\HCode{<p class="bibitem-p" \a:LRdir>}}
   {\Tg</p>} {\Tg</p>}%
}
   {\HCode{<span class="bibsp">}\:nbsp
      \:nbsp\:nbsp\HCode{</span></span>}}

   \fi
   \Css{p.bibitem { text-indent: -2em; margin-left: 2em;
       margin-top:0.6em; margin-bottom:0.6em;     }}
\Css{p.bibitem-p { text-indent: 0em; margin-left: 2em;
       margin-top:0.6em; margin-bottom:0.6em;     }}

\fi

\ConfigureList{description}%
   {\EndP\HCode{<dl \a:LRdir class="description">}%
      \PushMacro\end:itm
\global\let\end:itm=\empty}
   {\PopMacro\end:itm \global\let\end:itm \end:itm
\EndP\HCode{</dd></dl>}\ShowPar}
   {\end:itm \global\def\end:itm{\EndP\Tg</dd>}\HCode{<dt
        class="description">}\bgroup \bf}
   {\egroup\EndP\HCode{</dt><dd\Hnewline class="description">}}

%\def\:SPAN#1#2{\HCode{<span class="#1">}#2\HCode{</span>}}
\def\:tempa{
   \CutAt{part}
   \CutAt{likepart}
   \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,addchap,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,addchap,appendix}
\fi
%
}
\def\:tempb{
   \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,addchap,appendix,section}
     \MiniToc:At{likepart,/part,chapter,addchap,appendix,section}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,likechapter,addchap,appendix,%
             section,likesection}
     \MiniToc:At{likepart,/part,chapter,likechapter,addchap,appendix,%
             section,likesection}
  \fi
\fi

   \CutAt{chapter,likechapter,addchap,appendix,part}
   \CutAt{likechapter,addchap,appendix,part}
   \CutAt{addchap,chapter,likechapter,appendix,part}
   \CutAt{appendix,chapter,likechapter,addchap,part}
   \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,subsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,subsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,subsection}
   \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,likesection,subsection,likesubsection}
   \fi
\fi
%
}
\def\:tempc{
   \:CheckOption{notoc*}     \if:Option
   \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

      \MiniToc:At{chapter,/likechapter,/addchap,/appendix,/part,%
                section,subsection}
      \MiniToc:At{likechapter,/addchap,/appendix,/chapter,/part,%
                section,subsection}
      \MiniToc:At{addchap,/likechapter,/appendix,/chapter,/part,%
                section,subsection}
      \MiniToc:At{appendix,/chapter,/likechapter,/addchap,/part,%
                section,subsection}
   \fi
\else
   \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

      \MiniToc:At{chapter,/likechapter,/addchap,/appendix,/part,%
                section,likesection,subsection,likesubsection}
      \MiniToc:At{likechapter,/addchap,/appendix,/chapter,/part,%
                section,likesection,subsection,likesubsection}
      \MiniToc:At{addchap,/likechapter,/appendix,/chapter,/part,%
                section,likesection,subsection,likesubsection}
      \MiniToc:At{appendix,/chapter,/likechapter,/addchap,/part,%
                section,likesection,subsection,likesubsection}
   \fi
\fi
%
   \CutAt{section,likesection,chapter,likechapter,addchap,appendix,part}
   \CutAt{likesection,chapter,likechapter,addchap,appendix,part}
   \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi
%
}
\def\:tempd{
   \:CheckOption{notoc*}     \if:Option
   \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

      \MiniToc:At{section,/likesection,/chapter,/likechapter,%
                /addchap,/appendix,/part,%
                subsection,subsubsection}
      \MiniToc:At{likesection,/section,/chapter,/likechapter,%
                /addchap,/appendix,/part,%
                subsection,subsubsection}
   \fi
\else
   \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

      \MiniToc:At{section,/likesection,/chapter,/likechapter,%
                /addchap,/appendix,/part,%
                subsection,likesubsection,subsubsection,likesubsubsection}
      \MiniToc:At{likesection,/section,/chapter,/likechapter,%
                /addchap,/appendix,/part,%
                subsection,likesubsection,subsubsection,likesubsubsection}
   \fi
\fi
%
   \:CheckOption{notoc*}     \if:Option
   \CutAt{subsection,section,chapter,addchap,appendix,part}
   \CutAt{likesubsection,section,chapter,addchap,appendix,part}
\else
   \CutAt{subsection,section,likesection,%
                     chapter,likechapter,addchap,appendix,part}
   \CutAt{likesubsection,section,likesection,%
                     chapter,likechapter,addchap,appendix,part}
\fi
%
   \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,likesubsection,subsection}
\fi
%
}

\:CheckOption{4}     \if:Option
    \expandafter\ifx \csname @chapter\endcsname\relax
                          \:tempa \:tempc \:tempd
    \else                 \:tempa \:tempb \:tempc \:tempd  \fi
\else\:CheckOption{3}     \if:Option
    \expandafter\ifx \csname @chapter\endcsname\relax
                          \:tempa \:tempc  \:tempd
    \else                 \:tempa \:tempb  \:tempc  \fi
\else\:CheckOption{2}     \if:Option
    \expandafter\ifx \csname @chapter\endcsname\relax  \:tempa \:tempc
    \else                 \:tempa \:tempb    \fi
\else\:CheckOption{1}     \if:Option
    \:tempa
\else
    \Log:Note{for sectioning pagination,
          use the command line option `1', `2', or `3'}%
\fi \fi \fi \fi

\:CheckOption{1}     \if:Option
   \:CheckOption{notoc*}     \if:Option
   \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

      \MiniToc:At{part,/likepart,chapter,addchap,appendix,section}
   \fi
\else
   \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

      \MiniToc:At{part,/likepart,chapter,likechapter,addchap,appendix,%
            section,likesection}
   \fi
\fi

\fi

\Configure{endlikeparagraph}
   {paragraph,subsubsection,likesubsubsection,subsection,%
    likesubsection,section,%
    likesection,chapter,likechapter,addchap,appendix,part,likepart}
\Configure{endsubparagraph}
   {likesubparagraph,likeparagraph,subsubsection,likesubsubsection,%
    subsection,likesubsection,section,%
    likesection,chapter,likechapter,addchap,appendix,part,likepart}
\Configure{endlikesubparagraph}
   {subparagraph,likeparagraph,subsubsection,likesubsubsection,%
    subsection,likesubsection,section,%
    likesection,chapter,likechapter,addchap,appendix,part,likepart}
\Configure{endsection}
     {likesection,chapter,likechapter,addchap,appendix,part,likepart}
\Configure{endlikesection}
     {section,chapter,likechapter,addchap,appendix,part,likepart}
\Configure{endsubsection}
   {likesubsection,section,likesection,chapter,%
      likechapter,addchap,appendix,part,likepart}
\Configure{endlikesubsection}
   {subsection,section,likesection,chapter,%
      likechapter,addchap,appendix,part,likepart}
\Configure{endsubsubsection}
   {likesubsubsection,subsection,likesubsection,section,%
      likesection,chapter,likechapter,addchap,appendix,part,likepart}
\Configure{endlikesubsubsection}
   {subsubsection,subsection,likesubsection,section,%
      likesection,chapter,likechapter,addchap,appendix,part,likepart}
\Configure{endparagraph}
   {likeparagraph,subsubsection,likesubsubsection,subsection,%
    likesubsection,section,%
    likesection,chapter,likechapter,addchap,appendix,part,likepart}
\Configure{endchapter}{likechapter,addchap,appendix,part,likepart}
\Configure{endlikechapter}{chapter,appendix,part,likeparaddchap,addchap}
\Configure{endaddchap}{chapter,likechapter,appendix,part,likepart}
\Configure{endappendix}{chapter,likechapter,addchap,part,likepart}

\ifx \part\:UnDef \else
   \Configure{endpart}{likepart}
\Configure{endlikepart}{endpart}
\Configure{part}{}{}
   {\IgnorePar \EndP\HCode{<h1 class="partHead"\a:LRdir>}%
       \HCode{<span class="titlemark">}\partname \ \thepart
       \HCode{<br /></span>}}
   {\HCode{</h1>}\IgnoreIndent\par}
\Configure{likepart}{}{}
   {\IgnorePar\EndP\HCode{<h1 class="likepartHead"\a:LRdir>}}
   {\HCode{</h1>}\IgnoreIndent\par}
\Configure{partTITLE+}{\thepart\space #1}
\Configure{likepartTITLE+}{#1}
\Css{h1.partHead{text-align: center}}

\fi

\ConfigureToc{lof}
  {\HCode{<span class="lofToc" \a:LRdir>}}{\ }{}{\HCode{</span><br />}}
\ConfigureToc{lot}
  {\HCode{<span class="lotToc" \a:LRdir>}}{\ }{}{\HCode{</span><br />}}


\Configure{paragraph}{}{}
  {\ShowPar\IgnoreIndent\HCode{<span class="paragraphHead"\a:LRdir>}\begingroup\bf}
  {\endgroup\HCode{</span>}}
\Configure{likeparagraph}{}{}
  {\ShowPar\IgnoreIndent\HCode{<span class="likeparagraphHead"\a:LRdir>}}
  {\HCode{</span>}}
\Css{.paragraphHead, .likeparagraphHead
   { margin-top:2em; font-weight: bold;}}

\ConfigureMark{subparagraph}{\thesubparagraph}
\Configure{subparagraph}{}{}
  {\ShowPar\HCode{<span class="subparagraphHead"\a:LRdir>}\begingroup\bf
   \TitleMark\space}
  {\endgroup\HCode{</span>}\IgnorePar}
\Configure{likesubparagraph}{}{}
  {\ShowPar\HCode{<span class="likesubparagraphHead"\a:LRdir>}\begingroup\bf}
  {\endgroup\HCode{</span>}\IgnorePar}
\Css{.subparagraphHead, .likesubparagraphHead
   { font-weight: bold;}}
\ConfigureEnv{picture}
   {\bgroup\ifvmode \Configure{HtmlPar}
      {\EndP\HCode{<!--l. \the\inputlineno-->%
}\HCode{<p
            class="center" \a:LRdir>}}%
      {\EndP\HCode{<!--l. \the\inputlineno-->%
}\HCode{<p
            class="center" \a:LRdir>}}%
      {\:xhtml{\Tg</p>}}{\:xhtml{\Tg</p>}} \ShowPar\leavevmode
    \fi}
   {\egroup}{}{}
\ConfigureEnv{quote}
   {}{}
   {\IgnorePar\EndP
    \HCode{<blockquote class="\getClass{quote}">}\afterGetClass{quote}}
   {\IgnorePar\EndP\HCode{</blockquote>}\ShowPar\ShowIndent}
\NewConfigure{quoteClass}{2}
\Configure{quoteClass}{quote}{}

\def\:temp#1index=#2,#3!*?: {%
   \ifnum #2>1 \NewConfigure{IndexColumns}{1}
\Configure{IndexColumns}{#2}
\fi
   \def\:temp{#2}%
}
\expandafter\:temp\Preamble,index=0,!*?: 
\ifnum \:temp<2
   \Log:Note{for i-columns index,
               use the command line option `index=i' (e.g., index=2)}
\Configure{theindex}
   {\ifvmode \IgnorePar\fi \EndP
    \HCode{<div class="theindex">}\let\end:theidx\empty}
   {\end:theidx\HCode{</div>}}
   {\hbox\bgroup\HCode{<span class="index-item">}}
   {\HCode{<br /></span>}\egroup\hfill\break}
   {\hbox\bgroup\HCode{<span class="index-subitem">}\ \ \ \ }
   {\HCode{<br /></span>}\egroup\hfill\break}
   {\hbox\bgroup\HCode{<span class="index-subsubitem">}\ \ \ \ \ \ \ \ }
   {\HCode{<br /></span>}\egroup\hfill\break}
   {\hbox{\end:theidx\HCode{<p class="theindex">}}%
    \def\end:theidx{\HCode{</p>}}}
\Css{.index-item, .index-subitem, .index-subsubitem {display:block}}

\else
   \Log:Note{the number of columns
   requested by the option `index=\a:IndexColumns' can
   be modified through the command \string\Configure{IndexColumns}{i}}
\Configure{theindex}
   {\ifvmode \IgnorePar\fi \EndP
    \HCode{<div class="theindex">}%
    \Configure{HColumns}
     {\IgnorePar\EndP
         \HCode{<table \Hnewline class="index" width="100\%"
                     cellspacing="15"><tr style="vertical-align:top;">}}
     {\HCode{</tr></table>}}
     {\HCode{<td>}\ColMag{1.1}}
     {\IgnorePar\EndP\HCode{</td>}}
  \HColumns{\a:IndexColumns}%
  \everypar{\HtmlPar}%
  \Configure{HtmlPar}{}{\HCode{<br class="index-segment" />}}{}{}%
  \par\ShowPar
\let\end:theidx\empty}
   {\end:theidx
    \ifvmode\IgnorePar\fi \EndP\EndHColumns
\HCode{</div>}}
   {\hbox\bgroup\HCode{<span class="index-item">}}
   {\HCode{<br /></span>}\egroup\hfill\break}
   {\hbox\bgroup\HCode{<span class="index-subitem">}\ \ \ \ }
   {\HCode{<br /></span>}\egroup\hfill\break}
   {\hbox\bgroup\HCode{<span class="index-subsubitem">}\ \ \ \ \ \ \ \ }
   {\HCode{<br /></span>}\egroup\hfill\break}
   {%\ifvmode \EndP\fi
    % \hbox{\end:theidx\HCode{<p class="theindex">}}%
    % \def\end:theidx{\HCode{</p>}}
    \parindent=0pt
   }%
\Css{.index-item, .index-subitem, .index-subsubitem {display:block}}
\Css{br.index-segment:first-child {display:none}}
\Css{.index-item br,
     .index-subitem br,
     .index-subsubitem br {display:none}}
\def\add:col{\Advance:\:cols  -1 \HAdvance\HCol  1\relax
   \ifnum \:cols>0
      \c:Cols \vsplit0 to \tmp:dim  \d:Cols  \expandafter\add:col
   \fi}
\NewConfigure{HColumns}{4}
\def\c:Cols{\edef\sv:dim{\the\tmp:dim}\c:HColumns}
\def\d:Cols{\d:HColumns \tmp:dim\sv:dim }
\def\ColMag#1{\tmp:dim  #1\tmp:dim}
\def\HColumns#1{%
   \a:HColumns
   \HAssign\:cols#1  \setbox0=\vbox\bgroup
   \divide\hsize  #1  }
\def\EndHColumns{\egroup   \HAssign\HCol0
  \tmp:dim\ht0  \advance\tmp:dim  \dp0  \divide\tmp:dim  \:cols
  \add:col \c:Cols \box0 \d:Cols \b:HColumns}

\fi

\Configure{caption}{\HCode{\if:nopar  \else <br />\fi}
   \:xhtml{\IgnorePar\EndP}\HCode{<div
    class="caption"><table class="caption"\Hnewline><tr
    style="vertical-align:baseline;"  class="caption"><td class="id">}}
   {: } {\HCode{</td><td \Hnewline class="content">}}
   {\HCode{</td></tr></table></div>}\HCode{<!--tex4ht:label?:
   \cur:th\:currentlabel\space-->}%
%
}
\Css{.caption td.id{font-weight: bold; white-space: nowrap; }}
\Css{div.caption {text-align:center;}}

\ConfigureEnv{verse}
   {\ifvmode \IgnorePar\fi\EndP\Tg<div class="verse">}
   {\ifvmode \IgnorePar\fi\EndP\Tg</div>\par\ShowPar}
   {}{}
\ConfigureList{verse}
   {}{}
   {\parindent=\z@}  {\par}
\Css{.verse{white-space:nowrap; margin-left:2em}}
{\Configure{Needs}{Font\string_Size: #1}\ifcase  \@ptsize
   \or \Needs{11}\or \Needs{12}\else \fi}

\ConfigureEnv{quotation}
   {}{}
   {\IgnorePar\EndP\HCode{<blockquote class="quotation">}}
   {\IgnorePar\EndP\HCode{</blockquote>}\ShowPar}

\Configure{listof}{}{}{}{\HCode{<br />}}{}{ }
\Configure{endpart}{likepart}
\Configure{endlikepart}{endpart}
\Configure{part}{}{}
   {\IgnorePar \EndP\HCode{<h1 class="partHead"\a:LRdir>}%
       \HCode{<span class="titlemark">}\partname \ \thepart
       \HCode{<br /></span>}}
   {\HCode{</h1>}\IgnoreIndent\par}
\Configure{likepart}{}{}
   {\IgnorePar\EndP\HCode{<h1 class="likepartHead"\a:LRdir>}}
   {\HCode{</h1>}\IgnoreIndent\par}
\Configure{partTITLE+}{\thepart\space #1}
\Configure{likepartTITLE+}{#1}
\Css{h1.partHead{text-align: center}}

\ConfigureMark{chapter}
   {\if@mainmatter
       \HCode{<span class="titlemark">}\thechapter\HCode{</span>}~~\fi}
\Configure{chapter}{}{}
   {\IgnorePar\EndP\HCode{<h2 class="chapterHead"\a:LRdir>}\TitleMark{}}
   {\HCode{</h2>}\IgnoreIndent\par}
\Configure{chapterTITLE+}{\if@mainmatter\thechapter\space\fi#1}
\renewcommand\thechapter {\if@mainmatter\@arabic\c@chapter\fi}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{scrartcl}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    %  \Css{span.footnote-mark{ vertical-align: super }}
\Css{span.footnote-mark   sup.textsuperscript,
     span.footnote-mark a sup.textsuperscript{ font-size:80\%; }}
\ConfigureMark{minisec}{}
\Configure{minisec}{}{}
   {\ifvmode \IgnorePar \fi  \EndP
    \bgroup \IgnorePar\HCode{<h5 class="minisecHead"\a:LRdir>}%
    \TitleMark\space \HtmlParOff}
   {\HCode{</h5>}\HtmlParOn \IgnoreIndent\egroup\par\ShowPar}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{scrreprt}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \ConfigureEnv{description}{\IgnorePar}{}{}{}
\Configure{maketitle}
   {\ifvmode \IgnorePar\fi \EndP {\Configure{maketitle}{}{}{}{}%
\a:NoSection \let\leavevmode\empty \let\not@math@alphabet\:gobbleII
\def\text@command##1{##1}\let\selectfont\empty
\def\check@icl ##1\check@icr{}%
\let\thanks\:gobble
\def\mbox{\hbox}%
\let\\\space \def\TeX{TeX}%
\def\gobble:font##1##2{##2}\:TITLE: \no:fonts
\Tag{TITLE+}{\@title}}%
%%
    \HCode{<div  class="maketitle">}}
   {\HCode{</div>}}
   {\IgnorePar \EndP
    \NoFonts\HCode{<h2 class="titleHead"\a:LRdir>}\IgnorePar}
   {\HCode{</h2>}\IgnoreIndent\EndNoFonts}
\Css{h2.titleHead{text-align:center;}}
\Css{div.maketitle{ margin-bottom: 2em; text-align:center; }}
\:CheckOption{fn-in}\if:Option
   \Configure{thanks author date and}
   {\SaveEndP\global\setbox\fn:box=\vtop\bgroup\ShowPar
     \ifvoid\fn:box\else  \csname unvbox\endcsname\fn:box\fi}
   {\EndP\egroup\RecallEndP }
   {\HCode{<div class="author" \a:LRdir>}}{\HCode{</div>}}
   {\HCode{<div class="date" \a:LRdir>}}{\HCode{</div>}}
   {\HCode{<br class="and" \a:LRdir/>}}
   {\HCode{<br />}}
\Configure{thank}
   {\csname a:thank-mark\endcsname
\Link{tk-\the\c@footnote}{\ifx
        \footnote\thanks kt-\the\c@footnote\fi}}
   {\EndLink \csname b:thank-mark\endcsname
}
   {\HCode{<p>}\protect\Link{\ifx \footnote\thanks kt-\the\c@footnote
      \fi}{tk-\the\c@footnote}\csname a:thank-mark\endcsname
}
   {\csname b:thank-mark\endcsname
\protect\EndLink}
   {\HCode{</p>}}

\Css{div.author, div.date {text-align:center;}}
\Css{div.thanks{text-align:left; margin-left:10\%; font-size:85\%;
                font-style:italic; }}

\else
   \Configure{thanks author date and}
   {\HCode{<div class="thanks" \a:LRdir>}}{\HCode{</div>}}
   {\HCode{<div class="author" \a:LRdir>}}{\HCode{</div>}}
   {\HCode{<div class="date" \a:LRdir>}}{\HCode{</div>}}
   {\HCode{<br class="and" />}}
   {\HCode{<br />}}
\Configure{thank}
   {\csname a:thank-mark\endcsname
\Link{tk-\the\c@footnote}{}}
   {\EndLink \csname b:thank-mark\endcsname
}
   {\HCode{<br />}\protect\Link{}{tk-\the\c@footnote}\protect
     \EndLink \csname a:thank-mark\endcsname
}
   {\csname b:thank-mark\endcsname
} {}

\Css{div.author, div.date {text-align:center;}}
\Css{div.thanks{text-align:left; margin-left:10\%; font-size:85\%;
                font-style:italic; }}

\fi

\ConfigureEnv{titlepage}
   {\bgroup
      \ifvmode \IgnorePar\fi \EndP
      \HCode{<div class="titlepage">}%
      \ConfigureEnv{center}{}{}{}{}}
   {\ifvmode \IgnorePar\fi \EndP \HCode{</div>}%
    \egroup}
   {} {}
\Configure{dedication}
   {\ifvmode \IgnorePar\fi\EndP \HCode{<div class="dedication" >}}
   {\ifvmode \IgnorePar\fi\EndP \HCode{</div>}}
\Css{div.dedication {text-align:center;}}

\ConfigureMark{chapter}
   {\HCode{<span class="titlemark">}\thechapter\HCode{</span>}~~}
\Configure{chapter}{}{}
   {\IgnorePar\EndP\HCode{<h2 class="chapterHead"\a:LRdir>}\TitleMark{}}
   {\HCode{</h2>}\IgnoreIndent\par}
\Configure{chapterTITLE+}{\thechapter\space#1}
%\def\:SPAN#1#2{\HCode{<span class="#1">}#2\HCode{</span>}}

\ConfigureEnv{thebibliography}{\IgnorePar}{\ShowPar\par}{}{}

\:CheckOption{no-bib} \if:Option\else
   \:CheckOption{mouseover} \if:Option
      \ConfigureList{thebibliography}%
   {\ifvmode\IgnorePar\fi\EndP \js:on
\HCode{<div
                   class="thebibliography">}\let\en:bib=\empty}
   {\en:bib \ifvmode\IgnorePar\fi\EndP \HCode{</div>}}
   {\en:bib\def\en:bib{\ht:special {t4ht@DCopyTo: \jobname-js.tex Skip bib }%
\csname bibliography2\endcsname
\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont bib }%
%
%
        \EndP\ht:special {t4ht@DCopyTo: \jobname-js.tex Skip bib }%
%
\HCode{<!--}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont bib }%
%
\HCode{</div></bibitem>\Hnewline}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Until bib }%
%
\HCode{-->}
}\HCode{<!--}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex From bib }%
%
\HCode{<bibitem>}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Skip bib }%
%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Set1 bib }%
%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont bib }%
%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Set2 bib }%
%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Skip bib }%
%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont bib }%
%
\HCode{<div class="js">}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Skip bib }%
%
\HCode{-->}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont bib }%
%
%
        \Configure{HtmlPar}
   {\EndP\HCode{<p class="bibitem" \a:LRdir>}}
   {\EndP\HCode{<p class="bibitem" \a:LRdir>}}
   {\Tg</p>} {\Tg</p>}%
\par\ShowPar
        \leavevmode \ht:special {t4ht@DCopyTo: \jobname-js.tex Skip bib }%
\HCode{<span
      class="biblabel">}\Configure{HtmlPar}
   {\EndP\HCode{<p class="bibitem-p" \a:LRdir>}}
   {\EndP\HCode{<p class="bibitem-p" \a:LRdir>}}
   {\Tg</p>} {\Tg</p>}%
}
   {\HCode{<span class="bibsp">}\:nbsp
      \:nbsp\:nbsp\HCode{</span></span>}\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont bib }%
}

   \else
      \ConfigureList{thebibliography}%
   {\ifvmode\IgnorePar\fi \EndP \HCode{<div
                   class="thebibliography">}\let\en:bib=\empty}
   {\en:bib \ifvmode\IgnorePar\fi \EndP \HCode{</div>}}
   {\en:bib\def\en:bib{\csname bibliography2\endcsname
\EndP}%
   \Configure{HtmlPar}
   {\EndP\HCode{<p class="bibitem" \a:LRdir>}}
   {\EndP\HCode{<p class="bibitem" \a:LRdir>}}
   {\Tg</p>} {\Tg</p>}%
\par\ShowPar
    \HCode{<span class="biblabel">}\Configure{HtmlPar}
   {\EndP\HCode{<p class="bibitem-p" \a:LRdir>}}
   {\EndP\HCode{<p class="bibitem-p" \a:LRdir>}}
   {\Tg</p>} {\Tg</p>}%
}
   {\HCode{<span class="bibsp">}\:nbsp
      \:nbsp\:nbsp\HCode{</span></span>}}

   \fi
   \Css{p.bibitem { text-indent: -2em; margin-left: 2em;
       margin-top:0.6em; margin-bottom:0.6em;     }}
\Css{p.bibitem-p { text-indent: 0em; margin-left: 2em;
       margin-top:0.6em; margin-bottom:0.6em;     }}

\fi


\ifx \part\:UnDef \else
   \Configure{endpart}{likepart}
\Configure{endlikepart}{endpart}
\Configure{part}{}{}
   {\IgnorePar \EndP\HCode{<h1 class="partHead"\a:LRdir>}%
       \HCode{<span class="titlemark">}\partname \ \thepart
       \HCode{<br /></span>}}
   {\HCode{</h1>}\IgnoreIndent\par}
\Configure{likepart}{}{}
   {\IgnorePar\EndP\HCode{<h1 class="likepartHead"\a:LRdir>}}
   {\HCode{</h1>}\IgnoreIndent\par}
\Configure{partTITLE+}{\thepart\space #1}
\Configure{likepartTITLE+}{#1}
\Css{h1.partHead{text-align: center}}

\fi

\ConfigureToc{lof}
  {\HCode{<span class="lofToc" \a:LRdir>}}{\ }{}{\HCode{</span><br />}}
\ConfigureToc{lot}
  {\HCode{<span class="lotToc" \a:LRdir>}}{\ }{}{\HCode{</span><br />}}

\ConfigureEnv{picture}
   {\bgroup\ifvmode \Configure{HtmlPar}
      {\EndP\HCode{<!--l. \the\inputlineno-->%
}\HCode{<p
            class="center" \a:LRdir>}}%
      {\EndP\HCode{<!--l. \the\inputlineno-->%
}\HCode{<p
            class="center" \a:LRdir>}}%
      {\:xhtml{\Tg</p>}}{\:xhtml{\Tg</p>}} \ShowPar\leavevmode
    \fi}
   {\egroup}{}{}

\ConfigureEnv{quote}
   {}{}
   {\IgnorePar\EndP
    \HCode{<blockquote class="\getClass{quote}">}\afterGetClass{quote}}
   {\IgnorePar\EndP\HCode{</blockquote>}\ShowPar\ShowIndent}
\NewConfigure{quoteClass}{2}
\Configure{quoteClass}{quote}{}

\def\:temp#1index=#2,#3!*?: {%
   \ifnum #2>1 \NewConfigure{IndexColumns}{1}
\Configure{IndexColumns}{#2}
\fi
   \def\:temp{#2}%
}
\expandafter\:temp\Preamble,index=0,!*?: 
\ifnum \:temp<2
   \Log:Note{for i-columns index,
               use the command line option `index=i' (e.g., index=2)}
\Configure{theindex}
   {\ifvmode \IgnorePar\fi \EndP
    \HCode{<div class="theindex">}\let\end:theidx\empty}
   {\end:theidx\HCode{</div>}}
   {\hbox\bgroup\HCode{<span class="index-item">}}
   {\HCode{<br /></span>}\egroup\hfill\break}
   {\hbox\bgroup\HCode{<span class="index-subitem">}\ \ \ \ }
   {\HCode{<br /></span>}\egroup\hfill\break}
   {\hbox\bgroup\HCode{<span class="index-subsubitem">}\ \ \ \ \ \ \ \ }
   {\HCode{<br /></span>}\egroup\hfill\break}
   {\hbox{\end:theidx\HCode{<p class="theindex">}}%
    \def\end:theidx{\HCode{</p>}}}
\Css{.index-item, .index-subitem, .index-subsubitem {display:block}}

\else
   \Log:Note{the number of columns
   requested by the option `index=\a:IndexColumns' can
   be modified through the command \string\Configure{IndexColumns}{i}}
\Configure{theindex}
   {\ifvmode \IgnorePar\fi \EndP
    \HCode{<div class="theindex">}%
    \Configure{HColumns}
     {\IgnorePar\EndP
         \HCode{<table \Hnewline class="index" width="100\%"
                     cellspacing="15"><tr style="vertical-align:top;">}}
     {\HCode{</tr></table>}}
     {\HCode{<td>}\ColMag{1.1}}
     {\IgnorePar\EndP\HCode{</td>}}
  \HColumns{\a:IndexColumns}%
  \everypar{\HtmlPar}%
  \Configure{HtmlPar}{}{\HCode{<br class="index-segment" />}}{}{}%
  \par\ShowPar
\let\end:theidx\empty}
   {\end:theidx
    \ifvmode\IgnorePar\fi \EndP\EndHColumns
\HCode{</div>}}
   {\hbox\bgroup\HCode{<span class="index-item">}}
   {\HCode{<br /></span>}\egroup\hfill\break}
   {\hbox\bgroup\HCode{<span class="index-subitem">}\ \ \ \ }
   {\HCode{<br /></span>}\egroup\hfill\break}
   {\hbox\bgroup\HCode{<span class="index-subsubitem">}\ \ \ \ \ \ \ \ }
   {\HCode{<br /></span>}\egroup\hfill\break}
   {%\ifvmode \EndP\fi
    % \hbox{\end:theidx\HCode{<p class="theindex">}}%
    % \def\end:theidx{\HCode{</p>}}
    \parindent=0pt
   }%
\Css{.index-item, .index-subitem, .index-subsubitem {display:block}}
\Css{br.index-segment:first-child {display:none}}
\Css{.index-item br,
     .index-subitem br,
     .index-subsubitem br {display:none}}
\def\add:col{\Advance:\:cols  -1 \HAdvance\HCol  1\relax
   \ifnum \:cols>0
      \c:Cols \vsplit0 to \tmp:dim  \d:Cols  \expandafter\add:col
   \fi}
\NewConfigure{HColumns}{4}
\def\c:Cols{\edef\sv:dim{\the\tmp:dim}\c:HColumns}
\def\d:Cols{\d:HColumns \tmp:dim\sv:dim }
\def\ColMag#1{\tmp:dim  #1\tmp:dim}
\def\HColumns#1{%
   \a:HColumns
   \HAssign\:cols#1  \setbox0=\vbox\bgroup
   \divide\hsize  #1  }
\def\EndHColumns{\egroup   \HAssign\HCol0
  \tmp:dim\ht0  \advance\tmp:dim  \dp0  \divide\tmp:dim  \:cols
  \add:col \c:Cols \box0 \d:Cols \b:HColumns}

\fi

\Configure{caption}{\HCode{\if:nopar  \else <br />\fi}
   \:xhtml{\IgnorePar\EndP}\HCode{<div
    class="caption"><table class="caption"\Hnewline><tr
    style="vertical-align:baseline;"  class="caption"><td class="id">}}
   {: } {\HCode{</td><td \Hnewline class="content">}}
   {\HCode{</td></tr></table></div>}\HCode{<!--tex4ht:label?:
   \cur:th\:currentlabel\space-->}%
%
}
\Css{.caption td.id{font-weight: bold; white-space: nowrap; }}
\Css{div.caption {text-align:center;}}


\ConfigureEnv{verse}
   {\ifvmode \IgnorePar\fi\EndP\Tg<div class="verse">}
   {\ifvmode \IgnorePar\fi\EndP\Tg</div>\par\ShowPar}
   {}{}
\ConfigureList{verse}
   {}{}
   {\parindent=\z@}  {\par}
\Css{.verse{white-space:nowrap; margin-left:2em}}
{\Configure{Needs}{Font\string_Size: #1}\ifcase  \@ptsize
   \or \Needs{11}\or \Needs{12}\else \fi}

\ConfigureEnv{quotation}
   {}{}
   {\IgnorePar\EndP\HCode{<blockquote class="quotation">}}
   {\IgnorePar\EndP\HCode{</blockquote>}\ShowPar}


\Configure{listof}{}{}{}{\HCode{<br />}}{}{ }


\Configure{endpart}{likepart}
\Configure{endlikepart}{endpart}
\Configure{part}{}{}
   {\IgnorePar \EndP\HCode{<h1 class="partHead"\a:LRdir>}%
       \HCode{<span class="titlemark">}\partname \ \thepart
       \HCode{<br /></span>}}
   {\HCode{</h1>}\IgnoreIndent\par}
\Configure{likepart}{}{}
   {\IgnorePar\EndP\HCode{<h1 class="likepartHead"\a:LRdir>}}
   {\HCode{</h1>}\IgnoreIndent\par}
\Configure{partTITLE+}{\thepart\space #1}
\Configure{likepartTITLE+}{#1}
\Css{h1.partHead{text-align: center}}


\ConfigureEnv{abstract}{\:xhtml{\IgnorePar\EndP}\HCode
   {<table\Hnewline class="abstract"><tr><td\Hnewline>}}
   {\EndP\HCode{</td></tr></table>}}{}{}
\Css{.abstract p {margin-left:5\%; margin-right:5\%;}}
\Css{table.abstract   {width:100\%;}}

\def\:tempa{
   \CutAt{part}
   \CutAt{likepart}
   \:CheckOption{notoc*}     \if:Option
   \Configure{tableofcontents*}
      {part,chapter,addchap,appendix}
\else
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}
      {part,likepart,chapter,likechapter,addchap,appendix}
\fi
%
}
\def\:tempb{
   \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,addchap,appendix,section}
     \MiniToc:At{likepart,/part,chapter,addchap,appendix,section}
  \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{part,/likepart,chapter,likechapter,addchap,appendix,%
             section,likesection}
     \MiniToc:At{likepart,/part,chapter,likechapter,addchap,appendix,%
             section,likesection}
  \fi
\fi
%
   \CutAt{chapter,likechapter,addchap,appendix,part}
   \CutAt{likechapter,addchap,appendix,part}
   \CutAt{addchap,chapter,likechapter,appendix,part}
   \CutAt{appendix,chapter,likechapter,addchap,part}
   \:CheckOption{notoc*}     \if:Option
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,subsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,subsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,subsection}
   \fi
\else
  \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

     \MiniToc:At{chapter,/likechapter,/appendix,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{likechapter,/appendix,/chapter,/part,%
             section,likesection,subsection,likesubsection}
     \MiniToc:At{appendix,/chapter,/likechapter,/part,%
             section,likesection,subsection,likesubsection}
   \fi
\fi
%
}
\def\:tempc{
   \:CheckOption{notoc*}     \if:Option
   \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

      \MiniToc:At{chapter,/likechapter,/addchap,/appendix,/part,%
                section,subsection}
      \MiniToc:At{likechapter,/addchap,/appendix,/chapter,/part,%
                section,subsection}
      \MiniToc:At{addchap,/likechapter,/appendix,/chapter,/part,%
                section,subsection}
      \MiniToc:At{appendix,/chapter,/likechapter,/addchap,/part,%
                section,subsection}
   \fi
\else
   \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

      \MiniToc:At{chapter,/likechapter,/addchap,/appendix,/part,%
                section,likesection,subsection,likesubsection}
      \MiniToc:At{likechapter,/addchap,/appendix,/chapter,/part,%
                section,likesection,subsection,likesubsection}
      \MiniToc:At{addchap,/likechapter,/appendix,/chapter,/part,%
                section,likesection,subsection,likesubsection}
      \MiniToc:At{appendix,/chapter,/likechapter,/addchap,/part,%
                section,likesection,subsection,likesubsection}
   \fi
\fi
%
   \CutAt{section,likesection,chapter,likechapter,addchap,appendix,part}
   \CutAt{likesection,chapter,likechapter,addchap,appendix,part}
   \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,appendix,section%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection\fi}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
     appendix,section,likesection%
        \expandafter\ifx \csname @chapter\endcsname\relax
     ,subsection,likesubsection\fi}
\fi
%
}
\def\:tempd{
   \:CheckOption{notoc*}     \if:Option
   \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

      \MiniToc:At{section,/likesection,/chapter,/likechapter,%
                /addchap,/appendix,/part,%
                subsection,subsubsection}
      \MiniToc:At{likesection,/section,/chapter,/likechapter,%
                /addchap,/appendix,/part,%
                subsection,subsubsection}
   \fi
\else
   \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

      \MiniToc:At{section,/likesection,/chapter,/likechapter,%
                /addchap,/appendix,/part,%
                subsection,likesubsection,subsubsection,likesubsubsection}
      \MiniToc:At{likesection,/section,/chapter,/likechapter,%
                /addchap,/appendix,/part,%
                subsection,likesubsection,subsubsection,likesubsubsection}
   \fi
\fi
%
   \:CheckOption{notoc*}     \if:Option
   \CutAt{subsection,section,chapter,addchap,appendix,part}
   \CutAt{likesubsection,section,chapter,addchap,appendix,part}
\else
   \CutAt{subsection,section,likesection,%
                     chapter,likechapter,addchap,appendix,part}
   \CutAt{likesubsection,section,likesection,%
                     chapter,likechapter,addchap,appendix,part}
\fi
%
   \:CheckOption{notoc*}     \if:Option
  \Configure{tableofcontents*}{part,chapter,%
    appendix,section,subsection}
\else
  \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

  \Configure{tableofcontents*}{part,likepart,chapter,likechapter,%
    appendix,section,likesection,likesubsection,subsection}
\fi
%
}

\:CheckOption{4}     \if:Option
    \expandafter\ifx \csname @chapter\endcsname\relax
                          \:tempa \:tempc \:tempd
    \else                 \:tempa \:tempb \:tempc \:tempd  \fi
\else\:CheckOption{3}     \if:Option
    \expandafter\ifx \csname @chapter\endcsname\relax
                          \:tempa \:tempc  \:tempd
    \else                 \:tempa \:tempb  \:tempc  \fi
\else\:CheckOption{2}     \if:Option
    \expandafter\ifx \csname @chapter\endcsname\relax  \:tempa \:tempc
    \else                 \:tempa \:tempb    \fi
\else\:CheckOption{1}     \if:Option
    \:tempa
\else
    \Log:Note{for sectioning pagination,
          use the command line option `1', `2', or `3'}%
\fi \fi \fi \fi

\:CheckOption{1}     \if:Option
  \:CheckOption{notoc*}     \if:Option
   \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

      \MiniToc:At{part,/likepart,section,subsection}
   \fi
   \Configure{tableofcontents*}{part,section}
\else
   \:CheckOption{nominitoc}     \if:Option
   \else
      \Log:Note{to eliminate mini tables of
          contents, use the command line option `nominitoc'}

      \MiniToc:At{part,/likepart,section,likesection,%
           subsection,likesubsection}
   \fi
   \Log:Note{for tocs without * entries, use
          command line option `notoc*'}

   \Configure{tableofcontents*}{part,likepart,section,likesection}
\fi

\fi
\Configure{endlikeparagraph}
   {paragraph,subsubsection,likesubsubsection,subsection,%
    likesubsection,section,%
    likesection,chapter,likechapter,addchap,appendix,part,likepart}
\Configure{endsubparagraph}
   {likesubparagraph,likeparagraph,subsubsection,likesubsubsection,%
    subsection,likesubsection,section,%
    likesection,chapter,likechapter,addchap,appendix,part,likepart}
\Configure{endlikesubparagraph}
   {subparagraph,likeparagraph,subsubsection,likesubsubsection,%
    subsection,likesubsection,section,%
    likesection,chapter,likechapter,addchap,appendix,part,likepart}

\Configure{endsection}
     {likesection,chapter,likechapter,addchap,appendix,part,likepart}
\Configure{endlikesection}
     {section,chapter,likechapter,addchap,appendix,part,likepart}

\Configure{endsubsection}
   {likesubsection,section,likesection,chapter,%
      likechapter,addchap,appendix,part,likepart}
\Configure{endlikesubsection}
   {subsection,section,likesection,chapter,%
      likechapter,addchap,appendix,part,likepart}
\Configure{endsubsubsection}
   {likesubsubsection,subsection,likesubsection,section,%
      likesection,chapter,likechapter,addchap,appendix,part,likepart}
\Configure{endlikesubsubsection}
   {subsubsection,subsection,likesubsection,section,%
      likesection,chapter,likechapter,addchap,appendix,part,likepart}
\Configure{endparagraph}
   {likeparagraph,subsubsection,likesubsubsection,subsection,%
    likesubsection,section,%
    likesection,chapter,likechapter,addchap,appendix,part,likepart}

\Configure{endaddchap}{likechapter,appendix,part,likepart,chapter}
\Configure{endchapter}{likechapter,appendix,part,likepart,addchap}
\Configure{endlikechapter}{chapter,appendix,part,likepart,addchap}
\Configure{endappendix}{chapter,likechapter,part,likepart,addchap}

\Configure{addchapTITLE+}{#1}
\def\tocaddchap#1#2#3{\par
   \HCode{<span class="addchapToc" \a:LRdir>}#2\HCode{</span>}\par}%
%  \Css{span.footnote-mark{ vertical-align: super }}
\Css{span.footnote-mark   sup.textsuperscript,
     span.footnote-mark a sup.textsuperscript{ font-size:80\%; }}
\ConfigureMark{minisec}{}
\Configure{minisec}{}{}
   {\ifvmode \IgnorePar \fi  \EndP
    \bgroup \IgnorePar\HCode{<h5 class="minisecHead"\a:LRdir>}%
    \TitleMark\space \HtmlParOff}
   {\HCode{</h5>}\HtmlParOn \IgnoreIndent\egroup\par\ShowPar}

\ConfigureMark{subsection}
   {\ifnum \c:secnumdepth>\c@secnumdepth  \expandafter\:gobble
    \else
       \HCode{<span class="titlemark">}\thesubsection
       \HCode{</span>}\fi }
\Configure{subsectionTITLE+}{\ifnum \c:secnumdepth>\c@secnumdepth
      \ifnum \c@secnumdepth > 0
      \thesubsection\space
    \fi\fi #1}

\Configure{subsection}{}{}
   {\ifvmode \IgnorePar\fi
    \EndP\bgroup \IgnorePar\HCode{<h4 class="subsectionHead"\a:LRdir>}%
    \TitleMark~~\HtmlParOff}
   {\HCode{</h4>}\HtmlParOn \IgnoreIndent\egroup\par\ShowPar}
\Configure{likesubsection}{}{}{\EndP\bgroup
   \ifvmode \IgnorePar\fi
   \HCode{<h4 class="likesubsectionHead"\a:LRdir>}\HtmlParOff }
  {\HCode{</h4>}\HtmlParOn \IgnoreIndent\egroup\par\ShowPar}
\Configure{likesubsectionTITLE+}{#1}
\def\tocpart#1#2#3{\par
   \HCode{<span class="partToc" \a:LRdir>}\if !#1!\else
                                   #1~~\fi #2\HCode{</span>}\par}%
\def\toclikepart#1#2#3{\par
   \HCode{<span class="likepartToc" \a:LRdir>}#2\HCode{</span>}\par}%
\Css{.partToc a, .partToc, .likepartToc a, .likepartToc
        {line-height: 200\%; font-weight:bold; font-size:110\%;}}
   \Css{.chapterToc a, .chapterToc, .likechapterToc a, .likechapterToc,
        .appendixToc a, .appendixToc, .addchapToc a
        {line-height: 200\%; font-weight:bold;}}
   \def\tocchapter#1#2#3{\par
      \HCode{<span class="chapterToc" \a:LRdir>}#1~~#2\HCode{</span>}\par}
   \def\toclikechapter#1#2#3{\par
      \HCode{<span class="likechapterToc" \a:LRdir>}#2\HCode{</span>}\par}%
   \def\tocaddchap#1#2#3{\par
      \HCode{<span class="addchapToc" \a:LRdir>}#2\HCode{</span>}\par}%
   \def\tocappendix#1#2#3{\par
      \HCode{<span class="appendixToc" \a:LRdir>}#1~~#2\HCode{</span>}\par}
   \def\tocsection#1#2#3{\par\ \toc:num{section}{#1}{#2}\par}
   \def\toclikesection#1#2#3{\par\
      \HCode{<span class="likesectionToc" \a:LRdir>}#2\HCode{</span>}\par}
   \def\tocsubsection#1#2#3{\par\ \ \toc:num{subsection}{#1}{#2}\par}
   \def\toclikesubsection#1#2#3{\par
      \ \ \HCode{<span class="likesubsectionToc" \a:LRdir>}#2\HCode{</span>}\par}
   \def\tocsubsubsection#1#2#3{\par
      \ \ \ \toc:num{subsubsection}{#1}{#2}\par}
   \def\toclikesubsubsection#1#2#3{\par
      \ \ \ \HCode{<span class="likesubsubsectionToc" \a:LRdir>}#2\HCode{</span>}\par}
   \def\tocparagraph#1#2#3{\par\ \ \ \toc:num{paragraph}{#1}{#2}\par}
   \def\toclikeparagraph#1#2#3{\par
      \ \ \ \HCode{<span class="likeparagraphToc" \a:LRdir>}#2\HCode{</span>}\par}
   \def\tocsubparagraph#1#2#3{\par
      \ \ \ \ \ \toc:num{subparagraph}{#1}{#2}\par}
   \def\toclikesubparagraph#1#2#3{\par
      \ \ \ \ \ \HCode{<span class="likesubparagraphToc" \a:LRdir>}#2\HCode{</span>}\par}
\def\toc:num#1#2#3{\def\:temp{#1#2}%
   \HCode{<span class="#1Toc" \a:LRdir>}\ifx \:temp\empty
   \else \def\:temp{#2}\ifx\:temp\empty\else #2~~\fi\fi #3\HCode{</span>}}
\Configure{@begin}{theindex}{\ifx \indexname\empty \else
    \chapter*{\indexname}\fi}
\ConfigureMark{section}
   {\ifnum \c:secnumdepth>\c@secnumdepth \expandafter\:gobble
    \else
       \HCode{<span class="titlemark">}\thesection\HCode{</span>}\fi }
\Configure{sectionTITLE+}{\ifnum \c:secnumdepth>\c@secnumdepth
      \ifnum \c@secnumdepth > 0
      \thesection\space
    \fi\fi #1}

\Configure{section}{}{}
   {\ifvmode \IgnorePar\fi \EndP\IgnorePar
    \HCode{<h3 class="sectionHead"\a:LRdir>}\TitleMark~~\HtmlParOff}
   {\HCode{</h3>}\HtmlParOn \IgnoreIndent \ShowPar \par}
\Configure{likesection}{}{}
   {\ifvmode \IgnorePar\fi
    \EndP\IgnorePar\HCode{<h3 class="likesectionHead"\a:LRdir>}\HtmlParOff}
   {\HCode{</h3>}\HtmlParOn \IgnoreIndent \ShowPar\par}
\Configure{likesectionTITLE+}{#1}
\ConfigureMark{subsubsection}
   {\ifnum \c:secnumdepth>\c@secnumdepth  \expandafter\:gobble
    \else
       \HCode{<span class="titlemark">}\@seccntformat{subsubsection}%
       \HCode{</span>}\fi}
\Configure{subsubsectionTITLE+}{\ifnum \c:secnumdepth>\c@secnumdepth
      \ifnum \c@secnumdepth > 0
      \thesubsubsection\space
    \fi\fi #1}

\Configure{subsubsection}{}{}
   {\ifvmode \IgnorePar \fi  \EndP
    \bgroup \IgnorePar\HCode{<h5 class="subsubsectionHead"\a:LRdir>}%
    \TitleMark\space \HtmlParOff}
   {\HCode{</h5>}\HtmlParOn \IgnoreIndent\egroup\par\ShowPar}
\Configure{likesubsubsection}{}{}
   {\ifvmode \IgnorePar\fi \EndP\bgroup\IgnorePar
    \HCode{<h5 class="likesubsubsectionHead"\a:LRdir>}\HtmlParOff}
   {\HCode{</h5>}\HtmlParOn \IgnoreIndent\egroup\par\ShowPar}

\ConfigureMark{appendix}{\HCode{<span class="titlemark">}%
   \thechapter\HCode{</span>}}
\Configure{appendix}{}{}
   {\IgnorePar\EndP\HCode{<h2 class="appendixHead"\a:LRdir>}\TitleMark{}.~~}
   {\HCode{</h2>}\IgnoreIndent\par}
\Configure{appendixTITLE+}{\thechapter\space#1}
\Configure{likechapter}{}{}
   {\IgnorePar\EndP\HCode{<h2 class="likechapterHead"\a:LRdir>}}
   {\HCode{</h2>}\IgnoreIndent\par}
\Configure{likechapterTITLE+}{#1}
\Configure{addchap}{}{}
   {\IgnorePar\EndP\HCode{<h2 class="addchapHead"\a:LRdir>}}
   {\HCode{</h2>}\IgnoreIndent\par}

\ConfigureList{description}%
   {\EndP\HCode{<dl \a:LRdir class="description">}%
      \PushMacro\end:itm
\global\let\end:itm=\empty}
   {\PopMacro\end:itm \global\let\end:itm \end:itm
\EndP\HCode{</dd></dl>}\ShowPar}
   {\end:itm \global\def\end:itm{\EndP\Tg</dd>}\HCode{<dt
        class="description">}\bgroup \bf}
   {\egroup\EndP\HCode{</dt><dd\Hnewline class="description">}}

\Configure{paragraph}{}{}
  {\ShowPar\IgnoreIndent\HCode{<span class="paragraphHead"\a:LRdir>}\begingroup\bf}
  {\endgroup\HCode{</span>}}
\Configure{likeparagraph}{}{}
  {\ShowPar\IgnoreIndent\HCode{<span class="likeparagraphHead"\a:LRdir>}}
  {\HCode{</span>}}
\Css{.paragraphHead, .likeparagraphHead
   { margin-top:2em; font-weight: bold;}}

\ConfigureMark{subparagraph}{\thesubparagraph}
\Configure{subparagraph}{}{}
  {\ShowPar\HCode{<span class="subparagraphHead"\a:LRdir>}\begingroup\bf
   \TitleMark\space}
  {\endgroup\HCode{</span>}\IgnorePar}
\Configure{likesubparagraph}{}{}
  {\ShowPar\HCode{<span class="likesubparagraphHead"\a:LRdir>}\begingroup\bf}
  {\endgroup\HCode{</span>}\IgnorePar}
\Css{.subparagraphHead, .likesubparagraphHead
   { font-weight: bold;}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{elsart}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{abstract}
  {\HCode{<div\Hnewline class="abstract">}\par\ShowPar}
  {}
  {\ifvmode\IgnorePar\fi \EndP\HCode{</div>}}
\Configure{keyword}
  {\HCode{<div\Hnewline class="keyword">}}
  {\ifvmode\IgnorePar\fi \EndP \HCode{</div>}}
\ConfigureEnv{abstract}
   {\ifvmode \IgnorePar\fi \EndP}
   {\ifvmode \IgnorePar\fi \EndP}
   {}{}
\ConfigureEnv{keyword}
   {\ifvmode \IgnorePar\fi \EndP}
   {\ifvmode \IgnorePar\fi \EndP}
   {}{}
\Css{div.abstract, div.abstract p, div.keyword {width:100\%;
   text-align:left;  margin-left:0em; margin-right:0em;
}}
\Css{div.abstract { border-top: 1px solid black; }}
\Css{div.keyword{ border-bottom: 1px solid black;}}
\ConfigureEnv{frontmatter}
  {\EndP\IgnorePar
   \HCode{<div  class="frontmatter"\Hnewline>}}
  {\ifvmode\IgnorePar\fi \EndP\HCode{</div>}\IgnorePar}
  {}{}
\Css{div.frontmatter {text-align:center; width:100\%;}}
\Configure{address}
  {\ifvmode \IgnorePar\fi \EndP
   \HCode{<div\Hnewline class="address">}}
  {\ifvmode\IgnorePar\fi \EndP
   \HCode{</div>}\ShowPar}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{apa}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{affil}
   {\HCode{<div class="affil">}\bgroup
    \Configure{centercr}
   {\ht:special{t4ht=<br />}}
   {\ht:everypar{\ht:everypar{\HtmlPar}}}
%
   }
   {\egroup \HCode{</div>}}
\Configure{maketitle}
   {\ifvmode \IgnorePar\fi \EndP {\Configure{maketitle}{}{}{}{}%
\a:NoSection \let\leavevmode\empty \let\not@math@alphabet\:gobbleII
\def\text@command##1{##1}\let\selectfont\empty
\def\check@icl ##1\check@icr{}%
\let\thanks\:gobble
\def\TeX{TeX}%
\def\mbox{\hbox}%
\def\gobble:font##1##2{##2}\:TITLE: \no:fonts
\def\footnotemark[##1]{}%
\Tag{TITLE+}{\@title}}
%
    \HCode{<div class="maketitle">}\bgroup
    \Configure{centercr}
   {}  {\ht:everypar{\ht:everypar{\HtmlPar}}}%
%
   }
   {\egroup\ifvmode \IgnorePar\fi \EndP \HCode{</div>}}
   {\apa:title} {\apa:endtitle}
\def\apa:title{\NoFonts\IgnorePar
   \HCode{<h2 class="titleHead"\a:LRdir>}\IgnorePar
   \global\let\apa:title=\empty   }
\def\apa:endtitle{\HCode{</h2>}\IgnoreIndent\EndNoFonts
   \global\let\apa:endtitle=\empty   }

\Configure{abstract}
   {\HCode{<div class="abstract">}\bgroup
    \Configure{centercr}
   {\ht:special{t4ht=<br />}}
   {\ht:everypar{\ht:everypar{\HtmlPar}}}
%
   }
   {\egroup \HCode{</div>}}
\Css{div.abstract{text-align:left; margin-left:10\%; margin-top:1em; }}

\Configure{caption}{\HCode{\if:nopar  \else <br />\fi}
   \:xhtml{\IgnorePar\EndP}\HCode{<table class="caption"\Hnewline><tr
    style="vertical-align:baseline;"  class="caption"><td class="id">}}
   { } {\HCode{</td><td \Hnewline class="content">}}
   {\HCode{</td></tr></table>}\HCode{<!--tex4ht:label?:
   \cur:th\:currentlabel\space-->}%
}
\Css{table.caption {text-align:left;}}

\ConfigureList{enumerate}%
   {\EndP\HCode{<ol \a:enumerate:\space
      class="enumerate\expandafter\the\csname @enumdepth\endcsname"
      \a:LRdir
     >}\PushMacro\end:itm
\global\let\end:itm=\empty
}
   {\PopMacro\end:itm \global\let\end:itm \end:itm
%
\EndP\HCode{</li></ol>}\ShowPar
}
   {\end:itm \gdef\end:itm{\EndP\Tg</li>}\DeleteMark
}
   {\HCode{<li class="enumerate" value="\expandafter\the\csname
   c@enum\romannumeral\the\@enumdepth\endcsname"\Hnewline>}\AnchorLabel
}
\ConfigureList{APAenumerate}%
   {\EndP\HCode{<ol \a:enumerate:\space
      class="enumerate\expandafter\the\csname @enumdepth\endcsname"
      \a:LRdir
     >}\PushMacro\end:itm
\global\let\end:itm=\empty
}
   {\PopMacro\end:itm \global\let\end:itm \end:itm
%
\EndP\HCode{</li></ol>}\ShowPar
}
   {\end:itm \gdef\end:itm{\EndP\Tg</li>}\DeleteMark
}
   {\HCode{<li class="enumerate" value="\expandafter\the\csname
   c@enum\romannumeral\the\@enumdepth\endcsname"\Hnewline>}\AnchorLabel
}
\Configure{seriate}
   {\HCode{<span class="seriate">}\let\end:seriate=\empty}
   {\end:seriate\HCode{</span>}}
   {\end:seriate \def\end:seriate{\HCode{</span>}}%
    \HCode{<span class="seriate-item">}\HCode{<span class="seriate-label">}}
   {\HCode{</span>}}
\ConfigureList{APAitemize}%
   {\EndP\HCode{<ul class="itemize" \a:LRdir >}\PushMacro\end:itm
     \global\let\end:itm=\empty
   }
   {\PopMacro\end:itm \global\let\end:itm \end:itm
    \EndP\HCode{</li></ul>}\ShowPar
   }
   {\end:itm \gdef\end:itm{\EndP\Tg</li>}\DeleteMark}
   {\HCode{<li class="itemize">}\AnchorLabel }

\Configure{note}
   {\HCode{<div class="note">}\bgroup
    \Configure{centercr}
   {\ht:special{t4ht=<br />}}
   {\ht:everypar{\ht:everypar{\HtmlPar}}}
%
   }
   {\egroup \HCode{</div>}}
\Css{div.note{text-align:left; margin-top:1em; }}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{JHEP}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{endpart}{likepart}
\Configure{endlikepart}{endpart}
\Configure{part}{}{}
   {\IgnorePar \EndP\HCode{<h1 class="partHead"\a:LRdir>}%
       \HCode{<span class="titlemark">}\partname \ \thepart
       \HCode{<br /></span>}}
   {\HCode{</h1>}\IgnoreIndent\par}
\Configure{likepart}{}{}
   {\IgnorePar\EndP\HCode{<h1 class="likepartHead"\a:LRdir>}}
   {\HCode{</h1>}\IgnoreIndent\par}
\Configure{partTITLE+}{\thepart\space #1}
\Configure{likepartTITLE+}{#1}
\Css{h1.partHead{text-align: center}}

\Configure{endsection}
     {likesection,chapter,likechapter,appendix,part,likepart}
\Configure{endlikesection}
     {section,chapter,likechapter,appendix,part,likepart}
\ConfigureMark{section}
   {\ifnum \c:secnumdepth>\c@secnumdepth \expandafter\:gobble
    \else
       \HCode{<span class="titlemark">}\@seccntformat{section}%
       \HCode{</span>}\fi }
\Configure{sectionTITLE+}{\ifnum \c:secnumdepth>\c@secnumdepth
      \ifnum \c@secnumdepth > 0
      \thesection\space
    \fi\fi #1}

\Configure{section}{}{}
   {\ifvmode \IgnorePar\fi \EndP\IgnorePar
    \HCode{<h3 class="sectionHead"\a:LRdir>}\TitleMark\space\HtmlParOff}
   {\HCode{</h3>}\HtmlParOn\ShowPar \IgnoreIndent \par}
\Configure{likesection}{}{}
   {\ifvmode \IgnorePar\fi
    \EndP\IgnorePar\HCode{<h3 class="likesectionHead"\a:LRdir>}\HtmlParOff}
   {\HCode{</h3>}\HtmlParOn \IgnoreIndent \ShowPar \par}
\Configure{likesectionTITLE+}{#1}

\Configure{endsubsection}
   {likesubsection,section,likesection,chapter,%
      likechapter,appendix,part,likepart}
\Configure{endlikesubsection}
   {subsection,section,likesection,chapter,%
      likechapter,appendix,part,likepart}
\ConfigureMark{subsubsection}
   {\ifnum \c:secnumdepth>\c@secnumdepth  \expandafter\:gobble
    \else
       \HCode{<span class="titlemark">}\@seccntformat{subsubsection}%
       \HCode{</span>}\fi}
\Configure{subsubsectionTITLE+}{\ifnum \c:secnumdepth>\c@secnumdepth
      \ifnum \c@secnumdepth > 0
      \thesubsubsection\space
    \fi\fi #1}

\Configure{subsubsection}{}{}
   {\ifvmode \IgnorePar \fi  \EndP
    \bgroup \IgnorePar\HCode{<h5 class="subsubsectionHead"\a:LRdir>}%
    \TitleMark\space \HtmlParOff}
   {\HCode{</h5>}\HtmlParOn \IgnoreIndent\egroup\par\ShowPar}
\Configure{likesubsubsection}{}{}
   {\ifvmode \IgnorePar\fi \EndP\bgroup\IgnorePar
    \HCode{<h5 class="likesubsubsectionHead"\a:LRdir>}\HtmlParOff}
   {\HCode{</h5>}\HtmlParOn \IgnoreIndent\egroup\par\ShowPar}

\ConfigureMark{subsection}
   {\ifnum \c:secnumdepth>\c@secnumdepth  \expandafter\:gobble
    \else
       \HCode{<span class="titlemark">}\@seccntformat{subsection}%
       \HCode{</span>}\fi }
\Configure{subsectionTITLE+}{\ifnum \c:secnumdepth>\c@secnumdepth
      \ifnum \c@secnumdepth > 0
      \thesubsection\space
    \fi\fi #1}

\Configure{subsection}{}{}
   {\ifvmode \IgnorePar\fi
    \EndP\bgroup \IgnorePar\HCode{<h4 class="subsectionHead"\a:LRdir>}%
    \TitleMark\space \HtmlParOff}
   {\HCode{</h4>}\HtmlParOn \IgnoreIndent\egroup\par\ShowPar}
\Configure{likesubsection}{}{}{\EndP\bgroup
   \ifvmode \IgnorePar\fi
   \HCode{<h4 class="likesubsectionHead"\a:LRdir>}\HtmlParOff }
  {\HCode{</h4>}\HtmlParOn \IgnoreIndent\egroup\par\ShowPar}
\Configure{likesubsectionTITLE+}{#1}


\Configure{endsubsubsection}
   {likesubsubsection,subsection,likesubsection,section,%
      likesection,chapter,likechapter,appendix,part,likepart}
\Configure{endlikesubsubsection}
   {subsubsection,subsection,likesubsection,section,%
      likesection,chapter,likechapter,appendix,part,likepart}

\ConfigureMark{paragraph}
   {\ifnum \c:secnumdepth>\c@secnumdepth  \expandafter\:gobble
    \else
       \HCode{<span class="titlemark">}\theparagraph\space
       \HCode{</span>}\fi}
\Configure{paragraph}{}{}
   {\ifvmode \IgnorePar \fi  \EndP
    \bgroup \IgnorePar\HCode{<h5 class="paragraphHead"\a:LRdir>}%
    \TitleMark\space \HtmlParOff}
   {\HCode{</h5>}\HtmlParOn \IgnoreIndent\egroup}
\Configure{likeparagraph}{}{}
   {\ifvmode \IgnorePar \fi  \EndP
    \bgroup \IgnorePar\HCode{<h5 class="likeparagraphHead"\a:LRdir>}%
    \HtmlParOff}
   {\HCode{</h5>}\HtmlParOn \IgnoreIndent\egroup}
\Css{.paragraphHead, .likeparagraphHead  { font-style:italic; }}

\Css{.sectionHead, .partHead{text-transform:uppercase}}
\Css{.subsubsectionHead, .likesubsubsectionHead {font-style: italic;}}
\Configure{abstract}
   {\ifvmode \IgnorePar\fi \EndP
    \HCode{<div class="abstract">}\IgnoreIndent}
   {\ifvmode \IgnorePar\fi \EndP \HCode{</div>}}
\Configure{accepted}
   {\ifvmode \IgnorePar\fi \EndP \HCode{<div class="accepted">}}
   {\ifvmode \IgnorePar\fi \EndP \HCode{</div>}}
\Configure{author}
   {\ifvmode \IgnorePar\fi \EndP
    \HCode{<div class="author">}\par \ShowPar}
   {\ifvmode \IgnorePar\fi \EndP \HCode{</div>}}
\Configure{conference}
   {\ifvmode \IgnorePar\fi \EndP \HCode{<div class="conference">}}
   {\ifvmode \IgnorePar\fi \EndP \HCode{</div>}}
\Configure{dedicated}
   {\ifvmode \IgnorePar\fi \EndP \HCode{<div class="dedicated">}}
   {\ifvmode \IgnorePar\fi \EndP \HCode{</div>}}
\Configure{keywords}
   {\ifvmode \IgnorePar\fi \EndP \HCode{<div class="keywords">}}
   {\ifvmode \IgnorePar\fi \EndP \HCode{</div>}}
\Configure{preprint}
   {\ifvmode \IgnorePar\fi \EndP \HCode{<div class="preprint">}}
   {\ifvmode \IgnorePar\fi \EndP \HCode{</div>}}
\Configure{received}
   {\ifvmode \IgnorePar\fi \EndP \HCode{<div class="received">}}
   {\ifvmode \IgnorePar\fi \EndP \HCode{</div>}}
\Configure{title}
   {\ifvmode \IgnorePar\fi \EndP \HCode{<div class="title">}}
   {\ifvmode \IgnorePar\fi \EndP \HCode{</div>}}
\Css{.abstract{margin-top:1em; margin-bottom:1em;}}
\Css{.accepted{margin-top:1em; margin-bottom:1em; text-align:right;}}
\Css{div.author{margin-top:1em; margin-bottom:1em; margin-left:2em;}}
\Css{.conference{margin-top:1em; margin-bottom:1em;}}
\Css{.dedicated{margin-top:1em; margin-bottom:1em;}}
\Css{.keywords{margin-top:1em; margin-bottom:1em;}}
\Css{.preprint{margin-top:1em; margin-bottom:1em;}}
\Css{.received{margin-top:1em; margin-bottom:1em; text-align:right;}}
\Css{.title{margin-top:1em; margin-bottom:1em;}}
\:CheckOption{no-bib} \if:Option\else
   \:CheckOption{mouseover} \if:Option
      \Configure{cite}
  {\HCode{<span class="cite">}}
  {\HCode{</span>}}
  {\Link[ \mo:args{cite}{\@citeb}{\expandafter
              \jsHash\expandafter{\expandafter X\@citeb}}%
]}
  {\EndLink }
\expandafter\def\csname c:mouseover-cite:\endcsname{%
  \def\:tempb{cite}\csname c:mouseover-?:\endcsname}
\Configure{mouseover-cite}{tex4ht.body,FULLHTML}

      \Configure{bibitem}
   {\bibitem:link}
   {\EndLink\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont bib }%
}
\def\bibitem:link#1#2{\ht:special {t4ht@DCopyTo: \jobname-js.tex Skip bib }%
\HCode
   {<!--}\ht:special {t4ht@DCopyTo: \jobname-js.tex Addr1 bib }%
\HCode{#2=}\ht:special {t4ht@DCopyTo: \jobname-js.tex Addr2 bib }%
\HCode
   {-->}\Link{#1}{#2}}

   \else
      \Configure{cite}
   {\HCode{<span class="cite">}}  {\HCode{</span>}}
   {\Link}         {\EndLink}

      \Configure{bibitem}{\Link}{\EndLink}

   \fi
\fi

\:CheckOption{no-bib} \if:Option\else
   \:CheckOption{mouseover} \if:Option
      \ConfigureList{thebibliography}%
   {\ifvmode\IgnorePar\fi\EndP \js:on
\HCode{<div
                   class="thebibliography">}\let\en:bib=\empty}
   {\en:bib \ifvmode\IgnorePar\fi\EndP \HCode{</div>}}
   {\en:bib\def\en:bib{\ht:special {t4ht@DCopyTo: \jobname-js.tex Skip bib }%
\csname bibliography2\endcsname
\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont bib }%
%
%
        \EndP\ht:special {t4ht@DCopyTo: \jobname-js.tex Skip bib }%
%
\HCode{<!--}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont bib }%
%
\HCode{</div></bibitem>\Hnewline}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Until bib }%
%
\HCode{-->}
}\HCode{<!--}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex From bib }%
%
\HCode{<bibitem>}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Skip bib }%
%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Set1 bib }%
%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont bib }%
%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Set2 bib }%
%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Skip bib }%
%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont bib }%
%
\HCode{<div class="js">}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Skip bib }%
%
\HCode{-->}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont bib }%
%
%
        \Configure{HtmlPar}
   {\EndP\HCode{<p class="bibitem" \a:LRdir>}}
   {\EndP\HCode{<p class="bibitem" \a:LRdir>}}
   {\Tg</p>} {\Tg</p>}%
\par\ShowPar
        \leavevmode \ht:special {t4ht@DCopyTo: \jobname-js.tex Skip bib }%
\HCode{<span
      class="biblabel">}\Configure{HtmlPar}
   {\EndP\HCode{<p class="bibitem-p" \a:LRdir>}}
   {\EndP\HCode{<p class="bibitem-p" \a:LRdir>}}
   {\Tg</p>} {\Tg</p>}%
}
   {\HCode{<span class="bibsp">}\:nbsp
      \:nbsp\:nbsp\HCode{</span></span>}\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont bib }%
}

   \else
      \ConfigureList{thebibliography}%
   {\ifvmode\IgnorePar\fi \EndP \HCode{<div
                   class="thebibliography">}\let\en:bib=\empty}
   {\en:bib \ifvmode\IgnorePar\fi \EndP \HCode{</div>}}
   {\en:bib\def\en:bib{\csname bibliography2\endcsname
\EndP}%
   \Configure{HtmlPar}
   {\EndP\HCode{<p class="bibitem" \a:LRdir>}}
   {\EndP\HCode{<p class="bibitem" \a:LRdir>}}
   {\Tg</p>} {\Tg</p>}%
\par\ShowPar
    \HCode{<span class="biblabel">}\Configure{HtmlPar}
   {\EndP\HCode{<p class="bibitem-p" \a:LRdir>}}
   {\EndP\HCode{<p class="bibitem-p" \a:LRdir>}}
   {\Tg</p>} {\Tg</p>}%
}
   {\HCode{<span class="bibsp">}\:nbsp
      \:nbsp\:nbsp\HCode{</span></span>}}

   \fi
   \Css{p.bibitem { text-indent: -2em; margin-left: 2em;
       margin-top:0.6em; margin-bottom:0.6em;     }}
\Css{p.bibitem-p { text-indent: 0em; margin-left: 2em;
       margin-top:0.6em; margin-bottom:0.6em;     }}

\fi

\:CheckOption{fn-in}\if:Option
   \Configure{thanks}
   {\SaveEndP\global\setbox\fn:box=\vtop\bgroup\ShowPar
     \ifvoid\fn:box\else  \csname unvbox\endcsname\fn:box\fi}
   {\ifvmode\IgnorePar\fi\EndP\egroup\RecallEndP }
\Configure{thank}
   {\HCode{<sup>}\Link{tk-\the\c@footnote}{\ifx
        \footnote\thanks kt-\the\c@footnote\fi}}
   {\EndLink\HCode{</sup>}}
   {\protect\Link{\ifx \footnote\thanks kt-\the\c@footnote
      \fi}{tk-\the\c@footnote}\HCode{<sup>}}
   {\HCode{</sup>}\protect\EndLink}
   {\ifvmode\IgnorePar\fi\EndP}

\Css{div.thanks{text-align:left; margin-left:10\%; font-size:85\%;
                font-style:italic; }}

\else
   \Configure{thanks}
   {\HCode{<div class="thanks">}}{\HCode{</div>}}
\Configure{thank}
   {\csname a:thank-mark\endcsname
\Link{tk-\the\c@footnote}{}}
   {\EndLink \csname b:thank-mark\endcsname
}
   {\HCode{<br />}\protect\Link{}{tk-\the\c@footnote}\protect
     \EndLink \csname a:thank-mark\endcsname
}
   {\csname b:thank-mark\endcsname
} {}

\Css{div.thanks{text-align:left; margin-left:10\%; font-size:85\%;
                font-style:italic; }}

\fi


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%




%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{g-brief}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{g-brief}
   {\ifvmode \IgnorePar\fi \EndP \HCode{<div class="g-brief">}%
    \let\sv:@imakebox\@imakebox
    \let\sv:br=\\ \def\\{\HCode{</tr><tr>}}%
    \let\:clearpage\clearpage
    \def\clearpage{\let\clearpage\:clearpage
       \ifvmode \IgnorePar\fi \EndP
       \HCode{<table class="date"><tr>}%
       \IgnorePar
    }%
    \let\brf:par\par
    \def\@imakebox[##1][##2]##3{%
      \HCode{<td class="makebox-##2">}%
      \bgroup \let\\=\sv:br \let\@imakebox\sv:@imakebox
              \let\par\sv:par
                ##3%
      \egroup
      \HCode{</td>}%
      \def\par{\let\par\brf:par
         \ifvmode \IgnorePar\fi \EndP
         \HCode{</tr></table>}}%
    }%
   }
   {\let\\=\sv:br \let\@imakebox\sv:@imakebox
    \ifvmode \IgnorePar\fi \EndP \HCode{</div>}}
   {\ifvmode \IgnorePar\fi \EndP \HCode{<div class="end-g-brief">}}
   {\ifvmode \IgnorePar\fi \EndP \HCode{</div>}}
\Css{table.date {width:100\%; margin-top:2em;}}
\Css{table.date td{white-space: nowrap;}}
\Configure{letterfoot}
   {\ifvmode \IgnorePar\fi \EndP \HCode{<div class="letterfoot">}}
   {}
   {\HCode{</div>}}
\Configure{letterhead}
   {\ifvmode \IgnorePar\fi \EndP
    \HCode{<div class="letterhead"><table
                           class="from"><tr><td class="name">}}
   {\HCode{</td><td class="address">}}
   {\ifvmode \IgnorePar\fi \EndP
    \HCode{</td></tr></table><div class="retouradresse">}}
   {\ifvmode \IgnorePar\fi \EndP \HCode{</div><div class="postage">}}
   {\HCode{</div></div>}}
\Css{.letterfoot .tabular {text-align: left; margin-top:4em; }}
\Css{table.from {width:100\%; margin-bottom:2em;}}
\Css{table.from .address table {width:100\%;}}
\Css{.makebox-r {text-align:right;}}
\Configure{datumtext}
  {\HCode{<span class="datumtext">}}
  {\HCode{</span>}}
\Configure{datum}
  {\HCode{<span class="datum">}}
  {\HCode{</span>}\IgnorePar}
\Configure{anrede}
  {\ifvmode \IgnorePar\fi \EndP \HCode{<div class="anrede">}}
  {\HCode{</div>}}
\Configure{betreff}
  {\ifvmode \IgnorePar\fi \EndP\HCode{<div class="betreff">}}
  {\HCode{</div>}}
\Css{.betreff{margin-top:2em; margin-bottom:1em;}}
\Configure{gruss}
   {\HCode{<span class="gruss">}}
   {\HCode{</span>}}
\Configure{unterschrift}
   {\HCode{<span class="unterschrift">}}
   {\HCode{</span>}}
\Configure{anlagen}
   {\HCode{<span class="anlagen">}}
   {\HCode{</span>}}
\Configure{verteiler}
   {\HCode{<span class="verteiler">}}
   {\HCode{</span>}}
\Configure{sprache}
  {\HCode{<span class="sprache">}}
  {\HCode{</span>}}
\Configure{telefontex}
  {\HCode{<span class="telefontex">}}
  {\HCode{</span>}}
\Configure{telefaxtext}
  {\HCode{<span class="telefaxtext">}}
  {\HCode{</span>}}
\Configure{telextext}
  {\HCode{<span class="telextext">}}
  {\HCode{</span>}}
\Configure{emailtext}
  {\HCode{<span class="emailtext">}}
  {\HCode{</span>}}
\Configure{httptext}
  {\HCode{<span class="httptext">}}
  {\HCode{</span>}}
\Configure{banktext}
  {\HCode{<span class="banktext">}}
  {\HCode{</span>}}
\Configure{blztext}
  {\HCode{<span class="blztext">}}
  {\HCode{</span>}}
\Configure{betrefftext}
  {\HCode{<span class="betrefftext">}}
  {\HCode{</span>}}
\Configure{ihrzeichentext}
  {\HCode{<span class="ihrzeichentext">}}
  {\HCode{</span>}}
\Configure{ihrschreibentext}
  {\HCode{<span class="ihrschreibentext">}}
  {\HCode{</span>}}
\Configure{meinzeichentext}
  {\HCode{<span class="meinzeichentext">}}
  {\HCode{</span>}}
\Configure{unserzeichentext}
  {\HCode{<span class="unserzeichentext">}}
  {\HCode{</span>}}
\Configure{anlagen}
  {\HCode{<span class="anlagen">}}
  {\HCode{</span>}}
\Configure{adresse}
  {\HCode{<span class="adresse">}}
  {\HCode{</span>}}
\Configure{bank}
  {\HCode{<span class="bank">}}
  {\HCode{</span>}}
\Configure{blz}
  {\HCode{<span class="blz">}}
  {\HCode{</span>}}
\Configure{email}
  {\HCode{<span class="email">}}
  {\HCode{</span>}}
\Configure{gruss}
  {\HCode{<span class="gruss">}}
  {\HCode{</span>}}
\Configure{grussskip}
  {\HCode{<span class="grussskip">}}
  {\HCode{</span>}}
\Configure{http}
  {\HCode{<span class="http">}}
  {\HCode{</span>}}
\Configure{ihrschreiben}
  {\HCode{<span class="ihrschreiben">}}
  {\HCode{</span>}}
\Configure{ihrzeichen}
  {\HCode{<span class="ihrzeichen">}}
  {\HCode{</span>}}
\Configure{konto}
  {\HCode{<span class="konto">}}
  {\HCode{</span>}}
\Configure{land}
  {\HCode{<span class="land">}}
  {\HCode{</span>}}
\Configure{meinzeichen}
  {\HCode{<span class="meinzeichen">}}
  {\HCode{</span>}}
\Configure{name}
  {\HCode{<span class="name">}}
  {\HCode{</span>}}
\Configure{ort}
  {\HCode{<span class="ort">}}
  {\HCode{</span>}}
\Configure{postvermerk}
  {\HCode{<span class="postvermerk">}}
  {\HCode{</span>}}
\Configure{retouradresse}
  {\HCode{<span class="retouradresse">}}
  {\HCode{</span>}}
\Css{div.retouradresse { margin-bottom:2em; }}
\Configure{strasse}
  {\HCode{<span class="strasse">}}
  {\HCode{</span>}}
\Configure{telefax}
  {\HCode{<span class="telefax">}}
  {\HCode{</span>}}
\Configure{telefon}
  {\HCode{<span class="telefon">}}
  {\HCode{</span>}}
\Configure{telex}
  {\HCode{<span class="telex">}}
  {\HCode{</span>}}
\Configure{unterschrift}
  {\HCode{<span class="unterschrift">}}
  {\HCode{</span>}}
\Configure{verteiler}
  {\HCode{<span class="verteiler">}}
  {\HCode{</span>}}
\Configure{zusatz}
  {\HCode{<span class="zusatz">}}
  {\HCode{</span>}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{ltxguide}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{m}
   {\HCode{\string&\#x2329;}}
   {\HCode{\string&\#x232A;}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%








%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{amsdtx}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{maketitle}
   {\ifvmode \IgnorePar\fi \EndP {\Configure{maketitle}{}{}{}{}%
\a:NoSection \let\leavevmode\empty \let\not@math@alphabet\:gobbleII
\def\text@command##1{##1}\let\selectfont\empty
\def\check@icl ##1\check@icr{}%
\let\thanks\:gobble
\def\TeX{TeX}%
\def\mbox{\hbox}%
\def\gobble:font##1##2{##2}\:TITLE: \no:fonts
\def\footnotemark[##1]{}%
\Tag{TITLE+}{\@title}}
%
    \HCode{<div  class="maketitle">}}
   {\HCode{</div>}}
   {\NoFonts\HCode{<h2 class="titleHead"\a:LRdir>}}
   {\HCode{</h2>}\EndNoFonts}
\Css{div.maketitle {text-align:center;}}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%




%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{llncs}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{email}
   {\HCode{<span class="email">}}
   {\HCode{</span>}}
\Configure{institute}
   {\HCode{<div class="institute">}}
   {\HCode{</div>}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{lncse}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{institute}{}{}{\HCode{<br />}}
\Configure{maketitle}
   {\ifvmode \IgnorePar\fi \EndP  {\Configure{maketitle}{}{}{}{}%
\a:NoSection \let\leavevmode\empty \let\not@math@alphabet\:gobbleII
\def\text@command##1{##1}\let\selectfont\empty
\def\check@icl ##1\check@icr{}%
\let\thanks\:gobble
\def\TeX{TeX}%
\def\mbox{\hbox}%
\def\gobble:font##1##2{##2}\:TITLE: \no:fonts
\def\footnotemark[##1]{}%
\Tag{TITLE+}{\@title}}
%
    \HCode{<div class="maketitle">}}
   {\ifvmode \IgnorePar\fi \EndP \HCode{</div>}}
   {\NoFonts\IgnorePar\HCode{<h2 class="titleHead"\a:LRdir>}\IgnorePar}
   {\HCode{</h2>}\IgnoreIndent\EndNoFonts}
\Css{h2.titleHead{text-align:left;}}
\:CheckOption{fn-in}\if:Option
   \Configure{thanks author date and}
   {\SaveEndP\global\setbox\fn:box=\vtop\bgroup\ShowPar
     \ifvoid\fn:box\else  \csname unvbox\endcsname\fn:box\fi}
   {\EndP\egroup\RecallEndP }
   {\HCode{<div class="author" \a:LRdir>}}{\HCode{</div>}}
   {\HCode{<div class="date" \a:LRdir>}}{\HCode{</div>}}
   {\HCode{<brclass="and" />}}
   {\HCode{<br />}}
\else
   \Configure{thanks author date and}
   {\ifvmode \IgnorePar\fi\EndP \HCode{<div class="thanks" \a:LRdir>}}
   {\ifvmode \IgnorePar\fi\EndP \HCode{</div>}}
   {\ifvmode \IgnorePar\fi\EndP \HCode{<div class="author" \a:LRdir>}}
   {\ifvmode \IgnorePar\fi\EndP \HCode{</div>}}
   {\HCode{<div class="date" \a:LRdir>}}
   {\ifvmode \IgnorePar\fi\EndP \HCode{</div>}}
   {\HCode{<br class="and" />}}
   {\HCode{<br />}}
\fi

\ConfigureMark{chapter}
   {\if@mainmatter
       \HCode{<span class="titlemark">}\chaptername
     \ \thechapter\HCode{</span>}\fi}
\Configure{chapter}{}{}
   {\IgnorePar\EndP\HCode{<h2 class="chapterHead"\a:LRdir>}%
    \TitleMark{\HCode{<br />}}}
   {\HCode{</h2>}\IgnoreIndent\par}
\Configure{chapterTITLE+}{\if@mainmatter\thechapter\space\fi#1}
\renewcommand\thechapter {\if@mainmatter\@arabic\c@chapter\fi}

\ConfigureMark{appendix}{\HCode{<span class="titlemark">}%
   \appendixname \ \thechapter\HCode{</span>}}
\Configure{appendix}{}{}
   {\IgnorePar\EndP\HCode{<h2 class="appendixHead"\a:LRdir>}%
     \TitleMark{\HCode{<br />}}}
   {\HCode{</h2>}\IgnoreIndent\par}
\Configure{appendixTITLE+}{\thechapter\space#1}
\Configure{likechapter}{}{}
   {\IgnorePar\EndP\HCode{<h2 class="likechapterHead"\a:LRdir>}}
   {\HCode{</h2>}\IgnoreIndent\par}

\Configure{paragraph}{}{}
  {\ShowPar\IgnoreIndent
   \HCode{<span class="paragraphHead"\a:LRdir>}\begingroup\it}
  {\endgroup\HCode{</span>}\IgnorePar}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{bibtopic}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \ConfigureEnv{btSect}
   {\ifvmode \IgnorePar\fi \EndP\HCode{<div class="btSect">}}
   {\ifvmode \IgnorePar\fi \EndP\HCode{</div>}}
   {}{}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{harvard}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{harvardyear}
   {\HCode{<span class="bib-year">}}
   {\HCode{</span>}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{jurabib}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \HAssign\jbancorDepth=0
\Configure{jblink}
   {\HAdvance\jbancorDepth by 1 \Link}
   {\EndLink \HAdvance\jbancorDepth by -1 }
\Configure{jbanchor}
  {\bgroup
     \ifnum \jbancorDepth=0
       \Configure{Link}{a}{href=}{id=}{}%
     \else
       \Configure{Link}{span}{}{id=}{}%
     \fi
   \Link}
  {\EndLink  \egroup}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{scrjura}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \ConfigureEnv{contract}
{\ifvmode\IgnorePar\fi\EndP\HCode{<div class=\:qtchr contract\:qtchr>}}
{\ifvmode\IgnorePar\fi\end:prevpara\HCode{</div>}}
{}{}

\Configure{contract@paragraph@font}
  {\ifvmode\IgnorePar\fi\end:prevpara\HCode{<div class=\:qtchr paragraph\:qtchr>}}
  {\Tg</div>}

\Configure{parformat}
{\EndP\HCode{<p class=\:qtchr para\:qtchr>\Hnewline
<span class=\:qtchr sentence\:qtchr>}}
    {\Tg</span>}{\Tg</p>}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{cp1256}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{textdegree}{{\leavevmode\ht:special{t4ht@+&{35}x00B0;}x}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{8859-6}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{textdegree}{{\leavevmode\ht:special{t4ht@+&{35}x00B0;}x}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{germanb}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \ifx\A:charset\empty
\def\A:charset{charset=iso-8859-1}
\fi

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{ngermanb}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \ifx\A:charset\empty
\def\A:charset{charset=iso-8859-1}
\fi

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{manju}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{@TITLE}{\let\@title=\empty}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{verbatim}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{verbatiminput}
  {\HAssign\Verb:N=0 \ifvmode \IgnorePar\fi \EndP
   \HCode{<div class="verbatiminput"\a:LRdir>}}
  {\ifvmode \IgnorePar\fi \EndP \HCode{</div>}}
\Css{div.verbatiminput
       {font-family: monospace,monospace; white-space: nowrap; }}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{minted}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{InlineCode}{\HCode{<code>}}{\HCode{</code>}}
\Configure{MintedColorbg}
   {\ifvmode\IgnorePar\fi\EndP\HCode{<div class="minted-color-box" style="background-color:\#\minted:bgcolor">}}
   {\ifvmode\IgnorePar\fi\EndP\HCode{</div>}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{pythontex}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{InlineCode}{\HCode{<code>}}{\HCode{</code>}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{prosper}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{maketitle}
   {\ifvmode \IgnorePar\fi \EndP
    {\def\@title{\@Title}{\Configure{maketitle}{}{}{}{}%
\a:NoSection \let\leavevmode\empty \let\not@math@alphabet\:gobbleII
\def\text@command##1{##1}\let\selectfont\empty
\def\check@icl ##1\check@icr{}%
\let\thanks\:gobble
\def\TeX{TeX}%
\def\mbox{\hbox}%
\def\gobble:font##1##2{##2}\:TITLE: \no:fonts
\def\footnotemark[##1]{}%
\Tag{TITLE+}{\@title}}
}%
    \HCode{<div class="maketitle">}}
   {\ifvmode \IgnorePar\fi \EndP \HCode{</div>}\par}
   {\NoFonts\IgnorePar \EndP
    \HCode{<h2 class="titleHead"\a:LRdir>}\IgnorePar}
   {\HCode{</h2>}\IgnoreIndent\EndNoFonts}

\ConfigureEnv{Itemize}
   {\ifvmode \IgnorePar\fi \EndP}{\ShowPar
}
   {}{}
\ConfigureList{Itemize}%
   {\EndP\HCode{<ul \a:LRdir class="itemize\expandafter\the
          \csname @itemdepth\endcsname">}%
       \PushMacro\end:itm
\global\let\end:itm=\empty}
   {\PopMacro\end:itm \global\let\end:itm \end:itm
\EndP\HCode{</li></ul>}\ShowPar}
   {\end:itm \global\def\end:itm{\EndP\Tg</li>}\DeleteMark}
   {\HCode{<li class="itemize">}}
\ConfigureEnv{itemstep}
   {\ifvmode \IgnorePar\fi
    \EndP\HCode{<ul \a:LRdir class="itemstep\expandafter\the
          \csname @itemdepth\endcsname">}%
       \PushMacro\end:itm
\global\let\end:itm=\empty}
   {\PopMacro\end:itm \global\let\end:itm \end:itm
\ifvmode \IgnorePar\fi\EndP
    \HCode{</li></ul>}\ShowPar}
   {}
   {}
\ConfigureList{itemstep}
   {}
   {}
   {\end:itm \global\def\end:itm{\EndP\Tg</li>}\DeleteMark}
   {\HCode{<li class="itemize\ifnum
                 \c@item@step>\c@overlaysCount -hide\fi">}}
\Css{li.itemize-hide {visibility:hidden;}}

\Configure{slidetitle}
   {\NoFonts \ifvmode \IgnorePar\fi \EndP
    \HCode{<h2 class="slidetitle">} }
   {\ifvmode \IgnorePar\fi \EndP \HCode{</h2>}\EndNoFonts}
\Css{h2.slidetitle {text-align:center;}}
\Configure{Subtitle}
   {\ifvmode \IgnorePar\fi \EndP
    \HCode{<div class="Subtitle">}}
   {\ifvmode \IgnorePar\fi \EndP \HCode{</div>}}
\Configure{email}
   {\ifvmode \IgnorePar\fi \EndP
    \HCode{<div class="email">}\Link[mailto:\@email]{}{}}
   {\EndLink \ifvmode \IgnorePar\fi \EndP \HCode{</div>}}
\Configure{institution}
   {\ifvmode \IgnorePar\fi \EndP
    \HCode{<div class="institution">}}
   {\ifvmode \IgnorePar\fi \EndP \HCode{</div>}}
\Css{div.email, div.institution {text-align:center;}}
\:CheckOption{1} \if:Option
   \HAssign\Slide:cnt=0
\ConfigureEnv{slide}
  {\ifnum \Slide:cnt>0
      \ifnum \Slide:cnt>1
         \ifvmode\IgnorePar\fi
      \fi  \ifnum \Slide:cnt=1
    \IgnorePar   \par\EndP \HCode{<hr />}\par
\fi
\noindent
\HPage{\the\c@slide
       \ifx \slide\SlideOverlay .\the\c@overlaysCount\fi
   }\fi
\gHAdvance\Slide:cnt by 1
\Tag{f-\Slide:cnt}{\FileName}%
%
  }
  {\ifnum \Slide:cnt=1
   \else \rightline{\bgroup
   \ifx \slide\SlideNormal \advance\c@slide by -1 \fi
   \the\c@slide
\egroup
\ifx \slide\SlideOverlay .\the\c@overlaysCount\fi,
\bgroup
   \HAdvance\Slide:cnt by 1
   \ifTag{f-\Slide:cnt}{\Link
             [\LikeRef{f-\Slide:cnt}]{}{}next\EndLink, }{}%
\egroup
\bgroup
\ifnum \Slide:cnt>1
    \HAdvance\Slide:cnt by -1
    \Link[\LikeRef{f-\Slide:cnt}]{}{}prev\EndLink,
\fi
\egroup
\Link[\LikeRef{f-1}]{}{}up\EndLink%
\ifTag{prosperTOC}{%
   \edef\:temp{\FileName}\edef\:tempa{\LikeRef{prosperTOC}}%
   \ifx \:temp\:tempa \else,
         \Link[\LikeRef{prosperTOC}]{}{}toc\EndLink}{}\fi
}%
\EndHPage{}~~
\fi
  }
  {}{}
\Configure{tableofcontents}
   {\ifx \prosperTOCtag\:UnDef
       \global\let\prosperTOCtag\def
       \Tag{prosperTOC}{\FileName}%
    \fi
    \IgnorePar\EndP
    \HCode{<div class="tableofcontents"\a:LRdir>}\IgnorePar}
   {}
   {\IgnorePar\EndP\HCode{</div>}\ShowPar}
   {\HCode{<br />}}   {}

\else
   \Log:Note{for pagination of slides,
          use the command line option `1'}
   \ConfigureEnv{slide}
  {\ifvmode \IgnorePar\fi \EndP\HCode{<hr />}\par}
  {\rightline{\bgroup
     \ifx \slide\SlideNormal \advance\c@slide by -1 \fi
     \ifnum \c@slide>0
         \the\c@slide
         \ifx \slide\SlideOverlay .\the\c@overlaysCount\fi
     \fi
   \egroup
  }}{}{}

\fi
\:CheckOption{nolayers} \if:Option
    \def\itemstep{\itemize}
    \def\enditemstep{\enditemize}
    \let\overlays=\:gobble
\else
   \Log:Note{to remove overlays of slides,
       use the command line option `nolayers'}
\fi

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{beamer}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \:CheckOption{1} \if:Option
  \ConfigureEnv{slide}
     {\ifvmode \IgnorePar\fi \EndP
      \ifnum \Slide:cnt>0 \HPage{}\fi
      \ifvmode \IgnorePar\fi \EndP
      \gHAdvance\Slide:cnt by 1
\ifx \sec:name\empty
   \HCode{<div class="hidden">}\Link{}{sl\Slide:cnt}\EndLink
   \HCode{</div>}%
\else
   \HCode{<div class="header">}\Link{}{sl\Slide:cnt}\EndLink
      \sec:name
      \ifx \subsec:name\empty \else \HCode{<br />}\subsec:name\fi
   \HCode{</div>}%
\fi
%
      \HCode{<div class="slide">}\par
     }
     {\ifvmode \IgnorePar\fi \EndP
      \HCode{</div>}\ifnum \Slide:cnt>1\relax \EndHPage{}\fi}
     {} {}
  \Css{div.slide {border-top:solid black 0.4pt;}}
\else
   \Log:Note{for pagination of slides,
          use the command line option `1'}
   \ConfigureEnv{slide}
      {\ifvmode \IgnorePar\fi \EndP
       \HCode{<hr class="hidden" />}%
       \gHAdvance\Slide:cnt by 1
\ifx \sec:name\empty
   \HCode{<div class="hidden">}\Link{}{sl\Slide:cnt}\EndLink
   \HCode{</div>}%
\else
   \HCode{<div class="header">}\Link{}{sl\Slide:cnt}\EndLink
      \sec:name
      \ifx \subsec:name\empty \else \HCode{<br />}\subsec:name\fi
   \HCode{</div>}%
\fi
%
       \HCode{<div class="slide">}\par
      }
      {\ifvmode \IgnorePar\fi \EndP \HCode{</div>}}
      {} {}
   \Css{div.slide {border:solid black 0.4pt;}}
\fi

\let\block:Name=\empty
\ConfigureEnv{block}
   {\par\IgnorePar\EndP
    \ifx \block:Name\empty \def\block:Name{block}\fi
    \HCode{<div class="\block:Name">}\global\let\block:Name=\empty}
   {\ifvmode \IgnorePar\fi \EndP \HCode{</div>}}
   {} {}
\ConfigureEnv{alertblock}
   {\par\IgnorePar\EndP
    \ifx \block:Name\empty \def\block:Name{alertblock}\fi
    \HCode{<div class="\block:Name">}\global\let\block:Name=\empty}
   {\ifvmode \IgnorePar\fi \EndP \HCode{</div>}}
   {} {}
\ConfigureEnv{Problem}
   {\def\block:Name{Problem}} {} {} {}
\ConfigureEnv{Loesung}
   {\def\block:Name{Loesung}} {} {} {}
\ConfigureEnv{Definition}
   {\def\block:Name{Definition}} {} {} {}
\ConfigureEnv{Satz}
   {\def\block:Name{Satz}} {} {} {}
\ConfigureEnv{Beweis}
   {\def\block:Name{Beweis}} {} {} {}
\ConfigureEnv{Folgerung}
   {\def\block:Name{Folgerung}} {} {} {}
\ConfigureEnv{Lemma}
   {\def\block:Name{Lemma}} {} {} {}
\ConfigureEnv{Fakt}
   {\def\block:Name{Fakt}} {} {} {}
\ConfigureEnv{Theorem}
   {\def\block:Name{Theorem}} {} {} {}
\ConfigureEnv{Proof}
   {\def\block:Name{Proof}} {} {} {}
\ConfigureEnv{Corollary}
   {\def\block:Name{Corollary}} {} {} {}
\ConfigureEnv{Fact}
   {\def\block:Name{Fact}} {} {} {}
\ConfigureEnv{definition}
   {\def\block:Name{definition}} {} {} {}
\ConfigureEnv{definitions}
   {\def\block:Name{definitions}} {} {} {}
\ConfigureEnv{theorem}
   {\def\block:Name{theorem}} {} {} {}
\ConfigureEnv{proof}
   {\def\block:Name{proof}} {} {} {}
\ConfigureEnv{corollary}
   {\def\block:Name{corollary}} {} {} {}
\ConfigureEnv{fact}
   {\def\block:Name{fact}} {} {} {}
\ConfigureEnv{Beispiel}
   {\def\block:Name{Beispiel}} {} {} {}
\ConfigureEnv{Beispiele}
   {\def\block:Name{Beispiele}} {} {} {}
\ConfigureEnv{Example}
   {\def\block:Name{Example}} {} {} {}
\ConfigureEnv{Examples}
   {\def\block:Name{Examples}} {} {} {}
\ConfigureEnv{example}
   {\def\block:Name{example}} {} {} {}
\ConfigureEnv{examples}
   {\def\block:Name{examples}} {} {} {}
\Css{div.Example, div.examplblock, div.Beispiele,
     div.Beispiel, div.Examples, div.example, div.examples{color:green;}}

\ifx \beamer@version\:UnDef
   \ConfigureEnv{exampleblock}
   {\par\IgnorePar\EndP
    \ifx \block:Name\empty \def\block:Name{exampleblock}\fi
    \HCode{<div class="\block:Name">}\global\let\block:Name=\empty}
   {\ifvmode \IgnorePar\fi \EndP \HCode{</div>}}
   {} {}
\Configure{frametitle}
   {\ifvmode \IgnorePar\fi \EndP \HCode{<h2 class="frametitle">}\bgroup
    \Configure{HtmlPar}{ }{ }{}{}%
   }
   {\egroup \ifvmode \IgnorePar\fi \EndP \HCode{</h2>}}

\fi
\Css{h1, h2, span.inst sup{font-size:100\%;}}

\ConfigureEnv{overlayarea}
  {\bgroup
    \ConfigureEnv{minipage}
       {\bgroup \IgnorePar\EndP
          \ConfigureEnv{minipage}
             {\bgroup \IgnorePar\EndP
              \HCode{<table class="minipage"><tr><td>}}
             {\EndP\HCode{</td></tr></table>}\egroup }
             {}{}%
       }
       {\EndP\egroup }
       {}{}
  }
  {\egroup} {}{}
\Configure{sec@slide}
    {\ifvmode \IgnorePar\fi \EndP \HCode{<div class="hidden">}}
    {\ifvmode \IgnorePar\fi \EndP \HCode{</div>}\par
     \slides:toc
\par}
\Css{.hidden {visibility:hidden;}}

\Css{table.columns {width:100\%;}}
\Css{td.column {vertical-align:top;}}
\Configure{inst}
   {\HCode{<span class="inst">}}
   {\HCode{</span>}}

\Configure{titlepage}
   {\ifvmode \IgnorePar\fi \EndP \HCode{<div class="titlepage">}%
     \gHAdvance\Slide:cnt by 1
     \Link{}{sl1}\EndLink
     \slides:toc
%
   }
   {\ifvmode \IgnorePar\fi \EndP \HCode{</div>}}
\Configure{title}
   {\ifvmode \IgnorePar\fi \EndP \HCode{<h1 class="title">}}
   {\ifvmode \IgnorePar\fi \EndP \HCode{</h1>}}
\Configure{author}
   {\ifvmode \IgnorePar\fi \EndP \HCode{<div class="author">}}
   {\ifvmode \IgnorePar\fi \EndP \HCode{</div>}}
\Configure{institute}
   {\ifvmode \IgnorePar\fi \EndP \HCode{<div class="institute">}}
   {\ifvmode \IgnorePar\fi \EndP \HCode{</div>}}
\Configure{date}
   {\ifvmode \IgnorePar\fi \EndP \HCode{<div class="date" \a:LRdir>}}
   {\ifvmode \IgnorePar\fi \EndP \HCode{</div>}}
\Configure{andtitle}{\HCode{<br />}}
\Css{div.titlepage {text-align:center;}}
\Css{div.institute { margin-bottom: 1em; margin-top: 1em;}}
\ConfigureEnv{columns}
  {\ifvmode \IgnorePar\fi \EndP
   \HCode{<table class="columns"><tr>}}
  {\ifvmode \IgnorePar\fi \EndP \HCode{</tr></table>}}
  {}{}

\ConfigureEnv{column}
  {\bgroup
    \ConfigureEnv{minipage}
       {\bgroup \IgnorePar\EndP
          \ConfigureEnv{minipage}
             {\bgroup \IgnorePar\EndP
              \HCode{<table class="minipage"><tr><td>}}
             {\EndP\HCode{</td></tr></table>}\egroup }
             {}{}%
       }
       {\EndP\egroup }
       {}{}%
   \HCode{<td class="column">}%
  }
  {\ifvmode \IgnorePar\fi \EndP  \HCode{</td>}\egroup}
  {}{}
\ifx \beamer@version\:UnDef
   \Configure{sectionshadedintoc}
   {\HCode{<div class="sectionshadedintoc">}}
   {\ifvmode \IgnorePar\fi \HCode{</div>}}
\Configure{sectionintoc}
   {\HCode{<div class="sectionintoc">}}
   {\ifvmode \IgnorePar\fi \HCode{</div>}}
\Configure{subsectionshadedintoc}
   {\HCode{<div class="subsectionshadedintoc">}}
   {\ifvmode \IgnorePar\fi \HCode{</div>}}
\Configure{subsectionintoc}
   {\HCode{<div class="subsectionintoc">}}
   {\ifvmode \IgnorePar\fi \HCode{</div>}}
\Css{div.sectionintoc, div.sectionshadedintoc{ margin-top:1em; }}
\Css{div.tableofcontents
   { padding-left:1em; padding-right:1em; padding-bottom:1em; }}
\Css{.tableofcontents div.subsectionintoc,
     .tableofcontents div.subsectionshadedintoc{ margin-left:1em; }}

   \ifx \insertinstituteshort\:UnDef
      
   \else
      
   \fi
\else
   
\fi
\ConfigureToc{toc}
   {}
   {\Configure{TocLink}
       {\def\hyperlink########1########2{\Link{####2}{}########2\EndLink}####4}%
    \leavevmode}
   {}{\par}
\Configure{tableofcontents}
   {\IgnorePar\EndP \HCode{<div class="TableOfContents"\a:LRdir>}}{}
   {\ifvmode \IgnorePar\fi \EndP \HCode{</div>}\ShowPar}
   {}{}
\let\beamer:section=\@section
\def\@section[#1]#2{\beamer:section[#1]{#2}%
   \gHAdvance\:bookmarkN by 1
   \def\sec:name{#2}\let\subsec:name=\empty}
\append:defI\subsection{%
   \gHAdvance\:bookmarkN by 1
   \def\subsec:name{#1}}
\HAssign\:bookmarkN=0
\let\sec:name=\empty
\let\subsec:name=\empty
\Css{div.header{ margin:0; text-align:right; font-size:70\%; }}
\gHAssign\Slide:cnt=0
\def\slides:toc{%
   \:CheckOption{frames}\if:Option\else
  \bgroup
     \HPage{}{\beamer:bookmarks\tableofcontents}\EndHPage{}%
  \egroup
\fi
%
   %
   \gdef\slides:toc{\ifvmode \IgnorePar\fi \EndP
       \HCode{<p class="links">}\bgroup
   \HAdvance\Slide:cnt by 1\relax
   \ifTag{)Qsl\Slide:cnt}{\Link{sl\Slide:cnt}{}next\EndLink\HCode{<br />}}{}%
\egroup
\ifnum \Slide:cnt>1
  \bgroup
     \HAdvance\Slide:cnt by -1
     \Link{sl\Slide:cnt}{}prev\EndLink\HCode{<br />}%
     \ifnum \:bookmarkN>0\relax
        \Link[ target="tex4ht-menu"
             ]{tc-\:bookmarkN}{}toc\EndLink\HCode{<br />}%
     \fi
     \Link{sl1}{}top\EndLink\HCode{<br />}%
     {\HAdvance\Slide:cnt by 1\relax \Slide:cnt}%
  \egroup
\else
  \Link[ target="tex4ht-menu"]{bookmark}{}toc\EndLink
\fi
%
       \HCode{</p>}\par}%
   \slides:toc
}
\Css{p.links{ margin:0; float:right; text-align:right;
              font-size:70\%; }}
\:CheckOption{frames}\if:Option
   \:CheckOption{ver}\if:Option
      \Configure{frames}
   {\VerFrames[ cols="*"]{4*,*}
      \Frame[ name="tex4ht-main"
              frameborder="1" ]{tex4ht-body}
      \Frame[ name="tex4ht-menu"
              frameborder="1" ]{tex4ht-toc}}
   {\beamer:bookmarks \tableofcontents}

   \else
      \Log:Note{for vertically stacked frames,
          use the command line options `frames' and `ver'}
      \Configure{frames}
   {\HorFrames[ rows="*"]{*,3*}
      \Frame[ name="tex4ht-menu"
              frameborder="1" ]{tex4ht-toc}
      \Frame[ name="tex4ht-main"
              frameborder="1" ]{tex4ht-body}}
   {\beamer:bookmarks \tableofcontents}

   \fi
   \Css{body\#tex4ht-menu{ background-color:\#EEEEEE; }}
\fi
\def\beamer:bookmarks{%
    \Link{}{bookmark}\EndLink
    \HAssign\:bookmarkN=0
    \:CheckOption{frames}\if:Option
    \Configure{TocLink}
       {\HAdvance\:bookmarkN by 1\relax
        \Link{##2}{tc-\:bookmarkN}##4\ifvmode
           \IgnorePar\fi \EndLink}
\else
    \Configure{TocLink}
       {\HAdvance\:bookmarkN by 1\relax
        \Link[ target="tex4ht-main"]{##2}{tc-\:bookmarkN}##4\ifvmode
           \IgnorePar\fi \EndLink}
\fi
%
    \Configure{tableofcontents}
       {\IgnorePar\EndP \HCode{<div class="bookmarks">}}{}
       {\ifvmode \IgnorePar\fi \EndP \HCode{</div>}\ShowPar}
       {}{}
     \let\std:tableofcontents\tableofcontents
     \def\tableofcontents{\std:tableofcontents[section,subsection]}%
  }
\ConfigureToc{section}
   {}{\HCode{<div class="sectionintoc">}} {\HCode{</div>}} {}{}
\ConfigureToc{subsection}
   {}
   {\HCode{<div class="subsectionintoc">}}
   {\HCode{</div>}} {}{}
\Css{div.bookmarks {white-space: nowrap;}}
\Css{div.bookmarks div.subsectionintoc a { text-decoration: none;
        font-size:85\%;}}
\Configure{alert}
   {\HCode{<span class="alert">}}
   {\HCode{</span>}}
\Css{span.alert {color:\#FF0000;}}
\Hinclude{%
  \Configure{HColor}{alert}{rgb(100\%,0\%,0\%)}%
  \Configure{HColor}{blockstructure}{rgb(20\%,20\%,70\%)}%
  \Configure{HColor}{darkgreen}{rgb(15\%,60\%,15\%)}%
  \Configure{HColor}{lightgray}{rgb(90\%,90\%,90\%)}%
  \Configure{HColor}{shaded}{rgb(60\%,60\%,60\%)}%
  \Configure{HColor}{structuremedium}{rgb(30\%,30\%,30\%)}%
  \Configure{HColor}{structureshaded}{rgb(75\%,75\%,75\%)}%
  \Configure{HColor}{structure}{rgb(0\%,0\%,0\%)}%
}{color}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%




%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{seminar}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \ConfigureEnv{slide}
  {\ifvmode \IgnorePar\fi \EndP\HCode{<hr />}\par}
  {\rightline{\the\c@slide}}{}{}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{slides}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \:CheckOption{1} \if:Option
   \ConfigureEnv{slide}
   {\ifnum \c@slide=0 \EndP\ShowPar\else\IgnorePar\fi}
   {}
   {}{}
\CutAt{slide}
\Configure{crosslinks}{[}{] }{next}{prev}{}{}{}{up}
\Configure{crosslinks+}
   {}{}
   {\IgnorePar\EndP \HCode{<div
         class="crosslinks"><p class="noindent">}%
    {\advance\c@slide by -1 \the\c@slide}: }
   {\HCode{</p></div>}\par}
\Css{.crosslinks{text-align:right;font-size:85\%;}}

\else
   \Log:Note{for pagination of slides,
          use the command line option `1'}
   \ConfigureEnv{slide}
     {\ifnum \c@slide=0
        \IgnorePar\EndP\HCode{<hr />}\fi}
     {\rightline{\a:slidename}%
      \IgnorePar\EndP\par\HCode{<hr />}}
     {}{}
\fi
\ConfigureEnv{quote}
   {}{}
   {\IgnorePar\EndP
    \HCode{<blockquote class="\getClass{quote}">}\afterGetClass{quote}}
   {\IgnorePar\EndP\HCode{</blockquote>}\ShowPar\ShowIndent}
\NewConfigure{quoteClass}{2}
\Configure{quoteClass}{quote}{}

\ConfigureEnv{quotation}
   {}{}
   {\IgnorePar\EndP\HCode{<blockquote class="quotation">}}
   {\IgnorePar\EndP\HCode{</blockquote>}\ShowPar}

\ConfigureList{description}%
   {\EndP\HCode{<dl \a:LRdir class="description">}%
      \PushMacro\end:itm
\global\let\end:itm=\empty}
   {\PopMacro\end:itm \global\let\end:itm \end:itm
\EndP\HCode{</dd></dl>}\ShowPar}
   {\end:itm \global\def\end:itm{\EndP\Tg</dd>}\HCode{<dt
        class="description">}\bgroup \bf}
   {\egroup\EndP\HCode{</dt><dd\Hnewline class="description">}}

\Configure{enumiii}
    {\HCode{<span class="roman-numeral">}}
    {\HCode{</span>}}

\ConfigureEnv{verse}
   {\Tg<div class="verse">}
   {\Tg</div>}
   {}{}
\ConfigureEnv{note}
   {\Tg<div class="note">}
   {\Tg</div>}
   {}{}
\ConfigureEnv{titlepage}
   {\Tg<div class="titlepage">}
   {\Tg</div>}
   {}{}
\Configure{maketitle}
   {\ifvmode \IgnorePar\fi \EndP {\Configure{maketitle}{}{}{}{}%
\a:NoSection \let\leavevmode\empty \let\not@math@alphabet\:gobbleII
\def\text@command##1{##1}\let\selectfont\empty
\def\check@icl ##1\check@icr{}%
\let\thanks\:gobble
\def\TeX{TeX}%
\def\mbox{\hbox}%
\def\gobble:font##1##2{##2}\:TITLE: \no:fonts
\def\footnotemark[##1]{}%
\Tag{TITLE+}{\@title}}
%
    \vtop\bgroup \IgnorePar \EndP \HCode{<div  class="maketitle">}}
   {\ifvmode \IgnorePar\fi \EndP \HCode{</div>}\egroup}
   {\NoFonts\IgnorePar\HCode{<h2 class="titleHead"\a:LRdir>}\IgnorePar}
   {\HCode{</h2>}\IgnoreIndent\EndNoFonts}
\Css{h2.titleHead{text-align:center;}}
\Css{div.maketitle{ margin-bottom: 2em; text-align:center; }}
\Configure{author date}
   {\ifvmode \IgnorePar\fi \EndP \HCode{<div class="author" \a:LRdir>}}
   {\ifvmode \IgnorePar\fi \EndP \HCode{</div>}}
   {\ifvmode \IgnorePar\fi \EndP \HCode{<div class="date" \a:LRdir>}}
   {\ifvmode \IgnorePar\fi \EndP \HCode{</div>}}
\Css{div.author, div.date {text-align:center;}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{foils}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{foilhead} {}{}
   {\IgnorePar\EndP\HCode{<h2 class="foilheadHead" \a:LRdir>}}
   {\HCode{</h2>}\par\ShowPar}
\ConfigureEnv{Theorem}{\par\leavevmode}{\ShowPar}{}{}
\ConfigureEnv{Lemma}{\par\leavevmode}{\ShowPar}{}{}
\ConfigureEnv{Corollary}{\par\leavevmode}{\ShowPar}{}{}
\ConfigureEnv{Corollary*}{\par\leavevmode}{\ShowPar}{}{}
\ConfigureEnv{Proposition}{\par\leavevmode}{\ShowPar}{}{}
\ConfigureEnv{Definition}{\par\leavevmode}{\ShowPar}{}{}
\ConfigureEnv{Proof}{\par\leavevmode}{\ShowPar}{}{}
\ConfigureEnv{thebibliography}{\par\leavevmode}{\ShowPar}{}{}

\:CheckOption{1}  \if:Option
    \CutAt{foilhead}
    \ConfigureToc{foilhead}{}{ *\ }{}{}
\Configure{tableofcontents*}{foilhead}
\Css{div.tableofcontents{margin-top:2em;}}
%
\else
    \Log:Note{for pagination of slides,
          use the command line option `1'}
\fi
{\Configure{Needs}{Font\string_Size: #1}\Needs{\@ptsize}}
\Css{h2.foilheadHead{text-align:center;}}
\Configure{maketitle}
   {\ifvmode \IgnorePar\fi \EndP {\Configure{maketitle}{}{}{}{}%
\a:NoSection \let\leavevmode\empty \let\not@math@alphabet\:gobbleII
\def\text@command##1{##1}\let\selectfont\empty
\def\check@icl ##1\check@icr{}%
\let\thanks\:gobble
\def\TeX{TeX}%
\def\mbox{\hbox}%
\def\gobble:font##1##2{##2}\:TITLE: \no:fonts
\def\footnotemark[##1]{}%
\Tag{TITLE+}{\@title}}
%
    \HCode{<div class="maketitle">}%
    \bgroup
       \Configure{tabular}{}{}{}{}{\ifnum \HRow>1 \HCode{<br />}\fi}{}%
       \ConfigureEnv{tabular}{}{}{}{}%
   }
   {\egroup \ifvmode \IgnorePar\fi \EndP \HCode{</div>}}
   {\NoFonts
    \IgnorePar \EndP
    \HCode{<h1 class="titleHead"\a:LRdir>}\IgnorePar}
   {\HCode{</h1>}\IgnoreIndent\EndNoFonts}
\Configure{author date}
   {\ifvmode \IgnorePar\fi\EndP \HCode{<div class="author" \a:LRdir>}}
   {\ifvmode \IgnorePar\fi\EndP \HCode{</div>}}
   {\ifvmode \IgnorePar\fi\EndP \HCode{<div class="date" \a:LRdir>}}
   {\ifvmode \IgnorePar\fi\EndP \HCode{</div>}}
\Configure{thank}
   {\csname a:thank-mark\endcsname
\Link{tk-\the\c@footnote}{}}
   {\EndLink \csname b:thank-mark\endcsname
}
   {\ifvmode \IgnorePar\fi \EndP
    \HCode{<div class="thank">}%
    \IgnorePar
     \protect\Link{}{tk-\the\c@footnote}\protect
     \EndLink \csname a:thank-mark\endcsname
}
   {\csname b:thank-mark\endcsname
}
   {\ifvmode \IgnorePar\fi \EndP\HCode{</div>}}
\Css{h1.titleHead{text-align:center;}}
\Css{div.author{margin-top:3em;text-align:center;}}
\Css{div.date{margin-top:2em;text-align:center;}}
\Css{div.thank{margin-top:3em;}}
\Css{div.thank + div.thank{margin-top:0em;}}
\Configure{crosslinks+}
   {\IgnorePar\EndP  \NoFonts
    \HCode{<!--l. \the\inputlineno-->%
%
           <div class="crosslinks"><p class="noindent">}}
   {\HCode{</p></div>}\par\ShowPar \EndNoFonts}
   {%
    \ifvmode \IgnorePar\fi \EndP
    \HCode{<!--l. \the\inputlineno-->%
%
            <div class="crosslinks"><p class="noindent">}\NoFonts }
   {\EndNoFonts\HCode{</p></div>}\par\ShowPar}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{slidesec}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
       \ConfigureToc{slidesection}
      {\HCode{<span class="tocslidesection">}}{\ }{}{\HCode
           {</span><br />}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{xy}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{xypic}
   {\Picture*{}} {\EndPicture}
\def\:tempc{\HCode{<span class="Xy">}X\HCode{<span
   class="Y">}Y\HCode{</span>}}
\HLet\Xy\:tempc
\Css{span.Xy span.Y{ position:relative; top:0.35ex;left:-0.25em;}}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{pictex}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{pictex}
   {\:xhtml{\IgnorePar\EndP}\HCode{<div
    class="pictex">}}{\HCode{</div>}}{+[PICT]}
\Css{div.pictex {text-align:center;}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{diagrams}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \ConfigureEnv{diagram}
   {\ifvmode \IgnorePar \EndP
      \Tg<div class="diagrams">\def\End:Diagrams{\Tg</div>}%
    \else \let\End:Diagrams\empty
    \fi }
   {\End:Diagrams}
   {}{}
\Configure{diagram}
   {\Picture*{}$} {$\EndPicture}
\Css{.diagrams {text-align: center;}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{pstricks}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{pspicture}
   {\ifvmode \ifinner\else \vfill\break\fi
    \leavevmode\fi
    \bgroup
       \ifdim \pst@dimh<\z@ \pst@dimh=-\pst@dimh \fi
       \HCode{<!--width="\ifdim \wd\pst@hbox=\z@  \the\pst@dimg
                         \else\the\wd\pst@hbox\fi"
                 height="\ifdim \ht\pst@hbox=\z@ \the\pst@dimh
                         \else \the\ht\pst@hbox\fi"-->}%
     \egroup
     \Picture+[\a:pspictureAlt]{ class="pspicture"}}
   {\EndPicture}
\NewConfigure{pspictureAlt}{1}
\Configure{pspictureAlt}{PIC}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{pst-all}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \ConfigureEnv{psmatrix}
   {\Picture*{}}
   {\EndPicture}
   {}{}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{endfloat}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \ConfigureEnv{figure}{}{}{}{}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{mfpic}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \expandafter \ifx\csname if@mfp@latexe\endcsname\relax
   \Configure{mfpic} {\Picture+{}} {\EndPicture}

\else
   \ConfigureEnv{mfpic} {\Picture+{}} {\EndPicture}{}{}

\fi

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{pb-diagram}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \ConfigureEnv{diagram}
   {\Picture*{ class="pb-diagram"}$} {$\EndPicture} {}{}
\Css{.pb-diagram {align:center}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{pgf}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \ConfigureEnv{pgfpicture}
   {\hbox\bgroup\Picture+[picture]{}}
   {\EndPicture\egroup}
   {}{}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%







%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{overpic}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \ConfigureEnv{overpic}
   {\Picture*[pic]{}}
   {\EndPicture}
   {}{}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{dratex}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Css{div.Draw{text-align:center}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{europecv}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Css{table.longtable[rules] {border-left:0pt; border-right:0pt; }}
\Css{table.longtable td.td00{ padding-left:5pt; padding-right:5pt; }}
\Configure{telephone}
   {\HCode{<span class="phone">}}
   {\HCode{</span>}}
   {\HCode{<span class="mobile">}}
   {\HCode{</span>}}
\Css{span.phone{margin-right:2em;}}
\Configure{languageheader}
   {\hbox{\HCode{<div class="languageheader">}}%
    \Configure{tabular}
       {\ifvmode \IgnorePar\fi \EndP \HCode{<table>}}
       {\HCode{</table>}}
       {\HCode{<tr class="languageheader-tr-\HRow">}}
       {\HCode{</tr>}}
       {\HCode{<td class="languageheader-\HCol"
                   \ifnum \HMultispan>1 colspan="\HMultispan"\fi>}%
        \Configure{HtmlPar}{}{}{}{}}
       {\ifvmode \IgnorePar\fi \EndP \HCode{</td>}}%
   }
   {\hbox{\HCode{</div>}}}
\Css{.languageheader-tr-1 .languageheader-1 td,
     .languageheader-tr-1 .languageheader-3 td
           { width:40\%; text-align:center; }}
\Css{.languageheader-tr-1 .languageheader-5 td
           { width:20\%; text-align:center; }}
\Css{.languageheader-tr-2 td
           { width:20\%; text-align:center;
             white-space:normal; }}
\Css{.languageheader {border-top:solid black 2pt;
                      border-bottom:solid black 1pt; }}
\Configure{ecvCEF}
   {\hbox{\HCode{<div class="language-cell">}}%
    \Configure{tabular}
       {\ifvmode \IgnorePar\fi \EndP \HCode{<table>}}
       {\HCode{</table>}}
       {\HCode{<tr>}}
       {\HCode{</tr>}}
       {\HCode{<td class="language-cell-\HCol"
               \ifnum \HMultispan>1 colspan="\HMultispan"\fi >}%
        \Configure{HtmlPar}{}{}{}{}}
       {\ifvmode \IgnorePar\fi \EndP \HCode{</td>}}%
   }
   {\hbox{\HCode{</div>}}}
\Configure{language}
   {\hbox{\HCode{<div class="language">}}%
    \Configure{tabular}
       {\ifvmode \IgnorePar\fi \EndP \HCode{<table>}}
       {\HCode{</table>}}
       {\HCode{<tr>}}
       {\HCode{</tr>}}
       {\HCode{<td class="language-\HCol"
               \ifnum \HMultispan>1 colspan="\HMultispan"\fi >}}
       {\ifvmode \IgnorePar\fi \EndP \HCode{</td>}}%
   }
   {\hbox{\HCode{</div>}}}
\Configure{lastlanguage}
   {\hbox{\HCode{<div class="lastlanguage">}}%
    \Configure{tabular}
       {\ifvmode \IgnorePar\fi \EndP \HCode{<table>}}
       {\HCode{</table>}}
       {\HCode{<tr>}}
       {\HCode{</tr>}}
       {\HCode{<td class="lastlanguage-\HCol"
               \ifnum \HMultispan>1 colspan="\HMultispan"\fi >}}
       {\ifvmode \IgnorePar\fi \EndP \HCode{</td>}}%
   }
   {\hbox{\HCode{</div>}}}
\Css{.lastlanguage-1, .lastlanguage-2, .lastlanguage-3,
     .lastlanguage-4, .lastlanguage-5,
     .language-1, .language-2, .language-3, .language-4, .language-5
                                      { width: 20\%; white-space:normal; }}
\Css{div.language {border-bottom:solid black 1pt;} }
\Css{div.lastlanguage {border-bottom:solid black 2pt;} }
\Css{.language td{ padding-top:0pt; padding-bottom:0pt; } }
\Css{div.languageheader table,
     div.lastlanguage table,
     div.language  table { width:100\%; }}
\Css{div.language-cell  td { text-align:center; }}
\Css{div.language-cell  td.language-cell-1 { width:3em; }}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{resume}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Css{body{margin:4em;}}
\Css{td{vertical-align:top;}}

\Configure{name}
 {\ifvmode \IgnorePar\fi \EndP \HCode{<div class="name">}}
 {\ifvmode \IgnorePar\fi \EndP \HCode{</div>}\par}
\Css{div.name{text-align:center;}}
\Configure{addresses}
 {\ifvmode \IgnorePar\fi \EndP
  \bgroup
    \Configure{tabular}
     {\HCode{<div>}}       {\HCode{</div>}}
     {}{}
     {\ifnum \HRow>1 \HCode{<br />}\fi} {}%
  \HCode{<table class="addresses"><tr><td class="addresses-left">}%
 }
 {\ifvmode \IgnorePar\fi \EndP \HCode{</td><td class="addresses-right">}}
 {\ifvmode \IgnorePar\fi \EndP \HCode{</td></tr></table>}\par
  \egroup}
\Css{table.addresses{width:100\%;}}
\Css{td.addresses-left{float:left;}}
\Css{td.addresses-right{float:right;}}
\Css{table.addresses div{text-align:left;}}
\ConfigureList{llist}
   {\HAssign\HRow=0  \ifvmode \IgnorePar\fi \EndP
    \HCode{<table class="llist">}}
   {\ifvmode \IgnorePar\fi \EndP   \HCode{</td></tr></table>}}
   {\ifvmode \IgnorePar\fi \EndP   \HAdvance\HRow by 1
    \HCode{\ifnum \HRow>1 </td></tr>\fi
           <tr><td class="llist-title">}\par}
   {\ifvmode \IgnorePar\fi \EndP \HCode{</td><td class="llist-body">}\par}
\Configure{location}
   {\HCode{<span class="location">}}
   {\HCode{</span><br />}}
\Css{span.location{margin-left:2em;}}
\ConfigureList{items}
   {\ifvmode \IgnorePar\fi \EndP \HAssign\HRow=0
    \HCode{<table class="items">}}
   {\ifvmode \IgnorePar\fi \EndP \HCode{</td></tr></table>}}
   {\ifvmode \IgnorePar\fi \EndP \HAdvance\HRow by 1
    \HCode{\ifnum \HRow>1 </td></tr>\fi <tr><td>&\#x2022;}\DeleteMark}
   {\ifvmode \IgnorePar\fi \EndP \HCode{</td><td class="items">}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{curve}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{key}
  {\HCode{<span class="key">}}
  {\HCode{</span>}}
\Configure{key}
  {\HCode{<span class="prefix">}}
  {\HCode{</span>}}
\ConfigureEnv{rubric}
   {\ifvmode \IgnorePar\fi \EndP \HCode{<div class="rubric">}}
   {\ifvmode \IgnorePar\fi \EndP \HCode{</div>}}
   {} {}
\Configure{rubrichead}
   {\ifvmode \IgnorePar\fi \EndP \HCode{<div class="rubrichead">}}
   {\ifvmode \IgnorePar\fi \EndP \HCode{</div>}}
\Configure{subrubric}
   {\ifvmode \IgnorePar\fi \EndP \HCode{<div class="subrubric">}}
   {\ifvmode \IgnorePar\fi \EndP \HCode{</div>}}
\Configure{maketitle}
   {\ifvmode \IgnorePar\fi \EndP
    \HCode{<div class="maketitle">}\bgroup
    \ConfigureEnv{center}{}{}{}{}%
   }
   {\egroup\ifvmode \IgnorePar\fi \EndP \HCode{</div>}}
   {\ifvmode \IgnorePar\fi \EndP \HCode{<div class="title">}}
   {\ifvmode \IgnorePar\fi \EndP \HCode{</div>}}
   {\ifvmode \IgnorePar\fi \EndP \HCode{<div class="subtitle">}}
   {\ifvmode \IgnorePar\fi \EndP \HCode{</div>}}
\Configure{makeheaders}
   {\ifvmode \IgnorePar\fi \EndP
    \HCode{<table class="makeheaders"><tr><td class="leftheader">}}
   {\HCode{</td><td class="rightheader">}}
   {\ifvmode \IgnorePar\fi \EndP \HCode{</td></tr></table>}}
\Css{td.leftheader  {text-align:left}}
\Css{td.rightheader {text-align:right}}
\Css{table.makeheaders {width:100\%}}
\Css{div.maketitle {text-align:center;}}
\Css{div.rubrichead {margin-top:1em; margin-bottom:1em;}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{vowel}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \ConfigureEnv{vowel}
   {\Picture*[vowel]{}}
   {\EndPicture}
   {}{}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{enumitem}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \ConfigureList{enumerate}%
   {\EndP\HCode{<dl \a:LRdir class="enumerate-enumitem">}%
      \PushMacro\end:itm
\global\let\end:itm=\empty}
   {\PopMacro\end:itm \global\let\end:itm \end:itm
\EndP\HCode{</dd></dl>}\ShowPar}
   {\end:itm \global\def\end:itm{\EndP\Tg</dd>}\HCode{<dt
        class="enumerate-enumitem">}\bgroup \bf}
   {\egroup\EndP\HCode{</dt><dd\Hnewline class="enumerate-enumitem">}}
\Css{dt.enumerate-enumitem{float:left; clear:left;
                           margin-left:1em; margin-right:1em;}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{IEEEtran}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \ConfigureList{thebibliography}%
   {\ifvmode\IgnorePar\fi \EndP \HCode{<div
                   class="thebibliography">}\let\en:bib=\empty}
   {\en:bib \ifvmode\IgnorePar\fi \EndP \HCode{</div>}}
   {\en:bib\def\en:bib{\csname bibliography2\endcsname
\EndP}%
   \Configure{HtmlPar}
   {\EndP\HCode{<p class="bibitem" \a:LRdir>}}
   {\EndP\HCode{<p class="bibitem" \a:LRdir>}}
   {\Tg</p>} {\Tg</p>}%
\par\ShowPar
    \HCode{<span class="biblabel">}\Configure{HtmlPar}
   {\EndP\HCode{<p class="bibitem-p" \a:LRdir>}}
   {\EndP\HCode{<p class="bibitem-p" \a:LRdir>}}
   {\Tg</p>} {\Tg</p>}%
}
   {\HCode{<span class="bibsp">}\:nbsp
      \:nbsp\:nbsp\HCode{</span></span>}}

\Css{p.bibitem { text-indent: -2em; margin-left: 2em;
       margin-top:0.6em; margin-bottom:0.6em;     }}
\Css{p.bibitem-p { text-indent: 0em; margin-left: 2em;
       margin-top:0.6em; margin-bottom:0.6em;     }}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \ConfigureList{enumerate}%
   {\EndP\HCode{<dl \a:LRdir class="enumerate">}%
      \PushMacro\end:itm
      \global\let\end:itm=\empty}
   {\PopMacro\end:itm \global\let\end:itm \end:itm
      \EndP\HCode{</dd></dl>}\ShowPar}
   {\end:itm \global\def\end:itm{\EndP\Tg</dd>}\HCode{<dt
        class="enumerate">}\bgroup \bf}
   {\egroup\EndP\HCode{</dt><dd\Hnewline class="enumerate">}}
\Css{dd.enumerate {margin-left: 2em;}}
\Css{dt.enumerate {float:left;
              clear:left;
              margin-right:0.5em;
              margin-left:0.5em;
              text-align:right; }}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{linguex}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{ex}
  {\ifvmode\IgnorePar\fi \EndP \HCode{<div class="ex">}}
  {\ifvmode\IgnorePar\fi \EndP \HCode{</div>}}
\Configure{a.list}
  {\ConfigureList{list}%
   {\EndP\HCode{<dl \a:LRdir class="alist\expandafter\the
         \csname @listdepth\endcsname">}%
    \PushMacro\end:itm
\global\let\end:itm=\empty}
   {\PopMacro\end:itm \global\let\end:itm \end:itm
\EndP\HCode{</dd></dl>}\ShowPar}
   {\end:itm \global\def\end:itm{\EndP\Tg</dd>}\HCode{<dt
        class="alist">}\bgroup \bf}
   {\egroup\HCode{</dt><dd\Hnewline class="alist">}\par\ShowPar}%
  }
\Css{div.ex dt, dt.alist{float:left;clear:left}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{cgloss4e}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{tsent}
   {\HCode{<span class="tsent">}}
   {\HCode{</span>}}
   {\HCode{<br />}}
\Css{.tsent {display:table-cell;
            display:inline-block;
            padding-right:0.2em;
            padding-top:0em;
            padding-bottom:0em;
            padding-left:0em;
            margin:0em;         }}
\Configure{gll}
   {\ifvmode \IgnorePar\fi \EndP
    \bgroup
      \ConfigureEnv{flushleft}
       {\ifvmode \IgnorePar\fi \EndP}
       {\ShowPar}
       {\EndP\IgnorePar
        \HCode{<div class="gll"\Hnewline>}\IgnorePar}
       {\IgnorePar\EndP\HCode{</div>}}%
     \Configure{HtmlPar}{}{}{}{}%
   }
   {}
   {\egroup}
\Css{dd.alist p{margin-top:0.2em}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{covington}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{tsent}
   {\HCode{<span class="tsent">}}
   {\HCode{</span>}}
   {\HCode{<br />}}
\Css{.tsent {display:table-cell;
            display:inline-block;
            padding-right:0.2em;
            padding-top:0em;
            padding-bottom:0em;
            padding-left:0em;
            margin:0em;         }}
\Configure{gll}
   {\ifvmode \IgnorePar\fi \EndP
    \bgroup
      \ConfigureEnv{flushleft}
       {\ifvmode \IgnorePar\fi \EndP}
       {\ShowPar}
       {\EndP\IgnorePar
        \HCode{<div class="gll"\Hnewline>}\IgnorePar}
       {\IgnorePar\EndP\HCode{</div>}}%
     \Configure{HtmlPar}{}{}{}{}%
   }
   {}
   {\egroup}
\Css{dd.alist p{margin-top:0.2em}}

\ConfigureEnv{exercise}
   {\ifvmode\IgnorePar\fi \EndP
    \HCode{<div class="Exercise">}}
   {\ifvmode\IgnorePar\fi \EndP \HCode{</div>}} {}{}
\ConfigureList{reflist}%
   {\EndP\HCode{<dl \a:LRdir class="reflist">}%
    \PushMacro\end:itm
\global\let\end:itm=\empty}
   {\PopMacro\end:itm \global\let\end:itm \end:itm
\EndP\HCode{</dd></dl>}\ShowPar}
   {\end:itm \global\def\end:itm{\EndP\Tg</dd>}\HCode{<dt
        class="reflist">}\bgroup \bf}
   {\egroup\HCode{</dt><dd\Hnewline class="reflist">}\par\ShowPar}
\Css{dd.reflist p.indent { text-indent: -2em; }}
\Configure{sentence}
   {\bgroup
       \ConfigureEnv{flushleft}
         {\ifvmode \IgnorePar\fi \EndP}{\ShowPar
}
         {\EndP\IgnorePar
          \HCode{<div class="sentence"\Hnewline>}\ShowPar\endgraf}
         {\IgnorePar\EndP\HCode{</div>}}%
   }
   {\egroup}
\Css{div.sentence {text-align:left;}}
\Configure{glt}{\newline}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{diagram}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \let\:EndIgnore\relax
\def\:Ignore{\bgroup
   \catcode`\\=12
   \long\def\:temp##1:EndIgnore{\egroup}\:temp
}
\ifx \setboardwidth\:UnDef \expandafter\:Ignore\fi
   \Configure{diagram}
   {\gHAdvance\chessNo by 1\relax
    \ifvmode \IgnorePar\fi \EndP
    \HCode{<table class="chess" id="chess-\chessNo">}}
   {\ifvmode \IgnorePar\fi \EndP  \HCode{</table>}}
   {\HCode{<tr class="chess-\chessNo-\HRow">}}
   {\HCode{</tr>}}
   {\tmp:cnt=\HCol
    \advance \tmp:cnt by \HRow \relax
    \HCode{<td id="chess-\chessNo-\HRow-\HCol"
               class="\ifodd \tmp:cnt white\else
         \ifnum
    144=\csname cpd@square@\roman{cpd@current@square@index}\endcsname
         ch-\fi
                          black\fi -square">}}
   {\HCode{</td>}}

\:EndIgnore
\ifx \setboardwidth\:UnDef \else \expandafter\:Ignore\fi
   \Configure{diagram}
   {\gHAdvance\chessNo by 1\relax
    \ifvmode \IgnorePar\fi \EndP
    \HCode{<table class="chess" id="chess-\chessNo">}}
   {\ifvmode \IgnorePar\fi \EndP  \HCode{</table>}}
   {\HCode{<tr class="chess-\chessNo-\HRow">}}
   {\HCode{</tr>}}
   {\tmp:cnt=\HCol
    \advance \tmp:cnt by \HRow \relax
    \HCode{<td id="chess-\chessNo-\HRow-\HCol"
               class="\ifodd \tmp:cnt white\else
                          \ifnum \count\help@b=144 ch-\fi
                          black\fi -square">}}
   {\HCode{</td>}}

\:EndIgnore
\HAssign\chessNo=0

\Css{td.black-square{background-color:\#B0B0B0;
%                      width:12.5\%;
                      width:1.5em; height:1.5em;
}}
\Css{td.ch-black-square{background-color:\#B0B0B0;
                        color:\#B0B0B0;
%                        width:12.5\%;
                      width:1.5em; height:1.5em;
}}
\Css{td.white-square{background-color:\#FFFFFF;
%                      width:12.5\%;
                      width:1.5em; height:1.5em;
}}

\Css{table.chess{% margin-left: 0em; margin-right: 0em;
                 margin-left: auto; margin-right: auto;
                 border: solid black 1px;
%                 width:100\%;
                 text-align:center;}}
\Configure{stipulation}
   {\ifvmode \IgnorePar\fi \EndP
            \HCode{<div class="stipulation">}}
   {\ifvmode \IgnorePar\fi \EndP  \HCode{</div>}}
   {\ifvmode \IgnorePar\fi \EndP
            \HCode{<span class="stipulation">}}
   {\ifvmode \IgnorePar\fi \EndP  \HCode{</span>}}
\Configure{piececounter}
   {\ifvmode \IgnorePar\fi \EndP
    \HCode{<div class="piececounter">}}
   {\ifvmode \IgnorePar\fi \EndP  \HCode{</div>}}
\Css{div.piececounter{ float:right; clear:left; margin-top:1em;}}
\Configure{authors}
   {\ifvmode \IgnorePar\fi \EndP  \HCode{<div class="authors">}}
   {\ifvmode \IgnorePar\fi \EndP  \HCode{</div>}}
\Configure{condition}
   {\ifvmode \IgnorePar\fi \EndP
    \HCode{<div class="condition">}\bgroup
    \Configure{newline}{}}
   {\egroup\ifvmode \IgnorePar\fi \EndP
    \HCode{</div>}}
\Configure{solution}
   {\ifvmode \IgnorePar\fi \EndP  \HCode{<div class="solution">}}
   {\ifvmode \IgnorePar\fi \EndP  \HCode{</div>}}
\Configure{award}
   {\ifvmode \IgnorePar\fi \EndP  \HCode{<div class="award">}}
   {\ifvmode \IgnorePar\fi \EndP  \HCode{</div>}}
\Configure{dedic}
   {\ifvmode \IgnorePar\fi \EndP  \HCode{<div class="dedic">}}
   {\ifvmode \IgnorePar\fi \EndP  \HCode{</div>}}

\Configure{twins}
   {\ifvmode \IgnorePar\fi \EndP  \HCode{<div class="twins">}\bgroup
    \Configure{newline}{}}
   {\egroup \ifvmode \IgnorePar\fi \EndP  \HCode{</div>}}
\Css{div.twins{text-align:left;width:100\%;}}
\Configure{remark}
   {\ifvmode \IgnorePar\fi \EndP  \HCode{<div class="remark">}\bgroup
    \Configure{newline}{}}
   {\egroup\ifvmode \IgnorePar\fi \EndP  \HCode{</div>}}
\Configure{above}
   {\ifvmode \IgnorePar\fi \EndP  \HCode{<div class="above">}}
   {\ifvmode \IgnorePar\fi \EndP  \HCode{</div><!--end above-->}}
\Css{div.above{margin-bottom:0.3em;}}
\Configure{below}
   {\ifvmode \IgnorePar\fi \EndP  \HCode{<div class="below">}}
   {\ifvmode \IgnorePar\fi \EndP  \HCode{</div>}}
\Css{div.below{text-align:center;margin-top:1em;}}


\ConfigureEnv{diagram}
   {\ifvmode \IgnorePar\fi \EndP
    \HCode{<div class="diagram">}\bgroup
    \Configure{HtmlPar}{}{}{}{}%
   }
   {\egroup\ifvmode \IgnorePar\fi \EndP
    \HCode{</div><!--end diagram-->}}
   {}{}

\Css{div.diagram{width:12em;
                 display: inline-block;
                 margin-right:0.5em;
                 margin-left:0.5em;
                 vertical-align:top;
}}
\Configure{correction}
   {\ifvmode \IgnorePar\fi \EndP  \HCode{<div class="correction">}}
   {\ifvmode \IgnorePar\fi \EndP  \HCode{</div>}}
\Configure{showlabel}
   {\ifvmode \IgnorePar\fi \EndP  \HCode{<sup class="showlabel">}}
   {\ifvmode \IgnorePar\fi \EndP  \HCode{</sup>}}
\Configure{judgement}
   {\ifvmode \IgnorePar\fi \EndP  \HCode{<span class="judgement">}}
   {\ifvmode \IgnorePar\fi \EndP  \HCode{</span>}}



    \HAssign\solNum= 0

\Configure{number}
   {\ifvmode \IgnorePar\fi \EndP  \HCode{<div class="number">}%
    \gHAdvance\solNum by 1\relax
    \Link{sol-\solNum}{prob-\solNum}}
   {\EndLink\ifvmode \IgnorePar\fi \EndP  \HCode{</div>}}
\Configure{sol-number}
   {\ifvmode \IgnorePar\fi \EndP  \HCode{<span class="sol-number">}%
    \gHAdvance\solNum by 1\relax
     \Link{prob-\solNum}{sol-\solNum}}
   {\EndLink\ifvmode \IgnorePar\fi \EndP  \HCode{</span>}}
\Configure{sol-author}
   {\ifvmode \IgnorePar\fi \EndP  \HCode{<span class="sol-author">}}
   {\ifvmode \IgnorePar\fi \EndP  \HCode{</span>}}
\Configure{sol-title}
   {\ifvmode \IgnorePar\fi \EndP  \HCode{<div class="sol-title">}}
   {\ifvmode \IgnorePar\fi \EndP  \HCode{</div>}}
\Configure{source}
   {\ifvmode \IgnorePar\fi \EndP  \HCode{<div class="source">}}
   {\ifvmode \IgnorePar\fi \EndP  \HCode{</div>}}
\Configure{source}
   {\ifvmode \IgnorePar\fi \EndP  \HCode{<span class="source">}}
   {\ifvmode \IgnorePar\fi \EndP  \HCode{</span>}}
\Configure{date}
   {\ifvmode \IgnorePar\fi \EndP  \HCode{<span class="date">}}
   {\ifvmode \IgnorePar\fi \EndP  \HCode{</span>}}
\Configure{issue}
   {\ifvmode \IgnorePar\fi \EndP  \HCode{<span class="issue">}}
   {\ifvmode \IgnorePar\fi \EndP  \HCode{</span>}}
\Configure{pages}
   {\ifvmode \IgnorePar\fi \EndP  \HCode{<span class="pages">}}
   {\ifvmode \IgnorePar\fi \EndP  \HCode{</span>}}

\Css{div.condition{text-align:left;width:100\%;}}

\Css{div.stipulation{
   text-align:justify; text-align-last:justify;  width:100\%;
}}
\Css{span.stipulation{ margin-right:1em; }}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{subeqnarray}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \ConfigureEnv{subeqnarray}
   {\ifvmode \IgnorePar\fi \EndP
    \HCode{<div class="subeqnarray">}}
   {\ifvmode \IgnorePar\fi \EndP \HCode{</div>}\par\ShowPar}
   {}{}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{eurosym}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{geneuro}{\ht:special{t4ht@+\string&{35}x20AC{59}}x}
\Configure{geneuronarrow}{\ht:special{t4ht@+\string&{35}x20AC{59}}x}
\Configure{geneurowide}{\ht:special{t4ht@+\string&{35}x20AC{59}}x}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{SIunits}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{degree}{{\leavevmode\ht:special{t4ht@+&{35}x00B0;}x}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{sistyle}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{thousandsep}
   {\HCode{<span class="thousandsep">\string&\#x00A0;</span>}}
\Css{span.thousandsep{font-size:80\%}}
\Configure{degC}{\leavevmode\ht:special{t4ht@+&{35}x00B0;}xC}
\Configure{degF}{\leavevmode\ht:special{t4ht@+&{35}x00B0;}xF}
\Configure{arcdeg}{\leavevmode\ht:special{t4ht@+&{35}x00B0;}x}
\Configure{arcmin}{\leavevmode\ht:special{t4ht@+&{35}x2032;}x}
\Configure{arcsec}{\leavevmode\ht:special{t4ht@+&{35}x2033;}x}
\Configure{ohm}{\leavevmode\ht:special{t4ht@+&{35}x2126;}x}
\Configure{micro}{\leavevmode\ht:special{t4ht@+&{35}x00B5;}x}
\Configure{angstrom}{\leavevmode\ht:special{t4ht@+&{35}x212B;}x}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{chapterbib}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \:CheckOption{2}
\if:Option\else \:CheckOption{3} \fi
\if:Option\else \:CheckOption{4} \fi
\if:Option\else \:CheckOption{5} \fi
\if:Option
   \AtBeginDocument{%
      \let\cb:sectionbib=\cb@sectionbib
      \def\cb@sectionbib{%
         \let\addcontentsline\:gobbleIII
         \cb:sectionbib}}
\fi

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%









%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{appendix}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \ConfigureEnv{appendices}{\ifvmode\IgnorePar\fi\EndP{<div class="appendices">}}{\ifvmode\IgnorePar\fi\EndP{</div>}}{}{}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{res}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \ConfigureEnv{resume}
    {\ifvmode \IgnorePar\fi \EndP
     \HCode{<div class="resume">}\let\endHR=\empty}
    {\ifvmode \IgnorePar\fi \EndP
     \HCode{\endHR</div>}}
    {} {}
\def\c:secnumdepth{-1}

\Configure{overlapped-section}
   {\ifvmode \IgnorePar\fi \EndP\IgnorePar }
   {\ifvmode \IgnorePar\fi \EndP\IgnorePar  \HCode{</div>}}
   {\ifvmode \IgnorePar\fi \EndP\IgnorePar
    \HCode{<h4 class="sectionHead"\a:LRdir>}\HtmlParOff}
   {\HCode{</h4>}%
    \HCode{<div class="section">}%
    \HtmlParOn \ShowPar \IgnoreIndent \csname par\endcsname}

\ConfigureEnv{tabbing}
    {\ifvmode \IgnorePar\fi \EndP \HCode{<table class="tabbing">}}
    {\ifvmode \IgnorePar\fi \HCode{</table>}\par\ShowPar}
    {} {}

\Configure{tabbing}
    {\ifvmode \IgnorePar\fi \HCode{<tr>}}
    {\HCode{</tr>}}
    {\ifvmode \IgnorePar\fi \HCode{<td class="tabbing">}}
    {\ifvmode \IgnorePar\fi \HCode{</td>}}

\Css{table.tabbing {width:100\%; margin-top:1em;}}
\Css{td.tabbing {width:33\%;}}
\Css{div.section {margin-left:3em;}}
\Configure{centeraddresses}
   {} {}
   {\HCode{<table class="center-addresses"><tr><td class="first-address">}}
   {\HCode{</td><td class="second-address">}}
   {\HCode{</td></tr></table>}}
\Css{.center-addresses {width:100\%}}
\Configure{linename}
   {\ifvmode \IgnorePar\fi \EndP
    \HCode{<div class="linename">}}
   {\HCode{</div><hr />}\par}
\Configure{lineaddress}
   {\ifvmode \IgnorePar\fi \EndP
    \HCode{<div class="line-address">}}
   {\HCode{<br />}}
   {\HCode{</div>}}
\Css{.line-address {text-align:right;}}
\Configure{boxed-section}
   {\ifvmode \IgnorePar\fi \EndP
    \HCode{<table class="section"><tr><td class="section">}\par
   }
   {\ifvmode \IgnorePar\fi \EndP
    \HCode{</td></tr></table>}\par}
   {\ifvmode \IgnorePar\fi \HtmlParOff}
   {\HCode{</td><td class="section-body">}\HtmlParOn\par\ShowPar}
\Css{table.section td{ vertical-align:top;}}
\Css{td.section {padding-right:2em; width:20\%;}}
\Css{table.section {margin-top:1em;}}
\ConfigureEnv{position}
   {\ifvmode \IgnorePar\fi \EndP
    \HCode{<div class="position">}}
   {\ifvmode \IgnorePar\fi \EndP \HCode{</div>}}
   {}{}
\Css{.position table {width:100\%;}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{algorithmic}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \ConfigureEnv{algorithmic}
   {\ifvmode\IgnorePar\fi \EndP
    \HCode{<div class="algorithmic">}%
    \bgroup
      \Configure{HtmlPar}{}{}{}{}}
   {\egroup \ifvmode \IgnorePar\fi \HCode{</div>}}
   {}{}
\Configure{ALCitem}
   {\NoFonts\HCode{\ifnum \c@ALC@line>1 <br />\fi <span class="ALCitem">}}
   {\HCode{</span><span class="ALIndent" style="width:\the\ALC@tlm ;">&nbsp;</span>}\EndNoFonts}
\Css{.ALCitem {width:2em; text-align:right;display:inline-block;font-size:0.8em;}}
\Css{.ALIndent{display:inline-block;}}

\ConfigureEnv{ALC@for}
   {\HCode{<span class="for-body">}}
   {\HCode{</span>}}
   {}{}
\ConfigureEnv{ALC@whl}
   {\HCode{<span class="while-body">}}
   {\HCode{</span>}}
   {}{}
\ConfigureEnv{ALC@loop}
   {\HCode{<span class="loop-body">}}
   {\HCode{</span>}}
   {}{}
\ConfigureEnv{ALC@rpt}
   {\HCode{<span class="repeat-body">}}
   {\HCode{</span>}}
   {}{}
\Configure{ALCif}
   {\HCode{<span class="if-body">}}
   {\HCode{</span>}}
   {\HCode{<span class="else-body">}}
   {\HCode{</span>}}
\Configure{algorithmiccomment}
   {\HCode{<span class="ALC-comment">}}
   {\HCode{</span>}}
   {}{}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{algorithmicx}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \ConfigureEnv{algorithmic}
   {\ifvmode \IgnorePar\fi \EndP
    \HCode{<div \a:LRdir class="algorithmic">}%
    \bgroup
       \Configure{HtmlPar}
         {\EndP}
         {\EndP}
         {}
         {}%
   }
   {\egroup
    \HCode{</div>}\par\ShowPar
   }
   {}{}
\ConfigureList{algorithmic}%
   {\EndP
    \PushMacro\end:itm
    \global\let\end:itm=\empty}
   {\PopMacro\end:itm \global\let\end:itm \end:itm
    \EndP
    \special{t4ht@.}%
    \HCode{</span>}%
   }
   {\end:itm
    \HCode{\ifx \end:itm\empty\else <br class="algorithmic"/>\fi
            <span class="label-\the\labelwidth">}%
    \global\def\end:itm{\EndP\special{t4ht@,}\Tg</span>}%
    \ifnum \c@ALG@line=10
        \Css{.algorithmic span.label{width:3em; text-align:right;}}\fi
   }
   {\HCode{</span>&\#xA0;<span\Hnewline class="algorithmic">}~%
    \special{t4ht@. }}
\Css{div.algorithmic span.algorithmic{white-space:pre}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{algorithm}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \ConfigureEnv{algorithm}
   {\ifvmode \IgnorePar\fi \EndP
    \HCode{<div \a:LRdir class="algorithm">}%
    \par\ShowPar
   }
   {\ifvmode \IgnorePar\fi \EndP
    \HCode{</div>}\par\ShowPar
   }
   {}{}
\Css{div.algorithm table.caption {
       border-bottom: 1px solid black; margin-bottom:1pt; }}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{booktabs}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{toprule}
   {\@thisrulewidth=\csname a:rule-mag\endcsname\@thisrulewidth
%
    \Css{tr\#TBL-\TableNo-\ifnum \HRow=0
          1- td{border-top:\expandafter\x:Em \the\@thisrulewidth em
 solid}
     \else
          \HRow- td{border-bottom:\expandafter\x:Em \the\@thisrulewidth em
 solid}
     \fi
   }}
\Configure{bottomrule}
   {\@thisrulewidth=\csname a:rule-mag\endcsname\@thisrulewidth
%
    \Css{tr\#TBL-\TableNo-\HRow-
            td{border-bottom:\expandafter\x:Em \the\@thisrulewidth em
 solid}}}
\Configure{midrule}
   {\@thisrulewidth=\csname a:rule-mag\endcsname\@thisrulewidth
%
    \Css{tr\#TBL-\TableNo-\HRow-
            td{border-bottom:\expandafter\x:Em \the\@thisrulewidth em
 solid}}}
\Configure{cmidrule}
   {\@thisrulewidth=\csname a:rule-mag\endcsname\@thisrulewidth
%
    \Css{td\#TBL-\TableNo-\HRow-\HCol{border-bottom:\expandafter\x:Em \the\@thisrulewidth em
 solid}}%
    \HCode{<span class="cmidrule"><!-- enable post-processing of cmidrule--></span>}}
\NewConfigure{rule-mag}{1}
\Configure{rule-mag}{0.14}
{
  \def\x:Em{%
    \catcode`\p=12
    \catcode`\t=12
    \gdef\x:Em}
  \x:Em#1pt{#1}
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{gloss}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
       \:CheckOption{mouseover} \if:Option
   \Configure{gloss}
  {\HCode{<span class="gloss">}%
   \js:on
%
   \edef\:temp{\noexpand\mo:args
    {gloss}%
    {\gls@name ::\gls@b}%
    {\noexpand\jsHash {\gls@name ::\gls@b}}}%
%
   \expandafter\Link\expandafter[\:temp]}
  {\EndLink \HCode{</span>}}
\expandafter\def\csname c:mouseover-gloss:\endcsname{%
  \def\:tempb{gloss}\csname c:mouseover-?:\endcsname}
\Configure{mouseover-gloss}{tex4ht.body,FULLHTML}

   \Configure{glosslist}%
   {\IgnorePar\EndP
    \js:on
%
    \HCode{<dl \a:LRdir class="glosslist">}\global\let\end:glitm=\empty}
   {\IgnorePar\EndP \ht:special {t4ht@DCopyTo: \jobname-js.tex Skip gl }%
\HCode{<!--}
\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont gl }%
\HCode{</div></gloss>}
\ht:special {t4ht@DCopyTo: \jobname-js.tex Skip gl }%
\HCode{-->}
\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont gl }%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Until gl }%
%
    \HCode{</dd></dl>}\ShowPar}
   {\end:glitm
    \gdef\end:glitm{\EndP \ht:special {t4ht@DCopyTo: \jobname-js.tex Skip gl }%
\HCode{<!--}
\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont gl }%
\HCode{</div></gloss>}
\ht:special {t4ht@DCopyTo: \jobname-js.tex Skip gl }%
\HCode{-->}
\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont gl }%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Until gl }%
\Tg</dd>}%
    \HCode{<dt class="glosslist">}%
   }
   {\HCode{</dt><dd\Hnewline class="glosslist">}%
    \HCode{<!--}
\ht:special {t4ht@DCopyTo: \jobname-js.tex From gl }%
\HCode{<gloss>}
\HCode{\expandafter\jsHash
             \expandafter{\mog:anchor}=<div class="js">}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Skip gl }%
\HCode{-->}
\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont gl }%
%
   }
\Configure{GlossAnchor} {\g:Link} {\EndLink}
\def\g:Link#1#2{\edef\mog:anchor{#2}\Link{}{#2}}

\else
   \Configure{gloss} {\Link}  {\EndLink}
   \Configure{glosslist}%
   {\IgnorePar\EndP
    \HCode{<dl \a:LRdir class="glosslist">}\global\let\end:glitm=\empty}
   {\IgnorePar\EndP\HCode{</dd></dl>}\ShowPar}
   {\end:glitm\gdef\end:glitm{\EndP\Tg</dd>}\HCode{<dt
        class="glosslist">}%
   }
   {\HCode{</dt><dd\Hnewline class="glosslist">}}

\fi

\ConfigureList{glosslist}{}{}{}{}
\Css{dl.glosslist {margin-left:2em;}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%




%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{longdiv}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{longdiv}
  {\Configure{halign}
      {\HCode{<table class="longdiv">}}
      {\HCode{</table>}}
      {\HCode{<tr>}}
      {\HCode{</tr>\Hnewline}}
      {\tmp:cnt=\HRow \divide\tmp:cnt by 2 \multiply\tmp:cnt by 2
       \advance\tmp:cnt by -\HRow
       \HCode{<td \ifnum\HCol=2 \ifnum\HRow=2 class="longdiv"\fi \fi>%
              <span \ifnum \tmp:cnt=-1
                 \ifnum \HRow>2 class="longdiv"\fi\fi >}%
      }
      {\HCode{</span></td>}}%
  }
  {}
\Css{table.longdiv {text-align: right;}}
\Css{td.longdiv {border-top:solid 1px black;
                 border-left:solid 1px black;}}
\Css{span.longdiv {text-decoration:underline;}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{tugboat}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{head}{}{}
   {\NoFonts \ifvmode \IgnorePar\fi \EndP\IgnorePar
    \HCode{<h3 class="headHead"\a:LRdir>}\HtmlParOff}
   {\HCode{</h3>}\HtmlParOn \EndNoFonts \IgnoreIndent \ShowPar \par}
\Configure{subhead}{}{}
   {\NoFonts \ifvmode \IgnorePar\fi \EndP\IgnorePar
    \HCode{<h4 class="subheadHead"\a:LRdir>}\HtmlParOff}
   {\HCode{</h4>}\HtmlParOn \EndNoFonts \IgnoreIndent \ShowPar \par}
\Configure{subsubhead}{}{}
   {\NoFonts \ifvmode \IgnorePar\fi \EndP\IgnorePar
    \HCode{<h5 class="subsubheadHead"\a:LRdir>}\HtmlParOff}
   {\HCode{</h5>}\HtmlParOn \EndNoFonts \IgnoreIndent \ShowPar \par}
\Configure{figure}
   {\ifvmode \IgnorePar\fi \EndP \HCode{<div class="figure">}\par\ShowPar}
   {\ifvmode \IgnorePar\fi \EndP \HCode{</div>}\par}
\Configure{verbatim}
   {{\everypar{}\leavevmode}\EndP
    \HCode{<div class="verbatim\:ruled">}\par\ShowPar}
   {{\everypar{}\leavevmode}\EndP \HCode{</div>}\par\ShowPar}
\Configure{verb}
   {\HCode{<span class="verb">}}
   {\HCode{</span>}}
\Css{div.verbatim p, div.verbatim-ruled p {margin:0.2em}}
\Css{div.verbatim-ruled { border-top: 1px solid black;
                          border-bottom: 1px solid black; }}
\Configure{display-list}
   {\ifvmode \IgnorePar\fi \EndP \HCode{<div class="list"><!--cols: \the\@cols-->}\par\ShowPar}
   {\ifvmode \IgnorePar\fi \EndP \HCode{</div>}\par}
   {\HCode{<span class="listitem">}}
   {\HCode{</span>}}
\Configure{inline-list}
   {\HCode{<span class="list"><!--cols: \the\@cols-->}\par\ShowPar}
   {\ifvmode \IgnorePar\fi \EndP \HCode{</span>}\par}
   {\HCode{<span class="listitem">}}
   {\HCode{</span>}}
\Css{div.list p span.listitem {text-indent:-3em; margin-right:1em;}}
\Css{div.list { margin-left:3em;}}
\Configure{rtitle}
   {\ifvmode \IgnorePar \fi  \EndP
    \HCode{<div class="rtitle">}\IgnorePar}
   {\HCode{</div>}\ShowPar\par}
\Configure{title}
   {\ifvmode \IgnorePar \fi  \EndP
    \HCode{<h2 class="title">}\IgnorePar}
   {\HCode{</h2>}\IgnoreIndent\par}
\Configure{address}
   {\ifx\@addressstyle\@inlinestyle
       \HCode{<span class="address">}%
    \else
       \ifvmode \IgnorePar \fi  \EndP
       \HCode{<div class="address">}%
    \fi }
   {\ifx\@addressstyle\@inlinestyle
       \HCode{</span>}%
    \else
       \ifvmode \IgnorePar \fi  \EndP
       \HCode{</div>}%
    \fi }
\Configure{netaddress}
   {\HCode{<span class="netaddress">}}
   {\HCode{</span>}}
\Configure{author}
   {\HCode{<span class="author">}}
   {\HCode{</span>}}
\Configure{authorlist}
   {\ifvmode \IgnorePar \fi  \EndP
    \HCode{<div class="authorlist">}\IgnorePar}
   {\ifvmode \IgnorePar \fi  \EndP
    \HCode{</div>}\IgnoreIndent\par\ShowPar}
\Css{div.authorlist {margin-left:2em;}}
\Configure{signature}
   {\ifvmode \IgnorePar\fi \EndP
    \HCode{<div class="signature">}\par\ShowPar}
   {\ifvmode \IgnorePar\fi \EndP \HCode{</div>}\ShowPar\par}
\Css{div.signature p{ margin-top:0.3em; margin-bottom:0.3em;}}
\Css{div.signature { white-space:nowrap; margin-left:70\%;  }}
\Configure{signaturemark}
   {\HCode{<span class="signaturemark">} }
   {\HCode{</span>}}
\Css{span.signaturemark {margin-top:1.5em;}}
\Configure{issno}
   {\hbox{\HCode{<span class="issno">}}}
   {\hbox{\HCode{</span>}}}
\Configure{volyr}
   {\hbox{\HCode{<span class="volyr">}}}
   {\hbox{\HCode{</span>}}}
\Configure{volno}
   {\hbox{\HCode{<span class="volno">}}}
   {\hbox{\HCode{</span>}}}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{ltugboat}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \ConfigureEnv{quote}
   {}{}
   {\IgnorePar\EndP\HCode{<blockquote class="quote">}\IgnoreIndent}
   {\IgnorePar\EndP\HCode{</blockquote>}\ShowPar\ShowIndent}

\ConfigureEnv{verbatim}
   {\par}{\ShowPar \par{\HCondtrue\noindent}%
}{}{}
\Configure{author}
   {\hbox{\HCode{<span class="author">}}}
   {\hbox{\HCode{<br /></span>}}}
\Configure{address}
   {\hbox{\HCode{<span class="address">}}}
   {\hbox{\HCode{<br /></span>}}}
\Configure{netaddress}
   {\hbox{\HCode{<span class="netaddress">}}}
   {\hbox{\HCode{<br /></span>}}}
\Configure{PersonalURL}
   {\hbox{\HCode{<span class="PersonalURL">}}}
   {\hbox{\HCode{<br /></span>}}}
\Configure{signaturemark}
   {\hbox{\HCode{<span class="signaturemark">}}}
   {\hbox{\HCode{</span> }}}
\Configure{makesignature}
   {\ifvmode \IgnorePar\fi \EndP
    \HCode{<div class="makesignature">}%
    \bgroup     \Configure{HtmlPar}{}{}{}{}%
       \Configure{rightline}{}{}%
       \IgnorePar
   }
   {\egroup \ifvmode \IgnorePar\fi \EndP \HCode{</div>}}
\Configure{signature}
   {\def\|{\HCode{<br />}}%
    \Configure{HtmlPar}
       {}{\HCode{}}
       {}{\HCode{}}%
   }
\Css{.makesignature{margin-left:4em;}}
\Css{.signaturemark{display:block-inline;margin-left:-1.33em;}}
\@ifclassloaded{ltugproc}{}{%
   \@ifpackageloaded{ltugproc}{}{\Configure{@BODY}{\rtitlex}}
}
\Configure{maketitle}
   {\ifvmode \IgnorePar\fi \EndP
    \def\textSMC##1{##1}%
    {\Configure{maketitle}{}{}{}{}%
\a:NoSection \let\leavevmode\empty \let\not@math@alphabet\:gobbleII
\def\text@command##1{##1}\let\selectfont\empty
\def\check@icl ##1\check@icr{}%
\let\thanks\:gobble
\def\TeX{TeX}%
\def\mbox{\hbox}%
\def\gobble:font##1##2{##2}\:TITLE: \no:fonts
\def\footnotemark[##1]{}%
\Tag{TITLE+}{\@title}}
%
    \Configure{HtmlPar}
  {\EndP\HCode{<!--l. \the\inputlineno-->%
<p \csname a:!P\endcsname
         class="no\ifHCond par\else indent\fi" \a:LRdir>}}
  {\EndP\HCode{<!--l. \the\inputlineno-->%
<p \csname a:!P\endcsname
        class="\ifdim \parindent=\z@ no\fi indent" \a:LRdir>}}
  {\:xhtml{\Tg</p>}}
  {\:xhtml{\Tg</p>}}%
%
    \HCode{<div class="maketitle">}}
   {\ifvmode \IgnorePar\fi \EndP \HCode{</div>}}
   {\NoFonts\IgnorePar\EndP
    \HCode{<h2 class="titleHead"\a:LRdir>}\IgnorePar}
   {\HCode{</h2>}\IgnoreIndent\EndNoFonts}

\Configure{titlex}
   {\HCode{<div class="titlex">}}
   {\HCode{</div>}}
\Css{div.titlex p{margin-bottom:1em;}}
\Configure{sectitle}
   {\ifvmode \IgnorePar\fi
    \EndP \HCode{<div class="sectitle">}%
    \SaveEndP\bgroup\everypar{}}
   {\egroup\RecallEndP \ifvmode \IgnorePar\fi \EndP \HCode{</div>}}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{ltugproc}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{maketitle}
   {\ifvmode \IgnorePar\fi \EndP {\Configure{maketitle}{}{}{}{}%
\a:NoSection \let\leavevmode\empty \let\not@math@alphabet\:gobbleII
\def\text@command##1{##1}\let\selectfont\empty
\def\check@icl ##1\check@icr{}%
\let\thanks\:gobble
\def\TeX{TeX}%
\def\mbox{\hbox}%
\def\gobble:font##1##2{##2}\:TITLE: \no:fonts
\def\footnotemark[##1]{}%
\Tag{TITLE+}{\@title}}
%
    \Configure{HtmlPar}
  {\EndP\HCode{<!--l. \the\inputlineno-->%
<p \csname a:!P\endcsname
         class="no\ifHCond par\else indent\fi" \a:LRdir>}}
  {\EndP\HCode{<!--l. \the\inputlineno-->%
<p \csname a:!P\endcsname
        class="\ifdim \parindent=\z@ no\fi indent" \a:LRdir>}}
  {\:xhtml{\Tg</p>}}
  {\:xhtml{\Tg</p>}}%
%
    \HCode{<div class="maketitle">}}
   {\ifvmode \IgnorePar\fi \EndP \HCode{</div>}}
   {\NoFonts\IgnorePar\EndP
    \HCode{<h2 class="titleHead"\a:LRdir>}\IgnorePar}
   {\HCode{</h2>}\IgnoreIndent\EndNoFonts}

\ConfigureEnv{abstract}
   {}{} {}{}
\Configure{abstract}
   {\bgroup
    \HCode{<div class="abstract">}\IgnoreIndent\par}
   {\ifvmode\IgnorePar\fi \EndP\HCode{</div>}\egroup}
\Css{div.abstract {margin-left:1em; margin-right:1em;
                   text-align:left;}}
\Css{div.maketitle div.centerline {margin-top:1em;}}
\Configure{abstractHead}
   {\bgroup
      \Configure{centerline}{}{}
      \NoFonts
      \ifvmode \IgnorePar\fi \EndP \HCode{<h3>}%
   }
   {\ifvmode \IgnorePar\fi \EndP \HCode{</h3>}%
    \EndNoFonts \egroup}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{mls}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{@TITLE}{\let\@title=\empty}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{rotating}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \ConfigureEnv{turn}
   {\Picture+{}} {\EndPicture}
   {}{}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{boxedminipage}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \ConfigureEnv{boxedminipage}
   {\ifvmode \IgnorePar \EndP
       \def\after:bmp{\ifvmode \IgnorePar\fi \EndP \HCode{</div>}\par\ShowPar}%
       \HCode{<div class="boxedminipage">}%
       \expandafter\everymath\expandafter{\expandafter
                                 \everymath\expandafter{\the\everymath}}%
    \else \def\after:bmp{\HCode{</span>}}%
       \HCode{<span class="boxedminipage">}%
    \fi
    \bgroup \fboxrule=\z@}
   {\egroup \after:bmp}
   {}{}
\Css{div.boxedminipage{border : 1px solid;
   margin-top:1pt; margin-bottom:1pt;}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{ulem}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{uline}
   {\HCode{<span class="uline">}} {\HCode{</span>}}
\Css{.uline{ text-decoration:underline; }}
\Configure{uuline}
   {\HCode{<span class="uuline">}} {\HCode{</span>}}
\Css{.uuline{ text-decoration:underline; }}
\Configure{sout}
   {\HCode{<span class="sout">}} {\HCode{</span>}}
\Css{span.sout {text-decoration: line-through }}
\Configure{xout}
   {\HCode{<span class="xout"><span class="underline">}}
   {\HCode{</span></span>}}
\Css{span.xout {text-decoration: line-through }}
\Configure{uwave}
   {\HCode{<span class="uwave">}}
   {\HCode{</span>}}
\Css{span.uwave {text-decoration:underline }}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{go}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{showdiagram}
    {\Picture*[go]{}}  {\EndPicture}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{paralist}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \ConfigureList{asparaitem}%
   {\EndP\HCode{<div class="asparaitem">}\ShowPar\ShowIndent}
   {\EndP\HCode{</div>}\ShowPar}
   {\par\ShowPar{\parindent=10pt\leavevmode}}
   {}
\ConfigureList{asparaenum}%
   {\EndP\HCode{<div class="asparaenum">}\ShowPar\ShowIndent}
   {\EndP\HCode{</div>}\ShowPar}
   {\par\ShowPar{\parindent=10pt\leavevmode}}
   {}
\ConfigureList{asparadesc}%
   {\EndP\HCode{<div class="asparadesc">}\ShowPar\ShowIndent}
   {\EndP\HCode{</div>}\ShowPar}
   {\par\ShowPar{\parindent=10pt\leavevmode}}
   {}
\ConfigureList{compactenum}%
   {\EndP\HCode{<dl \a:LRdir class="compactenum">}%
      \PushMacro\end:itm
\global\let\end:itm=\empty}
   {\PopMacro\end:itm \global\let\end:itm \end:itm
\EndP\HCode{</dd></dl>}\ShowPar}
   {\end:itm \global\def\end:itm{\EndP\Tg</dd>}\HCode{<dt
        class="compactenum">}\bgroup \bf}
   {\egroup\EndP\HCode{</dt><dd\Hnewline class="compactenum">}}
\ConfigureList{compactdesc}%
   {\EndP\HCode{<dl \a:LRdir class="compactdesc">}%
      \PushMacro\end:itm
\global\let\end:itm=\empty}
   {\PopMacro\end:itm \global\let\end:itm \end:itm
\EndP\HCode{</dd></dl>}\ShowPar}
   {\end:itm \global\def\end:itm{\EndP\Tg</dd>}\HCode{<dt
        class="compactdesc">}\bgroup \bf}
   {\egroup\EndP\HCode{</dt><dd\Hnewline class="compactdesc">}}
\ConfigureList{compactitem}%
   {\EndP\HCode{<ul>}%
      \PushMacro\end:itm
\global\let\end:itm=\empty}
   {\PopMacro\end:itm \global\let\end:itm \end:itm
\EndP\HCode{</li></ul>}\ShowPar}
   {\end:itm \global\def\end:itm{\EndP\Tg</li>}\DeleteMark}
   {\HCode{<li class="compactitem">}}
\ConfigureEnv{enumerate}
   {}{\ShowPar
}{}{}
\expandafter\ifx \csname if@plmylabel\endcsname\relax
    \ConfigureList{enumerate}%
   {\if@plalwaysadjust
        \EndP \HCode{<dl \a:LRdir class="enumerate">}%
           \PushMacro\end:itm
\global\let\end:itm=\empty
       \def\para:enumII{\PopMacro\end:itm \global\let\end:itm \end:itm
\EndP
                        \HCode{</dd></dl>}\ShowPar}%
       \def\para:enumIII{\end:itm \global
          \def\end:itm{\EndP
                       \Tg</dd>}\HCode{<dt class="enumerate">}}%
       \def\para:enumIV{\EndP
                  \HCode{</dt><dd\Hnewline class="enumerate">}}%
    \else
       \EndP\HCode{<ol \a:enumerate:\space
      class="enumerate\expandafter\the\csname @enumdepth\endcsname"
      \a:LRdir
     >}\PushMacro\end:itm
\global\let\end:itm=\empty
%
       \def\para:enumII{\PopMacro\end:itm \global\let\end:itm \end:itm
%
\EndP\HCode{</li></ol>}\ShowPar
}%
       \def\para:enumIII{\end:itm \gdef\end:itm{\EndP\Tg</li>}\DeleteMark
}%
       \def\para:enumIV{\HCode{<li class="enumerate" value="\expandafter\the\csname
   c@enum\romannumeral\the\@enumdepth\endcsname"\Hnewline>}\AnchorLabel
}%
    \fi
    }
    {\para:enumII}    {\para:enumIII}    {\para:enumIV}

\else
    \:CheckOption{enumerate-} \if:Option
   \ConfigureList{enumerate}%
      {\if@plnewenum
           \EndP \HCode{<dl \a:LRdir class="enumerate">}%
              \PushMacro\end:itm
\global\let\end:itm=\empty
          \def\para:enumII{\PopMacro\end:itm \global\let\end:itm \end:itm
\EndP
                           \HCode{</dd></dl>}\ShowPar}%
          \def\para:enumIII{\end:itm \global
             \def\end:itm{\EndP
                          \Tg</dd>}\HCode{<dt class="enumerate">}}%
          \def\para:enumIV{\EndP
                     \HCode{</dt><dd\Hnewline class="enumerate">}}%
       \else
          \EndP\HCode{<ol \a:enumerate:\space
      class="enumerate\expandafter\the\csname @enumdepth\endcsname"
      \a:LRdir
     >}\PushMacro\end:itm
\global\let\end:itm=\empty
%
          \def\para:enumII{\PopMacro\end:itm \global\let\end:itm \end:itm
%
\EndP\HCode{</li></ol>}\ShowPar
}%
          \def\para:enumIII{\end:itm \gdef\end:itm{\EndP\Tg</li>}\DeleteMark
}%
          \def\para:enumIV{\HCode{<li class="enumerate" value="\expandafter\the\csname
   c@enum\romannumeral\the\@enumdepth\endcsname"\Hnewline>}\AnchorLabel
}%
       \fi
       }
       {\para:enumII}    {\para:enumIII}    {\para:enumIV}
\else
   \ConfigureList{enumerate}%
      {\if@plnewenum
           \EndP \HCode{<dl \a:LRdir class="enumerate">}%
              \PushMacro\end:itm
\global\let\end:itm=\empty
          \def\para:enumII{\PopMacro\end:itm \global\let\end:itm \end:itm
\EndP
                           \HCode{</dd></dl>}\ShowPar}%
          \def\para:enumIII{\end:itm \global
             \def\end:itm{\EndP
                          \Tg</dd>}\HCode{<dt class="enumerate">}}%
          \def\para:enumIV{\EndP
                     \HCode{</dt><dd\Hnewline class="enumerate">}}%
       \else
          \EndP\HCode{<ol \a:enumerate:\space
      class="enumerate\expandafter\the\csname @enumdepth\endcsname"
      \a:LRdir
     >}\PushMacro\end:itm
\global\let\end:itm=\empty
%
          \def\para:enumII{\PopMacro\end:itm \global\let\end:itm \end:itm
%
\EndP\HCode{</li></ol>}\ShowPar
}%
          \def\para:enumIII{\end:itm \gdef\end:itm{\EndP\Tg</li>}\DeleteMark
}%
          \def\para:enumIV{{\Configure{Link}{li}{}{ class="enumerate" id=}{}%
 \let\EndLink=\empty \AnchorLabel }%
}%
       \fi
       }
       {\para:enumII}    {\para:enumIII}    {\para:enumIV}
\fi

\fi
\Css{dt.enumerate{float:left;
                  clear:left; margin-right:0.2em; margin-left:2em;}}
\Css{dt.compactenum{float:left;
                    clear:left; margin-right:0.2em; margin-left:2em;}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{pifont}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \ConfigureList{dingautolist}
   {\EndP\HCode{<dl \a:LRdir class="dingautolist\expandafter\the
         \csname @listdepth\endcsname">}%
      \PushMacro\end:itm
\global\let\end:itm=\empty}
   {\PopMacro\end:itm \global\let\end:itm \end:itm
\EndP\HCode{</dd></dl>}\ShowPar}
   {\end:itm \global\def\end:itm{\EndP\Tg</dd>}\HCode{<dt
        class="dingautolist">}}
   {\HCode{</dt><dd\Hnewline class="dingautolist">}}
\ConfigureList{Piautolist}
   {\EndP\HCode{<dl \a:LRdir class="Piautolist\expandafter\the
         \csname @listdepth\endcsname">}%
      \PushMacro\end:itm
\global\let\end:itm=\empty}
   {\PopMacro\end:itm \global\let\end:itm \end:itm
\EndP\HCode{</dd></dl>}\ShowPar}
   {\end:itm \global\def\end:itm{\EndP\Tg</dd>}\HCode{<dt
        class="Piautolist">}}
   {\HCode{</dt><dd\Hnewline class="Piautolist">}}
\ConfigureList{Pilist}
   {\EndP\HCode{<dl \a:LRdir class="Pilist\expandafter\the
         \csname @listdepth\endcsname">}%
      \PushMacro\end:itm
\global\let\end:itm=\empty}
   {\PopMacro\end:itm \global\let\end:itm \end:itm
\EndP\HCode{</dd></dl>}\ShowPar}
   {\end:itm \global\def\end:itm{\EndP\Tg</dd>}\HCode{<dt
        class="Pilist">}}
   {\HCode{</dt><dd\Hnewline class="Pilist">}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{listings}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{lstinline}
   {\HCode{<span class="lstinline">}}
   {\HCode{</span>}}
\Log:Note{to ensure proper alignments use
   fixed size fonts (see listings.dtx)}
\HAssign\listings:Depth = 0
\Configure{listings}
   {\ifvmode \IgnorePar\fi \EndP
    {\everypar{}\leavevmode}\HCode{<!--l. \the\inputlineno-->}%
     \ifnum \listings:Depth=0 \HCode{<pre class="listings">}\else
                              \HCode{<span class="listings-nested">}\fi
     \gHAdvance\listings:Depth by 1
   }
   {\gHAdvance\listings:Depth by -1
    \ifnum \listings:Depth=0 \HCode{</pre>}\else
                             \HCode{</span>}\fi
   }
   {\leavevmode\special{t4ht@+\string&{35}x00A0{59}}x%
\HCode{<br /><span class="label">}}
   {\HCode{</span>}}%
\Configure{listings-init}{\ttfamily\special{t4ht@(}}{\special{t4ht@)}}
\HAssign\listingN=0
\ConfigureEnv{lstlisting}
   {\ifvmode \IgnorePar\fi \EndP
    \gHAdvance\listingN by 1
    \HCode{<!--l. \the\inputlineno-->}%
    \gdef\start:LstLn{%
       \HCode{<div class="lstlisting" id="listing-\listingN">}%
       \gdef\start:LstLn{\leavevmode\special{t4ht@+\string&{35}x00A0{59}}x%
\HCode{<br />}}}
    \bgroup
       \Configure{listings}
         {{\everypar{}\leavevmode}}
         {{\everypar{}\leavevmode}}
         {\start:LstLn \HCode{<span class="label">}}
         {\HCode{</span>}}%
   }
   {\egroup
    \ifvmode \IgnorePar\fi \EndP \HCode{</div>}\par}
   {} {}
\Css{.lstlisting .label{margin-right:0.5em; }}
\Css{div.lstlisting{font-family: monospace,monospace; white-space: nowrap;
                    margin-top:0.5em; margin-bottom:0.5em;
                   }}
\Configure{lstinputlisting}
   {\ifvmode \IgnorePar\fi \EndP
    \HCode{<!--l. \the\inputlineno-->}%
    \HCode{<div class="lstinputlisting">}%
    \bgroup \tt %\special{t4ht@(}%
       \Configure{listings}
         {{\everypar{}\leavevmode}}
         {{\everypar{}\leavevmode}}
         {\leavevmode\special{t4ht@+\string&{35}x00A0{59}}x%
             \HCode{<br /><span class="label">}}
         {\HCode{</span>}}%
   }
   {%\special{t4ht@)}
    \egroup
    \ifvmode \IgnorePar\fi \EndP  \HCode{</div>}\par}
\Css{div.lstinputlisting{
   font-family: monospace,monospace;
   white-space: nowrap;
}}
\Css{.lstinputlisting .label{margin-right:0.5em;}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{alphanum}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \def\:tempc#1#2#3#4{%
   \ConfigureMark{toclvl#1}
      {\HCode{<span class="titlemark">}\csname thelvl#1\endcsname
       \HCode{</span>}}%
   \Configure{toclvl#1}
      {}{}
      {\ifvmode \IgnorePar\fi \EndP\IgnorePar
       \HCode{<#4 class="toclvl#1Head"\a:LRdir>}\TitleMark\space\HtmlParOff}
      {\HCode{</#4>}\HtmlParOn \IgnoreIndent \par}%
   \ConfigureToc{toclvl#1}
      {\tmp:cnt=0 \loop \advance\tmp:cnt by 1
                  \ifnum \tmp:cnt<#2 ~~\repeat
\def\:temp{\J@INumberRoot{#2}{\tmp:cnt}}%
       \afterassignment\:temp \tmp:cnt}
      {#3 \HCode{<span class="toclvl#1">}}{}
      {\HCode{</span><br />}}%
   \ConfigureToc{liketoclvl#1}
      {} {\tmp:cnt=0 \loop \advance\tmp:cnt by 1
                  \ifnum \tmp:cnt<#2 ~~\repeat
\HCode{<span class="liketoclvl#1">}}{}
      {\HCode{</span><br />}}%
}
\:tempc a1{.}{h3}
\:tempc b2{.}{h4}
\:tempc c3{.}{h5}
\:tempc d4{)}{h5}
\:tempc e5{)}{h5}
\:tempc f6{)}{h5}
\:tempc g7{)}{h5}
\:tempc h8{)}{h5}
\:tempc i9{)}{h5}
\:tempc j{10}{)}{h5}
\:tempc k{11}{)}{h5}
\:tempc l{12}{)}{h5}
\bgroup
   \let\ifx=\relax
   \let\:temp=\relax
   \let\:tempa=\expandafter
   \let\expandafter=\relax
   \let\:TableOfContents=\relax
   \let\else=\relax
   \let\if=\relax
   \let\fi=\relax
   \def\Auto:ent#1{\noexpand\Auto:ent{#1,toclvla,liketoclvla,toclvlb,%
      liketoclvlb,toclvlc,liketoclvlc,toclvld,liketoclvld,toclvle,%
      liketoclvle,toclvlf,liketoclvlf,toclvlg,liketoclvlg,toclvlh,%
      liketoclvlh,toclvli,liketoclvli,toclvlj,%
      liketoclvlj,toclvlk,liketoclvlk,toclvll,liketoclvll}}
   \edef\:TOC{\def\noexpand\:TOC{\:TOC}}
   \:tempa
\egroup \:TOC

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{lineno}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \:warning{The line numbers are commented out. To reintroduce them, use
    the \string\Configure{lineno}{...}{...} command}
\Configure{lineno}
    {\bgroup \let\LineNumber=\empty}
    {\egroup}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{epigraph}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{epigraphhead}
   {\IgnorePar\EndP\HCode{<div class="epigraphhead">}}
   {\ifvmode \IgnorePar\fi \EndP\HCode{</div>}}

\Configure{epigraph}
   {\IgnorePar\EndP\HCode{<div class="epigraph">}}
   {\IgnorePar\EndP\HCode{<div class="episource">}}
   {\ifvmode \IgnorePar\fi \EndP\HCode{</div></div>}}


\ConfigureEnv{epigraphs}
   {\IgnorePar\EndP\HCode{<div class="epigraphs">}}
   {\ifvmode \IgnorePar\fi \EndP\HCode{</div>}} {}{}

\Configure{qitem}
   {\IgnorePar\EndP\HCode{<div class="qitem">}}
   {\IgnorePar\EndP\HCode{<div class="episource">}}
   {\ifvmode \IgnorePar\fi \EndP\HCode{</div></div>}}

\Css{.epigraph, .epigraphhead, epigraphs {margin-left:60\%}}
\Css{.epigraphhead .epigraph {margin-left:0\%}}

\Css{.episource {text-align:right}}
\Configure{epirule} {\ifvmode \IgnorePar\fi \EndP\Tg<hr />\par}

\Css{.epigraphs table { width:40\% ;}}
\Css{.epigraphs table div .episource { text-align:right;  width:100\%;}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{floatflt}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{floatingfigure}
  {\HCode{<span class="floatingfigure-\ifoddpages r\else l\fi"
      style="width:\the\floatfltwidth">}%
   \bgroup \Configure{HtmlPar}{}{}{}{}%
     \ConfigureEnv{minipage}{\IgnorePar}{}{\IgnorePar}{}%
     \Configure{caption}
   {\HCode{<br /><span class="caption"><span class="id">}}
   {\HCode{</span>}: }{}{\HCode{</span><br />}}%
%
  }
  {\egroup \HCode{</span>}}
\Css{.floatingfigure-r { float:right; text-align:left;
      margin-top:0.5em; margin-bottom:0.5em; margin-left:0em;}}
\Css{.floatingfigure-l { float:left; text-align:left;
      margin-top:0.5em; margin-bottom:0.5em; margin-right:0em; }}
\Css{.caption span.id{font-weight: bold;}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%




%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{acm-proc-article-sp}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{toappear}
   {\ifvmode \IgnorePar \fi  \EndP  \HCode{<div class="toappear">}}
   {\ifvmode \IgnorePar \fi  \EndP  \HCode{</div>}}
\Configure{boilerplate}
   {\HCode{<div class="boilerplate">}} {\HCode{</div>}}
\Configure{conf}
   {\HCode{<div class="conf">}} {\HCode{</div>}}
\Configure{confinfo}
   {\HCode{<div class="confinfo">}} {\HCode{</div>}}
\Configure{copyrightetc}
   {\HCode{<div class="copyrightetc">}} {\HCode{</div>}}
\Configure{thanks}
   {\IgnorePar\HCode{<div class="thanks">}\IgnorePar}
   {\ifvmode \IgnorePar \fi  \EndP  \HCode{</div>}\IgnoreIndent}
\Css{div.thanks{text-align:left; margin-top:1em; margin-bottom:1em;}}
\Configure{subtitle}
   {\ifvmode \IgnorePar \fi  \EndP
    \HCode{<h4 class="subtitleHead"\a:LRdir>}\IgnorePar}
   {\ifvmode \IgnorePar \fi  \EndP  \HCode{</h4>}\IgnoreIndent}
\Css{.subtitleHead{text-align:center;}}
\Configure{title}
   {\ifvmode \IgnorePar \fi  \EndP
    \HCode{<h3 class="titleHead"\a:LRdir>}\IgnorePar}
   {\ifvmode \IgnorePar \fi  \EndP  \HCode{</h3>}\IgnoreIndent}
\Css{.titleHead{text-align:center;}}
\Configure{email}{\HCode{<span class="email">}\IgnorePar\o:email:{#1}\HCode{</span>}}
\Configure{@TITLE}{\let\titlenote=\:gobble}
\Configure{maketitle}
  {\ifvmode \IgnorePar\fi \EndP {\Configure{maketitle}{}{}{}{}%
\a:NoSection \let\leavevmode\empty \let\not@math@alphabet\:gobbleII
\def\text@command##1{##1}\let\selectfont\empty
\def\check@icl ##1\check@icr{}%
\let\thanks\:gobble
\def\TeX{TeX}%
\def\mbox{\hbox}%
\def\gobble:font##1##2{##2}\:TITLE: \no:fonts
\def\footnotemark[##1]{}%
\Tag{TITLE+}{\@title}}
}
  {}
\Configure{author}
   {\ifvmode \IgnorePar \fi  \EndP
    \HCode{<div class="author">}\ShowPar\par}
   {\ifvmode \IgnorePar \fi  \EndP  \HCode{</div>}\IgnoreIndent}
\Css{div.author{text-align:center; margin-top:1em; margin-bottom:1em;}}
\:CheckOption{no-bib} \if:Option\else
   \:CheckOption{mouseover} \if:Option
      \Configure{cite}
  {\HCode{<span class="cite">}}
  {\HCode{</span>}}
  {\Link[ \mo:args{cite}{\@citeb}{\expandafter
              \jsHash\expandafter{\expandafter X\@citeb}}%
]}
  {\EndLink }
\expandafter\def\csname c:mouseover-cite:\endcsname{%
  \def\:tempb{cite}\csname c:mouseover-?:\endcsname}
\Configure{mouseover-cite}{tex4ht.body,FULLHTML}

      \Configure{bibitem}
   {\bibitem:link}
   {\EndLink\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont bib }%
}
\def\bibitem:link#1#2{\ht:special {t4ht@DCopyTo: \jobname-js.tex Skip bib }%
\HCode
   {<!--}\ht:special {t4ht@DCopyTo: \jobname-js.tex Addr1 bib }%
\HCode{#2=}\ht:special {t4ht@DCopyTo: \jobname-js.tex Addr2 bib }%
\HCode
   {-->}\Link{#1}{#2}}

   \else
      \Configure{cite}
   {\HCode{<span class="cite">}}  {\HCode{</span>}}
   {\Link}         {\EndLink}

      \Configure{bibitem}{\Link}{\EndLink}

   \fi
\fi

\:CheckOption{no-bib} \if:Option\else
   \:CheckOption{mouseover} \if:Option
      \ConfigureEnv{thebibliography}%
   {\ifvmode\IgnorePar\fi\EndP \js:on
\HCode{<div
                   class="thebibliography">}\let\en:bib=\empty}
   {\en:bib \ifvmode\IgnorePar\fi\EndP \HCode{</div>}}
   {}{}
\ConfigureList{thebibliography}%
   {}{}
   {\en:bib\def\en:bib{\ht:special {t4ht@DCopyTo: \jobname-js.tex Skip bib }%
\csname bibliography2\endcsname
\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont bib }%
%
%
        \EndP}\ht:special {t4ht@DCopyTo: \jobname-js.tex Skip bib }%
%
\HCode{<!--}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont bib }%
%
\HCode{</div></bibitem>\Hnewline}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Until bib }%
%
\HCode{-->}
\HCode{<!--}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex From bib }%
%
\HCode{<bibitem>}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Skip bib }%
%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Set1 bib }%
%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont bib }%
%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Set2 bib }%
%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Skip bib }%
%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont bib }%
%
\HCode{<div class="js">}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Skip bib }%
%
\HCode{-->}%
\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont bib }%
%
%
        \Configure{HtmlPar}
   {\EndP\HCode{<p class="bibitem" \a:LRdir>}}
   {\EndP\HCode{<p class="bibitem" \a:LRdir>}}
   {\Tg</p>} {\Tg</p>}%
\par\ShowPar
        \leavevmode \ht:special {t4ht@DCopyTo: \jobname-js.tex Skip bib }%
\HCode{<span
      class="biblabel">}\Configure{HtmlPar}
   {\EndP\HCode{<p class="bibitem-p" \a:LRdir>}}
   {\EndP\HCode{<p class="bibitem-p" \a:LRdir>}}
   {\Tg</p>} {\Tg</p>}%
}
   {\HCode{<span class="bibsp">}\:nbsp
      \:nbsp\:nbsp\HCode{</span></span>}\ht:special {t4ht@DCopyTo: \jobname-js.tex Cont bib }%
}

   \else
      \ConfigureEnv{thebibliography}%
   {\ifvmode\IgnorePar\fi \EndP \HCode{<div
                   class="thebibliography">}\let\en:bib=\empty}
   {\en:bib \ifvmode\IgnorePar\fi \EndP \HCode{</div>}}
   {}{}
\ConfigureList{thebibliography}%
   {}{}
   {\en:bib\def\en:bib{\csname bibliography2\endcsname
\EndP}%
   \Configure{HtmlPar}
   {\EndP\HCode{<p class="bibitem" \a:LRdir>}}
   {\EndP\HCode{<p class="bibitem" \a:LRdir>}}
   {\Tg</p>} {\Tg</p>}%
\par\ShowPar
    \HCode{<span class="biblabel">}\Configure{HtmlPar}
   {\EndP\HCode{<p class="bibitem-p" \a:LRdir>}}
   {\EndP\HCode{<p class="bibitem-p" \a:LRdir>}}
   {\Tg</p>} {\Tg</p>}%
}
   {\HCode{<span class="bibsp">}\:nbsp
      \:nbsp\:nbsp\HCode{</span></span>}}

   \fi
   \Css{p.bibitem { text-indent: -2em; margin-left: 2em;
       margin-top:0.6em; margin-bottom:0.6em;     }}
\Css{p.bibitem-p { text-indent: 0em; margin-left: 2em;
       margin-top:0.6em; margin-bottom:0.6em;     }}

\fi

\Configure{caption}{\HCode{\if:nopar  \else <br />\fi}
   \:xhtml{\IgnorePar\EndP}\HCode{<div class="caption"\Hnewline
                                 ><span class="id">}}
   {: } {\HCode{</span><span \Hnewline class="content">}}
   {\HCode{</span></div>}\HCode{<!--tex4ht:label?:
   \cur:th\:currentlabel\space-->}%
}
\Css{div.caption {text-indent:-2em; margin-left:3em; margin-right:1em;
                  text-align:left;}}
\Css{div.caption span.id{font-weight: bold; white-space: nowrap; }}

\Configure{proof}
   {\ifvmode\IgnorePar\fi\EndP
     \HCode{<div class="proof">}\par\noindent\HCode{<span
           class="head">}}
   {\HCode{</span>}}
   {\:xhtml{\EndP}\IgnorePar\HCode{</div>}\ShowPar\par}
\Css{div.proof { margin-bottom: 2em; margin-top: 2em;}}

\Configure{qed}
  {\Picture+[Q.E.D.]{}\o:qed:\EndPicture
   \SavePicture\qed:sym[Q.E.D.]}
\Configure{endpart}{likepart}
\Configure{endlikepart}{endpart}
\Configure{part}{}{}
   {\IgnorePar \EndP\HCode{<h1 class="partHead"\a:LRdir>}%
       \HCode{<span class="titlemark">}\partname \ \thepart
       \HCode{<br /></span>}}
   {\HCode{</h1>}\IgnoreIndent\par}
\Configure{likepart}{}{}
   {\IgnorePar\EndP\HCode{<h1 class="likepartHead"\a:LRdir>}}
   {\HCode{</h1>}\IgnoreIndent\par}
\Configure{partTITLE+}{\thepart\space #1}
\Configure{likepartTITLE+}{#1}
\Css{h1.partHead{text-align: center}}

\Configure{endsection}
     {likesection,chapter,likechapter,appendix,part,likepart}
\Configure{endlikesection}
     {section,chapter,likechapter,appendix,part,likepart}
\ConfigureMark{section}
   {\ifnum \c:secnumdepth>\c@secnumdepth \expandafter\:gobble
    \else
       \HCode{<span class="titlemark">}\@seccntformat{section}%
       \HCode{</span>}\fi }
\Configure{sectionTITLE+}{\ifnum \c:secnumdepth>\c@secnumdepth
      \ifnum \c@secnumdepth > 0
      \thesection\space
    \fi\fi #1}

\Configure{section}{}{}
   {\ifvmode \IgnorePar\fi \EndP\IgnorePar
    \HCode{<h3 class="sectionHead"\a:LRdir>}\TitleMark\space\HtmlParOff}
   {\HCode{</h3>}\HtmlParOn\ShowPar \IgnoreIndent \par}
\Configure{likesection}{}{}
   {\ifvmode \IgnorePar\fi
    \EndP\IgnorePar\HCode{<h3 class="likesectionHead"\a:LRdir>}\HtmlParOff}
   {\HCode{</h3>}\HtmlParOn \IgnoreIndent \ShowPar \par}
\Configure{likesectionTITLE+}{#1}

\Configure{endsubsection}
   {likesubsection,section,likesection,chapter,%
      likechapter,appendix,part,likepart}
\Configure{endlikesubsection}
   {subsection,section,likesection,chapter,%
      likechapter,appendix,part,likepart}
\ConfigureMark{subsubsection}
   {\ifnum \c:secnumdepth>\c@secnumdepth  \expandafter\:gobble
    \else
       \HCode{<span class="titlemark">}\@seccntformat{subsubsection}%
       \HCode{</span>}\fi}
\Configure{subsubsectionTITLE+}{\ifnum \c:secnumdepth>\c@secnumdepth
      \ifnum \c@secnumdepth > 0
      \thesubsubsection\space
    \fi\fi #1}

\Configure{subsubsection}{}{}
   {\ifvmode \IgnorePar \fi  \EndP
    \bgroup \IgnorePar\HCode{<h5 class="subsubsectionHead"\a:LRdir>}%
    \TitleMark\space \HtmlParOff}
   {\HCode{</h5>}\HtmlParOn \IgnoreIndent\egroup\par\ShowPar}
\Configure{likesubsubsection}{}{}
   {\ifvmode \IgnorePar\fi \EndP\bgroup\IgnorePar
    \HCode{<h5 class="likesubsubsectionHead"\a:LRdir>}\HtmlParOff}
   {\HCode{</h5>}\HtmlParOn \IgnoreIndent\egroup\par\ShowPar}

\ConfigureMark{subsection}
   {\ifnum \c:secnumdepth>\c@secnumdepth  \expandafter\:gobble
    \else
       \HCode{<span class="titlemark">}\@seccntformat{subsection}%
       \HCode{</span>}\fi }
\Configure{subsectionTITLE+}{\ifnum \c:secnumdepth>\c@secnumdepth
      \ifnum \c@secnumdepth > 0
      \thesubsection\space
    \fi\fi #1}

\Configure{subsection}{}{}
   {\ifvmode \IgnorePar\fi
    \EndP\bgroup \IgnorePar\HCode{<h4 class="subsectionHead"\a:LRdir>}%
    \TitleMark\space \HtmlParOff}
   {\HCode{</h4>}\HtmlParOn \IgnoreIndent\egroup\par\ShowPar}
\Configure{likesubsection}{}{}{\EndP\bgroup
   \ifvmode \IgnorePar\fi
   \HCode{<h4 class="likesubsectionHead"\a:LRdir>}\HtmlParOff }
  {\HCode{</h4>}\HtmlParOn \IgnoreIndent\egroup\par\ShowPar}
\Configure{likesubsectionTITLE+}{#1}


\Configure{endsubsubsection}
   {likesubsubsection,subsection,likesubsection,section,%
      likesection,chapter,likechapter,appendix,part,likepart}
\Configure{endlikesubsubsection}
   {subsubsection,subsection,likesubsection,section,%
      likesection,chapter,likechapter,appendix,part,likepart}

\ConfigureMark{paragraph}
   {\ifnum \c:secnumdepth>\c@secnumdepth  \expandafter\:gobble
    \else
       \HCode{<span class="titlemark">}\theparagraph\space
       \HCode{</span>}\fi}
\Configure{paragraph}{}{}
   {\ifvmode \IgnorePar \fi  \EndP
    \bgroup \IgnorePar\HCode{<h5 class="paragraphHead"\a:LRdir>}%
    \TitleMark\space \HtmlParOff}
   {\HCode{</h5>}\HtmlParOn \IgnoreIndent\egroup}
\Configure{likeparagraph}{}{}
   {\ifvmode \IgnorePar \fi  \EndP
    \bgroup \IgnorePar\HCode{<h5 class="likeparagraphHead"\a:LRdir>}%
    \HtmlParOff}
   {\HCode{</h5>}\HtmlParOn \IgnoreIndent\egroup}
\Css{.paragraphHead, .likeparagraphHead  { font-style:italic; }}

\Css{.sectionHead, .partHead{text-transform:uppercase}}
\Css{.subsubsectionHead, .likesubsubsectionHead {font-style: italic;}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{endnotes}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{makeenmark}
   {\Link{ennote-\endnoteN}{enmark-\endnoteN}} {\EndLink}
\Configure{enoteformat}
   {\Link{enmark-\endnoteN}{ennote-\endnoteN}} {\EndLink\AnchorLabel}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{web}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{webversion} {\\} {}
\Configure{webuniversity}
   {\Tg<div class="webuniversity">} {\Tg</div>}
\Css{div div.webuniversity {color : rgb(0\%,0\%,80\%);
        margin-bottom: 1em; text-align: center;}}

\Configure{maketitle}
   {\IgnorePar\EndP\par\Tg<div class="maketitle">}
   {\IgnorePar\EndP\par\Tg</div>}
\Css{div.maketitle {text-align: center;
      margin-left: 3em;   margin-right: 3em; }}

\Configure{HColor}{webgreen}{rgb(0\%,50\%,0\%)}
\Configure{HColor}{webbrown}{rgb(60\%,0\%,0\%)}
\Configure{HColor}{webyellow}{rgb(98\%,92\%,73\%)}
\Configure{HColor}{webgray}{rgb(75.3\%,75.3\%,75.3\%)}
\Configure{HColor}{webblue}{rgb(0\%,0\%,80\%)}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{exerquiz}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{Form}{}{}
\Css{.onClick {color:green;}}
\Configure{TextField::}{}{%
   \IgnorePar \EndP
   \HCode{<form action="." name="form\quiz@total"><input
       type="text"\Hnewline  \Attributes /></form>}%
}
\Configure{javascript}{JavaScript:}
\ifx \eq@sqrtmsg\:UnDef
   \def\eq@sqrtmsg{"Right!"}
\fi
\ifx \eq@sqwgmsg\:UnDef
   \def\eq@sqwgmsg{"Wrong!"}
\fi
\Configure{shortquiz}
   {(\alph{quizno})}
   {alert(\eq@sqrtmsg,3);}
   {alert(\eq@sqwgmsg,3);}
\Configure{quiz}
   {(\alph{quizno})}
   {qthis=this;
     ProcessQuestion (\ANS,"\alph{quizno}",\thequestionno,
      1,"\eq@bqlabel",\Quiz:N)}
   {InitializeQuiz("\quiz@total",
      \ifeq@nocorrections0\else1\fi,\Quiz:N,\LikeRef{ans-\Quiz:N},
      "(",")")}
   {QuizEnd("\:bqlabel",\thequestionno,"\quiz@total",\Quiz:N)}
   {Corrections("\eq@RC","\eq@AC",\Quiz:N)}
\Configure{quiz*}
   {[]}
   {qthis=this;
     ProcessQuestion (\ANS,"[]",\thequestionno,
      0,"\eq@bqlabel",\Quiz:N)}
   {InitializeQuiz("\quiz@total",
      \ifeq@nocorrections0\else1\fi,\Quiz:N,
      \LikeRef{ans-\Quiz:N},"","")}
\ConfigureEnv{shortquiz}
   {\IgnorePar\EndP\leavevmode} {} {}{}
\Configure{ReturnTo}{\begin{flushright}}{\end{flushright}}
\writesixteen{%
***********************************************************\Hnewline
The `\eq@CA' button fails under Netscape, \Hnewline
due to a code of the following form.\Hnewline
\Hnewline
<html><head><title>?</title>\Hnewline
<script\space type="text/JavaScript"\space ><!--\space \Hnewline
\space \space \space function\space f()\space {\Hnewline
\space \space \space \space \space formxx.inputxx.value="BBB";\Hnewline
\space \space \space}\Hnewline
//-->\space \Hnewline
</script>\space \space </head>\space <body>\Hnewline
\Hnewline
<form\space id="formxx">\space \space \Hnewline
\space \space \space <input\space type="text"\space
\space name="foo"\space id="inputxx"\space
\space value="AAA"\space />\Hnewline
\space \space \space <input\space value="\eq@CA"\space
type="button"\space \space \space onClick="f()"\space />\Hnewline
\space \space \space <input\space value="CLEAR"\space
type="reset"\space \space \space onClick="clear()"\space />\Hnewline
</form>\Hnewline
    \Hnewline
</body> \Hnewline
</html> \Hnewline
\Hnewline
If you know how to fix the function f() above for Netscape,\Hnewline
without changing the id attribute names, please consider\Hnewline
emailing the fix to gurari@cse.ohio-state.edu. Thanks\Hnewline
***********************************************************}

\ConfigureList{questions}%
   {\EndP\HCode{<ol type="1" class="questions"\Hnewline
        >}\PushMacro\end:itm
\global\let\end:itm=\empty}
   {\PopMacro\end:itm \global\let\end:itm \end:itm
\EndP\HCode{</li></ol>}\ShowPar}
   {\end:itm \global\def\end:itm{\EndP\Tg</li>}\DeleteMark}
   {\HCode{<li class="questions">}\AnchorLabel}
\def\a:temp#1#2{%
   \ifOption{#2}{\def\a:charset{#2}}{}
   \def\:tempa{#1}\ifx \eqOutOf\:tempa
      \def\A:charset{#2}\ifx \A:charset\empty\else
          \def\A:charset{#2}%
   \fi\fi}
\a:temp{sur}{charset=iso-8859-2}
\a:temp{von}{charset=iso-8859-2}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{nicefrac}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{nicefrac}
  {\HCode{<sup class="nicefrac">}}
  {\HCode{</sup>}/\HCode{<sub class="nicefrac">}}
  {\HCode{</sub>}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{multicol}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \HAssign\MultiCols=0
\ConfigureEnv{multicols}{}{}{}{}
%    {\par\IgnorePar\EndP
%     \gHAdvance\MultiCols by 1\relax
%     \HCode{<table class="multicols"
%                      id="multicols-\MultiCols"><tr><td class="multicol-1">}%
%     \let\sv:HCol=\HCol
%     \bgroup  \gHAssign\HCol=1\relax
%    }
%    {\egroup
%     \global\let\HCol=\sv:HCol
%     \ifvmode\IgnorePar\fi\EndP
%     \HCode{</td></tr></table>}\par
%    }
%    {}{}
% \Configure{columnbreak}
%    {\gHAdvance\HCol by 1\relax
%     \par \IgnorePar \EndP
%     \HCode{</td><td class="multicol-\HCol">}}
% \Css{table.multicols {
%    width:100\%; margin-left:1em; margin-top:1em; margin-bottom:1em;
% }}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{ProTex}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \def\NAME:{ id=}
\:CheckProtexOption{[[]]}\if:Option
   \HAssign\ShowCodeN = 0
\Configure{FrameCode}
   {\ifvmode \IgnorePar\fi  \EndP
    \gHAdvance\ShowCodeN by 1
    \ifx \par:end\empty \HCode{<p></p>}\fi
%
        \HCode{<div class="ShowCode"
                    id="ShowCode-\ShowCodeN">\ifx \:test\:minus
                 \else<div class="head">\fi}\par\IgnorePar}
   {\ifvmode \IgnorePar\fi \EndP
        \HCode{</div></div>}}
\Configure{ShowCode}
   {\HCode{\ifx \:test\:minus  \else </div>\fi
       \html:src<div class="body"><span class="ShowCode"
        style="font-family:monospace,monospace;white-space:nowrap;"
     >\html:invisible}%
     \nobreak
   }
   {\special{t4ht=\html:src</span>%
           \ifx \:test\:minus \else
              </div><div class="tail">\html:BackTitle\fi}}
   {\HCode{<br />\html:invisible}}
   {\HCode{<i>}}
   {\HCode{</i>}}
   {\leavevmode\special{t4ht@+\string&{35}x00A0{59}}x%
}
\Css{div.ShowCode{background-color:\#EEEEEE; border: 1px white solid;}}
\Css{div.ShowCode div.head{background-color:\#E0E0E0;}}
\Css{div.ShowCode div.tail{background-color:\#E0E0E0;}}

\fi

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{th4}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \:CheckOption{javascript}
   \if:Option  \else\:CheckOption{th4}\fi
\if:Option
   \Configure{JavaScript}
      {\HCode{<script type="text/JavaScript" ><!--\Hnewline}}
      {\HCode{//-->\Hnewline </script>}}
\fi
\:CheckOption{draw} \if:Option \:CheckOption{th4} \if:Option
   \Configure{Fig}
      {\ifx \AltFig\empty \Picture*{ \a:@Picture{Fig}}%
       \else              \Picture*[\AltFig]{ \a:@Picture{Fig}}\fi}
      {\EndPicture}
\fi \fi

\:CheckOption{th4}\if:Option \else \expandafter\endinput\fi
\Configure{Part}{}{}{%
  \html:rightskip
  \bgroup
     \html:rightskip  \ht:everypar{}
     \IgnorePar\EndP\HCode{<h1 class="PartHead">}\HtmlParOff}
  {\HCode{</h1>}\HtmlParOn\IgnoreIndent \egroup\par\ShowPar   \IgnoreIndent}
\Configure{LikeSection}{}{}
  {\IgnorePar  \EndP\HCode{<h3 class="LikeSectionHead">}}
  {\HCode{</h3>}\IgnoreIndent
    \xdef\:cursec{}%
%
    \par \IgnoreIndent
  }
\ConfigureMark{Section}
  {\theSection}
\Configure{Section}
  {}{}
  {\IgnorePar\EndP\HCode{<h3 class="SectionHead">}%
   \gHAdvance\SectionCounter  1 \TitleMark\space
  }{\HCode{</h3>}\IgnoreIndent
     \xdef\:cursec{}%
%
     \par \IgnoreIndent
  }
\Configure{SubSection}
  {}{}
  {\par \IgnorePar\EndP\HCode{<h3 class="SubSectionHead">}}
  {\HCode{</h3>}\IgnoreIndent \ShowPar}
\ConfigureMark{Chapter}
   {Chapter  \theChapterCounter}
\Configure{Chapter}
   {}{}
   {\IgnorePar\EndP\HCode{<h2 class="ChapterHead"\a:LRdir>}%
      \TitleMark{\HCode{<br />}}}
   {\HCode{</h2>}\IgnoreIndent\IgnorePar}
\ConfigureMark{Appendix}{Appendix  \theChapterCounter}
\Configure{Appendix}
   {}{}
   {\IgnorePar\EndP\HCode{<h2 class="AppendixHead"\a:LRdir>}%
         \TitleMark {\HCode{<br />}}}
   {\HCode{</h2>}\IgnoreIndent\IgnorePar}
\Configure{LikeChapter}
   {}{}
   {\IgnorePar\EndP\HCode{<h2 class="LikeChapterHead"\a:LRdir>}\noindent
     \bgroup \def\uppercase##1{##1}}
   {\egroup \HCode{</h2>}\IgnoreIndent\IgnorePar }
\Configure{+CutAt}{Chapter}{[}{] }
\Configure{+CutAt}{Section}{[}{] }
\Configure{+CutAt}{LikeSection}{[}{] }
\Configure{+CutAt}{SubSection}{[}{] }

\ConfigureToc{Chapter}
  {\HCode{<span class="ChapterToc" \a:LRdir>}}
  {~}
  {}
  {\HCode{</span><br />}}
\ConfigureToc{Section}
  {\HCode{<span class="SectionToc" \a:LRdir>}~~~}
  {~}
  {}
  {\HCode{</span><br />}}
\ConfigureToc{LikeSection}
  {}
  {\HCode{<span class="LikeSectionToc" \a:LRdir>}~~~}
  {}
  {\HCode{</span><br />}}
\ConfigureToc{SubSection}
  {}
  {\HCode{<span class="SubSectionToc" \a:LRdir>}~~~~~~}
  {}
  {\HCode{</span><br />}}

\Configure{buttonList+}
    {\ifnum \ListCounter>1 \IgnorePar\EndP\HCode{<hr\xml:empty>}\fi
     \ShowPar\par\IgnoreIndent
    }
    {. #1\ShowPar} {\IgnorePar\EndP}  {\ListCounter}
\Configure{UList}
  {\IgnorePar\EndP\def\:tempB{disc}%
   \ifx\:tempA\:tempB \else \def\:tempB{square}\fi
   \ifx\:tempA\:tempB \else \def\:tempB{circle}\fi
   \hbox{\IgnorePar\EndP\HCode{<ul
   \ifx\:tempA\:tempB type="\:tempA" \fi \:UL:>}}}
  {\ht:everypar{}\EndP\HCode{</li></ul>}\ShowPar\par}
  {\ifnum \ListCounter>1  \EndP\HCode{</li>}\fi \hfil\break \HCode{<li>}}
\Configure{OList}
  {\IgnorePar\EndP\hbox{\HCode{<ol
   \ifx \:temp\empty \else  type="\:temp" \fi
   \:OL:>}}}
  {\ht:everypar{}\EndP
   \HCode{\ifnum \ListCounter=0<li>\fi </li></ol>}\ShowPar\par}
  {\ifnum \ListCounter>1  \EndP\HCode{</li>}\fi \hfil\break \HCode{<li>}}
\Configure{Item}{}{\par}%
\Configure{DList}
   {\IgnorePar\EndP\HCode{<dl \:DL:>}}
   {\ht:everypar{}\EndP\HCode{\End:dd</dl>}%
    \ShowPar\par }
   {\IgnorePar\EndP\ifnum \ListCounter>1  \HCode{</dd>}\fi
    \HCode{<dt>}}
   {\HCode{</dt><dd>}\ShowPar \def\End:dd{</dd>}\hfil\break}
\Configure{buttonList}{}{}
  {}{.\ #1 }{\ListCounter}

\HAssign\TableNo=0
\Configure{HTable}
  {\gHAdvance\TableNo by 1
   \ht:everypar{}\EndP\HCode{<table id="TBL-\TableNo"
       \Hnewline\TABLE:\:HTable:>}%
       \def\BR{\HCode{<br />}}}
  {\HCode{</table>}}
  {\HCode{<tr \:TR>}}{\HCode{</tr>}}
  {\ht:everypar{}\HCode{<\TD:typ\TD:more\Hnewline>}}
  {\EndP\ht:everypar{}\HCode{</\TD:typ>}}
\let\:HTable:\empty
\Configure{HTable+}
   {B}{ cellspacing="0" cellpadding="3pt" frame="border"  }
   {<}{ style="text-align:left;" }
   {>}{ style="text-align:right;" }
   {-}{ style="text-align:center;" }
   {^}{ style="vertical-align:top;" }
   {|}{ style="vertical-align:middle;" }
   {_}{ style="vertical-align:bottom;" }
   {=}{ style="vertical-align:baseline;" }
   {}{}
\Css{table[rules] {border-left:solid black 0.4pt;
                   border-right:solid black 0.4pt; }}

\Configure{Verbatim}
   {\ifvmode \IgnorePar\fi
    \HAssign\Verb:N = 0
    \EndP\HCode{<div class="Verbatim">}}
   {\IgnorePar\HCode{</div>}\par\ShowPar}
   {\HAdvance\Verb:N by 1 \ifnum \Verb:N>1 \HCode{<br />}\fi}
   {\:nbsp}
\Css{div.Verbatim { font-family: monospace,monospace; white-space: nowrap; }}
\Css{body .Verbatim { margin: 1em; }}

\Configure{Columns}
  {\IgnorePar\EndP
      \HCode{<table \Hnewline cellspacing="15"><tr style="vertical-align:top;">}}
  {\HCode{</tr></table>}}
  {\HCode{<td>}\ColMag{1.03}}
  {\IgnorePar\EndP\HCode{</td>}}

\:CheckOption{index}\if:Option
   \Configure{index}
     {\bgroup
         \Configure{Columns}
           {\IgnorePar\EndP
               \HCode{<table \Hnewline class="index" width="100\%"
                           cellspacing="15"><tr style="vertical-align:top;">}}
           {\HCode{</tr></table>}}
           {\HCode{<td>}\ColMag{1.1}}
           {\IgnorePar\EndP\HCode{</td>}}
        \Columns{2}\IndexFonts}
     {\EndColumns \egroup}
     {\bgroup\IgnorePar\EndP
         \expandafter\ifx \csname prev:A\endcsname\relax
            \else \hfil\break \expandafter\Tg<br />\par\IgnorePar \fi \IndexSec}
     {\egroup~~~~}
     {\bgroup\hfil\break\expandafter\Tg<br />~~~}{\egroup~~~~}
     {~}{}
   \def\Idx:ch{0}
   \def\IndexSec#1{%
      \tmp:cnt=`#1\relax
      \ifnum \tmp:cnt>`Z\advance\tmp:cnt by -32 \fi
      \ifnum \tmp:cnt<`A\else \ifnum \tmp:cnt>`Z \else
          \ifnum \Idx:ch<\tmp:cnt
          \bgroup
            \Configure{centerline}
               {\HCode{<div\Hnewline class="IndexSec">}}{\HCode{</div>}}
             \leftline{\bf \char\tmp:cnt }%
             \global\let\prev:A\:UnDef
             \xdef\Idx:ch{\the\tmp:cnt}%
          \egroup
          \fi
      \fi \fi #1%
   }
   \Css{.IndexSec {margin-top:1em; margin-bottom:0.5em;}}
\fi


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{writer}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{WriterEnv}
   {%
     \ConfigureEnv{#1}
        {\ifvmode \IgnorePar\fi \EndP \HCode{<div class="#1">}}
        {\ifvmode \IgnorePar\fi \EndP \HCode{</div>}}
        {}{}%
   }
   {%
       \tmp:dim=\parindent
       \divide\tmp:dim by \ten:Em\relax
       \tmp:dim=10\tmp:dim
     \Css{div.#1 {text-indent:\expandafter\x:Em \the\tmp:dim em;}}%
       \tmp:dim=\leftskip
       \divide\tmp:dim by \ten:Em\relax
       \tmp:dim=10\tmp:dim
     \Css{div.#1 {margin-left:\expandafter\x:Em \the\tmp:dim em;}}%
       \tmp:dim=\rightskip
       \divide\tmp:dim by \ten:Em\relax
       \tmp:dim=10\tmp:dim
     \Css{div.#1 {margin-right:\expandafter\x:Em \the\tmp:dim em;}}%
     \Css{div.#1 {margin-top:0.75em;
                  margin-bottom:0.75em;
         }}%
}
{
  \def\x:Em{%
    \catcode`\p=12
    \catcode`\t=12
    \gdef\x:Em}
  \x:Em#1pt{#1}
}
\tmp:dim=10em
\edef\ten:Em#1.#2//{#1}
\edef\ten:Em{\expandafter\ten:Em \the\tmp:dim//}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{mdwlist}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \ConfigureEnv{itemize*}
   {\ifvmode \IgnorePar\fi \EndP}{\ShowPar
}
   {}{}
\ConfigureList{itemize*}%
   {\EndP\HCode{<ul \a:LRdir class="itemize\expandafter\the
          \csname @itemdepth\endcsname">}%
       \PushMacro\end:itm
\global\let\end:itm=\empty}
   {\PopMacro\end:itm \global\let\end:itm \end:itm
\EndP\HCode{</li></ul>}\ShowPar}
   {\end:itm \global\def\end:itm{\EndP\Tg</li>}\DeleteMark}
   {\HCode{<li class="itemize">}}
\ConfigureEnv{enumerate*}
   {}{\ShowPar
}{}{}
\ConfigureList{enumerate*}%
   {\EndP\HCode{<ol \a:enumerate:\space
      class="enumerate\expandafter\the\csname @enumdepth\endcsname"
      \a:LRdir
     >}\PushMacro\end:itm
\global\let\end:itm=\empty
}
   {\PopMacro\end:itm \global\let\end:itm \end:itm
%
\EndP\HCode{</li></ol>}\ShowPar
}
   {\end:itm \gdef\end:itm{\EndP\Tg</li>}\DeleteMark
}
   {\HCode{<li class="enumerate" value="\expandafter\the\csname
   c@enum\romannumeral\the\@enumdepth\endcsname"\Hnewline>}\AnchorLabel
}
\ConfigureList{description*}%
   {\EndP\HCode{<dl \a:LRdir class="description">}%
      \PushMacro\end:itm
\global\let\end:itm=\empty}
   {\PopMacro\end:itm \global\let\end:itm \end:itm
\EndP\HCode{</dd></dl>}\ShowPar}
   {\end:itm \global\def\end:itm{\EndP\Tg</dd>}\HCode{<dt
        class="description">}\bgroup \bf}
   {\egroup\EndP\HCode{</dt><dd\Hnewline class="description">}}
\ConfigureList{basedescript}
   {\EndP\HCode{<dl \a:LRdir class="basedescript">}%
      \PushMacro\end:itm \global\let\end:itm=\empty}
   {\PopMacro\end:itm \global\let\end:itm \end:itm
      \EndP\HCode{</dd></dl>}\ShowPar}
   {\end:itm \global\def\end:itm{\EndP\Tg</dd>}\HCode{<dt
      class="basedescript">}\bgroup \bf}
   {\egroup\EndP\HCode{</dt><dd\Hnewline class="basedescript">}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{sverb}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \HAssign\demoN=0
\Configure{demo}
   {\HAdvance\demoN by 1
    \ifvmode \IgnorePar \fi \EndP
    \ifnum \demoN=1
       \HCode{<table class="demo"><tr>}%
    \fi
    \HCode{<td>}%
   }
   {\ifvmode \IgnorePar \fi \EndP
    \HCode{</td>}
    \ifnum \demoN=2
        \HAssign\demoN=0
        \HCode{</tr></table>}%
    \fi
   }

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{syntax}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \ConfigureEnv{grammar}
   {\Picture*{}}  {\EndPicture}
   {}{}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{soul}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{textcaps}
   {\HCode{<span class="textcaps">}}
   {\HCode{</span>}}
\Configure{texthl}
   {\HCode{<span class="texthl">}\bgroup
     \ifx\sethlcolor\:gobble\else \Configure{textcolor}
   {\gHAdvance\textcolorN by 1
    \Configure{color}%
      {\Configure{SetHColor}
           {\Css{span\#textcolor\textcolorN{background-color:\HColor}}}}%
    \HCode{<span id="textcolor\textcolorN">}}%
   {\HCode{</span>}}%
\fi}
   {\egroup \HCode{</span>}}
\Configure{textso}
   {\HCode{<span class="textso">}}
   {\HCode{</span>}}
\Configure{textst}
   {\HCode{<span class="textst">}\bgroup
     \ifx\setstcolor\:gobble\else \Configure{textcolor}
   {\gHAdvance\textcolorN by 1
    \Configure{color}%
      {\Configure{SetHColor}
           {\Css{span\#textcolor\textcolorN{background-color:\HColor}}}}%
    \HCode{<span id="textcolor\textcolorN">}}%
   {\HCode{</span>}}%
\fi}
   {\egroup \HCode{</span>}}
\Configure{textul}
   {\HCode{<span class="textul">}\bgroup
     \ifx\setulcolor\:gobble\else \Configure{textcolor}
   {\gHAdvance\textcolorN by 1
    \Configure{color}%
      {\Configure{SetHColor}
           {\Css{span\#textcolor\textcolorN{background-color:\HColor}}}}%
    \HCode{<span id="textcolor\textcolorN">}}%
   {\HCode{</span>}}%
\fi}
   {\egroup \HCode{</span>}}
\Css{span.textso{letter-spacing: 0.3em; word-spacing: 0.3em}}
\Css{span.textul{text-decoration:underline}}
\Css{span.textst{text-decoration:line-through}}
\Css{span.textcaps{font-variant:small-caps}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{manmac}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{chapter}
   {\IgnorePar\EndP
    \HCode{<!--l. \the\inputlineno--><div class="chapter">}\IgnorePar    }
   {\IgnorePar\EndP\HCode{</div><!--end chapter-->}\par\ShowPar}
   {\HCode{<div class="chapterTitle">}\par \ShowPar \noindent
    \let\sv:rightline=\rightline \let\rightline=\hbox }
   {\IgnorePar\EndP  \let\rightline=\sv:rightline
    \HCode{</div><!--end chapter title-->}\par\ShowPar}
\Configure{titlepage}
   {\ifvmode \IgnorePar\fi\EndP
    \HCode{<!--l. \the\inputlineno--><div class="titlepage">}\par}
   {\IgnorePar\EndP\HCode{</div><!--end titlepage-->}\par\ShowPar}
\Configure{mathdemo}
   {\ifvmode \IgnorePar\fi \EndP
    \HCode{<!--l. \the\inputlineno--><table class="mathdemo">}}
   {\HCode{</table>}\par\ShowPar}
   {\HCode{<tr>}}
   {\HCode{</tr>}}
   {\HCode{<td>}}
   {\HCode{</td>}}
\Css{table.mathdemo{margin-left:2em}}
\Configure{longdisplaymathdemo}
   {\ifvmode \IgnorePar\fi \EndP
    \HCode{<!--l. \the\inputlineno--><table class="longdisplaymathdemo">}}
   {\HCode{</table>}\par\ShowPar}
   {\HCode{<tr>}}
   {\HCode{</tr>}}
   {\HCode{<td>}}
   {\HCode{</td>}}
\Css{table.longdisplaymathdemo{margin-left:2em}}
\Configure{longmathdemo}
   {\ifvmode \IgnorePar\fi \EndP
    \HCode{<!--l. \the\inputlineno--><table class="longmathdemo">}}
   {\HCode{</table>}\par\ShowPar}
   {\HCode{<tr>}}
   {\HCode{</tr>}}
   {\HCode{<td>}}
   {\HCode{</td>}}
\Css{table.longmathdemo{margin-left:2em}}
\Configure{displaymathdemo}
   {\ifvmode \IgnorePar\fi \EndP
    \HCode{<!--l. \the\inputlineno--><table class="displaymathdemo">}}
   {\HCode{</table>}\par\ShowPar}
   {\HCode{<tr>}}
   {\HCode{</tr>}}
   {\HCode{<td>}}
   {\HCode{</td>}}
\Css{table.displaymathdemo{margin-left:2em}}
\Configure{exercise}
  {\ifvmode \IgnorePar\fi \EndP
   \HCode{<!--l. \the\inputlineno--><h5 class="exercise">}%
   \bgroup \Configure{HtmlPar}{}{}{}{}}
  {\egroup\HCode{</h5>}\IgnoreIndent\par}

\Configure{manmac-display}
   {\ifvmode \IgnorePar\fi \EndP
    \HCode{<!--l. \the\inputlineno-->%
<table class="manmac-display">}}
   {\HCode{</table>}\IgnoreIndent\par}
   {\HCode{<tr>}}
   {\HCode{</tr>}}
   {\HCode{<td>}\ShowPar}
   {\ifvmode \IgnorePar\fi\EndP \HCode{</td>}}

\Configure{ttenv}
   {\ifvmode \IgnorePar\fi \EndP
    \HCode{<!--l. \the\inputlineno-->%
<div class="ttenv">}}
   {\ifvmode \IgnorePar\fi \EndP \HCode{</div>}\par\noindent}
\Configure{sampleglue}
   {\HCode{<table class="sampleglue">}}
   {\HCode{</table>}}
   {\HCode{<tr>}}
   {\HCode{</tr>}}
   {\HCode{<td>}}
   {\HCode{</td>}}
\Configure{danger}
   {\HCode{<!--l. \the\inputlineno-->%
<!--danger-->}}
   {\HCode{<!--end danger-->}}
\Configure{ddanger}
   {\HCode{<!--l. \the\inputlineno-->%
<!--ddanger-->}}
   {\HCode{<!--end ddanger-->}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{cp850}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{textdegree}{{\leavevmode\ht:special{t4ht@+&{35}x00B0;}x}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{cp852}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{textdegree}{{\leavevmode\ht:special{t4ht@+&{35}x00B0;}x}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{cp862}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{textdegree}{{\leavevmode\ht:special{t4ht@+&{35}x00B0;}x}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{cp1250}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{textdegree}{{\leavevmode\ht:special{t4ht@+&{35}x00B0;}x}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{cp1252}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{textdegree}{{\leavevmode\ht:special{t4ht@+&{35}x00B0;}x}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{cp437}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{textdegree}{{\leavevmode\ht:special{t4ht@+&{35}x00B0;}x}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{cp437de}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{textdegree}{{\leavevmode\ht:special{t4ht@+&{35}x00B0;}x}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{cp865}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{textdegree}{{\leavevmode\ht:special{t4ht@+&{35}x00B0;}x}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{norsk}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \ifx\A:charset\empty
\def\A:charset{charset=iso-8859-1}
\fi

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{polish}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \ifx\A:charset\empty
\def\A:charset{charset=iso-8859-2}
\fi

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{polski}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \ifx\A:charset\empty
\def\A:charset{charset=iso-8859-2}
\fi

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{portuges}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \ifx\A:charset\empty
\def\A:charset{charset=iso-8859-1}
\fi

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{romanian}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \def\A:charset{charset=iso-8859-2}
\:CheckOption{new-accents}     \if:Option \else
   \expand:after{\Configure{accent}}\csname T1\string\`\expandafter\endcsname
   \csname T1\string\`\endcsname{A{00C0}E{00C8}I{00CC}N{01F8}O{00D2}U{00D9}W{1E80}%
Y{1EF2}a{00E0}e{00E8}i{00EC}n{01F9}o{00F2}u{00F9}%
w{1E81}y{1EF3}\i{00EC}%
{}{}}
   {\a:accents{grave}{#1}}   {\b:accents{grave}{#1}{#2}}
\expand:after{\Configure{accent}}\csname T1\string\'\expandafter\endcsname
   \csname T1\string\'\endcsname{A{00C1}C{0106}D{010E}E{00C9}G{01F4}I{00CD}L{0139}N{0143}%
O{00D3}R{0154}S{015A}U{00DA}Y{00DD}Z{0179}a{00E1}c{0107}%
d{010F}e{00E9}g{01F5}i{00ED}l{013A}n{0144}o{00F3}r{0155}%
s{015B}u{00FA}y{00FD}z{017A}j{FFFD}J{FFDD}\i{00ED}\j{FFFD}%
{}{}}
   {\a:accents{acute}{#1}}   {\b:accents{acute}{#1}{#2}}
\expand:after{\Configure{accent}}\csname T1\string\^\expandafter\endcsname
   \csname T1\string\^\endcsname{A{00C2}E{00CA}I{00CE}O{00D4}U{00DB}a{00E2}e{00EA}%
i{00EE}o{00F4}u{00FB}C{0108}c{0109}G{011C}g{011D}%
H{0124}h{0125}J{0134}j{0135}S{015C}s{015D}W{0174}%
w{0175}Y{0176}y{0177}Z{1E90}z{1E91}\i{00EE}\j{0135}%
{}{}}
   {\a:accents{circ}{#1}}   {\b:accents{circ}{#1}{#2}}
\expand:after{\Configure{accent}}\csname T1\string\~\expandafter\endcsname
   \csname T1\string\~\endcsname{A{00C3}N{00D1}O{00D5}a{00E3}n{00F1}o{00F5}I{0128}%
i{0129}U{0168}u{0169}V{1E7C}v{1E7D}E{1EBC}e{1EBD}%
Y{1EF8}y{1EF9}\i{0129}%
{}{}}
   {\a:accents{tilde}{#1}}   {\b:accents{tilde}{#1}{#2}}
\expand:after{\Configure{accent}}\csname T1\string\"\expandafter\endcsname
   \csname T1\string\"\endcsname{H{1E26}h{1E27}W{1E84}w{1E85}X{1E8C}x{1E8D}%
t{1E97}A{00C4}E{00CB}I{00CF}O{00D6}U{00DC}%
a{00E4}e{00EB}i{00EF}o{00F6}u{00FC}y{00FF}%
Y{0178}\i{00EF}%
{}{34}}
   {\a:accents{uml}{#1}}     {\b:accents{uml}{#1}{#2}}
\expand:after{\Configure{accent}}\csname T1\string\r\endcsname
   \mathring{A{00C5}a{00E5}U{016E}u{016F}%
{}{}}
   {\a:accents{ring}{#1}}   {\b:accents{ring}{#1}{#2}}
\expand:after{\expand:after{\Configure{accent}}%
   \csname T1\string\c\endcsname}%
   \csname T1\string\c\endcsname{K{0136}k{0137}L{013B}l{013C}N{0145}n{0146}%
R{0156}r{0157}S{015E}s{015F}T{0162}t{0163}%
E{0228}e{0229}D{1E10}d{1E11}H{1E28}h{1E29}%
C{00C7}c{00E7}G{0122}g{0123}%
{}{}}
   {\a:accents{cedil}{#1}}     {\b:accents{cedil}{#1}{#2}}
\expand:after{\expand:after{\Configure{accent}}%
   \csname T1\string\t\endcsname}%
   \csname T1\string\t\endcsname{{}{}}
   {\a:accents{udot}{#1}}     {\b:accents{udot}{#1}{#2}}
\expand:after{\expand:after{\Configure{accent}}%
   \csname T1\string\H\endcsname}%
   \csname T1\string\H\endcsname{o{0151}O{0150}U{0170}u{0171}%
{}{}}
   {\a:accents{Huml}{#1}}{\b:accents{Huml}{#1}{#2}}
\expand:after{\expand:after{\Configure{accent}}%
   \csname T1\string\b\endcsname}%
   \csname T1\string\b\endcsname{B{1E06}b{1E07}%
D{1E0E}d{1E0F}K{1E34}k{1E35}L{1E3A}l{1E3B}N{1E48}n{1E49}%
R{1E5E}r{1E5F}T{1E6E}t{1E6F}Z{1E94}z{1E95}h{1E96}%
{}{}}
   {\a:accents{b}{#1}}     {\b:accents{b}{#1}{#2}}
\expand:after{\expand:after{\Configure{accent}}%
   \csname T1\string\d\endcsname}%
   \csname T1\string\d\endcsname{A{1EA0}a{1Ea1}B{1E04}b{1E05}D{1E0C}d{1E0D}%
E{1EB8}e{1EB9}H{1E24}h{1E25}I{1ECA}i{1ECB}%
K{1E32}k{1E33}L{1E36}l{1E37}M{1E42}m{1E43}%
N{1E46}n{1E47}O{1ECC}o{1ECD}R{1E5A}r{1E5B}%
S{1E62}s{1E63}T{1E6C}t{1E6D}U{1EE4}u{1EE5}%
V{1E7E}v{1E7F}W{1E88}w{1E89}Y{1EF4}y{1EF5}%
{}{}}
   {\a:accents{d}{#1}}     {\b:accents{d}{#1}{#2}}
\expand:after{\Configure{accent}}\csname T1\string\.\expandafter\endcsname
   \csname T1\string\.\endcsname
   {{}{}}
   {\a:accents{dot}{#1}}{\b:accents{dot}{#1}{#2}}
\expand:after{\Configure{accent}}\csname T1\string\u\expandafter\endcsname
   \csname T1\string\u\endcsname
   {g{011F}I{012C}i{012D}O{014E}o{014F}%
U{016C}u{016D}A{0102}a{0103}E{0114}%
e{0115}G{011E}\i{012D}%
{}{}}
   {\a:accents{breve}{#1}}{\b:accents{breve}{#1}{#2}}
\expand:after{\Configure{accent}}\csname T1\string\vec\expandafter\endcsname
   \csname T1\string\vec\endcsname
   {{}{}}
   {\a:accents{vec}{#1}}{\b:accents{vec}{#1}{#2}}
\expandafter\let\csname T1\string\v\endcsname\:UnDef
\expand:after{\Configure{accent}}\csname T1\string\v\expandafter\endcsname
   \csname T1\string\v\endcsname
   {C{010C}c{010D}D{010E}d{010F}%
E{011A}e{011B}L{013D}l{013E}N{0147}n{0148}R{0158}r{0159}%
S{0160}s{0161}T{0164}t{0165}Z{017D}z{017E}A{01CD}a{01CE}I{01CF}%
i{01D0}O{01D1}o{01D2}U{01D3}u{01D4}G{01E6}g{01E7}K{01E8}k{01E9}%
j{01F0}H{021E}h{021F}\i{01D0}\j{01F0}%
{}{}}
   {\a:accents{check}{#1}}{\b:accents{check}{#1}{#2}}
\expand:after{\Configure{accent}}\csname T1\string\=\expandafter\endcsname
   \csname T1\string\=\endcsname
   {{}{}}
   {\a:accents{bar}{#1}}{\b:accents{bar}{#1}{#2}}

\Configure{accent}\`\grave{A{00C0}E{00C8}I{00CC}N{01F8}O{00D2}U{00D9}W{1E80}%
Y{1EF2}a{00E0}e{00E8}i{00EC}n{01F9}o{00F2}u{00F9}%
w{1E81}y{1EF3}\i{00EC}%
{}{}}
   {\a:accents{grave}{#1}}   {\b:accents{grave}{#1}{#2}}
\Configure{accent}\'\acute{A{00C1}C{0106}D{010E}E{00C9}G{01F4}I{00CD}L{0139}N{0143}%
O{00D3}R{0154}S{015A}U{00DA}Y{00DD}Z{0179}a{00E1}c{0107}%
d{010F}e{00E9}g{01F5}i{00ED}l{013A}n{0144}o{00F3}r{0155}%
s{015B}u{00FA}y{00FD}z{017A}j{FFFD}J{FFDD}\i{00ED}\j{FFFD}%
{}{}}
   {\a:accents{acute}{#1}}   {\b:accents{acute}{#1}{#2}}
\Configure{accent}\^\hat{A{00C2}E{00CA}I{00CE}O{00D4}U{00DB}a{00E2}e{00EA}%
i{00EE}o{00F4}u{00FB}C{0108}c{0109}G{011C}g{011D}%
H{0124}h{0125}J{0134}j{0135}S{015C}s{015D}W{0174}%
w{0175}Y{0176}y{0177}Z{1E90}z{1E91}\i{00EE}\j{0135}%
{}{}}
   {\a:accents{hat}{#1}}   {\b:accents{hat}{#1}{#2}}
\Configure{accent}\~\tilde{A{00C3}N{00D1}O{00D5}a{00E3}n{00F1}o{00F5}I{0128}%
i{0129}U{0168}u{0169}V{1E7C}v{1E7D}E{1EBC}e{1EBD}%
Y{1EF8}y{1EF9}\i{0129}%
{}{}}
   {\a:accents{tilde}{#1}}   {\b:accents{tilde}{#1}{#2}}
\Configure{accent}\"\ddot{H{1E26}h{1E27}W{1E84}w{1E85}X{1E8C}x{1E8D}%
t{1E97}A{00C4}E{00CB}I{00CF}O{00D6}U{00DC}%
a{00E4}e{00EB}i{00EF}o{00F6}u{00FC}y{00FF}%
Y{0178}\i{00EF}%
{}{34}}
   {\a:accents{uml}{#1}}   {\b:accents{uml}{#1}{#2}}
\Configure{accent}\c\c{K{0136}k{0137}L{013B}l{013C}N{0145}n{0146}%
R{0156}r{0157}S{015E}s{015F}T{0162}t{0163}%
E{0228}e{0229}D{1E10}d{1E11}H{1E28}h{1E29}%
C{00C7}c{00E7}G{0122}g{0123}%
{}{}}
   {\a:accents{cedil}{#1}}     {\b:accents{cedil}{#1}{#2}}
\Configure{accent}\t\t{{}{}}
   {\a:accents{udot}{#1}}     {\b:accents{udot}{#1}{#2}}
\Configure{accent}\H\H{o{0151}O{0150}U{0170}u{0171}%
{}{}}
   {\a:accents{Huml}{#1}}     {\b:accents{Huml}{#1}{#2}}
\Configure{accent}\b\b{{}{}}
   {\a:accents{b}{#1}}     {\b:accents{b}{#1}{#2}}
\Configure{accent}\d\d{{}{}}
   {\a:accents{d}{#1}}     {\b:accents{d}{#1}{#2}}
\Configure{accent}\.\.{C{010A}c{010B}E{0116}e{0117}G{0120}g{0121}%
I{0130}Z{017B}z{017C}A{0226}a{0227}O{022E}%
o{022F}B{1E02}b{1E03}D{1E0A}d{1E0B}F{1E1E}%
f{1E1F}H{1E22}h{1E23}M{1E40}m{1E41}N{1E44}%
n{1E45}P{1E56}p{1E57}R{1E58}r{1E59}S{1E60}%
s{1E61}T{1E6A}t{1E6B}W{1E86}w{1E87}X{1E8A}%
x{1E8B}Y{1E8E}y{1E8F}%
{}{}}
   {\a:accents{dot}{#1}}      {\b:accents{dot}{#1}{#2}}
\Configure{accent}\dot\dot{C{010A}c{010B}E{0116}e{0117}G{0120}g{0121}%
I{0130}Z{017B}z{017C}A{0226}a{0227}O{022E}%
o{022F}B{1E02}b{1E03}D{1E0A}d{1E0B}F{1E1E}%
f{1E1F}H{1E22}h{1E23}M{1E40}m{1E41}N{1E44}%
n{1E45}P{1E56}p{1E57}R{1E58}r{1E59}S{1E60}%
s{1E61}T{1E6A}t{1E6B}W{1E86}w{1E87}X{1E8A}%
x{1E8B}Y{1E8E}y{1E8F}%
{}{}}
   {\a:accents{dot}{#1}}      {\b:accents{dot}{#1}{#2}}
\Configure{accent}\u\breve{g{011F}I{012C}i{012D}O{014E}o{014F}%
U{016C}u{016D}A{0102}a{0103}E{0114}%
e{0115}G{011E}\i{012D}%
{}{}}
   {\a:accents{breve}{#1}}      {\b:accents{breve}{#1}{#2}}
\Configure{accent}\vec\vec{{}{}}
   {\a:accents{vec}{#1}}      {\b:accents{vec}{#1}{#2}}
\Configure{accent}\v\v{C{010C}c{010D}D{010E}d{010F}%
E{011A}e{011B}L{013D}l{013E}N{0147}n{0148}R{0158}r{0159}%
S{0160}s{0161}T{0164}t{0165}Z{017D}z{017E}A{01CD}a{01CE}I{01CF}%
i{01D0}O{01D1}o{01D2}U{01D3}u{01D4}G{01E6}g{01E7}K{01E8}k{01E9}%
j{01F0}H{021E}h{021F}\i{01D0}\j{01F0}%
{}{}}
   {\a:accents{check}{#1}}      {\b:accents{check}{#1}{#2}}
\Configure{accent}\check\check{C{010C}c{010D}D{010E}d{010F}%
E{011A}e{011B}L{013D}l{013E}N{0147}n{0148}R{0158}r{0159}%
S{0160}s{0161}T{0164}t{0165}Z{017D}z{017E}A{01CD}a{01CE}I{01CF}%
i{01D0}O{01D1}o{01D2}U{01D3}u{01D4}G{01E6}g{01E7}K{01E8}k{01E9}%
j{01F0}H{021E}h{021F}\i{01D0}\j{01F0}%
{}{}}
   {\a:accents{check}{#1}}      {\b:accents{check}{#1}{#2}}
\Configure{accent}\=\bar{{}{}}
   {\a:accents{bar}{#1}}      {\b:accents{bar}{#1}{#2}}

\fi

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{russianb}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \NewConfigure{dtd-lang}{1}  \Configure{dtd-lang}{RU}
\def\:temp{charset=koi8-r}\ifx \A:charset\:temp \else
   \def\A:charset{charset=iso-8859-5}
\fi
\ifx \@begindocumenthook\:UnDef\else
   \:CheckOption{new-accents}     \if:Option \else
%      \def\:temp{russian}\ifx \languagename\:temp
         \ifdefined\XeTeXrevision\else
\ifdefined\luatexversion\else
\input{html4-russian-accents.4ht}
\fi\fi

%      \fi
\fi\fi

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{scottish}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \ifx\A:charset\empty
\def\A:charset{charset=iso-8859-1}
\fi

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{slovak}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \ifx\A:charset\empty
\def\A:charset{charset=iso-8859-2}
\fi
\:CheckOption{new-accents}     \if:Option \else
   \expand:after{\Configure{accent}}\csname T1\string\`\expandafter\endcsname
   \csname T1\string\`\endcsname{A{00C0}E{00C8}I{00CC}N{01F8}O{00D2}U{00D9}W{1E80}%
Y{1EF2}a{00E0}e{00E8}i{00EC}n{01F9}o{00F2}u{00F9}%
w{1E81}y{1EF3}\i{00EC}%
{}{}}
   {\a:accents{grave}{#1}}   {\b:accents{grave}{#1}{#2}}
\expand:after{\Configure{accent}}\csname T1\string\'\expandafter\endcsname
   \csname T1\string\'\endcsname{A{00C1}C{0106}D{010E}E{00C9}G{01F4}I{00CD}L{0139}N{0143}%
O{00D3}R{0154}S{015A}U{00DA}Y{00DD}Z{0179}a{00E1}c{0107}%
d{010F}e{00E9}g{01F5}i{00ED}l{013A}n{0144}o{00F3}r{0155}%
s{015B}u{00FA}y{00FD}z{017A}j{FFFD}J{FFDD}\i{00ED}\j{FFFD}%
{}{}}
   {\a:accents{acute}{#1}}   {\b:accents{acute}{#1}{#2}}
\expand:after{\Configure{accent}}\csname T1\string\^\expandafter\endcsname
   \csname T1\string\^\endcsname{A{00C2}E{00CA}I{00CE}O{00D4}U{00DB}a{00E2}e{00EA}%
i{00EE}o{00F4}u{00FB}C{0108}c{0109}G{011C}g{011D}%
H{0124}h{0125}J{0134}j{0135}S{015C}s{015D}W{0174}%
w{0175}Y{0176}y{0177}Z{1E90}z{1E91}\i{00EE}\j{0135}%
{}{}}
   {\a:accents{circ}{#1}}   {\b:accents{circ}{#1}{#2}}
\expand:after{\Configure{accent}}\csname T1\string\~\expandafter\endcsname
   \csname T1\string\~\endcsname{A{00C3}N{00D1}O{00D5}a{00E3}n{00F1}o{00F5}I{0128}%
i{0129}U{0168}u{0169}V{1E7C}v{1E7D}E{1EBC}e{1EBD}%
Y{1EF8}y{1EF9}\i{0129}%
{}{}}
   {\a:accents{tilde}{#1}}   {\b:accents{tilde}{#1}{#2}}
\expand:after{\Configure{accent}}\csname T1\string\"\expandafter\endcsname
   \csname T1\string\"\endcsname{H{1E26}h{1E27}W{1E84}w{1E85}X{1E8C}x{1E8D}%
t{1E97}A{00C4}E{00CB}I{00CF}O{00D6}U{00DC}%
a{00E4}e{00EB}i{00EF}o{00F6}u{00FC}y{00FF}%
Y{0178}\i{00EF}%
{}{34}}
   {\a:accents{uml}{#1}}     {\b:accents{uml}{#1}{#2}}
\expand:after{\Configure{accent}}\csname T1\string\r\endcsname
   \mathring{A{00C5}a{00E5}U{016E}u{016F}%
{}{}}
   {\a:accents{ring}{#1}}   {\b:accents{ring}{#1}{#2}}
\expand:after{\expand:after{\Configure{accent}}%
   \csname T1\string\c\endcsname}%
   \csname T1\string\c\endcsname{K{0136}k{0137}L{013B}l{013C}N{0145}n{0146}%
R{0156}r{0157}S{015E}s{015F}T{0162}t{0163}%
E{0228}e{0229}D{1E10}d{1E11}H{1E28}h{1E29}%
C{00C7}c{00E7}G{0122}g{0123}%
{}{}}
   {\a:accents{cedil}{#1}}     {\b:accents{cedil}{#1}{#2}}
\expand:after{\expand:after{\Configure{accent}}%
   \csname T1\string\t\endcsname}%
   \csname T1\string\t\endcsname{{}{}}
   {\a:accents{udot}{#1}}     {\b:accents{udot}{#1}{#2}}
\expand:after{\expand:after{\Configure{accent}}%
   \csname T1\string\H\endcsname}%
   \csname T1\string\H\endcsname{o{0151}O{0150}U{0170}u{0171}%
{}{}}
   {\a:accents{Huml}{#1}}{\b:accents{Huml}{#1}{#2}}
\expand:after{\expand:after{\Configure{accent}}%
   \csname T1\string\b\endcsname}%
   \csname T1\string\b\endcsname{B{1E06}b{1E07}%
D{1E0E}d{1E0F}K{1E34}k{1E35}L{1E3A}l{1E3B}N{1E48}n{1E49}%
R{1E5E}r{1E5F}T{1E6E}t{1E6F}Z{1E94}z{1E95}h{1E96}%
{}{}}
   {\a:accents{b}{#1}}     {\b:accents{b}{#1}{#2}}
\expand:after{\expand:after{\Configure{accent}}%
   \csname T1\string\d\endcsname}%
   \csname T1\string\d\endcsname{A{1EA0}a{1Ea1}B{1E04}b{1E05}D{1E0C}d{1E0D}%
E{1EB8}e{1EB9}H{1E24}h{1E25}I{1ECA}i{1ECB}%
K{1E32}k{1E33}L{1E36}l{1E37}M{1E42}m{1E43}%
N{1E46}n{1E47}O{1ECC}o{1ECD}R{1E5A}r{1E5B}%
S{1E62}s{1E63}T{1E6C}t{1E6D}U{1EE4}u{1EE5}%
V{1E7E}v{1E7F}W{1E88}w{1E89}Y{1EF4}y{1EF5}%
{}{}}
   {\a:accents{d}{#1}}     {\b:accents{d}{#1}{#2}}
\expand:after{\Configure{accent}}\csname T1\string\.\expandafter\endcsname
   \csname T1\string\.\endcsname
   {{}{}}
   {\a:accents{dot}{#1}}{\b:accents{dot}{#1}{#2}}
\expand:after{\Configure{accent}}\csname T1\string\u\expandafter\endcsname
   \csname T1\string\u\endcsname
   {g{011F}I{012C}i{012D}O{014E}o{014F}%
U{016C}u{016D}A{0102}a{0103}E{0114}%
e{0115}G{011E}\i{012D}%
{}{}}
   {\a:accents{breve}{#1}}{\b:accents{breve}{#1}{#2}}
\expand:after{\Configure{accent}}\csname T1\string\vec\expandafter\endcsname
   \csname T1\string\vec\endcsname
   {{}{}}
   {\a:accents{vec}{#1}}{\b:accents{vec}{#1}{#2}}
\expandafter\let\csname T1\string\v\endcsname\:UnDef
\expand:after{\Configure{accent}}\csname T1\string\v\expandafter\endcsname
   \csname T1\string\v\endcsname
   {C{010C}c{010D}D{010E}d{010F}%
E{011A}e{011B}L{013D}l{013E}N{0147}n{0148}R{0158}r{0159}%
S{0160}s{0161}T{0164}t{0165}Z{017D}z{017E}A{01CD}a{01CE}I{01CF}%
i{01D0}O{01D1}o{01D2}U{01D3}u{01D4}G{01E6}g{01E7}K{01E8}k{01E9}%
j{01F0}H{021E}h{021F}\i{01D0}\j{01F0}%
{}{}}
   {\a:accents{check}{#1}}{\b:accents{check}{#1}{#2}}
\expand:after{\Configure{accent}}\csname T1\string\=\expandafter\endcsname
   \csname T1\string\=\endcsname
   {{}{}}
   {\a:accents{bar}{#1}}{\b:accents{bar}{#1}{#2}}

\Configure{accent}\`\grave{A{00C0}E{00C8}I{00CC}N{01F8}O{00D2}U{00D9}W{1E80}%
Y{1EF2}a{00E0}e{00E8}i{00EC}n{01F9}o{00F2}u{00F9}%
w{1E81}y{1EF3}\i{00EC}%
{}{}}
   {\a:accents{grave}{#1}}   {\b:accents{grave}{#1}{#2}}
\Configure{accent}\'\acute{A{00C1}C{0106}D{010E}E{00C9}G{01F4}I{00CD}L{0139}N{0143}%
O{00D3}R{0154}S{015A}U{00DA}Y{00DD}Z{0179}a{00E1}c{0107}%
d{010F}e{00E9}g{01F5}i{00ED}l{013A}n{0144}o{00F3}r{0155}%
s{015B}u{00FA}y{00FD}z{017A}j{FFFD}J{FFDD}\i{00ED}\j{FFFD}%
{}{}}
   {\a:accents{acute}{#1}}   {\b:accents{acute}{#1}{#2}}
\Configure{accent}\^\hat{A{00C2}E{00CA}I{00CE}O{00D4}U{00DB}a{00E2}e{00EA}%
i{00EE}o{00F4}u{00FB}C{0108}c{0109}G{011C}g{011D}%
H{0124}h{0125}J{0134}j{0135}S{015C}s{015D}W{0174}%
w{0175}Y{0176}y{0177}Z{1E90}z{1E91}\i{00EE}\j{0135}%
{}{}}
   {\a:accents{hat}{#1}}   {\b:accents{hat}{#1}{#2}}
\Configure{accent}\~\tilde{A{00C3}N{00D1}O{00D5}a{00E3}n{00F1}o{00F5}I{0128}%
i{0129}U{0168}u{0169}V{1E7C}v{1E7D}E{1EBC}e{1EBD}%
Y{1EF8}y{1EF9}\i{0129}%
{}{}}
   {\a:accents{tilde}{#1}}   {\b:accents{tilde}{#1}{#2}}
\Configure{accent}\"\ddot{H{1E26}h{1E27}W{1E84}w{1E85}X{1E8C}x{1E8D}%
t{1E97}A{00C4}E{00CB}I{00CF}O{00D6}U{00DC}%
a{00E4}e{00EB}i{00EF}o{00F6}u{00FC}y{00FF}%
Y{0178}\i{00EF}%
{}{34}}
   {\a:accents{uml}{#1}}   {\b:accents{uml}{#1}{#2}}
\Configure{accent}\c\c{K{0136}k{0137}L{013B}l{013C}N{0145}n{0146}%
R{0156}r{0157}S{015E}s{015F}T{0162}t{0163}%
E{0228}e{0229}D{1E10}d{1E11}H{1E28}h{1E29}%
C{00C7}c{00E7}G{0122}g{0123}%
{}{}}
   {\a:accents{cedil}{#1}}     {\b:accents{cedil}{#1}{#2}}
\Configure{accent}\t\t{{}{}}
   {\a:accents{udot}{#1}}     {\b:accents{udot}{#1}{#2}}
\Configure{accent}\H\H{o{0151}O{0150}U{0170}u{0171}%
{}{}}
   {\a:accents{Huml}{#1}}     {\b:accents{Huml}{#1}{#2}}
\Configure{accent}\b\b{{}{}}
   {\a:accents{b}{#1}}     {\b:accents{b}{#1}{#2}}
\Configure{accent}\d\d{{}{}}
   {\a:accents{d}{#1}}     {\b:accents{d}{#1}{#2}}
\Configure{accent}\.\.{C{010A}c{010B}E{0116}e{0117}G{0120}g{0121}%
I{0130}Z{017B}z{017C}A{0226}a{0227}O{022E}%
o{022F}B{1E02}b{1E03}D{1E0A}d{1E0B}F{1E1E}%
f{1E1F}H{1E22}h{1E23}M{1E40}m{1E41}N{1E44}%
n{1E45}P{1E56}p{1E57}R{1E58}r{1E59}S{1E60}%
s{1E61}T{1E6A}t{1E6B}W{1E86}w{1E87}X{1E8A}%
x{1E8B}Y{1E8E}y{1E8F}%
{}{}}
   {\a:accents{dot}{#1}}      {\b:accents{dot}{#1}{#2}}
\Configure{accent}\dot\dot{C{010A}c{010B}E{0116}e{0117}G{0120}g{0121}%
I{0130}Z{017B}z{017C}A{0226}a{0227}O{022E}%
o{022F}B{1E02}b{1E03}D{1E0A}d{1E0B}F{1E1E}%
f{1E1F}H{1E22}h{1E23}M{1E40}m{1E41}N{1E44}%
n{1E45}P{1E56}p{1E57}R{1E58}r{1E59}S{1E60}%
s{1E61}T{1E6A}t{1E6B}W{1E86}w{1E87}X{1E8A}%
x{1E8B}Y{1E8E}y{1E8F}%
{}{}}
   {\a:accents{dot}{#1}}      {\b:accents{dot}{#1}{#2}}
\Configure{accent}\u\breve{g{011F}I{012C}i{012D}O{014E}o{014F}%
U{016C}u{016D}A{0102}a{0103}E{0114}%
e{0115}G{011E}\i{012D}%
{}{}}
   {\a:accents{breve}{#1}}      {\b:accents{breve}{#1}{#2}}
\Configure{accent}\vec\vec{{}{}}
   {\a:accents{vec}{#1}}      {\b:accents{vec}{#1}{#2}}
\Configure{accent}\v\v{C{010C}c{010D}D{010E}d{010F}%
E{011A}e{011B}L{013D}l{013E}N{0147}n{0148}R{0158}r{0159}%
S{0160}s{0161}T{0164}t{0165}Z{017D}z{017E}A{01CD}a{01CE}I{01CF}%
i{01D0}O{01D1}o{01D2}U{01D3}u{01D4}G{01E6}g{01E7}K{01E8}k{01E9}%
j{01F0}H{021E}h{021F}\i{01D0}\j{01F0}%
{}{}}
   {\a:accents{check}{#1}}      {\b:accents{check}{#1}{#2}}
\Configure{accent}\check\check{C{010C}c{010D}D{010E}d{010F}%
E{011A}e{011B}L{013D}l{013E}N{0147}n{0148}R{0158}r{0159}%
S{0160}s{0161}T{0164}t{0165}Z{017D}z{017E}A{01CD}a{01CE}I{01CF}%
i{01D0}O{01D1}o{01D2}U{01D3}u{01D4}G{01E6}g{01E7}K{01E8}k{01E9}%
j{01F0}H{021E}h{021F}\i{01D0}\j{01F0}%
{}{}}
   {\a:accents{check}{#1}}      {\b:accents{check}{#1}{#2}}
\Configure{accent}\=\bar{{}{}}
   {\a:accents{bar}{#1}}      {\b:accents{bar}{#1}{#2}}

\fi

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{slovene}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \ifx\A:charset\empty
\def\A:charset{charset=iso-8859-2}
\fi
\:CheckOption{new-accents}     \if:Option \else
   \expand:after{\Configure{accent}}\csname T1\string\`\expandafter\endcsname
   \csname T1\string\`\endcsname{A{00C0}E{00C8}I{00CC}N{01F8}O{00D2}U{00D9}W{1E80}%
Y{1EF2}a{00E0}e{00E8}i{00EC}n{01F9}o{00F2}u{00F9}%
w{1E81}y{1EF3}\i{00EC}%
{}{}}
   {\a:accents{grave}{#1}}   {\b:accents{grave}{#1}{#2}}
\expand:after{\Configure{accent}}\csname T1\string\'\expandafter\endcsname
   \csname T1\string\'\endcsname{A{00C1}C{0106}D{010E}E{00C9}G{01F4}I{00CD}L{0139}N{0143}%
O{00D3}R{0154}S{015A}U{00DA}Y{00DD}Z{0179}a{00E1}c{0107}%
d{010F}e{00E9}g{01F5}i{00ED}l{013A}n{0144}o{00F3}r{0155}%
s{015B}u{00FA}y{00FD}z{017A}j{FFFD}J{FFDD}\i{00ED}\j{FFFD}%
{}{}}
   {\a:accents{acute}{#1}}   {\b:accents{acute}{#1}{#2}}
\expand:after{\Configure{accent}}\csname T1\string\^\expandafter\endcsname
   \csname T1\string\^\endcsname{A{00C2}E{00CA}I{00CE}O{00D4}U{00DB}a{00E2}e{00EA}%
i{00EE}o{00F4}u{00FB}C{0108}c{0109}G{011C}g{011D}%
H{0124}h{0125}J{0134}j{0135}S{015C}s{015D}W{0174}%
w{0175}Y{0176}y{0177}Z{1E90}z{1E91}\i{00EE}\j{0135}%
{}{}}
   {\a:accents{circ}{#1}}   {\b:accents{circ}{#1}{#2}}
\expand:after{\Configure{accent}}\csname T1\string\~\expandafter\endcsname
   \csname T1\string\~\endcsname{A{00C3}N{00D1}O{00D5}a{00E3}n{00F1}o{00F5}I{0128}%
i{0129}U{0168}u{0169}V{1E7C}v{1E7D}E{1EBC}e{1EBD}%
Y{1EF8}y{1EF9}\i{0129}%
{}{}}
   {\a:accents{tilde}{#1}}   {\b:accents{tilde}{#1}{#2}}
\expand:after{\Configure{accent}}\csname T1\string\"\expandafter\endcsname
   \csname T1\string\"\endcsname{H{1E26}h{1E27}W{1E84}w{1E85}X{1E8C}x{1E8D}%
t{1E97}A{00C4}E{00CB}I{00CF}O{00D6}U{00DC}%
a{00E4}e{00EB}i{00EF}o{00F6}u{00FC}y{00FF}%
Y{0178}\i{00EF}%
{}{34}}
   {\a:accents{uml}{#1}}     {\b:accents{uml}{#1}{#2}}
\expand:after{\Configure{accent}}\csname T1\string\r\endcsname
   \mathring{A{00C5}a{00E5}U{016E}u{016F}%
{}{}}
   {\a:accents{ring}{#1}}   {\b:accents{ring}{#1}{#2}}
\expand:after{\expand:after{\Configure{accent}}%
   \csname T1\string\c\endcsname}%
   \csname T1\string\c\endcsname{K{0136}k{0137}L{013B}l{013C}N{0145}n{0146}%
R{0156}r{0157}S{015E}s{015F}T{0162}t{0163}%
E{0228}e{0229}D{1E10}d{1E11}H{1E28}h{1E29}%
C{00C7}c{00E7}G{0122}g{0123}%
{}{}}
   {\a:accents{cedil}{#1}}     {\b:accents{cedil}{#1}{#2}}
\expand:after{\expand:after{\Configure{accent}}%
   \csname T1\string\t\endcsname}%
   \csname T1\string\t\endcsname{{}{}}
   {\a:accents{udot}{#1}}     {\b:accents{udot}{#1}{#2}}
\expand:after{\expand:after{\Configure{accent}}%
   \csname T1\string\H\endcsname}%
   \csname T1\string\H\endcsname{o{0151}O{0150}U{0170}u{0171}%
{}{}}
   {\a:accents{Huml}{#1}}{\b:accents{Huml}{#1}{#2}}
\expand:after{\expand:after{\Configure{accent}}%
   \csname T1\string\b\endcsname}%
   \csname T1\string\b\endcsname{B{1E06}b{1E07}%
D{1E0E}d{1E0F}K{1E34}k{1E35}L{1E3A}l{1E3B}N{1E48}n{1E49}%
R{1E5E}r{1E5F}T{1E6E}t{1E6F}Z{1E94}z{1E95}h{1E96}%
{}{}}
   {\a:accents{b}{#1}}     {\b:accents{b}{#1}{#2}}
\expand:after{\expand:after{\Configure{accent}}%
   \csname T1\string\d\endcsname}%
   \csname T1\string\d\endcsname{A{1EA0}a{1Ea1}B{1E04}b{1E05}D{1E0C}d{1E0D}%
E{1EB8}e{1EB9}H{1E24}h{1E25}I{1ECA}i{1ECB}%
K{1E32}k{1E33}L{1E36}l{1E37}M{1E42}m{1E43}%
N{1E46}n{1E47}O{1ECC}o{1ECD}R{1E5A}r{1E5B}%
S{1E62}s{1E63}T{1E6C}t{1E6D}U{1EE4}u{1EE5}%
V{1E7E}v{1E7F}W{1E88}w{1E89}Y{1EF4}y{1EF5}%
{}{}}
   {\a:accents{d}{#1}}     {\b:accents{d}{#1}{#2}}
\expand:after{\Configure{accent}}\csname T1\string\.\expandafter\endcsname
   \csname T1\string\.\endcsname
   {{}{}}
   {\a:accents{dot}{#1}}{\b:accents{dot}{#1}{#2}}
\expand:after{\Configure{accent}}\csname T1\string\u\expandafter\endcsname
   \csname T1\string\u\endcsname
   {g{011F}I{012C}i{012D}O{014E}o{014F}%
U{016C}u{016D}A{0102}a{0103}E{0114}%
e{0115}G{011E}\i{012D}%
{}{}}
   {\a:accents{breve}{#1}}{\b:accents{breve}{#1}{#2}}
\expand:after{\Configure{accent}}\csname T1\string\vec\expandafter\endcsname
   \csname T1\string\vec\endcsname
   {{}{}}
   {\a:accents{vec}{#1}}{\b:accents{vec}{#1}{#2}}
\expandafter\let\csname T1\string\v\endcsname\:UnDef
\expand:after{\Configure{accent}}\csname T1\string\v\expandafter\endcsname
   \csname T1\string\v\endcsname
   {C{010C}c{010D}D{010E}d{010F}%
E{011A}e{011B}L{013D}l{013E}N{0147}n{0148}R{0158}r{0159}%
S{0160}s{0161}T{0164}t{0165}Z{017D}z{017E}A{01CD}a{01CE}I{01CF}%
i{01D0}O{01D1}o{01D2}U{01D3}u{01D4}G{01E6}g{01E7}K{01E8}k{01E9}%
j{01F0}H{021E}h{021F}\i{01D0}\j{01F0}%
{}{}}
   {\a:accents{check}{#1}}{\b:accents{check}{#1}{#2}}
\expand:after{\Configure{accent}}\csname T1\string\=\expandafter\endcsname
   \csname T1\string\=\endcsname
   {{}{}}
   {\a:accents{bar}{#1}}{\b:accents{bar}{#1}{#2}}

\Configure{accent}\`\grave{A{00C0}E{00C8}I{00CC}N{01F8}O{00D2}U{00D9}W{1E80}%
Y{1EF2}a{00E0}e{00E8}i{00EC}n{01F9}o{00F2}u{00F9}%
w{1E81}y{1EF3}\i{00EC}%
{}{}}
   {\a:accents{grave}{#1}}   {\b:accents{grave}{#1}{#2}}
\Configure{accent}\'\acute{A{00C1}C{0106}D{010E}E{00C9}G{01F4}I{00CD}L{0139}N{0143}%
O{00D3}R{0154}S{015A}U{00DA}Y{00DD}Z{0179}a{00E1}c{0107}%
d{010F}e{00E9}g{01F5}i{00ED}l{013A}n{0144}o{00F3}r{0155}%
s{015B}u{00FA}y{00FD}z{017A}j{FFFD}J{FFDD}\i{00ED}\j{FFFD}%
{}{}}
   {\a:accents{acute}{#1}}   {\b:accents{acute}{#1}{#2}}
\Configure{accent}\^\hat{A{00C2}E{00CA}I{00CE}O{00D4}U{00DB}a{00E2}e{00EA}%
i{00EE}o{00F4}u{00FB}C{0108}c{0109}G{011C}g{011D}%
H{0124}h{0125}J{0134}j{0135}S{015C}s{015D}W{0174}%
w{0175}Y{0176}y{0177}Z{1E90}z{1E91}\i{00EE}\j{0135}%
{}{}}
   {\a:accents{hat}{#1}}   {\b:accents{hat}{#1}{#2}}
\Configure{accent}\~\tilde{A{00C3}N{00D1}O{00D5}a{00E3}n{00F1}o{00F5}I{0128}%
i{0129}U{0168}u{0169}V{1E7C}v{1E7D}E{1EBC}e{1EBD}%
Y{1EF8}y{1EF9}\i{0129}%
{}{}}
   {\a:accents{tilde}{#1}}   {\b:accents{tilde}{#1}{#2}}
\Configure{accent}\"\ddot{H{1E26}h{1E27}W{1E84}w{1E85}X{1E8C}x{1E8D}%
t{1E97}A{00C4}E{00CB}I{00CF}O{00D6}U{00DC}%
a{00E4}e{00EB}i{00EF}o{00F6}u{00FC}y{00FF}%
Y{0178}\i{00EF}%
{}{34}}
   {\a:accents{uml}{#1}}   {\b:accents{uml}{#1}{#2}}
\Configure{accent}\c\c{K{0136}k{0137}L{013B}l{013C}N{0145}n{0146}%
R{0156}r{0157}S{015E}s{015F}T{0162}t{0163}%
E{0228}e{0229}D{1E10}d{1E11}H{1E28}h{1E29}%
C{00C7}c{00E7}G{0122}g{0123}%
{}{}}
   {\a:accents{cedil}{#1}}     {\b:accents{cedil}{#1}{#2}}
\Configure{accent}\t\t{{}{}}
   {\a:accents{udot}{#1}}     {\b:accents{udot}{#1}{#2}}
\Configure{accent}\H\H{o{0151}O{0150}U{0170}u{0171}%
{}{}}
   {\a:accents{Huml}{#1}}     {\b:accents{Huml}{#1}{#2}}
\Configure{accent}\b\b{{}{}}
   {\a:accents{b}{#1}}     {\b:accents{b}{#1}{#2}}
\Configure{accent}\d\d{{}{}}
   {\a:accents{d}{#1}}     {\b:accents{d}{#1}{#2}}
\Configure{accent}\.\.{C{010A}c{010B}E{0116}e{0117}G{0120}g{0121}%
I{0130}Z{017B}z{017C}A{0226}a{0227}O{022E}%
o{022F}B{1E02}b{1E03}D{1E0A}d{1E0B}F{1E1E}%
f{1E1F}H{1E22}h{1E23}M{1E40}m{1E41}N{1E44}%
n{1E45}P{1E56}p{1E57}R{1E58}r{1E59}S{1E60}%
s{1E61}T{1E6A}t{1E6B}W{1E86}w{1E87}X{1E8A}%
x{1E8B}Y{1E8E}y{1E8F}%
{}{}}
   {\a:accents{dot}{#1}}      {\b:accents{dot}{#1}{#2}}
\Configure{accent}\dot\dot{C{010A}c{010B}E{0116}e{0117}G{0120}g{0121}%
I{0130}Z{017B}z{017C}A{0226}a{0227}O{022E}%
o{022F}B{1E02}b{1E03}D{1E0A}d{1E0B}F{1E1E}%
f{1E1F}H{1E22}h{1E23}M{1E40}m{1E41}N{1E44}%
n{1E45}P{1E56}p{1E57}R{1E58}r{1E59}S{1E60}%
s{1E61}T{1E6A}t{1E6B}W{1E86}w{1E87}X{1E8A}%
x{1E8B}Y{1E8E}y{1E8F}%
{}{}}
   {\a:accents{dot}{#1}}      {\b:accents{dot}{#1}{#2}}
\Configure{accent}\u\breve{g{011F}I{012C}i{012D}O{014E}o{014F}%
U{016C}u{016D}A{0102}a{0103}E{0114}%
e{0115}G{011E}\i{012D}%
{}{}}
   {\a:accents{breve}{#1}}      {\b:accents{breve}{#1}{#2}}
\Configure{accent}\vec\vec{{}{}}
   {\a:accents{vec}{#1}}      {\b:accents{vec}{#1}{#2}}
\Configure{accent}\v\v{C{010C}c{010D}D{010E}d{010F}%
E{011A}e{011B}L{013D}l{013E}N{0147}n{0148}R{0158}r{0159}%
S{0160}s{0161}T{0164}t{0165}Z{017D}z{017E}A{01CD}a{01CE}I{01CF}%
i{01D0}O{01D1}o{01D2}U{01D3}u{01D4}G{01E6}g{01E7}K{01E8}k{01E9}%
j{01F0}H{021E}h{021F}\i{01D0}\j{01F0}%
{}{}}
   {\a:accents{check}{#1}}      {\b:accents{check}{#1}{#2}}
\Configure{accent}\check\check{C{010C}c{010D}D{010E}d{010F}%
E{011A}e{011B}L{013D}l{013E}N{0147}n{0148}R{0158}r{0159}%
S{0160}s{0161}T{0164}t{0165}Z{017D}z{017E}A{01CD}a{01CE}I{01CF}%
i{01D0}O{01D1}o{01D2}U{01D3}u{01D4}G{01E6}g{01E7}K{01E8}k{01E9}%
j{01F0}H{021E}h{021F}\i{01D0}\j{01F0}%
{}{}}
   {\a:accents{check}{#1}}      {\b:accents{check}{#1}{#2}}
\Configure{accent}\=\bar{{}{}}
   {\a:accents{bar}{#1}}      {\b:accents{bar}{#1}{#2}}

\fi

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{spanish}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \ifx\A:charset\empty
\def\A:charset{charset=iso-8859-1}
\fi
\Configure{es@accents}{\es:accents}{}
\def\es:accents#1\b:es@accents{\HCode{&\#x#1;}}
\Configure{guillemotleft}{\HCode{&\#x00AB;}}
\Configure{guillemotright}{\HCode{&\#x00BB;}}
\Configure{spanish"a}{\HCode{<span ="underline">&\#x00AA;</span>}}
\Configure{spanish"o}{\HCode{<span ="underline">&\#x00BA;</span>}}
\Configure{spanish"e}{\HCode{<sup class="underline">e</sup>}}
\Configure{spanish"A}{\HCode{<sup class="underline">A</sup>}}
\Configure{spanish"O}{\HCode{<sup class="underline">O</sup>}}
\Configure{spanish"E}{\HCode{<sup class="underline">E</sup>}}
\Configure{spanish'i}{\HCode{&\#x00ED;}}
\Configure{es@accent}
  {\string\OT1\string\'}
  {A{00C1}C{0106}D{010E}E{00C9}G{01F4}I{00CD}L{0139}N{0143}%
O{00D3}R{0154}S{015A}U{00DA}Y{00DD}Z{0179}a{00E1}c{0107}%
d{010F}e{00E9}g{01F5}i{00ED}l{013A}n{0144}o{00F3}r{0155}%
s{015B}u{00FA}y{00FD}z{017A}j{FFFD}J{FFDD}\i{00ED}\j{FFFD}%
}
\Configure{es@accent}
  {\string\OT1\string\"}
  {H{1E26}h{1E27}W{1E84}w{1E85}X{1E8C}x{1E8D}%
t{1E97}A{00C4}E{00CB}I{00CF}O{00D6}U{00DC}%
a{00E4}e{00EB}i{00EF}o{00F6}u{00FC}y{00FF}%
Y{0178}\i{00EF}%
{}{34}}
\Configure{es@accent}
  {\string\OT1\string\~}
  {A{00C3}N{00D1}O{00D5}a{00E3}n{00F1}o{00F5}I{0128}%
i{0129}U{0168}u{0169}V{1E7C}v{1E7D}E{1EBC}e{1EBD}%
Y{1EF8}y{1EF9}\i{0129}%
}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{swedish}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \ifx\A:charset\empty
\def\A:charset{charset=iso-8859-1}
\fi

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{turkish}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \ifx\A:charset\empty
\def\A:charset{charset=iso-8859-9}
\fi

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{ukraineb}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \ifx\A:charset\empty
\def\A:charset{charset=iso-8859-5}
\fi

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{usorbian}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \ifx\A:charset\empty
\def\A:charset{charset=iso-8859-2}
\fi

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{welsh}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \ifx\A:charset\empty
\def\A:charset{charset=iso-8859-1}
\fi

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{hebrew}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \ifx\A:charset\empty
\def\A:charset{charset=iso-8859-8}
\fi

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{austrian}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \ifx\A:charset\empty
\def\A:charset{charset=iso-8859-1}
\fi

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{catalan}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \ifx\A:charset\empty
\def\A:charset{charset=iso-8859-1}
\fi

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{croatian}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \ifx\A:charset\empty
\def\A:charset{charset=iso-8859-2}
\fi
\:CheckOption{new-accents}     \if:Option \else
   \expand:after{\Configure{accent}}\csname T1\string\`\expandafter\endcsname
   \csname T1\string\`\endcsname{A{00C0}E{00C8}I{00CC}N{01F8}O{00D2}U{00D9}W{1E80}%
Y{1EF2}a{00E0}e{00E8}i{00EC}n{01F9}o{00F2}u{00F9}%
w{1E81}y{1EF3}\i{00EC}%
{}{}}
   {\a:accents{grave}{#1}}   {\b:accents{grave}{#1}{#2}}
\expand:after{\Configure{accent}}\csname T1\string\'\expandafter\endcsname
   \csname T1\string\'\endcsname{A{00C1}C{0106}D{010E}E{00C9}G{01F4}I{00CD}L{0139}N{0143}%
O{00D3}R{0154}S{015A}U{00DA}Y{00DD}Z{0179}a{00E1}c{0107}%
d{010F}e{00E9}g{01F5}i{00ED}l{013A}n{0144}o{00F3}r{0155}%
s{015B}u{00FA}y{00FD}z{017A}j{FFFD}J{FFDD}\i{00ED}\j{FFFD}%
{}{}}
   {\a:accents{acute}{#1}}   {\b:accents{acute}{#1}{#2}}
\expand:after{\Configure{accent}}\csname T1\string\^\expandafter\endcsname
   \csname T1\string\^\endcsname{A{00C2}E{00CA}I{00CE}O{00D4}U{00DB}a{00E2}e{00EA}%
i{00EE}o{00F4}u{00FB}C{0108}c{0109}G{011C}g{011D}%
H{0124}h{0125}J{0134}j{0135}S{015C}s{015D}W{0174}%
w{0175}Y{0176}y{0177}Z{1E90}z{1E91}\i{00EE}\j{0135}%
{}{}}
   {\a:accents{circ}{#1}}   {\b:accents{circ}{#1}{#2}}
\expand:after{\Configure{accent}}\csname T1\string\~\expandafter\endcsname
   \csname T1\string\~\endcsname{A{00C3}N{00D1}O{00D5}a{00E3}n{00F1}o{00F5}I{0128}%
i{0129}U{0168}u{0169}V{1E7C}v{1E7D}E{1EBC}e{1EBD}%
Y{1EF8}y{1EF9}\i{0129}%
{}{}}
   {\a:accents{tilde}{#1}}   {\b:accents{tilde}{#1}{#2}}
\expand:after{\Configure{accent}}\csname T1\string\"\expandafter\endcsname
   \csname T1\string\"\endcsname{H{1E26}h{1E27}W{1E84}w{1E85}X{1E8C}x{1E8D}%
t{1E97}A{00C4}E{00CB}I{00CF}O{00D6}U{00DC}%
a{00E4}e{00EB}i{00EF}o{00F6}u{00FC}y{00FF}%
Y{0178}\i{00EF}%
{}{34}}
   {\a:accents{uml}{#1}}     {\b:accents{uml}{#1}{#2}}
\expand:after{\Configure{accent}}\csname T1\string\r\endcsname
   \mathring{A{00C5}a{00E5}U{016E}u{016F}%
{}{}}
   {\a:accents{ring}{#1}}   {\b:accents{ring}{#1}{#2}}
\expand:after{\expand:after{\Configure{accent}}%
   \csname T1\string\c\endcsname}%
   \csname T1\string\c\endcsname{K{0136}k{0137}L{013B}l{013C}N{0145}n{0146}%
R{0156}r{0157}S{015E}s{015F}T{0162}t{0163}%
E{0228}e{0229}D{1E10}d{1E11}H{1E28}h{1E29}%
C{00C7}c{00E7}G{0122}g{0123}%
{}{}}
   {\a:accents{cedil}{#1}}     {\b:accents{cedil}{#1}{#2}}
\expand:after{\expand:after{\Configure{accent}}%
   \csname T1\string\t\endcsname}%
   \csname T1\string\t\endcsname{{}{}}
   {\a:accents{udot}{#1}}     {\b:accents{udot}{#1}{#2}}
\expand:after{\expand:after{\Configure{accent}}%
   \csname T1\string\H\endcsname}%
   \csname T1\string\H\endcsname{o{0151}O{0150}U{0170}u{0171}%
{}{}}
   {\a:accents{Huml}{#1}}{\b:accents{Huml}{#1}{#2}}
\expand:after{\expand:after{\Configure{accent}}%
   \csname T1\string\b\endcsname}%
   \csname T1\string\b\endcsname{B{1E06}b{1E07}%
D{1E0E}d{1E0F}K{1E34}k{1E35}L{1E3A}l{1E3B}N{1E48}n{1E49}%
R{1E5E}r{1E5F}T{1E6E}t{1E6F}Z{1E94}z{1E95}h{1E96}%
{}{}}
   {\a:accents{b}{#1}}     {\b:accents{b}{#1}{#2}}
\expand:after{\expand:after{\Configure{accent}}%
   \csname T1\string\d\endcsname}%
   \csname T1\string\d\endcsname{A{1EA0}a{1Ea1}B{1E04}b{1E05}D{1E0C}d{1E0D}%
E{1EB8}e{1EB9}H{1E24}h{1E25}I{1ECA}i{1ECB}%
K{1E32}k{1E33}L{1E36}l{1E37}M{1E42}m{1E43}%
N{1E46}n{1E47}O{1ECC}o{1ECD}R{1E5A}r{1E5B}%
S{1E62}s{1E63}T{1E6C}t{1E6D}U{1EE4}u{1EE5}%
V{1E7E}v{1E7F}W{1E88}w{1E89}Y{1EF4}y{1EF5}%
{}{}}
   {\a:accents{d}{#1}}     {\b:accents{d}{#1}{#2}}
\expand:after{\Configure{accent}}\csname T1\string\.\expandafter\endcsname
   \csname T1\string\.\endcsname
   {{}{}}
   {\a:accents{dot}{#1}}{\b:accents{dot}{#1}{#2}}
\expand:after{\Configure{accent}}\csname T1\string\u\expandafter\endcsname
   \csname T1\string\u\endcsname
   {g{011F}I{012C}i{012D}O{014E}o{014F}%
U{016C}u{016D}A{0102}a{0103}E{0114}%
e{0115}G{011E}\i{012D}%
{}{}}
   {\a:accents{breve}{#1}}{\b:accents{breve}{#1}{#2}}
\expand:after{\Configure{accent}}\csname T1\string\vec\expandafter\endcsname
   \csname T1\string\vec\endcsname
   {{}{}}
   {\a:accents{vec}{#1}}{\b:accents{vec}{#1}{#2}}
\expandafter\let\csname T1\string\v\endcsname\:UnDef
\expand:after{\Configure{accent}}\csname T1\string\v\expandafter\endcsname
   \csname T1\string\v\endcsname
   {C{010C}c{010D}D{010E}d{010F}%
E{011A}e{011B}L{013D}l{013E}N{0147}n{0148}R{0158}r{0159}%
S{0160}s{0161}T{0164}t{0165}Z{017D}z{017E}A{01CD}a{01CE}I{01CF}%
i{01D0}O{01D1}o{01D2}U{01D3}u{01D4}G{01E6}g{01E7}K{01E8}k{01E9}%
j{01F0}H{021E}h{021F}\i{01D0}\j{01F0}%
{}{}}
   {\a:accents{check}{#1}}{\b:accents{check}{#1}{#2}}
\expand:after{\Configure{accent}}\csname T1\string\=\expandafter\endcsname
   \csname T1\string\=\endcsname
   {{}{}}
   {\a:accents{bar}{#1}}{\b:accents{bar}{#1}{#2}}

\Configure{accent}\`\grave{A{00C0}E{00C8}I{00CC}N{01F8}O{00D2}U{00D9}W{1E80}%
Y{1EF2}a{00E0}e{00E8}i{00EC}n{01F9}o{00F2}u{00F9}%
w{1E81}y{1EF3}\i{00EC}%
{}{}}
   {\a:accents{grave}{#1}}   {\b:accents{grave}{#1}{#2}}
\Configure{accent}\'\acute{A{00C1}C{0106}D{010E}E{00C9}G{01F4}I{00CD}L{0139}N{0143}%
O{00D3}R{0154}S{015A}U{00DA}Y{00DD}Z{0179}a{00E1}c{0107}%
d{010F}e{00E9}g{01F5}i{00ED}l{013A}n{0144}o{00F3}r{0155}%
s{015B}u{00FA}y{00FD}z{017A}j{FFFD}J{FFDD}\i{00ED}\j{FFFD}%
{}{}}
   {\a:accents{acute}{#1}}   {\b:accents{acute}{#1}{#2}}
\Configure{accent}\^\hat{A{00C2}E{00CA}I{00CE}O{00D4}U{00DB}a{00E2}e{00EA}%
i{00EE}o{00F4}u{00FB}C{0108}c{0109}G{011C}g{011D}%
H{0124}h{0125}J{0134}j{0135}S{015C}s{015D}W{0174}%
w{0175}Y{0176}y{0177}Z{1E90}z{1E91}\i{00EE}\j{0135}%
{}{}}
   {\a:accents{hat}{#1}}   {\b:accents{hat}{#1}{#2}}
\Configure{accent}\~\tilde{A{00C3}N{00D1}O{00D5}a{00E3}n{00F1}o{00F5}I{0128}%
i{0129}U{0168}u{0169}V{1E7C}v{1E7D}E{1EBC}e{1EBD}%
Y{1EF8}y{1EF9}\i{0129}%
{}{}}
   {\a:accents{tilde}{#1}}   {\b:accents{tilde}{#1}{#2}}
\Configure{accent}\"\ddot{H{1E26}h{1E27}W{1E84}w{1E85}X{1E8C}x{1E8D}%
t{1E97}A{00C4}E{00CB}I{00CF}O{00D6}U{00DC}%
a{00E4}e{00EB}i{00EF}o{00F6}u{00FC}y{00FF}%
Y{0178}\i{00EF}%
{}{34}}
   {\a:accents{uml}{#1}}   {\b:accents{uml}{#1}{#2}}
\Configure{accent}\c\c{K{0136}k{0137}L{013B}l{013C}N{0145}n{0146}%
R{0156}r{0157}S{015E}s{015F}T{0162}t{0163}%
E{0228}e{0229}D{1E10}d{1E11}H{1E28}h{1E29}%
C{00C7}c{00E7}G{0122}g{0123}%
{}{}}
   {\a:accents{cedil}{#1}}     {\b:accents{cedil}{#1}{#2}}
\Configure{accent}\t\t{{}{}}
   {\a:accents{udot}{#1}}     {\b:accents{udot}{#1}{#2}}
\Configure{accent}\H\H{o{0151}O{0150}U{0170}u{0171}%
{}{}}
   {\a:accents{Huml}{#1}}     {\b:accents{Huml}{#1}{#2}}
\Configure{accent}\b\b{{}{}}
   {\a:accents{b}{#1}}     {\b:accents{b}{#1}{#2}}
\Configure{accent}\d\d{{}{}}
   {\a:accents{d}{#1}}     {\b:accents{d}{#1}{#2}}
\Configure{accent}\.\.{C{010A}c{010B}E{0116}e{0117}G{0120}g{0121}%
I{0130}Z{017B}z{017C}A{0226}a{0227}O{022E}%
o{022F}B{1E02}b{1E03}D{1E0A}d{1E0B}F{1E1E}%
f{1E1F}H{1E22}h{1E23}M{1E40}m{1E41}N{1E44}%
n{1E45}P{1E56}p{1E57}R{1E58}r{1E59}S{1E60}%
s{1E61}T{1E6A}t{1E6B}W{1E86}w{1E87}X{1E8A}%
x{1E8B}Y{1E8E}y{1E8F}%
{}{}}
   {\a:accents{dot}{#1}}      {\b:accents{dot}{#1}{#2}}
\Configure{accent}\dot\dot{C{010A}c{010B}E{0116}e{0117}G{0120}g{0121}%
I{0130}Z{017B}z{017C}A{0226}a{0227}O{022E}%
o{022F}B{1E02}b{1E03}D{1E0A}d{1E0B}F{1E1E}%
f{1E1F}H{1E22}h{1E23}M{1E40}m{1E41}N{1E44}%
n{1E45}P{1E56}p{1E57}R{1E58}r{1E59}S{1E60}%
s{1E61}T{1E6A}t{1E6B}W{1E86}w{1E87}X{1E8A}%
x{1E8B}Y{1E8E}y{1E8F}%
{}{}}
   {\a:accents{dot}{#1}}      {\b:accents{dot}{#1}{#2}}
\Configure{accent}\u\breve{g{011F}I{012C}i{012D}O{014E}o{014F}%
U{016C}u{016D}A{0102}a{0103}E{0114}%
e{0115}G{011E}\i{012D}%
{}{}}
   {\a:accents{breve}{#1}}      {\b:accents{breve}{#1}{#2}}
\Configure{accent}\vec\vec{{}{}}
   {\a:accents{vec}{#1}}      {\b:accents{vec}{#1}{#2}}
\Configure{accent}\v\v{C{010C}c{010D}D{010E}d{010F}%
E{011A}e{011B}L{013D}l{013E}N{0147}n{0148}R{0158}r{0159}%
S{0160}s{0161}T{0164}t{0165}Z{017D}z{017E}A{01CD}a{01CE}I{01CF}%
i{01D0}O{01D1}o{01D2}U{01D3}u{01D4}G{01E6}g{01E7}K{01E8}k{01E9}%
j{01F0}H{021E}h{021F}\i{01D0}\j{01F0}%
{}{}}
   {\a:accents{check}{#1}}      {\b:accents{check}{#1}{#2}}
\Configure{accent}\check\check{C{010C}c{010D}D{010E}d{010F}%
E{011A}e{011B}L{013D}l{013E}N{0147}n{0148}R{0158}r{0159}%
S{0160}s{0161}T{0164}t{0165}Z{017D}z{017E}A{01CD}a{01CE}I{01CF}%
i{01D0}O{01D1}o{01D2}U{01D3}u{01D4}G{01E6}g{01E7}K{01E8}k{01E9}%
j{01F0}H{021E}h{021F}\i{01D0}\j{01F0}%
{}{}}
   {\a:accents{check}{#1}}      {\b:accents{check}{#1}{#2}}
\Configure{accent}\=\bar{{}{}}
   {\a:accents{bar}{#1}}      {\b:accents{bar}{#1}{#2}}

\fi

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{czech}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \ifx\A:charset\empty
\def\A:charset{charset=iso-8859-2}
\fi

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{danish}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \ifx\A:charset\empty
\def\A:charset{charset=iso-8859-1}
\fi

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{dutch}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \ifx\A:charset\empty
\def\A:charset{charset=iso-8859-1}
\fi

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{english}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \ifx\A:charset\empty
\def\A:charset{charset=iso-8859-1}
\fi

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{esperant}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \ifx\A:charset\empty
\def\A:charset{charset=iso-8859-3}
\fi

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{estonian}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \ifx\A:charset\empty
\def\A:charset{charset=iso-8859-5}
\fi

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{finnish}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \ifx\A:charset\empty
\def\A:charset{charset=iso-8859-1}
\fi

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{francais}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \ifx\A:charset\empty
\def\A:charset{charset=iso-8859-1}
\fi

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{galician}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \ifx\A:charset\empty
\def\A:charset{charset=iso-8859-1}
\fi

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{greek}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \ifx\A:charset\empty
\def\A:charset{charset=iso-8859-7}
\fi
\ifOption{charset=iso-8859-7}
   {\expand:after{\Configure{accent}}\csname OT1\string\'\endcsname
   \acute{A{\ht:special{t4ht@+\string&{35}x00C1{59}}A}%
E{\ht:special{t4ht@+\string&{35}x00C9{59}}E}%
I{\ht:special{t4ht@+\string&{35}x00CD{59}}I}%
O{\ht:special{t4ht@+\string&{35}x00D3{59}}O}%
U{\ht:special{t4ht@+\string&{35}x00DA{59}}U}%
Y{\ht:special{t4ht@+\string&{35}x00DD{59}}Y}%
a{\ht:special{t4ht@+\string&{35}x00E1{59}}a}%
e{\ht:special{t4ht@+\string&{35}x00E9{59}}e}%
i{\ht:special{t4ht@+\string&{35}x00ED{59}}i}%
\i{\ht:special{t4ht@+\string&{35}x00ED{59}}i}%
o{\ht:special{t4ht@+\string&{35}x00F3{59}}o}%
u{\ht:special{t4ht@+\string&{35}x00FA{59}}u}%
y{\ht:special{t4ht@+\string&{35}x00FD{59}}y}%
{\@use@text@encoding \@curr@enc a}{\ht:special{t4ht@220}a}%
{\@use@text@encoding \@curr@enc e}{\ht:special{t4ht@221}e}%
{\@use@text@encoding \@curr@enc h}{\ht:special{t4ht@222}h}%
{\@use@text@encoding \@curr@enc i}{\ht:special{t4ht@223}i}%
{\@use@text@encoding \@curr@enc o}{\ht:special{t4ht@252}o}%
{\@use@text@encoding \@curr@enc u}{\ht:special{t4ht@253}u}%
{\@use@text@encoding \@curr@enc w}{\ht:special{t4ht@254}w}%
{}{}}
   {\a:accents{acute}{#1}}   {\b:accents{acute}{#1}{#2}}
}
   {\Log:Note{for iso-8859-7 accents
          use the command line option `charset=iso-8859-7'}}
\ifOption{sgreek}
  {\:CheckOption{new-accents}     \if:Option \else
       \ifx\A:charset\empty
\def\A:charset{charset=iso-8859-1}
\fi
\Configure{htf}{254}{+}{<font \Hnewline
   face="}{}{}{}{}{Sgreek">}{</font>}
\Configure{htf}{252}{+}{<font \Hnewline
   face="}{}{}{}{}{Sgreek" class="small-caps">}{</font>}
\Configure{htf-css}{252}{.small-caps{font-variant: small-caps; }}
\Configure{accents}
   {\ht:special{t4ht@+\string&{35}x#2{59}}x}
   {\expandafter \ifx \csname \@curr@enc :#1\endcsname\relax
       \Picture+{ \a:@Picture{#1}}#2{#3}\EndPicture
    \else
       \csname \@curr@enc :#1\endcsname {#3}%
    \fi
   }
\def\LGR:acute#1{%
  \LGR:gobble\ifx #1\i \HChar{237}%
  \else #1\HCode{<font face="Sgreek">/</font>}\fi }
\def\LGR:grave#1{%
  \LGR:gobble\ifx #1\i \HChar{236}%
  \else #1\HCode{<font face="Sgreek">\string\</font>}\fi}
\def\LGR:circ#1{%
  \LGR:gobble\ifx #1\i \HChar{238}%
  \else #1\HCode{<font face="Sgreek">=</font>}\fi}
\def\LGR:tilde#1{#1\HCode{<font face="Sgreek">@</font>}}
\def\LGR:uml#1{%
  \LGR:gobble\ifx #1\i \HChar{239}%
  \else #1\HCode{<font face="Sgreek">+</font>}\fi}
\def\LGR:gobble#1#2#3{#1}

   \fi}
  {\Log:Note{for Sgreek font
          use the command line option `sgreek'}}
\ifOption{oldgreek}
  {\:CheckOption{new-accents}     \if:Option \else
       \ifx\A:charset\empty
\def\A:charset{charset=iso-8859-1}
\fi
\Configure{htf}{254}{+}{<font \Hnewline
   face="}{}{}{}{}{Greek Old Face">}{</font>}
\Configure{htf}{252}{+}{<font \Hnewline
   face="}{}{}{}{}{Greek Old Face" class="small-caps">}{</font>}
\Configure{htf-css}{252}{.small-caps{font-variant: small-caps; }}
\Configure{accents}
   {\ht:special{t4ht@+\string&{35}x#2{59}}x}
   {\expandafter \ifx \csname \@curr@enc :#1\endcsname\relax
       \Picture+{ \a:@Picture{#1}}#2{#3}\EndPicture
    \else
       \csname \@curr@enc :#1\endcsname {#3}%
    \fi
   }
\def\LGR:acute#1{%
  \LGR:gobble\ifx #1\i \HChar{237}%
  \else
     \edef\:temp{\:gobbleII#1\empty\empty}%
     \LGR:ch{i}{133}\LGR:ch{w}{232}\LGR:ch{u}{218}\LGR:ch{o}{210}%
     \LGR:ch{h}{187}\LGR:ch{a}{163}\LGR:ch{e}{154}%
     \ifx \:temp\empty\else #1\HChar{-180}\fi
  \fi }
\def\LGR:grave#1{%
  \LGR:gobble\ifx #1\i \HChar{236}%
  \else
     \edef\:temp{\:gobbleII#1\empty\empty}%
     \LGR:ch{i}{136}\LGR:ch{235}{232}\LGR:ch{u}{221}\LGR:ch{o}{213}%
     \LGR:ch{h}{190}\LGR:ch{a}{166}\LGR:ch{e}{157}%
     \ifx \:temp\empty\else #1`\fi
  \fi }
\def\LGR:circ#1{%
  \LGR:gobble\ifx #1\i \HChar{238}%
  \else
     \edef\:temp{\:gobbleII#1\empty\empty}%
     \LGR:ch{i}{139}\LGR:ch{w}{238}\LGR:ch{u}{224}\LGR:ch{o}{253}%
     \LGR:ch{h}{193}\LGR:ch{a}{169}\LGR:ch{e}{252}%
     \ifx \:temp\empty\else #1\string^\fi
  \fi}
\def\LGR:tilde#1{#1}
\def\LGR:uml#1{%
  \LGR:gobble\ifx #1\i \HChar{239}%
  \else
     \edef\:temp{\:gobbleII#1\empty\empty}%
     \LGR:ch{u}{227}\LGR:ch{i}{142}%
     \ifx \:temp\empty\else  #1\HChar{168}\fi
  \fi}
\def\LGR:gobble#1#2#3{#1}
\def\LGR:ch#1#2{\def\:tempa{#1}\ifx \:temp\:tempa
   \HCode{<font face="Greek Old Face">}\HChar{#2}\HCode{</font>}%
   \let\:temp=\empty \fi }

   \fi}
  {\Log:Note{for Greek Old Face font
          use the command line option `oldgreek'}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{exam}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \ifx \ps@examheadings\:unDef \else
   \ConfigureEnv{exam}
   {\ifvmode \IgnorePar \fi \EndP \HCode{<div class="exam">}}
   {\ifvmode \IgnorePar \fi \EndP \HCode{</div>}}
   {}{}
\ConfigureEnv{problem}
   {\ifvmode \IgnorePar \fi \EndP \HCode{<div class="problem">}}
   {\ifvmode \IgnorePar \fi \EndP \HCode{</div>}}
   {}{}
\Css{.problem{border-bottom: 1px solid black;}}
\Configure{scorebox}
   {\ifvmode \IgnorePar \fi \EndP \HCode{<div class="scorebox">}
    \bgroup\Configure{fbox}{\leavevmode}{}}
   {\egroup\ifvmode \IgnorePar \fi \EndP \HCode{</div>}}
\Css{.scorebox{margin-left:90\%; border: 1px solid black;}}

\fi
\ifx \@checkqueslevel\:unDef  \else
   \Configure{uplevel}
   {\ifvmode \IgnorePar \fi \EndP \HCode{<div class="uplevel">}}
   {\ifvmode \IgnorePar \fi \EndP \HCode{</div>}}
\Configure{fullwidth}
   {\ifvmode \IgnorePar \fi \EndP \HCode{<div class="fullwidth">}}
   {\ifvmode \IgnorePar \fi \EndP \HCode{</div>}}
\Css{dl .uplevel, .fullwidth{margin-left:-2.5em;}}
\Css{dl dl .fullwidth {margin-left:-5em;}}
\Css{dl dl dl .fullwidth {margin-left:-7.5em;}}
\ConfigureEnv{questions}
   {\ifvmode \IgnorePar \fi \EndP \HCode{<div class="questions">}}
   {\ifvmode \IgnorePar \fi \EndP \HCode{</div>}}
   {}{}
\ConfigureEnv{parts}
   {\ifvmode \IgnorePar \fi \EndP \HCode{<div class="parts">}}
   {\ifvmode \IgnorePar \fi \EndP \HCode{</div>}}
   {}{}
\ConfigureEnv{subparts}
   {\ifvmode \IgnorePar \fi \EndP \HCode{<div class="subparts">}}
   {\ifvmode \IgnorePar \fi \EndP \HCode{</div>}}
   {}{}
\Configure{setpoints}
   {\HCode{<span class="setpoints">}}   {\HCode{</span>}}

\fi
\ifx \@OneKeyHook\:unDef \else
   \Configure{sectiontitle}
   {\ifvmode\IgnorePar\fi
      \EndP \HCode{<h4 class="sectiontitle">}\IgnorePar}
   {\ifvmode \IgnorePar \fi \EndP \HCode{</h4>}}
\Configure{answer}
     {\HCode{<span class="answer">}}    {\HCode{</span>}}
\Css{.answer {text-decoration:underline;}}
\Configure{question}
    {\HCode{<span class="question">}}    {\HCode{</span>}}
\Configure{instructions}
   {\ifvmode \IgnorePar \fi \EndP \HCode{<div class="instructions">}}
   {\IgnorePar\EndP \HCode{</div>}}
\ConfigureEnv{examtop}
   {\ifvmode \IgnorePar \fi \EndP \HCode{<table class="examtop"><tr><td>}}
   {\ifvmode \IgnorePar \fi \EndP \HCode{</td></tr></table>}}
   {}{}
\Configure{namedata}
   {\ifvmode \IgnorePar \fi \EndP
    \Configure{newline}{\HCode{</td><td\Hnewline
          class="namedata-rule"><hr /></td></tr><tr><td>}}%
    \HCode{</td><td><div class="namedata"><table><tr><td>}}
   {\ifvmode \IgnorePar \fi \EndP
       \HCode{</td><td
           class="namedata-rule"><hr /></td></tr></table></div>}}
\Css{td.namedata-rule {width:10em; vertical-align:bottom; }}
\Css{div.namedata{text-align:right;}}
\Configure{classdata}
   {\ifvmode \IgnorePar \fi \EndP \HCode{<h3 class="classdata">}}
   {\ifvmode \IgnorePar \fi \EndP \HCode{</h3>}}
\ConfigureEnv{keytop}
   {\ifvmode \IgnorePar \fi \EndP \HCode{<div class="keytop">}}
   {\ifvmode \IgnorePar \fi \EndP \HCode{</div>}}
   {}{}
\Configure{frontmatter}
   {\ifvmode \IgnorePar \fi \EndP \HCode{<div class="frontmatter">}}
   {\ifvmode \IgnorePar \fi \EndP \HCode{</div>}}

\fi

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{polyglossia}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{PolyglossiaRtl}{\Configure{LRdir}{}}{\Configure{LRdir}{ dir="rtl"}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{fontspec}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{textit}{\HCode{<i>}\NoFonts}{\EndNoFonts\Tg</i>}
\Configure{textbf}{\HCode{<strong>}\NoFonts}{\EndNoFonts\Tg</strong>}
\Configure{textsc}{\HCode{<span class="small-caps">}\NoFonts}{\EndNoFonts\Tg</span>}
\Css{.small-caps{font-variant: small-caps;}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%








%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{framed}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \newcount\framed:cnt
\Configure{makeframed}{\advance\framed:cnt by 1\relax\def\framed@id{\@currenvir-\the\framed:cnt}\ifvmode\IgnorePar\fi\EndP\HCode{<div class="framedenv" id="\framed@id">}\par}
{\ifvmode\IgnorePar\fi\EndP\HCode{</div>}}
\Css{.framedenv{border: 1px solid black;}}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{mdframed}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{mdframed}{%
  \ifvmode\IgnorePar\fi\EndP\HCode{<div class="mdframed" id="\mdf:id">}\par
}{\ifvmode\IgnorePar\fi\EndP\HCode{</div>}\par}

\Css{.mdframed{margin-top:1em;margin-bottom:1em;}}

% use fallback macro when xcolor package haven't been loaded
\ifdefined\get:xcolorcss\else\def\get:xcolorcss#1#2{\def#2{#1}}\fi

\Configure{mdframedstyle}{%
  \get:xcolorcss{\mdf@backgroundcolor}\mdf:bgcolor
  \get:xcolorcss{\mdf@linecolor}\mdf:bordercolor
  \get:xcolorcss{\mdf@fontcolor}\mdf:fontcolor
  \def\mdf:border{\ifdefined\mdfl@linewidth\mdfl@linewidth\else 1px\fi\space solid \mdf:bordercolor}
  \Css{\#\mdf:id{border:\mdf:border; background-color: \mdf:bgcolor; color:\mdf:fontcolor;}}
  \global\let\mdfl@linewidth\relax
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{tcolorbox}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{tcolorbox}
{\ifvmode\IgnorePar\fi\EndP\HCode{<div class="tcolorbox \@currenvir" id="\:tcbcolid">}
  % \tcbcolid and colors are defined in tcolorbox.4ht
  \Css{\#\:tcbcolid\space .tcolorbox-title{color: \:tcbcoltitle; background-color: \:tcbcolframe;}}
  \Css{\#\:tcbcolid\space .tcolorbox-content{color: \:tcbcolupper; background-color: \:tcbcolback; border: 1px solid \:tcbcolframe;}}
}
{\HCode{\Hnewline<div class="tcolorbox-title">}\par}
{\ifvmode\IgnorePar\fi\EndP\HCode{</div>\Hnewline<div class="tcolorbox-content">}}
{\ifvmode\IgnorePar\fi\EndP\HCode{\Hnewline</div>\Hnewline</div>}\par}

\Css{.tcolorbox{margin-top:0.5em;margin-bottom: 0.5em;}}

\Configure{tcolorlowerbox}{\ifvmode\IgnorePar\fi\EndP\HCode{\Hnewline<div class="lowerbox">}
  \Css{\#\:tcbcolid\space .lowerbox{border-top: 1px dashed \:tcbcolframe;}}
}
{\ifvmode\IgnorePar\fi\EndP\HCode{\Hnewline</div>}}

% there is rule p + div elsewhere in TeX4ht. we want to nullify it.
\Css{.tcolorbox .lowerbox{margin-top:0pt;}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{skak}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{SkakBoard}{\Picture+{}}{\EndPicture}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{animate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{animinline}{\Picture+{}}{\EndPicture}
\ConfigureEnv{animateinline}{%
   \ifvmode\IgnorePar\fi\EndP\HCode{<div class="animateinline">}%
}{\ifvmode\IgnorePar\fi\EndP\HCode{</div>}}{}{}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                \ConfigureHinput{sectionbreak}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \Configure{sectionbreak}{\ifvmode\IgnorePar\fi\EndP\HCode{<div class="sectionbreak">}}{\HCode{</div>}}

\Css{div.sectionbreak{
  margin-top:3rem;
  margin-bottom:3rem;
  text-align:center;
}}

% use the asterism HTML entity
\Configure{asterism}{\HCode{\string&\:sharp8258;}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  
\endinput\empty\empty\empty\empty\empty\empty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


\endinput

