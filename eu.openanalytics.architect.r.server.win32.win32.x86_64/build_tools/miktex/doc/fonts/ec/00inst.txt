% 00inst.txt
%
% (c) Copyright 1995, 1996, 1997  J"org Knappen
%
% This file is part of ecfonts version 1.0
%
% Please read the files 00readme.txt, 00inst.txt, 00error.txt, and
% copyrite.txt for further information
%
% You find some documentation in dcdoc.tex (needs LaTeX2e)
%
             How to install the ec and tc fonts


To install the ec and tc fonts from the sources, take the following steps:

1) Generate the driver files

$ tex ecstdedt
$ tex tcstdedt

There are no driver files distributed, instead they are generated by 
running plain TeX on ecstdedt.tex and tcstdedt.tex. The unchanged version
of these files gives you a standard set of Fonts, if you want other sizes
you can add them by editing ecstdedt.tex and tcstdedt.tex.

The driver files are very simple and look like:

     % This is ecrm1000.mf in text format as of January, 19,  1997
     if unknown exbase: input exbase fi;
     gensize:=10;
     generate ecrm

Running TeX on ecstdedt and tcstdedt also generates a batch file in the
style of missfont.log. You may edit the line starting with \BatchFile
to get the appropriate result for your operating system.

2) Run plain METAFONT on the driver files to generate the metric (tfm) files
and the generic font files (gf files).

$ mf "\mode=localfont; input ecrm1000"

Running METAFONT on the driver files produces you the metric file
(suffix .tfm) and the generic font file (suffix .%%%gf, where %%% is the 
resolution of your device). Only the plain base is needed, the file exbase 
will be loaded on demand. 

You should NOT use a METAFONT with cmbase preloaded, because of 
incompatibility. In fact, using cmmf on the ec fonts will stop 
with an error message generated.

3) Pack the generic font files

$ gftopk ecrm1000.%%%gf

gftopk packs the generic font file to a packed font file, which is the 
standard form accepted by all dvi drivers. Note, that you can't create 
a .pxl file (obsolete as they are) from the ec fonts, since the pxl file
format is limited to 128 characters.

4) Copy the tfm files to a place, where TeX and the dvi-drivers find them

This place is traditionally given by the environment variable TEXFONTS
(or something similar, like TEX_FONTS). Within the proposed TeX Directory 
Structure (TDS), the proper place is

TEXMF/fonts/tfm/jknappen/ec/

5) Copy the pk files to a place where the dvi drivers find them

This place is traditionally given by the environment variable TEXPK
(or something similar, like TEX_PKDIR). Within the proposed TeX Directory 
Structure (TDS), the proper place is

TEXMF/fonts/pk/<device>/jknappen/ec/<resolution>/

(Note: There was a long and engaged dispute over the latter place. It may 
change, or local needs may enforce a different structure. Regard it as a 
suggestion, not as a prescription)

6) Put the .mf files (including the generated driver files) at a place,
where METAFONT finds them. 

The rationale of this step is to allow automatic font generation on demand,
e.g. by maketexpk or similar tools.

This place is traditionally given by the environment variable MFINPUTS
(or something similar, like MF_INPUTS). Within the proposed TeX Directory 
Structure (TDS), the proper place is

TEXMF/fonts/source/jknappen/ec

(I have to get used to such a path. Under my VMS installation, it is simply
TEX_ROOT:[MF.EC])

7) Delete unneeded files

The following files are no longer needed and can be deleted:

*.log (on VMS: *.lis) log files
*.*gf generic font files
ecstdedt.dvi
tcstdedt.dvi

8) Hints and possible problems

a) Problems with font generation

You need an up-to-date installation of METAFONT (at least version 2.0, 
current is 2.718), plain.mf (version 2.71 is required, 2.0 does not work)
modes.mf (3.0 is required, if you want to generate the ec fonts for a 
write-white device) to generate the ec and tc fonts successfully. 

exbase checks for the most common errors and gives an error message.


b) Installation under LaTeX

Note that the LaTeX format preloads some fonts. In order to use the 
new fonts under LaTeX2e, you'll need to regenerate the LaTeX format after 
installing the fonts. The ec fonts are supported beginning with
LaTeX2e from 1996/12/01.

c) Write-white devices

The handling of write-white devices with older modes (distributed in 
modes.mf 2.*) was incompatible with exbase. Get modes.mf 3.0 if you
have a write-white device for which you want to generate the ec fonts.

d) dc fonts

It is strongly recommended that you delete all older versions of the dc 
fonts after backing them up. 

The dc fonts have had several incompatible versions, which are now finally 
replaced by the ec fonts. It is suggested that you regenerate your dvi 
files from the LaTeX source files.

There are now virtual dc fonts available, reconstructing the dc fonts as 
virtual fonts from the ec fonts. They can be used in two ways: 

* To display and print dvi files containing the older dc fonts

* To migrate older dvi files directly to the ec fonts, using the program 
dvicopy on them.


--J"org Knappen
