
\chapter{The \texttt{utils} package}
\HeaderA{utils-package}{The R Utils Package}{utils.Rdash.package}
\aliasA{utils}{utils-package}{utils}
\keyword{package}{utils-package}
\keyword{programming}{utils-package}
%
\begin{Description}\relax
R utility functions
\end{Description}
%
\begin{Details}\relax
This package contains a collection of utility functions.

For a complete
list, use \code{library(help="utils")}.

\end{Details}
%
\begin{Author}\relax
R Core Team and contributors worldwide

Maintainer: R Core Team \email{R-core@r-project.org}
\end{Author}
\HeaderA{adist}{Approximate String Distances}{adist}
\keyword{character}{adist}
%
\begin{Description}\relax
Compute the approximate string distance between character vectors.
The distance is a generalized Levenshtein (edit) distance, giving the
minimal possibly weighted number of insertions, deletions and
substitutions needed to transform one string into another.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
adist(x, y = NULL, costs = NULL, counts = FALSE, fixed = TRUE,
      partial = !fixed, ignore.case = FALSE, useBytes = FALSE)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{x}] a character vector.
\item[\code{y}] a character vector, or \code{NULL} (default) indicating
taking \code{x} as \code{y}.
\item[\code{costs}] a numeric vector or list with names partially matching
\samp{insertions}, \samp{deletions} and \samp{substitutions} giving
the respective costs for computing the Levenshtein distance, or
\code{NULL} (default) indicating using unit cost for all three
possible transformations.
\item[\code{counts}] a logical indicating whether to optionally return the
transformation counts (numbers of insertions, deletions and
substitutions) as the \code{"counts"} attribute of the return
value.
\item[\code{fixed}] a logical.  If \code{TRUE} (default), the \code{x}
elements are used as string literals.  Otherwise, they are taken as
regular expressions and \code{partial = TRUE} is implied
(corresponding to the approximate string distance used by
\code{\LinkA{agrep}{agrep}} with \code{fixed = FALSE}.
\item[\code{partial}] a logical indicating whether the transformed \code{x}
elements must exactly match the complete \code{y} elements, or only
substrings of these.  The latter corresponds to the approximate
string distance used by \code{\LinkA{agrep}{agrep}} (by default).
\item[\code{ignore.case}] a logical.  If \code{TRUE}, case is ignored for
computing the distances.
\item[\code{useBytes}] a logical.  If \code{TRUE} distance computations are
done byte-by-byte rather than character-by-character.
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
The (generalized) Levenshtein (or edit) distance between two strings
\var{s} and \var{t} is the minimal possibly weighted number of
insertions, deletions and substitutions needed to transform \var{s}
into \var{t} (so that the transformation exactly matches \var{t}).
This distance is computed for \code{partial = FALSE}, currently using
a dynamic programming algorithm (see, e.g.,
\url{http://en.wikipedia.org/wiki/Levenshtein_distance}) with space
and time complexity \eqn{O(mn)}{}, where \eqn{m}{} and \eqn{n}{} are the
lengths of \var{s} and \var{t}, respectively.  Additionally computing
the transformation sequence and counts is \eqn{O(\max(m, n))}{}.

The generalized Levenshtein distance can also be used for approximate
(fuzzy) string matching, in which case one finds the substring of
\var{t} with minimal distance to the pattern \var{s} (which could be
taken as a regular expression, in which case the principle of using
the leftmost and longest match applies), see, e.g.,
\url{http://en.wikipedia.org/wiki/Approximate_string_matching}.  This
distance is computed for \code{partial = TRUE} using \samp{tre} by
Ville Laurikari (\url{http://http://laurikari.net/tre/}) and
corresponds to the distance used by \code{\LinkA{agrep}{agrep}}.  In this
case, the given cost values are coerced to integer.

Note that the costs for insertions and deletions can be different, in
which case the distance between \var{s} and \var{t} can be different
from the distance between \var{t} and \var{s}.
\end{Details}
%
\begin{Value}
A matrix with the approximate string distances of the elements of
\code{x} and \code{y}, with rows and columns corresponding to \code{x}
and \code{y}, respectively.

If \code{counts} is \code{TRUE}, the transformation counts are
returned as the \code{"counts"} attribute of this matrix, as a
3-dimensional array with dimensions corresponding to the elements of
\code{x}, the elements of \code{y}, and the type of transformation
(insertions, deletions and substitutions), respectively.
Additionally, if \code{partial = FALSE}, the transformation sequences
are returned as the \code{"trafos"} attribute of the return value, as
character strings with elements \samp{M}, \samp{I}, \samp{D} and
\samp{S} indicating a match, insertion, deletion and substitution,
respectively.  If \code{partial = FALSE}, the offsets (positions of
the first and last element) of the matched substrings are returned as
the \code{"offsets"} attribute of the return value (with both offsets
\eqn{-1}{} in case of no match).
\end{Value}
%
\begin{SeeAlso}\relax
\code{\LinkA{agrep}{agrep}} for approximate string matching (fuzzy matching)
using the generalized Levenshtein distance.
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}
## Cf. http://en.wikipedia.org/wiki/Levenshtein_distance
adist("kitten", "sitting")
## To see the transformation counts for the Levenshtein distance:
drop(attr(adist("kitten", "sitting", counts = TRUE), "counts"))
## To see the transformation sequences:
attr(adist(c("kitten", "sitting"), counts = TRUE), "trafos")

## Cf. the examples for agrep:
adist("lasy", "1 lazy 2")
## For a "partial approximate match" (as used for agrep):
adist("lasy", "1 lazy 2", partial = TRUE)
\end{ExampleCode}
\end{Examples}
\HeaderA{alarm}{Alert the User}{alarm}
\keyword{utilities}{alarm}
%
\begin{Description}\relax
Gives an audible or visual signal to the user.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
alarm()
\end{verbatim}
\end{Usage}
%
\begin{Details}\relax
\code{alarm()} works by sending a \code{"\bsl{}a"} character to the console.
On most platforms this will ring a bell, beep, or give some other signal
to the user (unless standard output has been redirected).

As from \R{} 2.14.0 it attempts to flush the console (see
\code{\LinkA{flush.console}{flush.console}}).
\end{Details}
%
\begin{Value}
No useful value is returned.
\end{Value}
%
\begin{Examples}
\begin{ExampleCode}
alarm()
\end{ExampleCode}
\end{Examples}
\HeaderA{apropos}{Find Objects by (Partial) Name}{apropos}
\aliasA{find}{apropos}{find}
\keyword{data}{apropos}
\keyword{documentation}{apropos}
\keyword{environment}{apropos}
%
\begin{Description}\relax
\code{apropos()} returns a character vector giving the names of
all objects in the search list matching \code{what}.

\code{find()} is a different user interface to the same task.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
apropos(what, where = FALSE, ignore.case = TRUE, mode = "any")

find(what, mode = "any", numeric = FALSE, simple.words = TRUE)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{what}] character string with name of an object, or more generally
a \LinkA{regular expression}{regular expression} to match against.
\item[\code{where, numeric}] a logical indicating whether positions in the
search list should also be returned
\item[\code{ignore.case}] logical indicating if the search should be
case-insensitive, \code{TRUE} by default.  Note that in \R{} versions
prior to 2.5.0, the default was implicitly \code{ignore.case = FALSE}.
\item[\code{mode}] character; if not \code{"any"}, only objects whose
\code{\LinkA{mode}{mode}} equals \code{mode} are searched.
\item[\code{simple.words}] logical; if \code{TRUE}, the \code{what} argument is
only searched as whole word.
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
If \code{mode != "any"} only those objects which are of mode \code{mode}
are considered.
If \code{where} is \code{TRUE}, the positions in the search list are
returned as the names attribute.

\code{find} is a different user interface for the same task as
\code{apropos}. However, by default (\code{simple.words == TRUE}),
only full words are searched with \code{\LinkA{grep}{grep}(fixed = TRUE)}.
\end{Details}
%
\begin{Value}
For \code{apropos} character vector, sorted by name, possibly with
names giving the (numerical) positions on the search path.

For \code{find}, either a character vector of environment names, or for
\code{numeric = TRUE}, a numerical vector of positions on the search path,
with names giving the names of the corresponding environments.
\end{Value}
%
\begin{Author}\relax
Kurt Hornik and Martin Maechler (May 1997).
\end{Author}
%
\begin{SeeAlso}\relax
\code{\LinkA{glob2rx}{glob2rx}} to convert wildcard patterns to regular expressions.

\code{\LinkA{objects}{objects}} for listing objects from one place,
\code{\LinkA{help.search}{help.search}} for searching the help system,
\code{\LinkA{search}{search}} for the search path.
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}
require(stats)


## Not run: apropos("lm")
apropos("GLM")                      # more than a dozen
## that may include internal objects starting '.__C__' if
## methods is attached
apropos("GLM", ignore.case = FALSE) # not one
apropos("lq")

cor <- 1:pi
find("cor")        #> ".GlobalEnv"   "package:stats"
find("cor", numeric=TRUE) # numbers with these names
find("cor", numeric=TRUE, mode="function")# only the second one
rm(cor)

## Not run: apropos(".", mode="list") # a long list

# need a DOUBLE backslash '\\' (in case you don't see it anymore)
apropos("\\[")

## Not run: # everything 
length(apropos("."))

# those starting with 'pr'
apropos("^pr")

# the 1-letter things
apropos("^.$")
# the 1-2-letter things
apropos("^..?$")
# the 2-to-4 letter things
apropos("^.{2,4}$")

# the 8-and-more letter things
apropos("^.{8,}$")
table(nchar(apropos("^.{8,}$")))

## End(Not run)
\end{ExampleCode}
\end{Examples}
\HeaderA{aregexec}{Approximate String Match Positions}{aregexec}
\keyword{character}{aregexec}
%
\begin{Description}\relax
Determine positions of approximate string matches.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
aregexec(pattern, text, max.distance = 0.1, costs = NULL,
         ignore.case = FALSE, fixed = FALSE, useBytes = FALSE)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{pattern}] a non-empty character string or a character string
containing a regular expression (for \code{fixed = FALSE}) to be
matched.
Coerced by \code{\LinkA{as.character}{as.character}} to a string if possible.
\item[\code{text}] character vector where matches are sought.
Coerced by \code{\LinkA{as.character}{as.character}} to a character vector if
possible.
\item[\code{max.distance}] maximum distance allowed for a match.
See \code{\LinkA{agrep}{agrep}}.
\item[\code{costs}] cost of transformations.
See \code{\LinkA{agrep}{agrep}}.
\item[\code{ignore.case}] a logical.  If \code{TRUE}, case is ignored for
computing the distances.
\item[\code{fixed}] If \code{TRUE}, the pattern is matched literally (as is).
Otherwise (default), it is matched as a regular expression.
\item[\code{useBytes}] a logical.  If \code{TRUE} comparisons are
byte-by-byte rather than character-by-character.
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
\code{aregexec} provides a different interface to approximate string
matching than \code{\LinkA{agrep}{agrep}} (along the lines of the interfaces
to exact string matching provided by \code{\LinkA{regexec}{regexec}} and
\code{\LinkA{grep}{grep}}).

Note that by default, \code{\LinkA{agrep}{agrep}} performs literal matches, 
whereas \code{aregexec} performs regular expression matches.

See \code{\LinkA{agrep}{agrep}} and \code{\LinkA{adist}{adist}} for more information
about approximate string matching and distances.

Comparisons are byte-by-byte if \code{pattern} or any element of
\code{text} is marked as \code{"bytes"}.
\end{Details}
%
\begin{Value}
A list of the same length as \code{text}, each element of which is
either \eqn{-1}{} if there is no match, or a sequence of integers with
the starting positions of the match and all substrings corresponding
to parenthesized subexpressions of \code{pattern}, with attribute
\code{"match.length"} an integer vector giving the lengths of the
matches (or \eqn{-1}{} for no match).
\end{Value}
%
\begin{SeeAlso}\relax
\code{\LinkA{regmatches}{regmatches}} for extracting the matched substrings.
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}
## Cf. the examples for agrep.
x <- c("1 lazy", "1", "1 LAZY")
aregexec("laysy", x, max.distance = 2)
aregexec("(lay)(sy)", x, max.distance = 2)
aregexec("(lay)(sy)", x, max.distance = 2, ignore.case = TRUE)
m <- aregexec("(lay)(sy)", x, max.distance = 2)
regmatches(x, m)
\end{ExampleCode}
\end{Examples}
\HeaderA{arrangeWindows}{Rearrange windows in the R GUI.}{arrangeWindows}
\keyword{utilities}{arrangeWindows}
%
\begin{Description}\relax
This function allows you to tile or cascade windows, or to minimize or restore them.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
arrangeWindows(action, windows, preserve = TRUE, outer = FALSE)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{action}] 
The action to perform on the windows.  The choices are \code{c("vertical", "horizontal", "cascade", "minimize", 
    "restore")} with default \code{"vertical"}; see the Details below for the interpretation.
Abbreviations may be used.

\item[\code{windows}] 
A list of window handles, by default produced by \code{\LinkA{getWindowsHandles}{getWindowsHandles}()}.  

\item[\code{preserve}] 
If \code{TRUE}, when tiling preserve the outer boundary of the collection of windows; otherwise 
make them as large as will fit.

\item[\code{outer}] 
This argument is only used in MDI mode.  If \code{TRUE}, tile the windows on the system
desktop.  Otherwise, tile them within the MDI frame.

\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
The actions are as follows:
\begin{description}

\item[\code{"vertical"}] Tile vertically.
\item[\code{"horizontal"}] Tile horizontally.
\item[\code{"cascade"}] Cascade the windows.
\item[\code{"minimize"}] Minimize all of the windows.
\item[\code{"restore"}] Restore all of the windows to normal size (not minimized, not maximized).

\end{description}

The tiling and cascading are done by the standard Windows API functions, but unlike those functions,
they will apply to all of the windows in the \code{windows} list.  

By default, \code{windows} is set to the result of
\code{\LinkA{getWindowsHandles}{getWindowsHandles}()} (with one exception described
below).  This will select windows belonging to the current \R{} process.
However, if the global environment contains a variable named
\code{.arrangeWindowsDefaults}, it will be used as the argument list
instead. See the \code{\LinkA{getWindowsHandles}{getWindowsHandles}} man page for a
discussion of the optional arguments to that function.

When \code{action="restore"} is used with \code{windows} unspecified,
\code{minimized = TRUE} is added to the argument list of
\code{\LinkA{getWindowsHandles}{getWindowsHandles}} so that minimized windows will be restored.

In MDI mode, by default tiling and cascading will happen within the R
GUI frame. However, if \code{outer=TRUE}, tiling is done on the system
desktop. This will generally not give desirable results if any R child
windows are included within \code{windows}.

\end{Details}
%
\begin{Value}
This function is called for the side effect of arranging the windows.
The list of window handles is returned invisibly.
\end{Value}
%
\begin{Author}\relax
Duncan Murdoch
\end{Author}
%
\begin{SeeAlso}\relax
\code{\LinkA{getWindowsHandles}{getWindowsHandles}}
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}
## Not run: 
arrangeWindows("v")
# This default is useful only in SDI mode:  it will tile any Firefox window 
# along with the R windows
.arrangeWindowsDefaults <- list(c("R", "all"), pattern=c("", "Firefox"))
arrangeWindows("v")

## End(Not run)
\end{ExampleCode}
\end{Examples}
\HeaderA{aspell}{Spell Check Interface}{aspell}
\keyword{utilities}{aspell}
%
\begin{Description}\relax
Spell check given files via Aspell, Hunspell or Ispell.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
aspell(files, filter, control = list(), encoding = "unknown",
       program = NULL)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{files}] a character vector with the names of files to be checked.
\item[\code{filter}] an optional filter for processing the files before spell
checking, given as either a function (with formals \code{ifile} and
\code{encoding}), or a character string specifying a built-in
filter, or a list with the name of a built-in filter and additional
arguments to be passed to it.  See \bold{Details} for available
filters.  If missing or \code{NULL}, no filtering is performed.
\item[\code{control}] a list or character vector of control options for the
spell checker.
\item[\code{encoding}] the encoding of the files.  Recycled as needed.
\item[\code{program}] a character string giving the name (if on the system
path) or full path of the spell check program to be used, or
\code{NULL} (default).  By default, the system path is searched for
\command{aspell}, \command{hunspell} and \command{ispell} (in that
order), and the first one found is used.
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
The spell check programs employed must support the so-called Ispell
pipe interface activated via command line option \option{-a}.  In
addition to the programs, suitable dictionaries need to be available.
See \url{http://aspell.net},
\url{http://hunspell.sourceforge.net/} and
\url{http://lasr.cs.ucla.edu/geoff/ispell.html}, respectively, for
obtaining the Aspell, Hunspell and (International) Ispell programs and
dictionaries.

Currently the only available built-in filters are \code{"Rd"},
corresponding to \code{\LinkA{RdTextFilter}{RdTextFilter}}, and \code{"Sweave"},
corresponding to \code{\LinkA{SweaveTeXFilter}{SweaveTeXFilter}}.

The print method has for the objects returned by \code{aspell} has an
\code{indent} argument controlling the indentation of the positions of
possibly mis-spelled words.  The default is 2; Emacs users may find it
useful to use an indentation of 0 and visit output in grep-mode.  It
also has a \code{verbose} argument: when this is true, suggestions for
replacements are shown as well.
\end{Details}
%
\begin{Value}
A data frame inheriting from \code{aspell} (which has a useful print
method) with the information about possibly mis-spelled words.
\end{Value}
%
\begin{SeeAlso}\relax
\LinkA{aspell-utils}{aspell.Rdash.utils} for utilities for spell checking packages.

Package \pkg{Aspell} on Omegahat
(\url{http://www.omegahat.org/Aspell}) for a fine-grained R interface
to the Aspell library.
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}
## Not run: 
## To check all Rd files in a directory, (additonally) skipping the
## \references sections.
files <- Sys.glob("*.Rd")
aspell(files, filter = list("Rd", drop = "\references"))

# To check all Sweave files
files <- Sys.glob(c("*.Rnw", "*.Snw", "*.rnw", "*.snw"))
aspell(files, filter = "Sweave", control = "-t")

# To check all Texinfo files (Aspell only)
files <- Sys.glob("*.texi")
aspell(files, control = "--mode=texinfo")

## End(Not run)
\end{ExampleCode}
\end{Examples}
\HeaderA{aspell-utils}{Spell Check Utilities}{aspell.Rdash.utils}
\aliasA{aspell\_package\_Rd\_files}{aspell-utils}{aspell.Rul.package.Rul.Rd.Rul.files}
\aliasA{aspell\_package\_vignettes}{aspell-utils}{aspell.Rul.package.Rul.vignettes}
\aliasA{aspell\_write\_personal\_dictionary\_file}{aspell-utils}{aspell.Rul.write.Rul.personal.Rul.dictionary.Rul.file}
\keyword{utilities}{aspell-utils}
%
\begin{Description}\relax
Utilities for spell checking packages via Aspell, Hunspell or Ispell.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
aspell_package_Rd_files(dir, drop = c("\\author", "\\references"),
                        control = list(), program = NULL)
aspell_package_vignettes(dir, control = list(), program = NULL)
aspell_write_personal_dictionary_file(x, out, language = "en",
                                      program = NULL)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{dir}] a character string specifying the path to a package's root
directory.
\item[\code{drop}] a character vector naming additional Rd sections to drop
when selecting text via \code{\LinkA{RdTextFilter}{RdTextFilter}}.
\item[\code{control}] a list or character vector of control options for
the spell checker.
\item[\code{program}] a character string giving the name (if on the system
path) or full path of the spell check program to be used, or
\code{NULL} (default).  By default, the system path is searched for
\command{aspell}, \command{hunspell} and \command{ispell} (in that
order), and the first one found is used.
\item[\code{x}] a character vector, or the result of a call to
\code{\LinkA{aspell}{aspell}()}.
\item[\code{out}] a character string naming the personal dictionary file to
write to.
\item[\code{language}] a character string indicating a language as used by
Aspell.
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
\code{aspell\_package\_Rd\_files} and \code{aspell\_package\_vignettes}
perform spell checking on the Rd files and vignettes of the package
with root directory \code{dir}.  They determine the respective files,
apply the appropriate filters, and run the spell checker.

When using Aspell, the vignette checking skips parameters and/or
options of commands \AsIs{\bsl{}Sexpr}, \AsIs{\bsl{}citep}, \AsIs{\bsl{}code},
\AsIs{\bsl{}pkg}, \AsIs{\bsl{}proglang} and \AsIs{\bsl{}samp}.  Further commands can
be added by adding \AsIs{--add-tex-command} options to the
\code{control} argument.  E.g., to skip both option and parameter of
\AsIs{\bsl{}mycmd}, add \AsIs{--add-tex-command='mycmd op'}.

Suitable values for \code{control}, \code{program} and \code{drop} and
personal dictionaries can also be specified using a package defaults
file which should go as \file{defaults.R} into the \file{.aspell}
subdirectory of \code{dir}, and provides defaults via assignments of
suitable named lists, as e.g. \begin{alltt}  vignettes <- list(control = "--add-tex-command='mycmd op'")\end{alltt}

for vignettes (when using Aspell) and assigning to \code{Rd\_files} for
Rd files defaults, and using elements \code{program}, \code{drop} and
\code{personal} for the respective default values.

Maintainers of packages using both English and American spelling will
find it convenient to pass control options \option{--master=en\_US} and
\option{--add-extra-dicts=en\_GB} to Aspell and \option{-d en\_US,en\_GB}
to Hunspell (provided that the corresponding dictionaries are
installed).

One can also use personal dictionaries containing additional words to
be accepted as spelled correctly.  Via
\code{aspell\_write\_personal\_dictionary\_file}, a personal dictionary
file can be created by either giving the words directly as a character
vector, or as an object from a call to \code{aspell()} (in which case
all possibly misspelled words contained in the object are taken).
Most conveniently, the file is then moved to the package source
\file{.aspell} subdirectory (named, e.g., \file{vignettes.pws}) and
then activated via the defaults file using, e.g., \begin{alltt}  vignettes <- list(control = "--add-tex-command='mycmd op'",
                    personal = "vignettes.pws")\end{alltt}

\end{Details}
%
\begin{SeeAlso}\relax
\code{\LinkA{aspell}{aspell}}
\end{SeeAlso}
\HeaderA{available.packages}{List Available Packages at CRAN-like Repositories}{available.packages}
\keyword{utilities}{available.packages}
%
\begin{Description}\relax
\code{available.packages} returns a matrix of details corresponding to
packages currently available at one or more repositories. The
current list of packages is downloaded over the internet (or copied
from a local mirror).
\end{Description}
%
\begin{Usage}
\begin{verbatim}
available.packages(contriburl = contrib.url(getOption("repos"), type),
                   method, fields = NULL,
                   type = getOption("pkgType"),
                   filters = NULL)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{contriburl}] 
URL(s) of the \file{contrib} sections of the repositories.
Specify this argument only if your repository mirror is incomplete,
e.g., because you burned only the \file{contrib} section on a CD.

\item[\code{method}] 
download method, see \code{\LinkA{download.file}{download.file}}.

\item[\code{type}] 
character string, indicate which type of packages: see
\code{\LinkA{install.packages}{install.packages}}.

\item[\code{fields}] 
a character vector giving the fields to extract from
the \file{PACKAGES} file(s) in addition to the default ones, or
\code{NULL} (default).  Unavailable fields result in \code{NA}
values.

\item[\code{filters}] 
a character vector or list or \code{NULL} (default). See `Details'.

\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
The list is either copied from a local mirror (specified by a
\samp{file://} URI) or downloaded.  If downloaded, the list is cached
for the \R{} session in a per-repository file in \code{\LinkA{tempdir}{tempdir}()}
with a name like
\begin{alltt}
    repos_http%3a%2f%2fcran.r-project.org%2fsrc%2fcontrib.rds
 \end{alltt}


By default, this includes only packages whose version and OS
requirements are met by the running version of \R{}, and only gives
information on the latest versions of packages.

Argument \code{filters} can be used to select which of the packages on the
repositories are reported.  It is called with its default value
(\code{NULL}) by functions such as \code{install.packages}: this value
corresponds to \code{\LinkA{getOption}{getOption}("available\_packages\_filters")}
and to \code{c("R\_version", "OS\_type", "subarch", "duplicates")} if
that is unset or set to \code{NULL}.

The built-in filters are
\begin{description}

\item[\code{"R\_version"}] exclude packages whose \R{} version
requirements are not met
\item[\code{"OS\_type"}] exclude packages whose OS requirement is
incompatible with this version of \R{}: that is exclude
Windows-only packages on a Unix-alike platform
and \emph{vice versa}.
\item[\code{"subarch"}] for binary packages, exclude those with
compiled code that is not available for the current
sub-architecture, e.g. exclude packages only compiled for 32-bit
Windows on a 64-bit Windows \R{}.
\item[\code{"duplicates"}] only report the latest version where more
than one version is available, and only report the first-named
repository (in \code{contriburl}) with the latest version if that
is in more than one repository.
\item[\code{"license/FOSS"}] include only packages for which
installation can proceed solely based on packages which can be
verified as Free or Open Source Software (FOSS, e.g.,
\url{http://en.wikipedia.org/wiki/FOSS}) employing the available
license specifications.  Thus both the package and any packages
that it depends on to load need to be \emph{known to be} FOSS.

Note that this does depend on the repository supplying license
information.


\end{description}

If all the filters are from this set they can be specified as a
character vector; otherwise \code{filters} should be a list with
elements which are character strings, user-defined functions or
\code{add = TRUE} (see below).

User-defined filters are functions which take a single argument, a
matrix of the form returned by by \code{available.packages}, and
return a matrix consisting of a subset of the rows of the argument.

The special `filter' \code{add = TRUE} appends the other
elements of the filter list to the default filters.
\end{Details}
%
\begin{Value}
A matrix with one row per package, row names the package names and
column names \code{"Package"}, \code{"Version"}, \code{"Priority"},
\code{"Depends"}, \code{"Imports"}, \code{"LinkingTo"},
\code{"Suggests"}, \code{"Enhances"}, \code{"OS\_type"},
\code{"License"}, \code{"File"} and \code{"Repository"}.  Additional
columns can be specified using the \code{fields} argument.
\end{Value}
%
\begin{SeeAlso}\relax
\code{\LinkA{install.packages}{install.packages}}, \code{\LinkA{download.packages}{download.packages}},
\code{\LinkA{contrib.url}{contrib.url}}.

The `R Installation and Administration' manual for how to 
set up a repository.
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}
## Not run: 
## restrict install.packages() (etc) to known-to-be-FOSS packages
options(available_packages_filters =
  c("R_version", "OS_type", "subarch", "duplicates", "license/FOSS"))


## End(Not run)
\end{ExampleCode}
\end{Examples}
\HeaderA{BATCH}{Batch Execution of R}{BATCH}
\keyword{utilities}{BATCH}
%
\begin{Description}\relax
Run \R{} non-interactively with input from \code{infile} and
send output (stdout/stderr) to another file.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
R CMD BATCH [options] infile [outfile]
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{infile}] the name of a file with \R{} code to be executed.
\item[\code{options}] a list of \R{} command line options, e.g., for setting the
amount of memory available and controlling the load/save process.
If \code{infile} starts with a \samp{-}, use \option{--} as the final
option.  The default options are \option{--restore --save}.
\item[\code{outfile}] the name of a file to which to write output.  If not
given, the name used is that of \code{infile}, with a possible
\file{.R} extension stripped, and \file{.Rout} appended.
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
Use \command{R CMD BATCH --help} to be reminded of the usage.

By default, the input commands are printed along with the output.  To
suppress this behavior, add \code{options(echo = FALSE)} at the
beginning of \code{infile}, or use option \option{--slave}.

Files with an incomplete last line (no end of line mark) are
accepted.

A final expression \samp{proc.time()} will be executed after the input
script unless the latter calls \code{\LinkA{q}{q}(runLast=FALSE)} or is aborted.
This can be suppressed by the option \option{--no-timing}.

Additional options can be set by the environment variable
\env{R\_BATCH\_OPTIONS}: these come after \option{--restore --save}
and before any options given on the command line.
\end{Details}
\HeaderA{bibentry}{Bibliography Entries}{bibentry}
\aliasA{print.bibentry}{bibentry}{print.bibentry}
\keyword{utilities}{bibentry}
\keyword{documentation}{bibentry}
%
\begin{Description}\relax
Functionality for representing and manipulating bibliographic
information in enhanced BibTeX style.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
bibentry(bibtype, textVersion = NULL, header = NULL, footer = NULL,
         key = NULL, ..., other = list(),
         mheader = NULL, mfooter = NULL)
## S3 method for class 'bibentry'
print(x, style = "text", .bibstyle = "JSS", ...)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{bibtype}] a character string with a BibTeX entry type.
See \bold{Entry Types} for details.

\item[\code{textVersion}] a character string with a text representation of
the reference to optionally be employed for printing.
\item[\code{header}] a character string with optional header text.
\item[\code{footer}] a character string with optional footer text.
\item[\code{key}] a character string giving the citation key for the entry.
\item[\code{...}] for \code{bibentry}: arguments of the form
\code{\var{tag}=\var{value}} giving the fields of the entry, with
\var{tag} and \var{value} the name and value of the field,
respectively.  Arguments with empty values are dropped.
See \bold{Entry Fields} for details.

For the \code{print} method, extra parameters to pass to the
renderer.
\item[\code{other}] a list of arguments as in \code{...} (useful in
particular for fields named the same as formals of
\code{bibentry}).
\item[\code{mheader}] a character string with optional ``outer'' header
text.
\item[\code{mfooter}] a character string with optional ``outer'' footer
text.
\item[\code{x}] an object inheriting from class \code{"bibentry"}.
\item[\code{style}] a character string specifying the print style.
Must be a unique abbreviation (with case ignored) of the available
styles, see \bold{Details}.
\item[\code{.bibstyle}] a character string naming a bibliography style.
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
The bibentry objects created by \code{bibentry} can represent an
arbitrary positive number of references.  One can use \code{c()} to
combine bibentry objects, and hence in particular build a multiple
reference object from single reference ones.  Alternatively, one can
use \code{bibentry} to directly create a multiple reference object by
``vectorizing'' the given arguments, i.e., use character vectors
instead of character strings.

The \code{\LinkA{print}{print}} method for bibentry objects provides a choice
between seven different styles:
plain text (style \code{"text"}),
BibTeX (\code{"Bibtex"}),
a mixture of plain text and BibTeX as traditionally used for citations
(\code{"citation"}),
HTML (\code{"html"}),
LaTeX (\code{"latex"}),
R code (\code{"R"}),
and a simple copy of the \code{textVersion} elements (style
\code{"textVersion"}).
The \code{"text"}, \code{"html"} and \code{"latex"} styles make use
of the \code{.bibstyle} argument using the \code{\LinkA{bibstyle}{bibstyle}}
function.  When printing bibentry objects in citation style, a
\code{header}/\code{footer} for each item can be displayed as well as
a \code{mheader}/\code{mfooter} for the whole vector of references.

The \code{\LinkA{print}{print}} method is based on a \code{\LinkA{format}{format}}
method which provides the same styles, and for formatting as R code
a choice between giving a character vector with one \code{bibentry()}
call for each bibentry (as commonly used in \file{CITATION} files), or
a character string with one collapsed call, obtained by combining the
individual calls with \code{c()} if there is more than one bibentry.
This can be controlled by setting the option \code{collapse} to
\code{FALSE} (default) or \code{TRUE}, respectively.  (Printing in R
style always collapses to a single call.)

There is also a \code{\LinkA{toBibtex}{toBibtex}} method for direct conversion to
BibTeX.
\end{Details}
%
\begin{Value}
\code{bibentry} produces an object of class \code{"bibentry"}.
\end{Value}
%
\begin{Section}{Entry Types}
\code{bibentry} creates \code{"bibentry"} objects, which are modeled
after BibTeX entries.  The entry should be a valid BibTeX entry type,
e.g.,
\begin{description}

\item[Article:] An article from a journal or magazine.
\item[Book:] A book with an explicit publisher.
\item[InBook:] A part of a book, which may be a chapter (or section
or whatever) and/or a range of pages. 
\item[InCollection:] A part of a book having its own title.
\item[InProceedings:] An article in a conference proceedings.
\item[Manual:] Technical documentation like a software manual.
\item[MastersThesis:] A Master's thesis.
\item[Misc:] Use this type when nothing else fits.
\item[PhdThesis:] A PhD thesis.
\item[Proceedings:] The proceedings of a conference.
\item[TechReport:] A report published by a school or other
institution, usually numbered within a series.
\item[Unpublished:] A document having an author and title, but not
formally published.

\end{description}

\end{Section}
%
\begin{Section}{Entry Fields}
The \code{...} argument of \code{bibentry} can be any number of
BibTeX fields, including
\begin{description}

\item[address:] The address of the publisher or other type of
institution.

\item[author:] The name(s) of the author(s), either 
as a character string in the format described in the LaTeX book,
or a \code{\LinkA{person}{person}} object.

\item[booktitle:] Title of a book, part of which is being cited.
\item[chapter:] A chapter (or section or whatever) number.

\item[editor:] Name(s) of editor(s), same format as \code{author}.

\item[institution:] The publishing institution of a technical report.

\item[journal:] A journal name.

\item[note:] Any additional information that can help the reader.
The first word should be capitalized.

\item[number:] The number of a journal, magazine, technical report,
or of a work in a series.

\item[pages:] One or more page numbers or range of numbers.

\item[publisher:] The publisher's name.

\item[school:] The name of the school where a thesis was written.

\item[series:] The name of a series or set of books.

\item[title:] The work's title.

\item[volume:] The volume of a journal or multi-volume book.

\item[year:] The year of publication.

\end{description}

\end{Section}
%
\begin{SeeAlso}\relax
\code{\LinkA{person}{person}}
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}
## R reference
rref <- bibentry(
   bibtype = "Manual",
   title = "R: A Language and Environment for Statistical Computing",
   author = person("R Core Team"),
   organization = "R Foundation for Statistical Computing",
   address = "Vienna, Austria",
   year = 2010,
   isbn = "3-900051-07-0",
   url = "http://www.R-project.org/")

## Different printing styles
print(rref)
print(rref, style = "Bibtex")
print(rref, style = "citation")
print(rref, style = "html")
print(rref, style = "latex")
print(rref, style = "R")

## References for boot package and associated book
bref <- c(
   bibentry(
     bibtype = "Manual",
     title = "boot: Bootstrap R (S-PLUS) Functions",
     author = c(
       person("Angelo", "Canty", role = "aut",
         comment = "S original"),
       person(c("Brian", "D."), "Ripley", role = c("aut", "trl", "cre"),
         comment = "R port, author of parallel support",
         email = "ripley@stats.ox.ac.uk")
     ),
     year = "2012",
     note = "R package version 1.3-4",
     url = "http://CRAN.R-project.org/package=boot",
     key = "boot-package"
   ),

   bibentry(
     bibtype = "Book",
     title = "Bootstrap Methods and Their Applications",
     author = as.person("Anthony C. Davison [aut], David V. Hinkley [aut]"),
     year = "1997",
     publisher = "Cambridge University Press",
     address = "Cambridge",
     isbn = "0-521-57391-2",
     url = "http://statwww.epfl.ch/davison/BMA/",
     key = "boot-book"
   )
)

## Combining and subsetting
c(rref, bref)
bref[2]

## Extracting fields
bref$author
bref[1]$author
bref[1]$author[2]$email

## Convert to BibTeX
toBibtex(bref)

## Format in R style
## One bibentry() call for each bibentry:
writeLines(paste(format(bref, "R"), collapse = "\n\n"))
## One collapsed call:
writeLines(format(bref, "R", collapse = TRUE))
\end{ExampleCode}
\end{Examples}
\HeaderA{browseEnv}{Browse Objects in Environment}{browseEnv}
\aliasA{wsbrowser}{browseEnv}{wsbrowser}
\keyword{interface}{browseEnv}
%
\begin{Description}\relax
The \code{browseEnv} function opens a browser with list of objects
currently in \code{sys.frame()} environment.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
browseEnv(envir = .GlobalEnv, pattern,
          excludepatt = "^last\\.warning",
          html = .Platform$GUI != "AQUA",
          expanded = TRUE, properties = NULL,
          main = NULL, debugMe = FALSE)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{envir}] an \code{\LinkA{environment}{environment}} the objects of which are to
be browsed.
\item[\code{pattern}] a \LinkA{regular expression}{regular expression} for object subselection
is passed to the internal \code{\LinkA{ls}{ls}()} call.
\item[\code{excludepatt}] a regular expression for \emph{dropping} objects
with matching names.
\item[\code{html}] is used to display the workspace
on a HTML page in your favorite browser.  The default except when
running from \command{R.app} on OS X.
\item[\code{expanded}] whether to show one level of recursion.  It can be useful
to switch it to \code{FALSE} if your workspace is large.  This
option is ignored if \code{html} is set to \code{FALSE}.
\item[\code{properties}] a named list of global properties (of the objects chosen)
to be showed in the browser;  when \code{NULL} (as per default),
user, date, and machine information is used.
\item[\code{main}] a title string to be used in the browser; when \code{NULL}
(as per default) a title is constructed.
\item[\code{debugMe}] logical switch; if true, some diagnostic output is produced.
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
Very experimental code: displays a static HTML page on all platforms
except \command{R.app} on Mac OS X.

Only allows one level of recursion into object structures.

It can be generalized.  See sources for details.
Most probably, this should rather work through using the \file{tkWidget}
package (from \url{www.Bioconductor.org}).
\end{Details}
%
\begin{SeeAlso}\relax
\code{\LinkA{str}{str}}, \code{\LinkA{ls}{ls}}.
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}
if(interactive()) {
   ## create some interesting objects :
   ofa <- ordered(4:1)
   ex1 <- expression(1+ 0:9)
   ex3 <- expression(u,v, 1+ 0:9)
   example(factor, echo = FALSE)
   example(table, echo = FALSE)
   example(ftable, echo = FALSE)
   example(lm, echo = FALSE, ask = FALSE)
   example(str, echo = FALSE)

   ## and browse them:
   browseEnv()

   ## a (simple) function's environment:
   af12 <- approxfun(1:2, 1:2, method = "const")
   browseEnv(envir = environment(af12))
 }
\end{ExampleCode}
\end{Examples}
\HeaderA{browseURL}{Load URL into a WWW Browser}{browseURL}
\keyword{file}{browseURL}
%
\begin{Description}\relax
Load a given URL into a WWW browser.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
browseURL(url, browser = getOption("browser"), encodeIfNeeded = FALSE)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{url}] a non-empty character string giving the URL to be loaded.
\item[\code{browser}] a non-empty character string giving the name of the
program to be used as hypertext browser.  It should be in the PATH,
or a full path specified.  Alternatively, an \R{} function to be
called to invoke the browser.

Under Windows \code{NULL} is also allowed (and is the default), and
implies that the file association mechanism will be used.

\item[\code{encodeIfNeeded}] Should the URL be encoded by
\code{\LinkA{URLencode}{URLencode}} before passing to the browser?  This is not
needed (and might be harmful) if the \code{browser} program/function
itself does encoding, and can be harmful for \samp{file://} URLs on some
systems and for \samp{http://} URLs passed to some CGI applications.
Fortunately, most URLs do not need encoding.
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
The default browser is set by option \code{"browser"}, in turn set by
the environment variable \env{R\_BROWSER} if that is set, otherwise to
\code{NULL}.
To suppress showing URLs altogether, use the value \code{"false"}.

Some browsers have required \code{:} be replaced by \code{|} in file
paths: others do not accept that.  All seem to accept \code{\bsl{}} as a
path separator even though the RFC1738 standard requires \code{/}.

To suppress showing URLs altogether, set \code{browser="false"}.
\end{Details}
%
\begin{Examples}
\begin{ExampleCode}
## Not run: browseURL("http://www.r-project.org")
browseURL("file://d:/R/R-2.5.1/doc/html/index.html",
          browser="C:/Program Files/Mozilla Firefox/firefox.exe")

## End(Not run)
\end{ExampleCode}
\end{Examples}
\HeaderA{browseVignettes}{List Vignettes in an HTML Browser}{browseVignettes}
\aliasA{print.browseVignettes}{browseVignettes}{print.browseVignettes}
\keyword{documentation}{browseVignettes}
%
\begin{Description}\relax
List available vignettes in an HTML browser with links to PDF,
LaTeX/noweb source, and (tangled) R code (if available).
\end{Description}
%
\begin{Usage}
\begin{verbatim}
browseVignettes(package = NULL, lib.loc = NULL, all = TRUE)

## S3 method for class 'browseVignettes'
print(x, ...)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{package}] a character vector with the names of packages to
search through, or \code{NULL} in which "all" packages (as defined
by argument \code{all}) are searched.
\item[\code{lib.loc}] a character vector of directory names of \R{} libraries,
or \code{NULL}.  The default value of \code{NULL} corresponds to all
libraries currently known.
\item[\code{all}] logical; if \code{TRUE} search
all available packages in the library trees specified by \code{lib.loc}, 
and if \code{FALSE}, search only attached packages.
\item[\code{x}] Object of class \code{browseVignettes}.
\item[\code{...}] Further arguments, ignored by the \code{print} method. 
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
Function \code{browseVignettes} returns an object of the same class;
the print method displays it as an HTML page in a browser (using
\code{\LinkA{browseURL}{browseURL}}).
\end{Details}
%
\begin{SeeAlso}\relax
\code{\LinkA{browseURL}{browseURL}}, \code{\LinkA{vignette}{vignette}}
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}
## Not run: 
## List vignettes from all *attached* packages
browseVignettes(all = FALSE)

## List vignettes from a specific package
browseVignettes("grid")

## End(Not run)
\end{ExampleCode}
\end{Examples}
\HeaderA{bug.report}{Send a Bug Report}{bug.report}
\keyword{utilities}{bug.report}
\keyword{error}{bug.report}
%
\begin{Description}\relax
Invokes an editor or email program to write a bug report or opens a
web page for bug submission.  Some standard information on the current
version and configuration of \R{} are included automatically.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
bug.report(subject = "",  address,
           file = "R.bug.report", package = NULL, lib.loc = NULL,
           ...)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{subject}] Subject of the email.
\item[\code{address}] Recipient's email address, where applicable: for
package bug reports sent by email this defaults to the address of
the package maintainer (the first if more than one is listed).
\item[\code{file}] filename to use (if needed) for setting up the email.
\item[\code{package}] Optional character vector naming a single package which is 
the subject of the bug report.
\item[\code{lib.loc}] A character vector describing the location of \R{}
library trees in which to search for the package, or \code{NULL}.
The default value of \code{NULL} corresponds to all libraries
currently known.
\item[\code{...}] additional named arguments such as \code{method} and
\code{ccaddress} to pass to \code{\LinkA{create.post}{create.post}}.
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
If \code{package} is \code{NULL} or a base package, this opens the R
bugs tracker at \url{http://bugs.r-project.org/}.

If \code{package} is specified, it is assumed that the bug report is
about that package, and parts of its \file{DESCRIPTION} file are
added to the standard information.  If the package has a
\code{BugReports} field in the \file{DESCRIPTION} file, that URL
will be opened using \code{\LinkA{browseURL}{browseURL}}, otherwise an email
directed to the package maintainer will be generated using
\code{\LinkA{create.post}{create.post}}.  
\end{Details}
%
\begin{Value}
Nothing useful.
\end{Value}
%
\begin{Section}{When is there a bug?}
If \R{} executes an illegal instruction, or dies with an operating
system error message that indicates a problem in the program (as
opposed to something like ``disk full''), then it is certainly a
bug.

Taking forever to complete a command can be a bug, but you must make
certain that it was really \R{}'s fault.  Some commands simply take a
long time.  If the input was such that you KNOW it should have been
processed quickly, report a bug.  If you don't know whether the
command should take a long time, find out by looking in the manual or
by asking for assistance.

If a command you are familiar with causes an \R{} error message in a
case where its usual definition ought to be reasonable, it is probably
a bug.  If a command does the wrong thing, that is a bug.  But be sure
you know for certain what it ought to have done.  If you aren't
familiar with the command, or don't know for certain how the command
is supposed to work, then it might actually be working right.  Rather
than jumping to conclusions, show the problem to someone who knows for
certain.

Finally, a command's intended definition may not be best for
statistical analysis.  This is a very important sort of problem, but
it is also a matter of judgement.  Also, it is easy to come to such a
conclusion out of ignorance of some of the existing features.  It is
probably best not to complain about such a problem until you have
checked the documentation in the usual ways, feel confident that you
understand it, and know for certain that what you want is not
available. The mailing list \code{r-devel@r-project.org} is a better
place for discussions of this sort than the bug list.

If you are not sure what the command is supposed to do
after a careful reading of the manual this indicates a bug in the
manual.  The manual's job is to make everything clear.  It is just as
important to report documentation bugs as program bugs.

If the online argument list of a function disagrees with the manual,
one of them must be wrong, so report the bug.
\end{Section}
%
\begin{Section}{How to report a bug}
When you decide that there is a bug, it is important to report it and
to report it in a way which is useful.  What is most useful is an
exact description of what commands you type, from when you start \R{}
until the problem happens.  Always include the version of \R{}, machine,
and operating system that you are using; type \kbd{version} in \R{} to
print this.  To help us keep track of which bugs have been fixed and
which are still open please send a separate report for each bug.

The most important principle in reporting a bug is to report FACTS,
not hypotheses or categorizations.  It is always easier to report the
facts, but people seem to prefer to strain to posit explanations and
report them instead.  If the explanations are based on guesses about
how \R{} is implemented, they will be useless; we will have to try to
figure out what the facts must have been to lead to such
speculations.  Sometimes this is impossible.  But in any case, it is
unnecessary work for us.

For example, suppose that on a data set which you know to be quite
large the command \code{data.frame(x, y, z, monday, tuesday)} never
returns.  Do not report that \code{data.frame()} fails for large data
sets.  Perhaps it fails when a variable name is a day of the week.  If
this is so then when we got your report we would try out the
\code{data.frame()} command on a large data set, probably with no day
of the week variable name, and not see any problem. There is no way in
the world that we could guess that we should try a day of the week
variable name.

Or perhaps the command fails because the last command you used was a
\code{[} method that had a bug causing \R{}'s internal data structures
to be corrupted and making the \code{data.frame()} command fail from
then on.  This is why we need to know what other commands you have
typed (or read from your startup file).

It is very useful to try and find simple examples that produce
apparently the same bug, and somewhat useful to find simple examples
that might be expected to produce the bug but actually do not.  If you
want to debug the problem and find exactly what caused it, that is
wonderful.  You should still report the facts as well as any
explanations or solutions.

Invoking \R{} with the \option{--vanilla} option may help in isolating a
bug.  This ensures that the site profile and saved data files are not
read.

A bug report can be generated using the function \code{bug.report()}.
For reports on \R{} this will open the Web page at
\url{http://bugs.R-project.org/}: for a contributed package it will
open the package's bug tracker Web page or help you compose an email
to the maintainer.

Bug reports on \strong{contributed packages} should not be sent to the
R bug tracker: rather make use of the \code{package} argument.
\end{Section}
%
\begin{Author}\relax
This help page is adapted from the Emacs manual and the R FAQ
\end{Author}
%
\begin{SeeAlso}\relax
\code{\LinkA{help.request}{help.request}} which you possibly should try
\emph{before} \code{bug.report}.

\code{\LinkA{create.post}{create.post}}, which handles emailing reports.

The R FAQ, also \code{\LinkA{sessionInfo}{sessionInfo}()} from which you may add
to the bug report.
\end{SeeAlso}
\HeaderA{capture.output}{Send Output to a Character String or File}{capture.output}
\keyword{utilities}{capture.output}
%
\begin{Description}\relax
Evaluates its arguments with the output being returned as a character
string or sent to a file.  Related to \code{\LinkA{sink}{sink}} in the same
way that \code{\LinkA{with}{with}} is related to \code{\LinkA{attach}{attach}}.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
capture.output(..., file = NULL, append = FALSE)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{...}] Expressions to be evaluated.
\item[\code{file}] A file name or a \LinkA{connection}{connection}, or \code{NULL} to return
the output as a character vector.  If the connection is not open,
it will be opened initially and closed on exit.
\item[\code{append}] logical.  If \code{file} a file name or unopened
connection, append or overwrite?
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
An attempt is made to write output as far as possible to \code{file}
if there is an error in evaluating the expressions, but for
\code{file = NULL} all output will be lost.
\end{Details}
%
\begin{Value}
A character string (if \code{file=NULL}), or invisible \code{NULL}.
\end{Value}
%
\begin{SeeAlso}\relax
 \code{\LinkA{sink}{sink}}, \code{\LinkA{textConnection}{textConnection}} 
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}
require(stats)
glmout <- capture.output(example(glm))
glmout[1:5]
capture.output(1+1, 2+2)
capture.output({1+1; 2+2})
## Not run: 
## on Unix with enscript available
ps <- pipe("enscript -o tempout.ps","w")
capture.output(example(glm), file=ps)
close(ps)

## End(Not run)
\end{ExampleCode}
\end{Examples}
\HeaderA{choose.dir}{Choose a Folder Interactively}{choose.dir}
\keyword{file}{choose.dir}
%
\begin{Description}\relax
Use a Windows shell folder widget to choose a folder interactively.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
choose.dir(default = "", caption = "Select folder")
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{default}] which folder to show initially.
\item[\code{caption}] the caption on the selection dialog.
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
This brings up   the Windows shell folder selection widget.  With the
default \code{default = ""}, `My Computer' (or similar) is
initially selected.

To workaround a bug, on Vista and later only folders under
`Computer' are accessible via the widget.
\end{Details}
%
\begin{Value}
A length-one character vector, character \code{NA} if
`Cancel' was selected. 
\end{Value}
%
\begin{SeeAlso}\relax
\code{\LinkA{choose.files}{choose.files}}
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}
  if (interactive()) 
        choose.dir(getwd(), "Choose a suitable folder")
\end{ExampleCode}
\end{Examples}
\HeaderA{choose.files}{Choose a List of Files Interactively}{choose.files}
\aliasA{Filters}{choose.files}{Filters}
\keyword{file}{choose.files}
%
\begin{Description}\relax
Use a Windows file dialog to choose a list of zero or more files 
interactively.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
choose.files(default = "", caption = "Select files",
             multi = TRUE, filters = Filters,
             index = nrow(Filters))

Filters
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{default}] which filename to show initially
\item[\code{caption}] the caption on the file selection dialog
\item[\code{multi}] whether to allow multiple files to be selected
\item[\code{filters}] a matrix of filename filters (see Details)
\item[\code{index}] which row of filters to use by default
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
Unlike \code{\LinkA{file.choose}{file.choose}}, \code{choose.files} will always
attempt to return a character vector giving a list of files.  If the
user cancels the dialog, then zero files are returned, whereas
\code{\LinkA{file.choose}{file.choose}} would signal an error.  \code{choose.dir}
chooses a directory.

Windows file dialog boxes include a list of `filters', which allow
the file selection to be limited to files of specific types.
The \code{filters} argument to \code{choose.files} allows the list
of filters to be set.  It should be an \code{n} by \code{2} character
matrix.  The first column gives, for each filter, the description the
user will see, while the second column gives the mask(s) to select
those files.  If more than one mask is used, separate them by
semicolons, with no spaces.  The \code{index} argument chooses which
filter will be used initially.

\code{Filters} is a matrix giving the descriptions and masks for
the file types that \R{} knows about.  Print it to see typical formats
for filter specifications.  The examples below show how particular
filters may be selected.

If you would like to display files in a particular directory,
give a fully qualified file mask (e.g., \code{"c:\bsl{}\bsl{}*.*"})
in the \code{default} argument.  If a directory is not given, the
dialog will start in the current directory the first time, and
remember the last directory used on subsequent invocations.

There is a buffer limit on the total length of the selected filenames:
it is large but this function is not intended to select thousands of
files, when the limit might be reached.
\end{Details}
%
\begin{Value}
A character vector giving zero or more file paths.
\end{Value}
%
\begin{SeeAlso}\relax
\code{\LinkA{file.choose}{file.choose}}, \code{\LinkA{choose.dir}{choose.dir}}.

\code{\LinkA{Sys.glob}{Sys.glob}} or \code{\LinkA{list.files}{list.files}} to select multiple
files by pattern.
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}
  if (interactive()) 
       choose.files(filters = Filters[c("zip", "All"),])
\end{ExampleCode}
\end{Examples}
\HeaderA{chooseBioCmirror}{Select a Bioconductor Mirror}{chooseBioCmirror}
\aliasA{getBioCmirrors}{chooseBioCmirror}{getBioCmirrors}
\keyword{utilities}{chooseBioCmirror}
%
\begin{Description}\relax
Interact with the user to choose a Bioconductor mirror.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
chooseBioCmirror(graphics = getOption("menu.graphics"))
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{graphics}] logical.  If true, use a graphical list: on Windows or
Mac OS X GUI use a list box, and on a Unix-alike if package
\pkg{tcltk} and an X server are available, use a Tk
widget.  Otherwise use a text \code{\LinkA{menu}{menu}}.
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
This sets the option \code{"BioC\_mirror"}: it needs to be used before
a call to \code{\LinkA{setRepositories}{setRepositories}}.

In addition to the Bioconductor master site (in Seattle, USA), there
currently are mirrors in Bethesda (USA), Dortmund (Germany), Bergen
(Norway) and Cambridge (UK).
\end{Details}
%
\begin{Value}
None: this function is invoked for its
side effect of updating \code{options("BioC\_mirror")}.
\end{Value}
%
\begin{SeeAlso}\relax
\code{\LinkA{setRepositories}{setRepositories}}, \code{\LinkA{chooseCRANmirror}{chooseCRANmirror}}.
\end{SeeAlso}
\HeaderA{chooseCRANmirror}{Select a CRAN Mirror}{chooseCRANmirror}
\aliasA{getCRANmirrors}{chooseCRANmirror}{getCRANmirrors}
\keyword{utilities}{chooseCRANmirror}
%
\begin{Description}\relax
Interact with the user to choose a CRAN mirror.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
chooseCRANmirror(graphics = getOption("menu.graphics"))

getCRANmirrors(all = FALSE, local.only = FALSE)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{graphics}] Logical. If true, use a graphical list: on Windows or
Mac OS X GUI use a list box, and on a Unix-alike if package
\pkg{tcltk} and an X server are available, use a Tk
widget. Otherwise use a text \code{\LinkA{menu}{menu}}.

\item[\code{all}] Logical, get all known mirrors or only the ones flagged as OK.
\item[\code{local.only}] Logical, try to get most recent list from CRAN or
use file on local disk only.
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
A list of mirrors is stored in file
\file{\var{\LinkA{R\_HOME}{R.Rul.HOME}}/doc/CRAN\_mirrors.csv}, but first an on-line list of
current mirrors is consulted, and the file copy used only if the
on-line list is inaccessible.

This function was originally written to support a Windows GUI menu
item, but is also called by \code{\LinkA{contrib.url}{contrib.url}} if it finds the
initial dummy value of \code{\LinkA{options}{options}("repos")}.
\end{Details}
%
\begin{Value}
None for \code{chooseCRANmirror()}, this function is invoked for its
side effect of updating \code{options("repos")}.

\code{getCRANmirrors()} returns a data frame with mirror information.
\end{Value}
%
\begin{SeeAlso}\relax
\code{\LinkA{setRepositories}{setRepositories}}, \code{\LinkA{chooseBioCmirror}{chooseBioCmirror}},
\code{\LinkA{contrib.url}{contrib.url}}.
\end{SeeAlso}
\HeaderA{citation}{Citing R and R Packages in Publications}{citation}
\aliasA{CITATION}{citation}{CITATION}
\aliasA{readCitationFile}{citation}{readCitationFile}
\keyword{misc}{citation}
%
\begin{Description}\relax
How to cite \R{} and \R{} packages in publications.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
citation(package = "base", lib.loc = NULL, auto = NULL)
readCitationFile(file, meta = NULL)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{package}] a character string with the name of a single package.
An error occurs if more than one package name is given.
\item[\code{lib.loc}] a character vector with path names of \R{} libraries, or
\code{NULL}.  The default value of \code{NULL} corresponds to all
libraries currently known.  If the default is used, the loaded
packages are searched before the libraries.
\item[\code{auto}] a logical indicating whether the default citation
auto-generated from the package \file{DESCRIPTION} metadata should
be used or not, or \code{NULL} (default), indicating that a
\file{CITATION} file is used if it exists, or an object of class
\code{"\LinkA{packageDescription}{packageDescription}"} with package metadata (see
below).
\item[\code{file}] a file name.
\item[\code{meta}] a list of package metadata as obtained by
\code{\LinkA{packageDescription}{packageDescription}}, or \code{NULL} (the default).
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
The \R{} core development team and the very active community of package
authors have invested a lot of time and effort in creating \R{} as it is
today.  Please give credit where credit is due and cite \R{} and \R{}
packages when you use them for data analysis.

Execute function \code{citation()} for information on how to cite the
base R system in publications.  If the name of a non-base package is
given, the function either returns the information contained in the
\file{CITATION} file of the package or auto-generates citation
information.  In the latter case the package \file{DESCRIPTION} file
is parsed, the resulting citation object may be arbitrarily bad, but
is quite useful (at least as a starting point) in most cases.

In \R{} >= 2.14.0, one can use a \samp{Authors@R} field in
\file{DESCRIPTION} to provide (\R{} code giving) a
\code{\LinkA{person}{person}} object with a refined, machine-readable
description of the package ``authors'' (in particular specifying
their precise roles).  Only those with an author role will be
included in the auto-generated citation.

If only one reference is given, the print method for the object
returned by \code{citation()} shows both a text version and a BibTeX
entry for it, if a package has more than one reference then only the
text versions are shown.  The BibTeX versions can be obtained using
function \code{toBibtex()} (see the examples below).

The \file{CITATION} file of an R package should be placed in the
\file{inst} subdirectory of the package source.  The file is an R
source file and may contain arbitrary R commands including
conditionals and computations.  Function \code{readCitationFile()} is
used by \code{citation()} to extract the information in
\file{CITATION} files.  The file is \code{source()}ed by the R 
parser in a temporary environment and all resulting bibliographic
objects (specifically, of class \code{"\LinkA{bibentry}{bibentry}"}) are
collected.

Traditionally, the \file{CITATION} file contained zero or more calls
to \code{citHeader}, then one or more calls to \code{\LinkA{citEntry}{citEntry}},
and finally zero or more calls to \code{citFooter}, where in fact
\code{citHeader} and \code{citFooter} are simply wrappers to
\code{\LinkA{paste}{paste}}, with their \code{...} argument passed on to
\code{\LinkA{paste}{paste}} as is.  \R{} 2.12.0 adds a new
\code{"\LinkA{bibentry}{bibentry}"} class for improved representation and
manipulation of bibliographic information (in fact, the old mechanism
is implemented using the new one), and one can write \file{CITATION}
files using the unified \code{\LinkA{bibentry}{bibentry}} interface.  Such files
are not usable with versions of \R{} prior to 2.12.0.

In \R{} >= 2.14.0, one can include an auto-generated package citation in
the \file{CITATION} file via \code{citation(auto = meta)}.

\code{readCitationFile} makes use of the \code{Encoding} element (if
any) of \code{meta} to determine the encoding of the file.
\end{Details}
%
\begin{Value}
An object inheriting from class \code{"\LinkA{bibentry}{bibentry}"}.
\end{Value}
%
\begin{SeeAlso}\relax
\code{\LinkA{bibentry}{bibentry}}
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}
## the basic R reference
citation()

## references for a package -- might not have these installed
if(nchar(system.file(package="lattice"))) citation("lattice")
if(nchar(system.file(package="foreign"))) citation("foreign")

## extract the bibtex entry from the return value
x <- citation()
toBibtex(x)
\end{ExampleCode}
\end{Examples}
\HeaderA{citEntry}{Bibliography Entries (Older Interface)}{citEntry}
\aliasA{citFooter}{citEntry}{citFooter}
\aliasA{citHeader}{citEntry}{citHeader}
\keyword{misc}{citEntry}
%
\begin{Description}\relax
Functionality for specifying bibliographic information in enhanced
BibTeX style.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
citEntry(entry, textVersion, header = NULL, footer = NULL, ...)
citHeader(...)
citFooter(...)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{entry}] a character string with a BibTeX entry type.
See section \bold{Entry Types} in \code{\LinkA{bibentry}{bibentry}} for
details.

\item[\code{textVersion}] a character string with a text representation of
the reference.
\item[\code{header}] a character string with optional header text.
\item[\code{footer}] a character string with optional footer text.
\item[\code{...}] for \code{citEntry}, arguments of the form
\code{\var{tag}=\var{value}} giving the fields of the entry, with
\var{tag} and \var{value} the name and value of the field,
respectively.
See section \bold{Entry Fields} in \code{\LinkA{bibentry}{bibentry}} for
details.

For \code{citHeader} and \code{citFooter}, character strings.

\end{ldescription}
\end{Arguments}
%
\begin{Value}
\code{citEntry} produces an object of class \code{"bibentry"}.
\end{Value}
%
\begin{SeeAlso}\relax
\code{\LinkA{citation}{citation}} for more information about citing R and R
packages and \file{CITATION} files;
\code{\LinkA{bibentry}{bibentry}} for the newer functionality for representing
and manipulating bibliographic information.
\end{SeeAlso}
\HeaderA{clipboard}{Read/Write to/from the Windows Clipboard}{clipboard}
\aliasA{getClipboardFormats}{clipboard}{getClipboardFormats}
\aliasA{readClipboard}{clipboard}{readClipboard}
\aliasA{writeClipboard}{clipboard}{writeClipboard}
\keyword{utilities}{clipboard}
%
\begin{Description}\relax
Transfer text between a character vector and the Windows clipboard.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
getClipboardFormats(numeric = FALSE)
readClipboard(format = 1, raw = FALSE)
writeClipboard(str, format = 1)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{numeric}] logical: should the result be in human-readable form
(the default) or raw numbers?
\item[\code{format}] an integer giving the desired format.
\item[\code{raw}] should the value be returned as a raw vector rather than
as a character vector?
\item[\code{str}] a character vector or a raw vector.
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
The Windows clipboard offers data in a number of formats: see e.g.
\url{http://msdn2.microsoft.com/en-us/library/ms649013.aspx}.

The standard formats include

\Tabular{lrl}{
CF\_TEXT        &   1  & Text in the machine's locale\\{}
CF\_BITMAP      &   2  & \\{}
CF\_METAFILEPICT &  3  & Metafile picture\\{}
CF\_SYLK        &   4  & Symbolic link\\{}
CF\_DIF         &   5  & Data Interchange Fornat\\{}
CF\_TIFF        &   6  & Tagged-Image File Format\\{}
CF\_OEMTEXT     &   7  & Text in the OEM codepage\\{}
CF\_DIB         &   8  & Device-Independent Bitmap\\{}
CF\_PALETTE     &   9  & \\{}
CF\_PENDATA     &   10 & \\{}
CF\_RIFF        &   11 & Audio data\\{}
CF\_WAVE        &   12 & Audio data\\{}
CF\_UNICODETEXT &   13 & Text in Unicode (UCS-2)\\{}
CF\_ENHMETAFILE &   14 & Enhanced metafile\\{}
CF\_HDROP       &   15 & Drag-and-drop data\\{}
CF\_LOCALE      &   16 & Locale for the text on the clipboard\\{}
CF\_MAX         &   17 & Shell-oriented formats\\{}
}
Applications normally make data available in one or more of these and
possibly additional private formats.  Use \code{raw = TRUE} to read binary
formats, \code{raw = FALSE} (the default) for text formats.  The
current codepage is used to convert text to Unicode text, and
information on that is contained in the \code{CF\_LOCALE} format.
(Take care if you are running R in a different locale from Windows.)

The \code{writeClipboard} function will write a character vector as
text or Unicode text with standard CR-LF line terminators.  It will
copy a raw vector directly to the clipboard without any changes.
\end{Details}
%
\begin{Value}
For \code{getClipboardFormats}, a character or integer vector of
available formats, in numeric order.  If non human-readable character
representation is known, the number is returned.

For \code{readClipboard}, a character vector by default, a raw vector
if \code{raw} is \code{TRUE}, or \code{NULL}, if the format is
unavailable.

For \code{writeClipboard} an invisible logical indicating success or
failure.
\end{Value}
%
\begin{SeeAlso}\relax
\code{\LinkA{file}{file}} which can be used to set up a connection to a clipboard.
\end{SeeAlso}
\HeaderA{close.socket}{Close a Socket}{close.socket}
\keyword{misc}{close.socket}
%
\begin{Description}\relax
Closes the socket and frees the space in the file descriptor table.  The
port may not be freed immediately.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
close.socket(socket, ...)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{socket}] A \code{socket} object
\item[\code{...}] further arguments passed to or from other methods.
\end{ldescription}
\end{Arguments}
%
\begin{Value}
logical indicating success or failure
\end{Value}
%
\begin{Author}\relax
Thomas Lumley
\end{Author}
%
\begin{SeeAlso}\relax
\code{\LinkA{make.socket}{make.socket}}, \code{\LinkA{read.socket}{read.socket}}
\end{SeeAlso}
\HeaderA{combn}{Generate All Combinations of n Elements, Taken m at a Time}{combn}
\keyword{utilities}{combn}
\keyword{iteration}{combn}
%
\begin{Description}\relax
Generate all combinations of the elements of \code{x} taken \code{m}
at a time.  If \code{x} is a positive integer, returns all
combinations of the elements of \code{seq(x)} taken \code{m} at a
time.  If argument \code{FUN} is not \code{NULL}, applies a function given
by the argument to each point.  If simplify is FALSE,  returns
a list; otherwise returns an \code{\LinkA{array}{array}}, typically a
\code{\LinkA{matrix}{matrix}}.  \code{...} are passed unchanged to the
\code{FUN} function, if specified.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
combn(x, m, FUN = NULL, simplify = TRUE, ...)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{x}] vector source for combinations, or integer \code{n} for
\code{x <- \LinkA{seq\_len}{seq.Rul.len}(n)}.
\item[\code{m}] number of elements to choose.
\item[\code{FUN}] function to be applied to each combination; default
\code{NULL} means the identity, i.e., to return the combination
(vector of length \code{m}).
\item[\code{simplify}] logical indicating if the result should be simplified
to an \code{\LinkA{array}{array}} (typically a \code{\LinkA{matrix}{matrix}}); if
FALSE, the function returns a \code{\LinkA{list}{list}}.  Note that when
\code{simplify = TRUE} as by default, the dimension of the result is
simply determined from \code{FUN(\var{1st combination})} (for
efficiency reasons).  This will badly fail if \code{FUN(u)} is not of
constant length.
\item[\code{...}] optionally, further arguments to \code{FUN}.
\end{ldescription}
\end{Arguments}
%
\begin{Value}
a \code{\LinkA{list}{list}} or \code{\LinkA{array}{array}}, see the \code{simplify}
argument above.  In the latter case, the identity
\code{dim(combn(n,m)) == c(m, choose(n,m))} holds.
\end{Value}
%
\begin{Author}\relax
Scott Chasalow wrote the original in 1994 for S;
R package \Rhref{http://CRAN.R-project.org/package=combinat}{\pkg{combinat}} and documentation by Vince Carey
\email{stvjc@channing.harvard.edu};
small changes by the R core team, notably to return an array in all
cases of \code{simplify = TRUE}, e.g., for \code{combn(5,5)}.
\end{Author}
%
\begin{References}\relax
Nijenhuis, A. and Wilf, H.S. (1978)
\emph{Combinatorial Algorithms for Computers and Calculators};
Academic Press, NY.
\end{References}
%
\begin{SeeAlso}\relax
\code{\LinkA{choose}{choose}} for fast computation of the \emph{number} of
combinations. \code{\LinkA{expand.grid}{expand.grid}} for creating a data frame from
all combinations of factors or vectors.
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}
combn(letters[1:4], 2)
(m <- combn(10, 5, min))   # minimum value in each combination
mm <- combn(15, 6, function(x) matrix(x, 2,3))
stopifnot(round(choose(10,5)) == length(m),
          c(2,3, round(choose(15,6))) == dim(mm))

## Different way of encoding points:
combn(c(1,1,1,1,2,2,2,3,3,4), 3, tabulate, nbins = 4)

## Compute support points and (scaled) probabilities for a
## Multivariate-Hypergeometric(n = 3, N = c(4,3,2,1)) p.f.:
# table.mat(t(combn(c(1,1,1,1,2,2,2,3,3,4), 3, tabulate,nbins=4)))

## Assuring the identity
for(n in 1:7)
 for(m in 0:n) stopifnot(is.array(cc <- combn(n, m)),
                         dim(cc) == c(m, choose(n,m)))
\end{ExampleCode}
\end{Examples}
\HeaderA{compareVersion}{Compare Two Package Version Numbers}{compareVersion}
\keyword{utilities}{compareVersion}
%
\begin{Description}\relax
Compare two package version numbers to see which is later.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
compareVersion(a, b)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{a, b}] Character strings representing package version numbers.
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
\R{} package version numbers are of the form \code{x.y-z} for integers
\code{x}, \code{y} and \code{z}, with components after \code{x}
optionally missing (in which case the version number is older than
those with the components present). 
\end{Details}
%
\begin{Value}
\code{0} if the numbers are equal, \code{-1} if \code{b} is later
and \code{1} if \code{a} is later (analogous to the C function
\code{strcmp}).
\end{Value}
%
\begin{SeeAlso}\relax
\code{\LinkA{package\_version}{package.Rul.version}},
\code{\LinkA{library}{library}}, \code{\LinkA{packageStatus}{packageStatus}}.
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}
compareVersion("1.0", "1.0-1")
compareVersion("7.2-0","7.1-12")
\end{ExampleCode}
\end{Examples}
\HeaderA{contrib.url}{Find Appropriate Paths in CRAN-like Repositories}{contrib.url}
\keyword{utilities}{contrib.url}
%
\begin{Description}\relax
\code{contrib.url} adds the appropriate type-specific path within a
repository to each URL in \code{repos}.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
contrib.url(repos, type = getOption("pkgType"))
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{repos}] character vector, the base URL(s) of the repositories
to use.

\item[\code{type}] character string, indicating which type of packages: see
\code{\LinkA{install.packages}{install.packages}}.

\end{ldescription}
\end{Arguments}
%
\begin{Value}
A character vector of the same length as \code{repos}.
\end{Value}
%
\begin{SeeAlso}\relax
\code{\LinkA{available.packages}{available.packages}}, \code{\LinkA{download.packages}{download.packages}},
\code{\LinkA{install.packages}{install.packages}}.

The `R Installation and Administration' manual for how to 
set up a repository.
\end{SeeAlso}
\HeaderA{count.fields}{Count the Number of Fields per Line}{count.fields}
\keyword{file}{count.fields}
%
\begin{Description}\relax
\code{count.fields} counts the number of fields, as separated by
\code{sep}, in each of the lines of \code{file} read.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
count.fields(file, sep = "", quote = "\"'", skip = 0,
             blank.lines.skip = TRUE, comment.char = "#")
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{file}] a character string naming an ASCII data file, or a
\code{\LinkA{connection}{connection}}, which will be opened if necessary,
and if so closed at the end of the function call.

\item[\code{sep}] the field separator character.  Values on each line of the
file are separated by this character.  By default, arbitrary amounts
of whitespace can separate fields.

\item[\code{quote}] the set of quoting characters

\item[\code{skip}] the number of lines of the data file to skip before
beginning to read data.

\item[\code{blank.lines.skip}] logical: if \code{TRUE} blank lines in the
input are ignored.

\item[\code{comment.char}] character: a character vector of length one
containing a single character or an empty string.
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
This used to be used by \code{\LinkA{read.table}{read.table}} and can still be
useful in discovering problems in reading a file by that function.

For the handling of comments, see \code{\LinkA{scan}{scan}}.
\end{Details}
%
\begin{Value}
A vector with the numbers of fields found.
\end{Value}
%
\begin{SeeAlso}\relax
\code{\LinkA{read.table}{read.table}}
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}
cat("NAME", "1:John", "2:Paul", file = "foo", sep = "\n")
count.fields("foo", sep = ":")
unlink("foo")
\end{ExampleCode}
\end{Examples}
\HeaderA{create.post}{Ancillary Function for Preparing Emails and Postings}{create.post}
\keyword{utilities}{create.post}
%
\begin{Description}\relax
An ancillary function used by \code{\LinkA{bug.report}{bug.report}} and
\code{\LinkA{help.request}{help.request}} to prepare emails for submission to package
maintainers or to \R{} mailing lists.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
create.post(instructions = character(), description = "post",
            subject = "",
            method = getOption("mailer"),
            address = "the relevant mailing list",
            ccaddress = getOption("ccaddress", ""),
            filename = "R.post", info = character())
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{instructions}] Character vector of instructions to put at the top
of the template email.
\item[\code{description}] Character string: a description to be incorporated
into messages.
\item[\code{subject}] Subject of the email. Optional except for the
\code{"mailx"} method.
\item[\code{method}] Submission method, one of \code{"none"}, \code{"mailto"},
\code{"gnudoit"}, \code{"ess"} or (Unix only) \code{"mailx"}.
See `Details'.
\item[\code{address}] Recipient's email address, where applicable: for
package bug reports sent by email this defaults to the address of
the package maintainer (the first if more than one is listed).
\item[\code{ccaddress}] Optional email address for copies with the
\code{"mailx"} and \code{"mailto"} methods.
Use \code{ccaddress = ""} for no copy.
\item[\code{filename}] Filename to use for setting up the email (or storing it when
method is \code{"none"} or sending mail fails).
\item[\code{info}] character vector of information to include in the template
email below the `please do not edit the information below' line.
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
What this does depends on the \code{method}.  The function first
creates a template email body.

\begin{description}

\item[\code{none}] A file editor (see \code{\LinkA{file.edit}{file.edit}}) is
opened with instructions and the template email.  When this returns,
the completed email is in file \code{file} ready to be read/pasted
into an email program.

\item[\code{mailto}] 
This opens the default email program with a template email
(including address, Cc: address and subject) for you to edit and
send.

This works where default mailers are set up (usual on Mac OS X and
Windows, and where \command{xdg-open} is available and configured on
other Unix-alikes: if that fails it tries the browser set by
\env{R\_BROWSER}).

This is the `factory-fresh' default method as from \R{} 2.13.0.


\item[\code{mailx}] (Unix-alikes only.)
A file editor (see \code{\LinkA{file.edit}{file.edit}}) is
opened with instructions and the template email.  When this
returns, it is mailed using a Unix command line mail utility such
as \code{mailx}, to the address (and optionally, the Cc: address)
given.

\item[\code{gnudoit}] 
An (X)emacs mail buffer is opened for the email to be edited and
sent: this requires the \command{gnudoit} program to be
available.  Currently \code{subject} is ignored.

\item[\code{ess}] 
The body of the template email is sent to \code{stdout}.

\end{description}

\end{Details}
%
\begin{Value}
Invisible \code{NULL}.
\end{Value}
%
\begin{SeeAlso}\relax
\code{\LinkA{bug.report}{bug.report}}, \code{\LinkA{help.request}{help.request}}.
\end{SeeAlso}
\HeaderA{data}{Data Sets}{data}
\aliasA{print.packageIQR}{data}{print.packageIQR}
\keyword{documentation}{data}
\keyword{datasets}{data}
%
\begin{Description}\relax
Loads specified data sets, or list the available data sets.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
data(..., list = character(), package = NULL, lib.loc = NULL,
     verbose = getOption("verbose"), envir = .GlobalEnv)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{...}] a sequence of names or literal character strings.
\item[\code{list}] a character vector.
\item[\code{package}] 
a character vector giving the package(s) to look
in for data sets, or \code{NULL}.

By default, all packages in the search path are used, then
the \file{data} subdirectory (if present) of the current working
directory.

\item[\code{lib.loc}] a character vector of directory names of \R{} libraries,
or \code{NULL}.  The default value of \code{NULL} corresponds to all
libraries currently known.
\item[\code{verbose}] a logical.  If \code{TRUE}, additional diagnostics are
printed.
\item[\code{envir}] the \LinkA{environment}{environment} where the data should be loaded.
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
Currently, four formats of data files are supported:

\begin{enumerate}

\item files ending \file{.R} or \file{.r} are
\code{\LinkA{source}{source}()}d in, with the \R{} working directory changed
temporarily to the directory containing the respective file.
(\code{data} ensures that the \pkg{utils} package is attached, in
case it had been run \emph{via} \code{utils::data}.)

\item files ending \file{.RData} or \file{.rda} are
\code{\LinkA{load}{load}()}ed.

\item files ending \file{.tab}, \file{.txt} or \file{.TXT} are read
using \code{\LinkA{read.table}{read.table}(..., header = TRUE)}, and hence
result in a data frame.

\item files ending \file{.csv} or \file{.CSV} are read using
\code{\LinkA{read.table}{read.table}(..., header = TRUE, sep = ";")},
and also result in a data frame.

\end{enumerate}

If more than one matching file name is found, the first on this list
is used.  (Files with extensions \file{.txt}, \file{.tab} or
\file{.csv} can be compressed, with or without further extension
\file{.gz}, \file{.bz2} or \file{.xz}.)

The data sets to be loaded can be specified as a sequence of names or
character strings, or as the character vector \code{list}, or as both.

For each given data set, the first two types (\file{.R} or \file{.r},
and \file{.RData} or \file{.rda} files) can create several variables
in the load environment, which might all be named differently from the
data set.  The third and fourth types will always result in the
creation of a single variable with the same name (without extension)
as the data set.

If no data sets are specified, \code{data} lists the available data
sets.  It looks for a new-style data index in the \file{Meta} or, if
this is not found, an old-style \file{00Index} file in the \file{data}
directory of each specified package, and uses these files to prepare a
listing.  If there is a \file{data} area but no index, available data
files for loading are computed and included in the listing, and a
warning is given: such packages are incomplete.  The information about
available data sets is returned in an object of class
\code{"packageIQR"}.  The structure of this class is experimental.
Where the datasets have a different name from the argument that should
be used to retrieve them the index will have an entry like
\code{beaver1 (beavers)} which tells us that dataset \code{beaver1}
can be retrieved by the call \code{data(beaver)}.

If \code{lib.loc} and \code{package} are both \code{NULL} (the
default), the data sets are searched for in all the currently loaded
packages then in the \file{data} directory (if any) of the current
working directory.

If \code{lib.loc = NULL} but \code{package} is specified as a
character vector, the specified package(s) are searched for first
amongst loaded packages and then in the default library/ies
(see \code{\LinkA{.libPaths}{.libPaths}}).

If \code{lib.loc} \emph{is} specified (and not \code{NULL}), packages
are searched for in the specified library/ies, even if they are
already loaded from another library.

To just look in the \file{data} directory of the current working
directory, set \code{package = character(0)} (and \code{lib.loc =
    NULL}, the default).
\end{Details}
%
\begin{Value}
A character vector of all data sets specified, or information about
all available data sets in an object of class \code{"packageIQR"} if
none were specified.
\end{Value}
%
\begin{Note}\relax
One can take advantage of the search order and the fact that a
\file{.R} file will change directory.  If raw data are stored in
\file{mydata.txt} then one can set up \file{mydata.R} to read
\file{mydata.txt} and pre-process it, e.g., using \code{transform}.
For instance one can convert numeric vectors to factors with the
appropriate labels.  Thus, the \file{.R} file can effectively contain
a metadata specification for the plaintext formats.
\end{Note}
%
\begin{SeeAlso}\relax
\code{\LinkA{help}{help}} for obtaining documentation on data sets,
\code{\LinkA{save}{save}} for \emph{creating} the second (\file{.rda}) kind
of data, typically the most efficient one.

The `Writing R Extensions' for considerations in preparing the
\file{data} directory of a package.
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}
require(utils)
data()                       # list all available data sets
try(data(package = "rpart") )# list the data sets in the rpart package
data(USArrests, "VADeaths")  # load the data sets 'USArrests' and 'VADeaths'
help(USArrests)              # give information on data set 'USArrests'
\end{ExampleCode}
\end{Examples}
\HeaderA{dataentry}{Spreadsheet Interface for Entering Data}{dataentry}
\aliasA{data.entry}{dataentry}{data.entry}
\aliasA{de}{dataentry}{de}
\methaliasA{de.ncols}{dataentry}{de.ncols}
\methaliasA{de.restore}{dataentry}{de.restore}
\methaliasA{de.setup}{dataentry}{de.setup}
\keyword{utilities}{dataentry}
\keyword{file}{dataentry}
%
\begin{Description}\relax
A spreadsheet-like editor for entering or editing data.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
data.entry(..., Modes = NULL, Names = NULL)
dataentry(data, modes)
de(..., Modes = list(), Names = NULL)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{...}] A list of variables: currently these should be numeric or
character vectors or list containing such vectors.
\item[\code{Modes}] The modes to be used for the variables.
\item[\code{Names}] The names to be used for the variables.
\item[\code{data}] A list of numeric and/or character vectors.
\item[\code{modes}] A list of length up to that of \code{data} giving the
modes of (some of) the variables. \code{list()} is allowed.
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
The data entry editor is only available on some platforms and GUIs.
Where available it provides a means to visually edit a matrix or
a collection of variables (including a data frame) as described in the
Notes section.

\code{data.entry} has side effects, any changes made in the
spreadsheet are reflected in the variables.  The functions \code{de},
\code{de.ncols}, \code{de.setup} and \code{de.restore} are designed to
help achieve these side effects. If the user passes in a matrix,
\code{X} say, then the matrix is broken into columns before
\code{dataentry} is called. Then on return the columns are collected
and glued back together and the result assigned to the variable
\code{X}.  If you don't want this behaviour use dataentry directly.

The primitive function is \code{dataentry}. It takes a list of
vectors of possibly different lengths and modes (the second argument)
and opens a spreadsheet with these variables being the columns.
The columns of the dataentry window are returned as vectors in a
list when the spreadsheet is closed.

\code{de.ncols} counts the number of columns which are supplied as arguments
to \code{data.entry}. It attempts to count columns in lists, matrices
and vectors.  \code{de.setup} sets things up so that on return the
columns can be regrouped and reassigned to the correct name. This
is handled by \code{de.restore}.
\end{Details}
%
\begin{Value}
\code{de} and \code{dataentry} return the edited value of their
arguments. \code{data.entry} invisibly returns a vector of variable
names but its main value is its side effect of assigning new version
of those variables in the user's workspace.
\end{Value}
%
\begin{Note}\relax
The details of interface to the data grid may differ by platform and
GUI.  The following description applies to
the GraphApp-based implementation under Windows.

You can navigate around the grid using the cursor keys or by clicking
with the (left) mouse button on any cell.  The active cell is
highlighted by thickening the surrounding rectangle.  Moving to the
right or down will scroll the grid as needed: there is no constraint
to the rows or columns currently in use.

There are alternative ways to navigate using the keys.  Return and
(keypad) Enter and LineFeed all move down. Tab moves right and
Shift-Tab move left.  Home moves to the top left.

PageDown or Control-F moves down a page, and PageUp or
Control-B up by a page.  End will show the last used column and the
last few rows used (in any column).

Using any other key starts an editing process on the currently
selected cell: moving away from that cell enters the edited value
whereas Esc cancels the edit and restores the previous value.  When
the editing process starts the cell is cleared.
The cursor changes to an I-beam to indicate that the cell is in enter mode.
In numerical columns
(the default) only letters making up a valid number (including
\code{-.eE}) are accepted, and entering an invalid edited value (such
as blank) enters \code{NA} in that cell.  The last entered value can
be deleted using the  BackSpace or Del(ete) key.  Only a limited
number of characters (currently 29) can be entered in a cell, and if
necessary only the start or end of the string will be displayed, with the
omissions indicated by \code{>} or \code{<}.  (The start is shown
except when editing.)

Double-clicking on a cell selects the cell and makes it into an
editable field (a cursor will appear at the end of the text and it
will change to the text highlight colour).  The edited text is
entered by selecting another cell, for example by hitting Return.
There is no way to cancel the edits.  The field will be expanded to
the right if necessary to accommodate existing long strings, so it is
preferable not to edit in the right-most displayed column.  (The
editable field is itself scrollable.)

Entering a value in a cell further down a column than the last used
cell extends the variable and fills the gap (if any) by \code{NA}s (not
shown on screen).

The column names can only be selected by clicking in them.  This gives
a popup menu to select the column type (currently Real (numeric) or
Character) or to change the name.  Changing the type converts the
current contents of the column (and converting from Character to Real
may generate \code{NA}s.)
Enter the changes made in the popup window by clicking on its close box.

New columns are created by entering values in them (and not by just
assigning a new name).  The mode of the column is auto-detected from
the first value entered: if this is a valid number it gives a numeric
column.  Unused columns are ignored, so
adding data in \code{var5} to a three-column grid adds one extra
variable, not two.

There is a popup-menu accessed by right-clicking anywhere in the window
that refers to the currently selected cell. This can copy the value to
or paste from the clipboard, or paste in common values in that column.
Copying and pasting can also be accessed by the usual keyboard shortcuts
Control-C and Control-V.

Columns can be resized by selecting and dragging a line (the cursor
will change) within limits: columns must be between 4 and 50 chars wide.
The Autosize item on the popup menu will resize the currently selected
column.

Control-L will refresh the display, recalculating field widths to fit
the current entries.

In the default mode the column widths are chosen to fit the contents
of each column, with a default of 10 characters for empty columns.
you can specify fixed column widths by setting option
\code{de.cellwidth} to the required fixed width (in characters).
(set it to zero to return to variable widths).  The displayed
width of any field is limited to
50 characters (and by the window width).

The initial size of the data editor window is taken from the default
dimensions of a pager (see \code{\LinkA{Rconsole}{Rconsole}}), but adjusted
downwards to show a whole number of rows and columns.
\end{Note}
%
\begin{SeeAlso}\relax
\code{\LinkA{vi}{vi}}, \code{\LinkA{edit}{edit}}: \code{edit} uses
\code{dataentry} to edit data frames.
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}
# call data entry with variables x and y
## Not run: data.entry(x,y)
\end{ExampleCode}
\end{Examples}
\HeaderA{debugger}{Post-Mortem Debugging}{debugger}
\aliasA{dump.frames}{debugger}{dump.frames}
\keyword{utilities}{debugger}
\keyword{error}{debugger}
%
\begin{Description}\relax
Functions to dump the evaluation environments (frames) and to examine
dumped frames.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
dump.frames(dumpto = "last.dump", to.file = FALSE)
debugger(dump = last.dump)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{dumpto}] a character string. The name of the object or file to
dump to.
\item[\code{to.file}] logical. Should the dump be to an \R{} object or to a
file?
\item[\code{dump}] An \R{} dump object created by \code{dump.frames}.
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
To use post-mortem debugging, set the option \code{error} to be a call
to \code{dump.frames}.  By default this dumps to an \R{} object
\code{last.dump} in the workspace, but it can be set to dump to a
file (a dump of the object produced by a call to \code{\LinkA{save}{save}}).
The dumped object contain the call stack, the active environments and
the last error message as returned by \code{\LinkA{geterrmessage}{geterrmessage}}.

When dumping to file, \code{dumpto} gives the name of the dumped
object and the file name has \file{.rda} appended.

A dump object of class \code{"dump.frames"} can be examined by calling
\code{debugger}.  This will give the error message and a list of
environments from which to select repeatedly.  When an environment is
selected, it is copied and the \code{\LinkA{browser}{browser}} called from
within the copy.  Note that not all the information in the original
frame will be available, e.g. promises which have not yet been
evaluated and the contents of any \code{...} argument.

If \code{dump.frames} is installed as the error handler, execution
will continue even in non-interactive sessions.  See the examples for
how to dump and then quit.
\end{Details}
%
\begin{Value}
Invisible \code{NULL}.
\end{Value}
%
\begin{Note}\relax
Functions such as \code{\LinkA{sys.parent}{sys.parent}} and
\code{\LinkA{environment}{environment}} applied to closures will not work correctly
inside \code{debugger}.

If the error occurred when computing the default value of a formal
argument the debugger will report ``recursive default argument
reference'' when trying to examine that environment.

Of course post-mortem debugging will not work if \R{} is too damaged to
produce and save the dump, for example if it has run out of workspace.
\end{Note}
%
\begin{References}\relax
Becker, R. A., Chambers, J. M. and Wilks, A. R. (1988)
\emph{The New S Language}.
Wadsworth \& Brooks/Cole.
\end{References}
%
\begin{SeeAlso}\relax
\code{\LinkA{options}{options}} for setting \code{error} options;
\code{\LinkA{recover}{recover}} is an interactive debugger working similarly to
\code{debugger} but directly after the error occurs.
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}
## Not run: 
options(error=quote(dump.frames("testdump", TRUE)))

f <- function() {
    g <- function() stop("test dump.frames")
    g()
}
f()   # will generate a dump on file "testdump.rda"
options(error=NULL)

## possibly in another R session
load("testdump.rda")
debugger(testdump)
Available environments had calls:
1: f()
2: g()
3: stop("test dump.frames")

Enter an environment number, or 0 to exit
Selection: 1
Browsing in the environment with call:
f()
Called from: debugger.look(ind)
Browse[1]> ls()
[1] "g"
Browse[1]> g
function() stop("test dump.frames")
<environment: 759818>
Browse[1]> 
Available environments had calls:
1: f()
2: g()
3: stop("test dump.frames")

Enter an environment number, or 0 to exit
Selection: 0

## A possible setting for non-interactive sessions
options(error=quote({dump.frames(to.file=TRUE); q()}))

## End(Not run)
\end{ExampleCode}
\end{Examples}
\HeaderA{demo}{Demonstrations of R Functionality}{demo}
\keyword{documentation}{demo}
\keyword{utilities}{demo}
%
\begin{Description}\relax
\code{demo} is a user-friendly interface to running some demonstration
\R{} scripts.  \code{demo()} gives the list of available topics.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
demo(topic, package = NULL, lib.loc = NULL,
     character.only = FALSE, verbose = getOption("verbose"),
     echo = TRUE, ask = getOption("demo.ask"))
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{topic}] the topic which should be demonstrated, given as a
\LinkA{name}{name} or literal character string, or a character string,
depending on whether \code{character.only} is \code{FALSE} (default)
or \code{TRUE}.  If omitted, the list of available topics is
displayed.
\item[\code{package}] a character vector giving the packages to look into for
demos, or \code{NULL}.  By default, all packages in the search path
are used.
\item[\code{lib.loc}] a character vector of directory names of \R{} libraries,
or \code{NULL}.  The default value of \code{NULL} corresponds to all
libraries currently known.  If the default is used, the loaded
packages are searched before the libraries.
\item[\code{character.only}] logical; if \code{TRUE}, use \code{topic} as
character string.
\item[\code{verbose}] a logical.  If \code{TRUE}, additional diagnostics are
printed.
\item[\code{echo}] a logical.  If \code{TRUE}, show the \R{} input when sourcing.
\item[\code{ask}] a logical (or \code{"default"}) indicating if
\code{\LinkA{devAskNewPage}{devAskNewPage}(ask=TRUE)} should be called before
graphical output happens from the demo code.  The value
\code{"default"} (the factory-fresh default) means to ask if
\code{echo == TRUE} and the graphics device appears to be
interactive.  This parameter applies both to any currently opened
device and to any devices opened by the demo code.  If this is
evaluated to \code{TRUE} and the session is \LinkA{interactive}{interactive}, the
user is asked to press RETURN to start.
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
If no topics are given, \code{demo} lists the available demos.  The
corresponding information is returned in an object of class
\code{"packageIQR"}.
\end{Details}
%
\begin{SeeAlso}\relax
\code{\LinkA{source}{source}} and \code{\LinkA{devAskNewPage}{devAskNewPage}} which 
are called by \code{demo}.
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}
demo() # for attached packages

## All available demos:
demo(package = .packages(all.available = TRUE))


## Display a demo, pausing between pages
demo(lm.glm, package="stats", ask=TRUE)

## Display it without pausing
demo(lm.glm, package="stats", ask=FALSE)


## Not run: 
 ch <- "scoping"
 demo(ch, character = TRUE)

## End(Not run)

## Find the location of a demo
system.file("demo", "lm.glm.R", package="stats")
\end{ExampleCode}
\end{Examples}
\HeaderA{DLL.version}{DLL Version Information}{DLL.version}
\keyword{utilities}{DLL.version}
%
\begin{Description}\relax
Return the version of the package and the version of \R{} used to
build the DLL, if available.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
DLL.version(path)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{path}] character vector of length one giving the complete path to
the DLL.
\end{ldescription}
\end{Arguments}
%
\begin{Value}
If the DLL does not exist, \code{NULL}.

A character vector of length two, giving the DLL version and the version of
\R{} used to build the DLL.  If the information is not available, the
corresponding string is empty.
\end{Value}
%
\begin{Examples}
\begin{ExampleCode}
DLL.version(file.path(R.home("bin"), "R.dll"))
DLL.version(file.path(R.home(), "library/stats/libs", .Platform$r_arch, "stats.dll"))
\end{ExampleCode}
\end{Examples}
\HeaderA{download.file}{Download File from the Internet}{download.file}
\keyword{utilities}{download.file}
%
\begin{Description}\relax
This function can be used to download a file from the Internet.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
download.file(url, destfile, method, quiet = FALSE, mode = "w",
              cacheOK = TRUE, extra = getOption("download.file.extra"))
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{url}] A character string naming the URL of a resource to be
downloaded.

\item[\code{destfile}] A character string with the name where the downloaded
file is saved.  Tilde-expansion is performed.

\item[\code{method}] Method to be used for downloading files.  Currently
download methods \code{"internal"}, \code{"wget"}, \code{"curl"} and
\code{"lynx"} are available, and there is a value \code{"auto"}: see
`Details' and `Note'.

The method can also be set through the option
\code{"download.file.method"}: see \code{\LinkA{options}{options}()}.


\item[\code{quiet}] If \code{TRUE}, suppress status messages (if any), and
the progress bar.

\item[\code{mode}] character.  The mode with which to write the file.  Useful
values are \code{"w"}, \code{"wb"} (binary), \code{"a"} (append) and
\code{"ab"}.  Only used for the \code{"internal"} method.
(See also `Details'.)


\item[\code{cacheOK}] logical.  Is a server-side cached value acceptable?
Implemented for the \code{"internal"}, \code{"wget"} and
\code{"curl"} methods.

\item[\code{extra}] character vector of additional command-line arguments for
the \code{"wget"}, \code{"curl"} and \code{"lynx"} methods.
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
The function \code{download.file} can be used to download a single
file as described by \code{url} from the internet and store it in
\code{destfile}.
The \code{url} must start with a scheme such as
\samp{http://}, \samp{ftp://} or \samp{file://}.

If \code{method = "auto"} is chosen (the default), the internal method
is used on Windows.

\code{cacheOK = FALSE} is useful for \samp{http://} URLs, and will
attempt to get a copy directly from the site rather than from an
intermediate cache.  (Not all platforms support it.)
It is used by \code{\LinkA{available.packages}{available.packages}}.

The remaining details apply to method \code{"internal"} only.

Note that \samp{https://} URLs are
only supported if \option{--internet2} or environment variable
\env{R\_WIN\_INTERNET2} was set or 
\code{\LinkA{setInternet2}{setInternet2}(TRUE)} was used (to make use of Internet
Explorer internals), and then only if the certificate is considered to
be valid.

See \code{\LinkA{url}{url}} for how \samp{file://} URLs are interpreted,
especially on Windows.  This function does decode encoded URLs.

The timeout for many parts of the transfer can be set by the option
\code{timeout} which defaults to 60 seconds.

The level of detail provided during transfer can be set by the
\code{quiet} argument and the \code{internet.info} option.  The
details depend on the platform and scheme, but setting
\code{internet.info} to 0 gives all available details, including
all server responses.  Using 2 (the default) gives only serious
messages, and 3 or more suppresses all messages.

A progress bar tracks the transfer.  If the file length is known, the
full width of the bar is the known length.  Otherwise the initial
width represents 100 Kbytes and is doubled whenever the current width
is exceeded.

If \code{mode} is not supplied and \code{url} ends in one of
\code{.gz}, \code{.bz2}, \code{.xz}, \code{.tgz}, \code{.zip},
\code{.rda} or \code{.RData} a binary transfer is done.  Since Windows
(unlike Unix-alikes) does distinguish between text and binary files,
care is needed that other binary file types are transferred with
\code{mode = "wb"}.

There is an alternative method if you have Internet Explorer 4 or
later installed.   You can use the command line flag \option{--internet2}, 
or call \code{\LinkA{setInternet2}{setInternet2}(TRUE)} and then 
the `Internet Options' of the system are used to choose proxies
and so on; these are set in the Control Panel and are those used for
Internet Explorer.  That version does not support \code{cacheOK = FALSE}.

Method \code{"wget"} can be used with proxy firewalls which require
user/password authentication if proper values are stored in the
configuration file for \code{wget}.
\end{Details}
%
\begin{Value}
An (invisible) integer code, \code{0} for success and non-zero for
failure.  For the \code{"wget"} and \code{"lynx"} methods this is the
status code returned by the external program.  The \code{"internal"}
method can return \code{1}, but will in most cases throw an error.
\end{Value}
%
\begin{Section}{Setting Proxies}
This applies to the internal code only.

Proxies can be specified via environment variables.
Setting \env{"no\_proxy"} to \code{"*"} stops any proxy being tried.
Otherwise the setting of \env{"http\_proxy"} or \env{"ftp\_proxy"}
(or failing that, the all upper-case version) is consulted and if
non-empty used as a proxy site.  For FTP transfers, the username
and password on the proxy can be specified by \env{"ftp\_proxy\_user"}
and \env{"ftp\_proxy\_password"}.  The form of \env{"http\_proxy"}
should be \code{"http://proxy.dom.com/"} or
\code{"http://proxy.dom.com:8080/"} where the port defaults to
\code{80} and the trailing slash may be omitted. For
\env{"ftp\_proxy"} use the form \code{"ftp://proxy.dom.com:3128/"}
where the default port is \code{21}.  These environment variables
must be set before the download code is first used: they cannot be
altered later by calling \code{\LinkA{Sys.setenv}{Sys.setenv}}.

Usernames and passwords can be set for HTTP proxy transfers via
environment variable \env{http\_proxy\_user} in the form
\code{user:passwd}.  Alternatively, \env{http\_proxy} can be of the
form \code{"http://user:pass@proxy.dom.com:8080/"} for compatibility
with \code{wget}.  Only the HTTP/1.0 basic authentication scheme is
supported.
Under Windows, if \env{http\_proxy\_user} is set to \code{"ask"} then
a dialog box will come up for the user to enter the username and
password.  \bold{NB:} you will be given only one opportunity to enter this,
but if proxy authentication is required and fails there will be one
further prompt per download.
\end{Section}
%
\begin{Note}\relax
Methods \code{"wget"} and \code{"lynx"} are mainly for historical
compatibility, but they and \code{"curl"} can be used for URLs
(e.g. \samp{https://} URLs or those that use cookies) which the
internal method does not support.  They will block all other activity
on the \R{} process.

For methods \code{"wget"}, \code{"curl"}and \code{"lynx"} a system
call is made to the tool given by \code{method}, and the respective
program must be installed on your system and be in the search path for
executables.

\command{wget} (\url{http://www.gnu.org/software/wget/}) is commonly
installed on Unix-alikes (but not OS X). Windows binaries are
available from Cygwin, gnuwin32 and elsewhere.

\command{curl} (\url{http://curl.haxx.se/}) is installed on OS X and
commonly on Unix-alikes.  Windows binaries are available at that URL.

\command{lynx} (\url{http://lynx.browser.org/} is of historical interest.
\end{Note}
%
\begin{SeeAlso}\relax
\code{\LinkA{options}{options}} to set the \code{HTTPUserAgent}, \code{timeout}
and \code{internet.info} options.

\code{\LinkA{url}{url}} for a finer-grained way to read data from URLs.

\code{\LinkA{url.show}{url.show}}, \code{\LinkA{available.packages}{available.packages}},
\code{\LinkA{download.packages}{download.packages}} for applications.

Contributed package \Rhref{http://CRAN.R-project.org/package=RCurl}{\pkg{RCurl}} provides more comprehensive
facilities to download from URLs.
\end{SeeAlso}
\HeaderA{download.packages}{Download Packages from CRAN-like Repositories}{download.packages}
\keyword{utilities}{download.packages}
%
\begin{Description}\relax
These functions can be used to automatically compare the version
numbers of installed packages with the newest available version on
the repositories and update outdated packages on the fly.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
download.packages(pkgs, destdir, available = NULL,
                  repos = getOption("repos"),
                  contriburl = contrib.url(repos, type),
                  method, type = getOption("pkgType"), ...)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{pkgs}] 
character vector of the names of packages whose latest available
versions should be downloaded from the repositories.

\item[\code{destdir}] 
directory where downloaded packages are to be stored.

\item[\code{available}] 
an object as returned by \code{\LinkA{available.packages}{available.packages}}
listing packages available at the repositories, or \code{NULL} which
makes an internal call to \code{available.packages}.

\item[\code{repos}] 
character vector, the base URL(s) of the repositories
to use, i.e., the URL of the CRAN master such as
\code{"http://cran.r-project.org"} or its Statlib mirror,
\code{"http://lib.stat.cmu.edu/R/CRAN"}.

\item[\code{contriburl}] 
URL(s) of the contrib sections of the
repositories.  Use this argument only if your repository mirror is
incomplete, e.g., because you burned only the \file{contrib} section on a
CD.  Overrides argument \code{repos}.

\item[\code{method}] 
Download method, see \code{\LinkA{download.file}{download.file}}.

\item[\code{type}] 
character string, indicate which type of packages: see
\code{\LinkA{install.packages}{install.packages}}.

\item[\code{...}] 
additional arguments to be passed to
\code{\LinkA{download.file}{download.file}}.

\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
\code{download.packages} takes a list of package names and a
destination directory, downloads the newest versions and saves them in
\code{destdir}.  If the list of available packages is not given as
argument, it is obtained from repositories.  If a repository is local,
i.e. the URL starts with \code{"file:"}, then the packages are not
downloaded but used directly.  Both \code{"file:"} and
\code{"file:///"} are allowed as prefixes to a file path.  Use the
latter only for URLs: see \code{\LinkA{url}{url}} for their interpretation.
(Other forms of \samp{file://} URLs are not supported.)
\end{Details}
%
\begin{Value}
A two-column matrix of names and destination file names of those
packages successfully downloaded.  If packages are not available or
there is a problem with the download, suitable warnings are given.
\end{Value}
%
\begin{SeeAlso}\relax
\code{\LinkA{available.packages}{available.packages}}, \code{\LinkA{contrib.url}{contrib.url}}.

The main use is by \code{\LinkA{install.packages}{install.packages}}.

See \code{\LinkA{download.file}{download.file}} for how to handle proxies and
other options to monitor file transfers.

The `R Installation and Administration' manual for how to 
set up a repository.
\end{SeeAlso}
\HeaderA{edit}{Invoke a Text Editor}{edit}
\methaliasA{edit.default}{edit}{edit.default}
\aliasA{emacs}{edit}{emacs}
\aliasA{pico}{edit}{pico}
\aliasA{vi}{edit}{vi}
\aliasA{xedit}{edit}{xedit}
\aliasA{xemacs}{edit}{xemacs}
\keyword{utilities}{edit}
%
\begin{Description}\relax
Invoke a text editor on an \R{} object.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
## Default S3 method:
edit(name = NULL, file = "", title = NULL,
     editor = getOption("editor"), ...)

vi(name = NULL, file = "")
emacs(name = NULL, file = "")
pico(name = NULL, file = "")
xemacs(name = NULL, file = "")
xedit(name = NULL, file = "")
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{name}] a named object that you want to edit. If name is missing
then the file specified by \code{file} is opened for editing.
\item[\code{file}] a string naming the file to write the edited version to.
\item[\code{title}] a display name for the object being edited.
\item[\code{editor}] a string naming the text editor you want to use.  On
Unix the default is set from the environment variables \env{EDITOR}
or \env{VISUAL} if either is set, otherwise \code{vi} is used.  On
Windows it defaults to \code{"internal"}, the script editor.  On the
Mac OS X GUI the argument is ignored and the document editor is
always used.
\item[\code{...}] further arguments to be passed to or from methods.
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
\code{edit} invokes the text editor specified by \code{editor} with
the object \code{name} to be edited.  It is a generic function,
currently with a default method and one for data frames and matrices.

\code{data.entry} can be used to edit data, and is used by \code{edit}
to edit matrices and data frames on systems for which
\code{data.entry} is available.

It is important to realize that \code{edit} does not change the object
called \code{name}. Instead, a copy of name is made and it is that
copy which is changed.  Should you want the changes to apply to the
object \code{name} you must assign the result of \code{edit} to
\code{name}.  (Try \code{\LinkA{fix}{fix}} if you want to make permanent
changes to an object.)

In the form \code{edit(name)},
\code{edit} deparses \code{name} into a temporary file and invokes the
editor \code{editor} on this file. Quitting from the editor causes
\code{file} to be parsed and that value returned.
Should an error occur in parsing, possibly due to incorrect syntax, no
value is returned. Calling \code{edit()}, with no arguments, will
result in the temporary file being reopened for further editing.

Note that deparsing is not perfect, and the object recreated after
editing can differ in subtle ways from that deparsed: see
\code{\LinkA{dput}{dput}} and \code{\LinkA{.deparseOpts}{.deparseOpts}}. (The deparse options
used are the same as the defaults for \code{dump}.)  Editing a
function will preserve its environment.  See
\code{\LinkA{edit.data.frame}{edit.data.frame}} for further changes that can occur when
editing a data frame or matrix.

Currently only the internal editor in Windows makes use of the 
\code{title} option; it displays the given name in the window 
header.
\end{Details}
%
\begin{Note}\relax
The functions \code{vi}, \code{emacs}, \code{pico}, \code{xemacs},
\code{xedit} rely on the corresponding editor being available and
being on the path. This is system-dependent.
\end{Note}
%
\begin{SeeAlso}\relax
\code{\LinkA{edit.data.frame}{edit.data.frame}},
\code{\LinkA{data.entry}{data.entry}},
\code{\LinkA{fix}{fix}}.
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}
## Not run: 
# use xedit on the function mean and assign the changes
mean <- edit(mean, editor = "xedit")

# use vi on mean and write the result to file mean.out
vi(mean, file = "mean.out")

## End(Not run)
\end{ExampleCode}
\end{Examples}
\HeaderA{edit.data.frame}{Edit Data Frames and Matrices}{edit.data.frame}
\aliasA{edit.matrix}{edit.data.frame}{edit.matrix}
\keyword{utilities}{edit.data.frame}
%
\begin{Description}\relax
Use data editor on data frame or matrix contents.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
## S3 method for class 'data.frame'
edit(name, factor.mode = c("character", "numeric"),
     edit.row.names = any(row.names(name) != 1:nrow(name)), ...)

## S3 method for class 'matrix'
edit(name, edit.row.names = !is.null(dn[[1]]), ...)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{name}] A data frame or (numeric, logical or character) matrix.
\item[\code{factor.mode}] How to handle factors (as integers or using
character levels) in a data frame.
\item[\code{edit.row.names}] logical. Show the row names (if they exist) be
displayed as a separate editable column?  It is an error to ask for
this on a matrix with \code{NULL} row names.
\item[\code{...}] further arguments passed to or from other methods.
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
At present, this only works on simple data frames containing numeric,
logical or character vectors and factors, and numeric, logical or
character matrices.  Any other mode of matrix will give an error, and
a warning is given when the matrix has a class (which will be discarded).

Data frame columns are coerced on input to \emph{character} unless
numeric (in the sense of \code{is.numeric}), logical or factor.  A
warning is given when classes are discarded.  Special characters
(tabs, non-printing ASCII, etc.) will be displayed as escape sequences.

Factors columns are represented in the spreadsheet as either numeric
vectors (which are more suitable for data entry) or character vectors
(better for browsing). After editing, vectors are padded with
\code{NA} to have the same length and factor attributes are restored.
The set of factor levels can not be changed by editing in numeric
mode; invalid levels are changed to \code{NA} and a warning is issued.
If new factor levels are introduced in character mode, they are added
at the end of the list of levels in the order in which they
encountered.

It is possible to use the data-editor's facilities to select the mode
of columns to swap between numerical and factor columns in a data
frame.  Changing any column in a numerical matrix to character will
cause the result to be coerced to a character matrix.  Changing 
the mode of logical columns is not supported.

For a data frame, the row names will be taken from the original object
if \code{edit.row.names = FALSE} and the number of rows is unchanged,
and from the edited output if \code{edit.row.names = TRUE} and there
are no duplicates.  (If the \code{row.names} column is incomplete, it
is extended by entries like \code{row223}.)  In all other cases the
row names are replaced by \code{seq(length=nrows)}.

For a matrix, colnames will be added (of the form \code{col7}) if
needed.  The rownames will be taken from the original object if
\code{edit.row.names = FALSE} and the number of rows is unchanged
(otherwise \code{NULL}), and from the edited output if
\code{edit.row.names = TRUE}.  (If the \code{row.names} column is
incomplete, it is extended by entries like \code{row223}.)

Editing a matrix or data frame will lose all attributes apart from the
row and column names.
\end{Details}
%
\begin{Value}
The edited data frame or matrix.
\end{Value}
%
\begin{Note}\relax
\code{fix(dataframe)} works for in-place editing by calling this
function.

If the data editor is not available, a dump of the object is presented
for editing using the default method of \code{edit}.

At present the data editor is limited to 65535 rows.
\end{Note}
%
\begin{Author}\relax
 Peter Dalgaard 
\end{Author}
%
\begin{SeeAlso}\relax
\code{\LinkA{data.entry}{data.entry}}, \code{\LinkA{edit}{edit}}
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}
## Not run: 
edit(InsectSprays)
edit(InsectSprays, factor.mode="numeric")

## End(Not run)
\end{ExampleCode}
\end{Examples}
\HeaderA{example}{Run an Examples Section from the Online Help}{example}
\keyword{documentation}{example}
\keyword{utilities}{example}
%
\begin{Description}\relax
Run all the \R{} code from the \bold{Examples} part of \R{}'s online help
topic \code{topic} with two possible exceptions, \code{dontrun} and
\code{dontshow}, see `Details' below.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
example(topic, package = NULL, lib.loc = NULL,
        character.only = FALSE, give.lines = FALSE, local = FALSE,
        echo = TRUE, verbose = getOption("verbose"),
        setRNG = FALSE, ask = getOption("example.ask"),
        prompt.prefix = abbreviate(topic, 6))
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{topic}] name or literal character string: the online
\code{\LinkA{help}{help}} topic the examples of which should be run.
\item[\code{package}] a character vector giving the package names to look
into for the topic, or \code{NULL} (the default), when all packages on
the \LinkA{search}{search} path are used.
\item[\code{lib.loc}] a character vector of directory names of \R{} libraries,
or \code{NULL}.  The default value of \code{NULL} corresponds to all
libraries currently known.  If the default is used, the loaded
packages are searched before the libraries.
\item[\code{character.only}] a logical indicating whether \code{topic} can be
assumed to be a character string.
\item[\code{give.lines}] logical: if true, the \emph{lines} of the example
source code are returned as a character vector.
\item[\code{local}] logical: if \code{TRUE} evaluate locally, if \code{FALSE}
evaluate in the workspace.
\item[\code{echo}] logical;  if \code{TRUE}, show the \R{} input when sourcing.
\item[\code{verbose}] logical;  if \code{TRUE}, show even more when running
example code.
\item[\code{setRNG}] logical or expression;  if not \code{FALSE}, the random
number generator state is saved, then initialized to a specified state,
the example is run and the (saved) state is restored.
\code{setRNG = TRUE} sets the same state as
\code{R CMD \LinkA{check}{check}} does for
running a package's examples.  This is currently equivalent to
\code{setRNG = \{RNGkind("default", "default"); set.seed(1)\}}.
\item[\code{ask}] logical (or \code{"default"}) indicating if
\code{\LinkA{devAskNewPage}{devAskNewPage}(ask=TRUE)} should be called
before graphical output happens from the example code.  The value
\code{"default"} (the factory-fresh default) means to ask if
\code{echo == TRUE} and the graphics device appears to be
interactive.  This parameter applies both to any currently opened
device and to any devices opened by the example code.
\item[\code{prompt.prefix}] character; prefixes the prompt to be used if
\code{echo = TRUE}.
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
If \code{lib.loc} is not specified, the packages are searched for
amongst those already loaded, then in the libraries given by
\code{\LinkA{.libPaths}{.libPaths}()}.  If \code{lib.loc} is specified, packages
are searched for only in the specified libraries, even if they are
already loaded from another library.  The search stops at the first
package found that has help on the topic.

An attempt is made to load the package before running the examples,
but this will not replace a package loaded from another location.

If \code{local = TRUE} objects are not created in the workspace and so
not available for examination after \code{example} completes: on the
other hand they cannot overwrite objects of the same name in the
workspace.

As detailed in the manual \emph{Writing \R{} Extensions}, the author of
the help page can markup parts of the examples for two exception rules
\begin{description}

\item[\code{dontrun}] encloses code that should not be run.
\item[\code{dontshow}] encloses code that is invisible on help
pages, but will be run both by the package checking tools,
and the \code{example()} function.  This was previously
\code{testonly}, and that form is still accepted.

\end{description}

\end{Details}
%
\begin{Value}
The value of the last evaluated expression, unless \code{give.lines}
is true, where a \code{\LinkA{character}{character}} vector is returned.
\end{Value}
%
\begin{Author}\relax
Martin Maechler and others
\end{Author}
%
\begin{SeeAlso}\relax
\code{\LinkA{demo}{demo}}
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}
example(InsectSprays)
## force use of the standard package 'stats':
example("smooth", package="stats", lib.loc=.Library)

## set RNG *before* example as when R CMD check is run:

r1 <- example(quantile, setRNG = TRUE)
x1 <- rnorm(1)
u <- runif(1)
## identical random numbers
r2 <- example(quantile, setRNG = TRUE)
x2 <- rnorm(1)
stopifnot(identical(r1, r2))
## but x1 and x2 differ since the RNG state from before example()
## differs and is restored!
x1; x2

## Exploring examples code:
## How large are the examples of "lm...()" functions?
lmex <- sapply(apropos("^lm", mode="function"),
               example, character.only=TRUE, give.lines=TRUE)
sapply(lmex, length)
\end{ExampleCode}
\end{Examples}
\HeaderA{file.edit}{Edit One or More Files}{file.edit}
\keyword{utilities}{file.edit}
%
\begin{Description}\relax
Edit one or more files in a text editor.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
file.edit(..., title = file, editor = getOption("editor"),
          fileEncoding = "")
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{...}] one or more character vectors containing the names of the
files to be displayed.  These will be tilde-expanded: see
\code{\LinkA{path.expand}{path.expand}}.
\item[\code{title}] the title to use in the editor; defaults to the filename. 
\item[\code{editor}] the text editor to be used.  See `Details'.
\item[\code{fileEncoding}] the encoding to assume for the file: the default
is to assume the native encoding.  See the `Encoding' section
of the help for \code{\LinkA{file}{file}}.
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
The behaviour of this function is very system dependent.  Currently
files can be opened only one at a time on Unix; on Windows, the
internal editor allows multiple files to be opened, but has a limit of
50 simultaneous edit windows.

The \code{title} argument is used for the window caption in Windows,
and is currently ignored on other platforms.

The \code{fileEncoding} argument was added in \R{} 2.13.0: any error in
re-encoding the files to the native encoding will cause the function
to fail.

The default for \code{editor} is system-dependent.   On
Windows it defaults to \code{"internal"}, the script editor, and in
the Mac OS X GUI the document editor is used whatever the value of
\code{editor}.  On Unix the default is set from the environment
variables \env{EDITOR} or \env{VISUAL} if either is set, otherwise
\code{vi} is used.

UTF-8-encoded paths not valid in the current locale can be used.  
\end{Details}
%
\begin{SeeAlso}\relax
\code{\LinkA{files}{files}},
\code{\LinkA{file.show}{file.show}},
\code{\LinkA{edit}{edit}},
\code{\LinkA{fix}{fix}},
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}
## Not run: 
# open two R scripts for editing
file.edit("script1.R", "script2.R")

## End(Not run)
\end{ExampleCode}
\end{Examples}
\HeaderA{file\_test}{Shell-style Tests on Files}{file.Rul.test}
\keyword{file}{file\_test}
%
\begin{Description}\relax
Utility for shell-style file tests.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
file_test(op, x, y)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{op}] a character string specifying the test to be performed.
Unary tests (only \code{x} is used) are \code{"-f"} (existence and
not being a directory), \code{"-d"} (existence and directory) and
\code{"-x"} (executable as a file or searchable as a directory). 
Binary tests are \code{"-nt"} (strictly newer than, using the modification
dates) and \code{"-ot"} (strictly older than): in both cases the
test is false unless both files exist.
\item[\code{x,y}] character vectors giving file paths.
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
`Existence' here means being on the file system and accessible
by the \code{stat} system call (or a 64-bit extension) -- on a
Unix-alike this requires execute permission on all of the directories in
the path that leads to the file, but no permissions on the file
itself.

For the meaning of \code{"-x"} on Windows see \code{\LinkA{file.access}{file.access}}.
\end{Details}
%
\begin{SeeAlso}\relax
\code{\LinkA{file.exists}{file.exists}} which only tests for existence
(\code{test -e} on some systems) but not for not being a directory.

\code{\LinkA{file.path}{file.path}}, \code{\LinkA{file.info}{file.info}}
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}
dir <- file.path(R.home(), "library", "stats")
file_test("-d", dir)
file_test("-nt", file.path(dir, "R"), file.path(dir, "demo"))
\end{ExampleCode}
\end{Examples}
\HeaderA{findLineNum}{Find the Location of a Line of Source Code, or Set a Breakpoint There.}{findLineNum}
\aliasA{setBreakpoint}{findLineNum}{setBreakpoint}
\keyword{debugging}{findLineNum}
%
\begin{Description}\relax
These functions locate objects containing particular lines of source
code, using the information saved when the code was parsed with
\code{options(keep.source = TRUE)}.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
findLineNum(srcfile, line, nameonly = TRUE,
            envir = parent.frame(), lastenv)

setBreakpoint(srcfile, line, nameonly = TRUE,
              envir = parent.frame(), lastenv, verbose = TRUE,
              tracer, print = FALSE, clear = FALSE, ...)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{srcfile}] The name of the file containing the source code.
\item[\code{line}] The line number within the file.  See Details for an
alternate way to specify this.
\item[\code{nameonly}] If \code{TRUE} (the default), we require only a match
to \code{basename(srcfile)}, not to the full path.
\item[\code{envir}] Where do we start looking for function objects?
\item[\code{lastenv}] Where do we stop?  See the Details.
\item[\code{verbose}] Should we print information on where breakpoints were set?
\item[\code{tracer}] An optional \code{tracer} function to pass to
\code{\LinkA{trace}{trace}}.  By default, a call to \code{\LinkA{browser}{browser}}
is inserted.
\item[\code{print}] The \code{print} argument to pass to \code{\LinkA{trace}{trace}}.
\item[\code{clear}] If \code{TRUE}, call \code{\LinkA{untrace}{untrace}} rather than 
\code{\LinkA{trace}{trace}}.
\item[\code{...}] Additional arguments to pass to \code{\LinkA{trace}{trace}}.
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
The \code{findLineNum} function searches through all objects in
environment \code{envir}, its parent, grandparent, etc., all the way
back to \code{lastenv}.

\code{lastenv} defaults to the global environment if
\code{envir} is not specified, and to the
root environment \code{\LinkA{emptyenv}{emptyenv}()} if \code{envir} is
specified.  (The first default tends to be quite fast, and will
usually find all user code other than S4 methods; the second one is
quite slow, as it will typically search all attached system
libraries.)

For convenience, \code{envir} may be specified indirectly:  if it is
not an environment, it will be replaced with
\code{environment(envir)}.

\code{setBreakpoint} is a simple wrapper function for
\code{\LinkA{trace}{trace}} and \code{\LinkA{untrace}{untrace}}.  It will set or clear
breakpoints at the locations found by \code{findLineNum}.

The \code{srcfile} is normally a filename entered as a character
string, but it may be a \code{"\LinkA{srcfile}{srcfile}"} object, or it may
include a suffix like \code{"filename.R\#nn"}, in which case the number
\code{nn} will be used as a default value for \code{line}.

As described in the description of the \code{where} argument on the
man page for \code{\LinkA{trace}{trace}}, the \R{} package system uses a
complicated scheme that may include more than one copy of a function
in a package.  The user will typically see the public one on the
search path, while code in the package will see a private one in the
package NAMESPACE.  If you set \code{envir} to the environment of a
function in the package, by default \code{findLineNum} will find both
versions, and \code{setBreakpoint} will set the breakpoint in both.
(This can be controlled using \code{lastenv}; e.g. 
\code{envir=environment(foo)}, \code{lastenv=globalenv()} will find only the
private copy, as the search is stopped before seeing the public
copy.)

S version 4 methods are also somewhat tricky to find.  They are stored
with the generic function, which may be in the \pkg{base} or other
package, so it is usually necessary to have \code{lastenv=emptyenv()}
in order to find them.  In some cases transformations are done by \R{}
when storing them and \code{findLineNum} may not be able to find the
original code.  Many special cases, e.g. methods on primitive
generics, are not yet supported.
\end{Details}
%
\begin{Value}
\code{fineLineNum} returns a list of objects containing location
information.  A \code{print} method is defined for them.

\code{setBreakpoint} has no useful return value; it is called for the
side effect of calling \code{\LinkA{trace}{trace}} or \code{\LinkA{untrace}{untrace}}.
\end{Value}
%
\begin{Author}\relax
Duncan Murdoch
\end{Author}
%
\begin{SeeAlso}\relax
\code{\LinkA{trace}{trace}}
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}
## Not run: 
# Find what function was defined in the file mysource.R at line 100:
findLineNum("mysource.R#100")

# Set a breakpoint in both copies of that function, assuming one is in the
# same namespace as myfunction and the other is on the search path
setBreakpoint("mysource.R#100", envir=myfunction)

## End(Not run)
\end{ExampleCode}
\end{Examples}
\HeaderA{fix}{Fix an Object}{fix}
\keyword{utilities}{fix}
%
\begin{Description}\relax
\code{fix} invokes \code{\LinkA{edit}{edit}} on \code{x} and then assigns the new
(edited) version of \code{x} in the user's workspace.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
fix(x, ...)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{x}] the name of an \R{} object, as a name or a character string.
\item[\code{...}] arguments to pass to editor: see \code{\LinkA{edit}{edit}}.
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
The name supplied as \code{x} need not exist as an \R{} object, in 
which case a function with no arguments and an empty body is supplied 
for editing.

Editing an \R{} object may change it in ways other than are obvious: see
the comment under \code{\LinkA{edit}{edit}}.  See
\code{\LinkA{edit.data.frame}{edit.data.frame}} for changes that can occur when editing
a data frame or matrix.
\end{Details}
%
\begin{SeeAlso}\relax
\code{\LinkA{edit}{edit}},
\code{\LinkA{edit.data.frame}{edit.data.frame}}
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}
## Not run: 
 ## Assume 'my.fun' is a user defined function :
 fix(my.fun)
 ## now my.fun is changed
 ## Also,
 fix(my.data.frame) # calls up data editor
 fix(my.data.frame, factor.mode="char") # use of ...

## End(Not run)
\end{ExampleCode}
\end{Examples}
\HeaderA{flush.console}{Flush Output to A Console}{flush.console}
\keyword{utilities}{flush.console}
%
\begin{Description}\relax
This does nothing except on console-based versions of \R{}.
On the Mac OS X and Windows GUIs, it ensures that the display of
output in the console is current, even if output buffering is on.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
flush.console()
\end{verbatim}
\end{Usage}
\HeaderA{format}{Format Unordered and Ordered Lists}{format}
\aliasA{formatOL}{format}{formatOL}
\aliasA{formatUL}{format}{formatUL}
\keyword{print}{format}
%
\begin{Description}\relax
Format unordered (itemize) and ordered (enumerate) lists.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
formatUL(x, label = "*", offset = 0,
         width = 0.9 * getOption("width"))
formatOL(x, type = "arabic", offset = 0, start = 1,
         width = 0.9 * getOption("width"))
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{x}] a character vector of list items.
\item[\code{label}] a character string used for labelling the items.
\item[\code{offset}] a non-negative integer giving the offset (indentation)
of the list.
\item[\code{width}] a positive integer giving the target column for wrapping
lines in the output.
\item[\code{type}] a character string specifying the `type' of the
labels in the ordered list.  If \code{"arabic"} (default), arabic
numerals are used.  For \code{"Alph"} or \code{"alph"}, single upper
or lower case letters are employed (in this case, the number of the
last item must not exceed 26.  Finally, for \code{"Roman"} or
\code{"roman"}, the labels are given as upper or lower case roman
numerals (with the number of the last item maximally 3899).
\code{type} can be given as a unique abbreviation of the above, or
as one of the \acronym{HTML} style tokens \code{"1"} (arabic),
\code{"A"}/\code{"a"} (alphabetic), or \code{"I"}/\code{"i"}
(roman), respectively.
\item[\code{start}] a positive integer specifying the starting number of the
first item in an ordered list.
\end{ldescription}
\end{Arguments}
%
\begin{Value}
A character vector with the formatted entries.
\end{Value}
%
\begin{SeeAlso}\relax
\code{\LinkA{formatDL}{formatDL}} for formatting description lists.
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}
## A simpler recipe.
x <- c("Mix dry ingredients thoroughly.",
       "Pour in wet ingredients.",
       "Mix for 10 minutes.",
       "Bake for one hour at 300 degrees.")
## Format and output as an unordered list.
writeLines(formatUL(x))
## Format and output as an ordered list.
writeLines(formatOL(x))
## Ordered list using lower case roman numerals.
writeLines(formatOL(x, type = "i"))
## Ordered list using upper case letters and some offset.
writeLines(formatOL(x, type = "A", offset = 5))
\end{ExampleCode}
\end{Examples}
\HeaderA{getAnywhere}{Retrieve an R Object, Including from a Namespace}{getAnywhere}
\aliasA{argsAnywhere}{getAnywhere}{argsAnywhere}
\aliasA{print.getAnywhere}{getAnywhere}{print.getAnywhere}
\aliasA{[.getAnywhere}{getAnywhere}{[.getAnywhere}
\keyword{data}{getAnywhere}
%
\begin{Description}\relax
These functions locate all objects with name matching their argument,
whether visible on the search path, registered as an S3 method or in a
namespace but not exported.  \code{getAnywhere()} returns the objects
and \code{argsAnywhere()} returns the arguments of any objects that
are functions.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
getAnywhere(x)
argsAnywhere(x)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{x}] a character string or name.
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
These functions look at all loaded namespaces, whether or not they are
associated with a package on the search list.  

They do not search literally ``anywhere'': for example, local
evaluation frames and namespaces that are not loaded will not be
searched.

Where functions are found as registered S3 methods, an attempt is
made to find which namespace registered them.  This may not be
correct, especially if namespaces have been unloaded.
\end{Details}
%
\begin{Value}
For \code{getAnywhere()} an object of class \code{"getAnywhere"}.
This is a list with components
\begin{ldescription}
\item[\code{name}] the name searched for
\item[\code{objs}] a list of objects found
\item[\code{where}] a character vector explaining where the object(s) were found
\item[\code{visible}] logical: is the object visible
\item[\code{dups}] logical: is the object identical to one earlier in the
list.
\end{ldescription}
In computing whether objects are identical, their environments are ignored.

Normally the structure will be hidden by the \code{print} method.
There is a \code{[} method to extract one or more of the objects
found.

For \code{argsAnywhere()} one or more argument lists as returned by
\code{\LinkA{args}{args}}.
\end{Value}
%
\begin{SeeAlso}\relax
\code{\LinkA{getS3method}{getS3method}} to find the method which would be used: this
might not be the one of those returned by \code{getAnywhere} since it
might have come from a namespace which was unloaded or be registered
under another name.

\code{\LinkA{get}{get}},  \code{\LinkA{getFromNamespace}{getFromNamespace}}, \code{\LinkA{args}{args}}
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}
getAnywhere("format.dist")
getAnywhere("simpleLoess") # not exported from stats
argsAnywhere(format.dist)
\end{ExampleCode}
\end{Examples}
\HeaderA{getFromNamespace}{Utility functions for Developing Namespaces}{getFromNamespace}
\aliasA{assignInMyNamespace}{getFromNamespace}{assignInMyNamespace}
\aliasA{assignInNamespace}{getFromNamespace}{assignInNamespace}
\aliasA{fixInNamespace}{getFromNamespace}{fixInNamespace}
\keyword{data}{getFromNamespace}
%
\begin{Description}\relax
Utility functions to access and replace the non-exported functions in
a namespace, for use in developing packages with namespaces.

They should not be used in production code.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
getFromNamespace(x, ns, pos = -1, envir = as.environment(pos))

assignInNamespace(x, value, ns, pos = -1,
                  envir = as.environment(pos))

assignInMyNamespace(x, value)

fixInNamespace(x, ns, pos = -1, envir = as.environment(pos), ...)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{x}] an object name (given as a character string).
\item[\code{value}] an \R{} object.
\item[\code{ns}] a namespace, or character string giving the namespace.
\item[\code{pos}] where to look for the object: see \code{\LinkA{get}{get}}.
\item[\code{envir}] an alternative way to specify an environment to look in.
\item[\code{...}] arguments to pass to the editor: see \code{\LinkA{edit}{edit}}.
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
\code{assignInMyNamespace} is intended to be called from functions
within a package, and chooses the namespace as the environment of the
function calling it.

The namespace can be specified in several ways.  Using, for example,
\code{ns = "stats"} is the most direct, but a loaded package with a
namespace can be specified via any of the methods used for
\code{\LinkA{get}{get}}: \code{ns} can also be the environment printed as
\code{<namespace:foo>}.

\code{getFromNamespace} is similar to (but predates) the
\code{\LinkA{:::}{:::}} operator, but is more flexible in how the namespace
is specified.

\code{fixInNamespace} invokes \code{\LinkA{edit}{edit}} on the object named
\code{x} and assigns the revised object in place of the original
object.  For compatibility with \code{fix}, \code{x} can be unquoted.
\end{Details}
%
\begin{Value}
\code{getFromNamespace} returns the object found (or gives an error).

\code{assignInNamespace}, \code{assignInMyNamespace} and
\code{fixInNamespace} are invoked for their side effect of changing
the object in the namespace.
\end{Value}
%
\begin{Section}{Warning}
\code{assignInNamespace} should not be used in final code, and will in
future throw an error if called from a package.  Already certain uses
are disallowed.
\end{Section}
%
\begin{Note}\relax
\code{assignInNamespace} and \code{fixInNamespace} change the copy in
the namespace, but not any copies already exported from the namespace,
in particular an object of that name in the package (if already
attached) and any copies already imported into other namespaces.
They are really intended to be used \emph{only} for objects which are
not exported from the namespace.  They do attempt to alter a copy
registered as an S3 method if one is found.

They can only be used to change the values of objects in the
namespace, not to create new objects.
\end{Note}
%
\begin{SeeAlso}\relax
\code{\LinkA{get}{get}}, \code{\LinkA{fix}{fix}}, \code{\LinkA{getS3method}{getS3method}}
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}
getFromNamespace("findGeneric", "utils")
## Not run: 
fixInNamespace("predict.ppr", "stats")
stats:::predict.ppr
getS3method("predict", "ppr")
## alternatively
fixInNamespace("predict.ppr", pos = 3)
fixInNamespace("predict.ppr", pos = "package:stats")

## End(Not run)
\end{ExampleCode}
\end{Examples}
\HeaderA{getS3method}{Get An S3 Method}{getS3method}
\keyword{data}{getS3method}
%
\begin{Description}\relax
Get a method for an S3 generic, possibly from a namespace or the
generic's registry.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
getS3method(f, class, optional = FALSE)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{f}] character: name of the generic.
\item[\code{class}] character: name of the class.
\item[\code{optional}] logical: should failure to find the generic or a
method be allowed?
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
S3 methods may be hidden in namespaces, and will not
then be found by \code{\LinkA{get}{get}}: this function can retrieve
such functions, primarily for debugging purposes.

Further, S3 methods can be registered on the generic when a namespace
is loaded, and the registered method will be used if none is visible
(using namespace scoping rules).

It is possible that which S3 method will be used may depend on where
the generic \code{f} is called from: \code{getS3method} returns the
method found if \code{f} were called from the same environment.
\end{Details}
%
\begin{Value}
The function found, or \code{NULL} if no function is found and
\code{optional = TRUE}.
\end{Value}
%
\begin{SeeAlso}\relax
\code{\LinkA{methods}{methods}}, \code{\LinkA{get}{get}}, \code{\LinkA{getAnywhere}{getAnywhere}}
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}
require(stats)
exists("predict.ppr") # false
getS3method("predict", "ppr")
\end{ExampleCode}
\end{Examples}
\HeaderA{getWindowsHandle}{Get a Windows Handle}{getWindowsHandle}
\keyword{utilities}{getWindowsHandle}
%
\begin{Description}\relax
Get the Windows handle of a window or of the \R{} process.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
getWindowsHandle(which = "Console")
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{which}] A string (see below), or the number of a 
graphics device window
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
\code{getWindowsHandle} gets the Windows handle.
Possible choices for \code{which} are:

\Tabular{ll}{
\code{"Console"} & The console window handle. \\{}
\code{"Frame"}   & The MDI frame window handle. \\{}
\code{"Process"} & The process pseudo-handle. \\{}
A device number & The window handle of a graphics device 
}
These values are not normally useful to users, but may be used by 
developers making add-ons to \R{}.

\code{NULL} is returned for the Frame handle if not running in MDI mode, 
for the Console handle when running Rterm, for any unrecognized 
string for \code{which}, or for a graphics device with no 
corresponding window.

Other windows (help browsers, etc.) are not accessible 
through this function.
\end{Details}
%
\begin{Value}
An external pointer holding the Windows handle, or \code{NULL}.
\end{Value}
%
\begin{Note}\relax
  
As from R 2.6.0, this function returns an external pointer rather than
an integer value, and \code{which = "ProcessId"} is no longer supported.
Use \code{\LinkA{Sys.getpid}{Sys.getpid}} for the latter.
\end{Note}
%
\begin{SeeAlso}\relax
\code{\LinkA{getIdentification}{getIdentification}}, \code{\LinkA{getWindowsHandles}{getWindowsHandles}}
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}
getWindowsHandle()
\end{ExampleCode}
\end{Examples}
\HeaderA{getWindowsHandles}{Get handles of windows.}{getWindowsHandles}
\keyword{utilities}{getWindowsHandles}
%
\begin{Description}\relax
This function gets the Windows handles of visible top level windows or
windows within the \R{} MDI frame.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
getWindowsHandles(which = "R", pattern = "", minimized = FALSE)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{which}] 
A vector of strings "R" or "all" (possibly with repetitions).  See
the Details section.

\item[\code{pattern}] 
A vector of patterns that the titles of the windows must match.

\item[\code{minimized}] 
A logical vector indicating whether minimized windows should be considered.

\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
This function will search for Windows handles, for passing to external
GUIs or to the \code{\LinkA{arrangeWindows}{arrangeWindows}} function.  Each of the
arguments may be a vector of values.  These will be treated as
follows:
\begin{itemize}

\item The arguments will all be recycled to the same length.
\item The corresponding elements of each argument will be applied in
separate searches.
\item The final result will be the union of the windows identified in
each of the searches.

\end{itemize}


If an element of \code{which} is \code{"R"}, only windows belonging to
the current \R{} process will be returned.  In MDI mode, those will be the
child windows within the \R{} GUI frame.  In SDI mode, all windows
belonging to the process will be included.

If the element is \code{"all"}, then top level windows will be returned.

The elements of \code{pattern} will be used to make a subset of windows
whose title text matches (according to \code{\LinkA{grep}{grep}}) the pattern.

If \code{minimized = FALSE}, minimized windows will be ignored.
\end{Details}
%
\begin{Value}
A list of external pointers containing the window handles.
\end{Value}
%
\begin{Author}\relax
Duncan Murdoch
\end{Author}
%
\begin{SeeAlso}\relax
\code{\LinkA{arrangeWindows}{arrangeWindows}}
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}

getWindowsHandles()
getWindowsHandles("all")
\end{ExampleCode}
\end{Examples}
\HeaderA{glob2rx}{Change Wildcard or Globbing Pattern into Regular Expression}{glob2rx}
\keyword{file}{glob2rx}
\keyword{character}{glob2rx}
\keyword{utilities}{glob2rx}
%
\begin{Description}\relax
Change \emph{wildcard} aka \emph{globbing} patterns into the
corresponding regular expressions (\code{\LinkA{regexp}{regexp}}).
\end{Description}
%
\begin{Usage}
\begin{verbatim}
glob2rx(pattern, trim.head = FALSE, trim.tail = TRUE)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{pattern}] character vector
\item[\code{trim.head}] logical specifying if leading \code{"\textasciicircum{}.*"} should be
trimmed from the result.
\item[\code{trim.tail}] logical specifying if trailing \code{".*\$"} should be
trimmed from the result.
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
This takes a wildcard as used by most shells and returns an equivalent
regular expression.  \code{?} is mapped to \code{.} (match a single
character), \code{*} to \code{.*} (match any string, including an
empty one), and the pattern is anchored (it must start at the
beginning and end at the end).  Optionally, the resulting regexp is
simplified.

Note that now even \code{(}, \code{[} and \code{\{} can be used
in \code{pattern}, but \code{glob2rx()} may not work correctly with
arbitrary characters in \code{pattern}.
\end{Details}
%
\begin{Value}
A character vector of the same length as the input \code{pattern}
where each wildcard is translated to the corresponding
regular expression.
\end{Value}
%
\begin{Author}\relax
Martin Maechler, Unix/sed based version, 1991; current: 2004
\end{Author}
%
\begin{SeeAlso}\relax
\code{\LinkA{regexp}{regexp}} about regular expression,
\code{\LinkA{sub}{sub}}, etc about substitutions using regexps.
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}
stopifnot(glob2rx("abc.*") == "^abc\\.",
          glob2rx("a?b.*") == "^a.b\\.",
          glob2rx("a?b.*", trim.tail=FALSE) == "^a.b\\..*$",
          glob2rx("*.doc") == "^.*\\.doc$",
          glob2rx("*.doc", trim.head=TRUE) == "\\.doc$",
          glob2rx("*.t*")  == "^.*\\.t",
          glob2rx("*.t??") == "^.*\\.t..$",
          glob2rx("*[*")  == "^.*\\["
)
\end{ExampleCode}
\end{Examples}
\HeaderA{globalVariables}{Declare Variables to be Treated as Global in Checking a Package}{globalVariables}
\keyword{packages}{globalVariables}
%
\begin{Description}\relax
The names supplied are of functions or other objects that should be
regarded as defined globally when the \code{check} tool is applied to
this package.  The call to \code{globalVariables} will be included in
the package's source.  Repeated calls in the same package accumulate
the names of the global variables.

Typical examples are the fields and methods in reference classes,
which appear to be global objects to \code{codetools}.
(This case is handled automatically by \code{\LinkA{setRefClass}{setRefClass}()} and
friends, using the supplied field and method names.)
\end{Description}
%
\begin{Usage}
\begin{verbatim}
globalVariables(names, package, add = TRUE)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{names}] 
The character vector of object names.  If omitted, the current list of
global variables declared in the package will be returned, unchanged.

\item[\code{package}] 
The relevant package, usually the character string name of the package
but optionally its corresponding namespace environment.

When the call to \code{globalVariables} comes in the package's source
file, the argument is normally omitted, as in the example below.

\item[\code{add}] 
Should the contents of \code{names} be added to the current global
variables or replace it?

\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
The list of declared global variables is stored in a metadata object
in the package's namespace, assuming the \code{globalVariables} call(s)
occur as top-level calls in the package's source code.

The check command, as implemented in package \code{utils}, queries the
global variables list before checking the \R{} source code in the
package for possible problems.
\end{Details}
%
\begin{Value}
The current list of declared global variables, possibly modified by
this call.
\end{Value}
%
\begin{Note}\relax
The global variables list really belongs to a restricted scope (a
function or a group of method definitions, for example) rather than the
package as a whole.  However, implementing finer control would require changes
in \code{check} and/or in \code{codetools}, so in this version the
information is stored at the package level.
\end{Note}
%
\begin{Author}\relax
John Chambers
\end{Author}
%
\begin{Examples}
\begin{ExampleCode}
## Not run: 
## assume your package has some code that assigns ".obj1" and ".obj2"
## but not in a way that codetools can find.  In the same source file
## (to remind you that you did it) add:
utils::globalVariables(c(".obj1", "obj2"))

## End(Not run)
\end{ExampleCode}
\end{Examples}
\HeaderA{head}{Return the First or Last Part of an Object}{head}
\methaliasA{head.data.frame}{head}{head.data.frame}
\methaliasA{head.default}{head}{head.default}
\methaliasA{head.ftable}{head}{head.ftable}
\methaliasA{head.function}{head}{head.function}
\methaliasA{head.matrix}{head}{head.matrix}
\methaliasA{head.table}{head}{head.table}
\aliasA{tail}{head}{tail}
\methaliasA{tail.data.frame}{head}{tail.data.frame}
\methaliasA{tail.default}{head}{tail.default}
\methaliasA{tail.ftable}{head}{tail.ftable}
\methaliasA{tail.function}{head}{tail.function}
\methaliasA{tail.matrix}{head}{tail.matrix}
\methaliasA{tail.table}{head}{tail.table}
\keyword{manip}{head}
%
\begin{Description}\relax
Returns the first or last parts of a vector, matrix, table, data frame
or function.  Since \code{head()} and \code{tail()} are generic
functions, they may also have been extended to other classes.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
head(x, ...)
## Default S3 method:
head(x, n = 6L, ...)
## S3 method for class 'data.frame'
head(x, n = 6L, ...)
## S3 method for class 'matrix'
head(x, n = 6L, ...)
## S3 method for class 'ftable'
head(x, n = 6L, ...)
## S3 method for class 'table'
head(x, n = 6L, ...)
## S3 method for class 'function'
head(x, n = 6L, ...)

tail(x, ...)
## Default S3 method:
tail(x, n = 6L, ...)
## S3 method for class 'data.frame'
tail(x, n = 6L, ...)
## S3 method for class 'matrix'
tail(x, n = 6L, addrownums = TRUE, ...)
## S3 method for class 'ftable'
tail(x, n = 6L, addrownums = FALSE, ...)
## S3 method for class 'table'
tail(x, n = 6L, addrownums = TRUE, ...)
## S3 method for class 'function'
tail(x, n = 6L, ...)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{x}] an object
\item[\code{n}] a single integer. If positive, size for the resulting
object: number of elements for a vector (including lists), rows for
a matrix or data frame or lines for a function. If negative, all but
the \code{n} last/first number of elements of \code{x}.
\item[\code{addrownums}] if there are no row names, create them from the row
numbers.
\item[\code{...}] arguments to be passed to or from other methods.
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
For matrices, 2-dim tables and data frames, \code{head()} (\code{tail()}) returns
the first (last) \code{n} rows when \code{n > 0} or all but the
last (first) \code{n} rows when \code{n < 0}.  \code{head.matrix()} and
\code{tail.matrix()} are exported.  For functions, the
lines of the deparsed function are returned as character strings.

If a matrix has no row names, then \code{tail()} will add row names of
the form \code{"[n,]"} to the result, so that it looks similar to the
last lines of \code{x} when printed.  Setting \code{addrownums =
    FALSE} suppresses this behaviour.
\end{Details}
%
\begin{Value}
An object (usually) like \code{x} but generally smaller.  For
\code{\LinkA{ftable}{ftable}} objects \code{x}, a transformed \code{format(x)}.
\end{Value}
%
\begin{Author}\relax
Patrick Burns, improved and corrected by R-Core. Negative argument
added by Vincent Goulet.
\end{Author}
%
\begin{Examples}
\begin{ExampleCode}
head(letters)
head(letters, n = -6L)

head(freeny.x, n = 10L)
head(freeny.y)

tail(letters)
tail(letters, n = -6L)

tail(freeny.x)
tail(freeny.y)

tail(library)

head(stats::ftable(Titanic))
\end{ExampleCode}
\end{Examples}
\HeaderA{help}{Documentation}{help}
\keyword{documentation}{help}
%
\begin{Description}\relax
\code{help} is the primary interface to the help systems.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
help(topic, package = NULL, lib.loc = NULL,
     verbose = getOption("verbose"),
     try.all.packages = getOption("help.try.all.packages"),
     help_type = getOption("help_type"))
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{topic}] usually, a \LinkA{name}{name} or character string specifying the
topic for which help is sought.  A character string (enclosed in
explicit single or double quotes) is always taken as naming a topic.

If the value of \code{topic} is a length-one
character vector the topic is taken to be the value of the only
element.  Otherwise \code{topic} must be a name or a \LinkA{reserved}{reserved}
word (if syntactically valid) or character string.

See `Details' for what happens if this is omitted.

\item[\code{package}] a name or character vector giving the packages to look
into for documentation, or \code{NULL}.  By default, all packages in
the search path are used.  To avoid a name being deparsed use e.g.
\code{(pkg\_ref)} (see the examples).
\item[\code{lib.loc}] a character vector of directory names of \R{} libraries,
or \code{NULL}.  The default value of \code{NULL} corresponds to all
libraries currently known.  If the default is used, the loaded
packages are searched before the libraries.  This is not used for
HTML help (see `Details'.
\item[\code{verbose}] logical; if \code{TRUE}, the file name is reported.
\item[\code{try.all.packages}] logical; see \code{Note}.
\item[\code{help\_type}] character string: the type of help required.
Possible values are \code{"text"}, \code{"html"} and \code{"pdf"}.
Case is ignored, and partial matching is allowed.
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
The following types of help are available:
\begin{itemize}

\item Plain text help
\item HTML help pages with hyperlinks to other topics, shown in a
browser by \code{\LinkA{browseURL}{browseURL}}.
If for some reason HTML help is unavailable (see
\code{\LinkA{startDynamicHelp}{startDynamicHelp}}), plain text help will be used
instead.
\item For \code{help} only, typeset as PDF --
see the section on `Offline help'.

\end{itemize}

The default for the type of help is selected when \R{} is installed --
the `factory-fresh' default is HTML help.

The rendering of text help will use directional quotes in suitable
locales (UTF-8 and single-byte Windows locales): sometimes the fonts
used do not support these quotes so this can be turned off by setting
\code{\LinkA{options}{options}(useFancyQuotes = FALSE)}.

\code{topic} is not optional: if it is omitted \R{} will give
\begin{itemize}

\item If a package is specified, (text or, in interactive use only,
HTML) information on the package, including hints/links to suitable
help topics.
\item If \code{lib.loc} only is specified, a (text) list of available
packages.
\item Help on \code{help} itself if none of the first three
arguments is specified.

\end{itemize}


Some topics need to be quoted (by \LinkA{backtick}{backtick}s) or given as a
character string.  These include those which cannot syntactically
appear on their own such as unary and binary operators,
\code{function} and control-flow \LinkA{reserved}{reserved} words (including
\code{if}, \code{else} \code{for}, \code{in}, \code{repeat},
\code{while}, \code{break} and \code{next}).  The other \code{reserved}
words can be used as if they were names, for example \code{TRUE},
\code{NA} and \code{Inf}.

If multiple help files matching \code{topic} are found, in interactive
use a menu is presented for the user to choose one: in batch use the
first on the search path is used.  (For HTML help the menu will be an
HTML page, otherwise a graphical menu if possible if
\code{\LinkA{getOption}{getOption}("menu.graphics")} is true, the default.)

Note that HTML help does not make use of \code{lib.loc}: it will
always look first in the attached packages and then along
\code{.libPaths()}.
\end{Details}
%
\begin{Section}{Offline help}
Typeset documentation is produced by running the LaTeX version of the
help page through \command{pdflatex}: this will produce a PDF file.

The appearance of the output can be customized through a file
\file{Rhelp.cfg} somewhere in your LaTeX search path: this will be
input as a LaTeX style file after \code{Rd.sty}.  Some
\LinkA{environment variables}{environment variables} are consulted, notably \env{R\_PAPERSIZE}
(\emph{via} \code{getOption("papersize")}) and \env{R\_RD4PDF} (see
`Making manuals' in the `R Installation and
Administration Manual').

If there is a function \code{offline\_help\_helper} in the workspace or
further down the search path it is used to do the typesetting,
otherwise the function of that name in the \code{utils} namespace (to
which the first paragraph applies).  It should accept at least two
arguments, the name of the LaTeX file to be typeset and the type
(which as from \R{} 2.15.0 is ignored).  As from \R{} 2.14.0 it should
accept a third argument, \code{texinputs}, which will give the
graphics path when the help document contains figures, and will
otherwise not be supplied.
\end{Section}
%
\begin{Note}\relax
Unless \code{lib.loc} is specified explicitly, the loaded packages are
searched before those in the specified libraries.  This ensures that
if a library is loaded from a library not in the known library trees,
then the help from the loaded library is used.  If \code{lib.loc} is
specified explicitly, the loaded packages are \emph{not} searched.

If this search fails and argument \code{try.all.packages} is
\code{TRUE} and neither \code{packages} nor \code{lib.loc} is
specified, then all the packages in the known library trees are
searched for help on \code{topic} and a list of (any) packages where
help may be found is displayed (with hyperlinks for \code{help\_type =
  "html"}).  \strong{NB:} searching all packages can be slow, especially
the first time (caching of files by the OS can expedite subsequent
searches dramatically).
\end{Note}
%
\begin{References}\relax
Becker, R. A., Chambers, J. M. and Wilks, A. R. (1988)
\emph{The New S Language}.
Wadsworth \& Brooks/Cole.
\end{References}
%
\begin{SeeAlso}\relax
\code{\LinkA{?}{Question}} for shortcuts to help topics.

\code{\LinkA{help.search}{help.search}()} or \code{\LinkA{??}{??}} for finding help pages
on a vague topic;
\code{\LinkA{help.start}{help.start}()} which opens the HTML version of the \R{}
help pages;
\code{\LinkA{library}{library}()} for listing available packages and the
help objects they contain;
\code{\LinkA{data}{data}()} for listing available data sets;
\code{\LinkA{methods}{methods}()}.

Use \code{\LinkA{prompt}{prompt}()} to get a prototype for writing \code{help}
pages of your own package.
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}
help()
help(help)              # the same

help(lapply)

help("for")             # or ?"for", but quotes/backticks are needed

help(package="splines") # get help even when package is not loaded

topi <- "women"
help(topi)

try(help("bs", try.all.packages=FALSE)) # reports not found (an error)
help("bs", try.all.packages=TRUE)       # reports can be found
                                        # in package 'splines'

## For programmatic use:
topic <- "family"; pkg_ref <- "stats"
help((topic), (pkg_ref))
\end{ExampleCode}
\end{Examples}
\HeaderA{help.request}{Send a Post to R-help}{help.request}
\keyword{utilities}{help.request}
\keyword{error}{help.request}
%
\begin{Description}\relax
Prompts the user to check they have done all that is expected of them
before sending a post to the R-help mailing list, provides a template
for the post with session information included and optionally sends
the email (on Unix systems).
\end{Description}
%
\begin{Usage}
\begin{verbatim}
help.request(subject = "",
             address = "r-help@R-project.org",
             file = "R.help.request", ...)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{subject}] subject of the email.  Please do not use single quotes
(\kbd{'}) in the subject!  Post separate help requests for multiple
queries.
\item[\code{address}] recipient's email address.
\item[\code{file}] filename to use (if needed) for setting up the email.
\item[\code{...}] additional named arguments such as \code{method} and
\code{ccaddress} to pass to \code{\LinkA{create.post}{create.post}}.
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
This function is not intended to replace the posting
guide.  Please read the guide before posting to R-help or using this
function (see \url{http://www.r-project.org/posting-guide.html}).

The \code{help.request} function:
\begin{itemize}

\item asks whether the user has consulted relevant resources,
stopping and opening the relevant URL if a negative response if
given.
\item checks whether the current version of \R{} is being used and
whether the add-on packages are up-to-date, giving the option of
updating where necessary.
\item asks whether the user has prepared appropriate (minimal,
reproducible, self-contained, commented) example code ready to
paste into the post.

\end{itemize}

Once this checklist has been completed a template post is prepared
including current session information, and passed to
\code{\LinkA{create.post}{create.post}}.
\end{Details}
%
\begin{Value}
Nothing useful.
\end{Value}
%
\begin{Author}\relax
Heather Turner, based on the then current code and help page of
\code{\LinkA{bug.report}{bug.report}()}.
\end{Author}
%
\begin{SeeAlso}\relax
The posting guide (\url{http://www.r-project.org/posting-guide.html}),
also \code{\LinkA{sessionInfo}{sessionInfo}()} from which you may add to the help request.

\code{\LinkA{create.post}{create.post}}.
\end{SeeAlso}
\HeaderA{help.search}{Search the Help System}{help.search}
\aliasA{??}{help.search}{??}
\aliasA{print.hsearch}{help.search}{print.hsearch}
\keyword{documentation}{help.search}
%
\begin{Description}\relax
Allows for searching the help system for documentation matching a
given character string in the (file) name, alias, title, concept or
keyword entries (or any combination thereof), using either
\LinkA{fuzzy matching}{fuzzy matching} or \LinkA{regular expression}{regular expression} matching.  Names
and titles of the matched help entries are displayed nicely formatted.

Vignette names, titles and keywords and demo names and titles
may also be searched.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
help.search(pattern, fields = c("alias", "concept", "title"),
            apropos, keyword, whatis, ignore.case = TRUE,
            package = NULL, lib.loc = NULL,
            help.db = getOption("help.db"),
            verbose = getOption("verbose"),
            rebuild = FALSE, agrep = NULL, use_UTF8 = FALSE,
            types = getOption("help.search.types"))
??pattern
field??pattern
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{pattern}] a character string to be matched in the specified
fields.  If this is given, the arguments \code{apropos},
\code{keyword}, and \code{whatis} are ignored.
\item[\code{fields}] a character vector specifying the fields of the help
database to be searched.  The entries must be abbreviations of
\code{"name"}, \code{"title"}, \code{"alias"}, \code{"concept"}, and
\code{"keyword"}, corresponding to the help page's (file) name, its
title, the topics and concepts it provides documentation for, and
the keywords it can be classified to.  See below for how vignettes
and demos are searched.
\item[\code{apropos}] a character string to be matched in the help page
topics and title.
\item[\code{keyword}] a character string to be matched in the help page
`keywords'. `Keywords' are really categories: the
standard categories are listed in file \file{R.home("doc")/KEYWORDS}
(see also the example) and some package writers have defined their
own.  If \code{keyword} is specified, \code{agrep} defaults to
\code{FALSE}. \item[\code{whatis}] a character string to be matched in
the help page topics.
\item[\code{ignore.case}] a logical.  If \code{TRUE}, case is ignored during
matching; if \code{FALSE}, pattern matching is case sensitive.
\item[\code{package}] a character vector with the names of packages to
search through, or \code{NULL} in which case \emph{all} available
packages in the library trees specified by \code{lib.loc} are
searched.
\item[\code{lib.loc}] a character vector describing the location of \R{}
library trees to search through, or \code{NULL}.  The default value
of \code{NULL} corresponds to all libraries currently known.
\item[\code{help.db}] a character string giving the file path to a previously
built and saved help database, or \code{NULL}.
\item[\code{verbose}] logical; if \code{TRUE}, the search process is traced.
Integer values are also accepted, with \code{TRUE} being equivalent
to \code{2}, and \code{1} being less verbose.  On Windows a progress
bar is shown during rebuilding, and on Unix a heartbeat is shown for
\code{verbose = 1} and a package-by-package list for
\code{verbose >= 2}.
\item[\code{rebuild}] a logical indicating whether the help database should
be rebuilt.  This will be done automatically if \code{lib.loc} or
the search path is changed, or if \code{package} is used and a value
is not found.
\item[\code{agrep}] if \code{NULL} (the default unless \code{keyword} is
used) and the character string to
be matched consists of alphanumeric characters, whitespace or a dash
only, approximate (fuzzy) matching via \code{\LinkA{agrep}{agrep}} is used
unless the string has fewer than 5 characters; otherwise, it is
taken to contain a \LinkA{regular expression}{regular expression} to be matched via
\code{\LinkA{grep}{grep}}.  If \code{FALSE}, approximate matching is not
used.  Otherwise, one can give a numeric or a list specifying the
maximal distance for the approximate match, see argument
\code{max.distance} in the documentation for \code{\LinkA{agrep}{agrep}}.
\item[\code{use\_UTF8}] logical: should be results be given in UTF-8 encoding?
Also changes the meaning of regexps in \code{agrep} to be Perl regexps.
\item[\code{types}] a character vector listing the types of documentation
to search.  The entries must be abbreviations of \code{"vignette"}
\code{"help"} or \code{"demo"}. Results will be presented in the 
order specified.
\item[\code{field}] a single value of \code{fields} to search.
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
Upon installation of a package, a pre-built help.search index is
serialized as \file{hsearch.rds} in the \file{Meta} directory
(provided the package has any help pages).  Vignettes are also 
indexed in the \file{Meta/vignette.rds} file.  These files are used to
create the help search database.

The arguments \code{apropos} and \code{whatis} play a role similar to
the Unix commands with the same names.

Searching with \code{agrep = FALSE} will be several times faster
than the default (once the database is built).  However, as from
\R{} 2.10.0 approximate searches should be fast enough (around a second
with 2000 packages installed).

If possible, the help database is saved in memory for use by
subsequent calls in the session.

Note that currently the aliases in the matching help files are not
displayed.

As with \code{\LinkA{?}{?}}, in \code{??} the pattern may be prefixed with a 
package name followed by \code{::} or \code{:::} to limit the search
to that package.

Vignettes are searched as follows.  The \code{"name"} and 
\code{"alias"} are both the base of the vignette filename, and the 
\code{"concept"} entries are taken from the \code{\bsl{}VignetteKeywords}
entries.  Vignettes are not classified using the help system 
\code{"keyword"} classifications.  Demos are handled
similarly to vignettes, without the  \code{"concept"} search.
\end{Details}
%
\begin{Value}
The results are returned in a list object of class \code{"hsearch"},
which has a print method for nicely formatting the results of the
query.  This mechanism is experimental, and may change in future
versions of \R{}.

In R.app on Mac OS X, this will show up a browser with selectable items. On
exiting this browser, the help pages for the selected items will be
shown in separate help windows.

The internal format of the class is undocumented and subject to change.
\end{Value}
%
\begin{SeeAlso}\relax
\code{\LinkA{help}{help}};
\code{\LinkA{help.start}{help.start}} for starting the hypertext (currently HTML)
version of \R{}'s online documentation, which offers a similar search
mechanism.

\code{\LinkA{RSiteSearch}{RSiteSearch}} to access an on-line search of \R{} resources.

\code{\LinkA{apropos}{apropos}} uses regexps and has nice examples.
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}
help.search("linear models")    # In case you forgot how to fit linear
                                # models
help.search("non-existent topic")

??utils::help  # All the topics matching "help" in the utils package

## Not run: 
help.search("print")            # All help pages with topics or title
                                # matching 'print'
help.search(apropos = "print")  # The same

help.search(keyword = "hplot")  # All help pages documenting high-level
                                # plots.
file.show(file.path(R.home("doc"), "KEYWORDS"))  # show all keywords

## Help pages with documented topics starting with 'try'.
help.search("\\btry", fields = "alias")

## End(Not run)
\end{ExampleCode}
\end{Examples}
\HeaderA{help.start}{Hypertext Documentation}{help.start}
\keyword{documentation}{help.start}
%
\begin{Description}\relax
Start the hypertext (currently HTML) version of \R{}'s online
documentation.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
help.start(update = FALSE, gui = "irrelevant",
           browser = getOption("browser"), remote = NULL)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{update}] logical: should this attempt to update the package index to
reflect the currently available packages.  (Not attempted if
\code{remote} is non-\code{NULL}.)
\item[\code{gui}] just for compatibility with S-PLUS.
\item[\code{browser}] the name of the program to be used as hypertext
browser.  It should be in the \env{PATH}, or a full path specified.
Alternatively, it can be an \R{} function which will be called with a
URL as its only argument. This option is normally unset on Windows,
when the file-association mechanism will be used.
\item[\code{remote}] A character string giving a valid URL for the
\file{\var{\LinkA{R\_HOME}{R.Rul.HOME}}} directory on a remote location.
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
Unless \code{remote} is specified this requires the HTTP server to be
available (it will be started if possible: see
\code{\LinkA{startDynamicHelp}{startDynamicHelp}}).

One of the links on the index page is the HTML package index,
\file{R.home("docs")/html/packages.html}, which can be remade by
\code{\LinkA{make.packages.html}{make.packages.html}()}.  For local operation,
the HTTP server will remake a temporary version of this list when the
link is first clicked, and each time thereafter check if updating is
needed (if \code{\LinkA{.libPaths}{.libPaths}} has changed or any of the
directories has been changed).  This can be slow, and using
\code{update = TRUE} will ensure that the packages list is updated
before launching the index page.

Argument \code{remote} can be used to point to HTML help published by
another \R{} installation: it will typically only show packages from the
main library of that installation.
\end{Details}
%
\begin{SeeAlso}\relax
\code{\LinkA{help}{help}()} for on- and off-line help in other formats.

\code{\LinkA{browseURL}{browseURL}} for how the help file is displayed.

\code{\LinkA{RSiteSearch}{RSiteSearch}} to access an on-line search of \R{} resources.
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}
help.start()
## Not run: 

## End(Not run)
\end{ExampleCode}
\end{Examples}
\HeaderA{INSTALL}{Install Add-on Packages}{INSTALL}
\keyword{utilities}{INSTALL}
%
\begin{Description}\relax
Utility for installing add-on packages.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
R CMD INSTALL [options] [-l lib] pkgs
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{pkgs}] a space-separated list with the path names of the packages to be
installed.
\item[\code{lib}] the path name of the \R{} library tree to install to.  Also
accepted in the form \samp{--library=lib}.  Paths including spaces should
be quoted, using the conventions for the shell in use.
\item[\code{options}] a space-separated list of options through which in
particular the process for building the help files can be controlled.
Use \command{R CMD INSTALL --help} for the full current list of options.
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
This will stop at the first error, so if you want all the \code{pkgs}
to be tried, call this via a shell loop.

If used as \command{R CMD INSTALL pkgs} without explicitly specifying
\code{lib}, packages are installed into the library tree rooted at the
first directory in the library path which would be used by \R{} run in
the current environment.

To install into the library tree \code{\var{lib}}, use
\command{R CMD INSTALL -l \var{lib} \var{pkgs}}.
This prepends \code{lib} to the library path for
duration of the install, so required packages in the installation
directory will be found (and used in preference to those in other
libraries).

It is possible that environment variable \env{TMPDIR}
will need to be set (although \command{R CMD} tries to set it suitably
otherwise): use forward slashes and no spaces for the path to a
writable directory.

Both \code{lib} and the elements of \code{pkgs} may be absolute or
relative path names of directories.  \code{pkgs} may also contain
names of package archive files: these are then extracted to a
temporary directory.  These are tarballs containing a single
directory, optionally compressed by \command{gzip}, \command{bzip2},
\command{xz} or \command{compress}.
Finally, zipped binary packages (as created by
\command{R CMD INSTALL --build}) can be supplied.

Tarballs are by default unpackaged by the internal \code{\LinkA{untar}{untar}}
function: if needed an external \command{tar} command can be specified
by the environment variable \env{R\_INSTALL\_TAR}: please ensure that it
can handle the type of compression used on the tarball.  (This is
sometimes needed for tarballs containing invalid or unsupported
sections, and can be faster on very large tarballs.   Setting
\env{R\_INSTALL\_TAR} to \samp{tar.exe} has been needed to overcome
permissions issues on some Windows systems.)

The package sources can be cleaned up prior to installation by
\option{--preclean} or after by \option{--clean}: cleaning is
essential if the sources are to be used with more than one
architecture or platform.

If the attempt to install the package fails, leftovers are removed.
If the package was already installed, the old version is restored.
This happens either if a command encounters an error or if the
install is interrupted from the keyboard: after cleaning up the script
terminates.

For details of the locking which is done, see the section
`Locking' in the help for \code{\LinkA{install.packages}{install.packages}}.


Option \option{--build} can be used to zip up the installed package
for distribution.

By default a package is installed with static HTML help pages if and
only if \R{} was: use options \option{--html} and \option{--no-html} to
override this.

Packages are not by default installed keeping the source formatting
(see the \code{keep.source} argument to \code{\LinkA{source}{source}}): this
can be enabled by the option \option{--with-keep.source} or by setting
environment variable \env{R\_KEEP\_PKG\_SOURCE} to \code{yes}.

Use \command{R CMD INSTALL --help} for concise usage information,
including all the available options.
\end{Details}
%
\begin{Note}\relax
The options do not have to precede \samp{pkgs} on the command line,
although it will be more legible if they do.  All the options are
processed before any packages, and where options have conflicting
effects the last one will win.
\end{Note}
%
\begin{SeeAlso}\relax
\code{\LinkA{REMOVE}{REMOVE}} and \code{\LinkA{library}{library}} for information on
using several library trees;
\code{\LinkA{update.packages}{update.packages}} for automatic update of packages using
the internet (or other \R{} level installation of packages, such as by
\code{install.packages}).

The section on ``Add-on packages'' in ``R Installation and
Administration'' and the chapter on ``Creating R packages'' in
``Writing \R{} Extensions''
(on the Help menu in \code{RGui}),
\code{\LinkA{RShowDoc}{RShowDoc}} and the \file{doc/manual} subdirectory of the
\R{} source tree).
\end{SeeAlso}
\HeaderA{install.packages}{Install Packages from Repositories or Local Files}{install.packages}
\keyword{utilities}{install.packages}
%
\begin{Description}\relax
Download and install packages from CRAN-like repositories or from
local files.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
install.packages(pkgs, lib, repos = getOption("repos"),
                 contriburl = contrib.url(repos, type),
                 method, available = NULL, destdir = NULL,
                 dependencies = NA, type = getOption("pkgType"),
                 configure.args = getOption("configure.args"),
                 configure.vars = getOption("configure.vars"),
                 clean = FALSE, Ncpus = getOption("Ncpus", 1L),
                 libs_only = FALSE, INSTALL_opts, ...)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{pkgs}] character vector of the names of packages whose
current versions should be downloaded from the repositories.

If \code{repos = NULL}, a character vector of file paths of
\file{.zip} files containing binary builds of packages. Source
directories or \file{.tar.gz} archives may also be installed, but
some packages need suitable tools installed (see the
`Details' section).

If this is missing or a zero-length character vector, a listbox of
available packages is presented where possible in an interactive \R{}
session.

\item[\code{lib}] 
character vector giving the library directories where to
install the packages.  Recycled as needed.  If missing, defaults to
the first element of \code{\LinkA{.libPaths}{.libPaths}()}.

\item[\code{repos}] 
character vector, the base URLs of the repositories
to use, e.g., the URL of a CRAN mirror such as
\code{"http://cran.us.r-project.org"}.

Can be \code{NULL} to install from local files
(with extension \file{.tar.gz} for source packages).

\item[\code{contriburl}] 
URL(s) of the contrib sections of the repositories.  Use this
argument only if your repository mirror is incomplete, e.g., because
you burned only the \file{contrib} section on a CD.  Overrides
argument \code{repos}.  As with \code{repos}, can also be \code{NULL}
to install from local files.

\item[\code{method}] 
download method, see \code{\LinkA{download.file}{download.file}}.

\item[\code{available}] 
an object as returned by \code{\LinkA{available.packages}{available.packages}}
listing packages available at the repositories, or \code{NULL} when
the function makes an internal call to \code{available.packages}.

\item[\code{destdir}] 
directory where downloaded packages are stored.  If it is
\code{NULL} (the default) a subdirectory
\code{downloaded\_packages} of the session temporary
directory will be used (and the files will be deleted
at the end of the session). 

\item[\code{dependencies}] logical indicating to also install uninstalled
packages which these packages depend on/link to/import/suggest
(and so on recursively).  Not used if \code{repos = NULL}.
Can also be a character vector, a subset of
\code{c("Depends", "Imports", "LinkingTo", "Suggests", "Enhances")}.

Only supported if \code{lib} is of length one (or missing),
so it is unambiguous where to install the dependent packages.  If
this is not the case it is ignored, with a warning.

The default, \code{NA}, means
\code{c("Depends", "Imports", "LinkingTo")}.

\code{TRUE} means (as from \R{} 2.15.0) to use
\code{c("Depends", "Imports", "LinkingTo", "Suggests")} for
\code{pkgs} and
\code{c("Depends", "Imports", "LinkingTo")} for added dependencies:
this installs all the packages needed to run \code{pkgs}, their
examples, tests and vignettes (if the package author specified them
correctly).

\item[\code{type}] character, indicating the type of package to download and
install.

Possible values are \code{"source"}, \code{"mac.binary.leopard"} and
\code{"win.binary"}: the binary types can be listed and downloaded
but not installed on other platforms.

The default is the appropriate binary type on Windows and on
the CRAN binary Mac OS X distribution, otherwise \code{"source"}.
For the platforms where binary packages are the default, an
alternative is \code{"both"} which means `try binary if
available, otherwise try source'.  (This will only choose the
binary package if its version number is no older than the source
version.)

\item[\code{configure.args}] 
(not used on Windows) a character vector or a named list.  If a
character vector with no names is supplied, the elements are
concatenated into a single string (separated by a space) and used as
the value for the \option{--configure-args} flag in the call to
\command{R CMD INSTALL}.  If the character vector has names these
are assumed to identify values for \option{--configure-args} for
individual packages.  This allows one to specify settings for an
entire collection of packages which will be used if any of those
packages are to be installed.  (These settings can therefore be
re-used and act as default settings.)

A named list can be used also to the same effect, and that
allows multi-element character strings for each package
which are concatenated to a single string to be used as the
value for \option{--configure-args}.

\item[\code{configure.vars}] 
(not used on Windows) analogous to \code{configure.args} for flag
\option{--configure-vars}, which is used to set environment variables
for the \command{configure} run. 

\item[\code{clean}] a logical value indicating whether to specify
to add the \option{--clean} flag to the call to
\command{R CMD INSTALL}.
This is sometimes used to perform additional operations at the end
of the package installation in addition to removing intermediate files.

\item[\code{Ncpus}] The number of parallel processes to use for a parallel
install of more than one source package.  Values greater than one
are supported if the \command{make} command specified by
\code{Sys.getenv("MAKE", "make")} accepts argument \code{-k -j
    \var{Ncpus}}.

\item[\code{libs\_only}] 
a logical value: should the \option{--libs-only} option be used to
install only additional sub-architectures?  (See also
\code{INSTALL\_opts}.)  This can also be used on Windows to install
just the DLL(s) from a binary package, e.g. to add 64-bit DLLs to a
32-bit install. 

\item[\code{INSTALL\_opts}] 
an optional character vector of additional option(s) to be passed to
\command{R CMD INSTALL} for a source package install.  E.g.
\code{c("--html", "--no-multiarch")}.

\item[\code{...}] 
Arguments to be passed to \code{\LinkA{download.file}{download.file}} (e.g.
\code{quiet = TRUE}), or to the functions for binary installs on Mac
OS X and Windows (which accept an argument \code{"lock"}: see the
section on `Locking').

\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
\R{} packages are primarily distributed as \emph{source} packages, but
\emph{binary} packages (a packaging up of the installed package) are
also supported, and the type most commonly used on Windows and from
the CRAN distribution for Mac OS X.  This function can install either
type where supported, either by downloading a file from a repository
or from a local file.  The default type is given by
\code{\LinkA{getOption}{getOption}("pkgType")}: this defaults to \code{"source"}
apart from under Windows or a CRAN binary distribution for Mac OS X.

This is the main function to install packages.  It takes
a vector of names and a destination library, downloads the packages
from the repositories and installs them.  (If the library is omitted
it defaults to the first directory in \code{.libPaths()}, with a
message if there is more than one.)  If \code{lib} is omitted or is of
length one and is not a (group) writable directory, the code offers
to create a personal library tree (the first element of
\code{Sys.getenv("R\_LIBS\_USER")}) and install there.
Detection of a writable directory is problematic on Windows: see the
`Note' section.

For source packages from a repository an attempt is made to
install the packages in an order that respects their dependencies.
This does assume that all the entries in \code{lib} are on the default
library path for installs (set by \env{R\_LIBS}).

Using packages with \code{type = "source"} always works on Windows
provided the package contains no C/C++/Fortran code that needs
compilation.  Otherwise you will need to have installed the Rtools
collection as described in the `R for Windows FAQ' \emph{and}
you must have the \env{PATH} environment variable set up as required
by Rtools.

When installing a binary package, \code{install.packages} will abort
the install if it detects that the package is already installed and is
currently in use.  In some circumstances (e.g. multiple instances of
\R{} running at the same time and sharing a library) it will not detect a
problem, but the installation may fail.

You are advised to run \code{update.packages} before
\code{install.packages} to ensure that any already installed
dependencies have their latest versions.

Argument \code{libs\_only = TRUE} is supported for source installs and for
Windows binary installs.

For binary installs, the function also checks for the availability of
a source package on the same repository, and reports if the source
package has a later version, or is available but no binary version
is.  This check can be suppressed by
\begin{alltt}
      options(install.packages.check.source = "no")
\end{alltt}

\end{Details}
%
\begin{Value}
Invisible \code{NULL}.
\end{Value}
%
\begin{Section}{Locking}
There are various options for locking: these differ between source and
binary installs.

By default for a source install, the library directory is
`locked' by creating a directory \file{00LOCK} within it.  This
has two purposes: it prevents any other process installing into that
library concurrently, and is used to store any previous version of the
package to restore on error.  A finer-grained locking is provided by
the option \option{--pkglock} which creates a separate lock for each
package: this allows enough freedom for parallel
installation.  Per-package locking is the default when installing a
single package, and for multiple packages when \code{Ncpus > 1L}.
Finally locking (and restoration on error) can be suppressed by
\option{--no-lock}.


For a Mac OS X or Windows binary install, no locking is done by
default.  Setting argument \code{lock} to \code{TRUE} (it defaults to
the value of \code{\LinkA{getOption}{getOption}("install.lock", FALSE)}) will use
per-directory locking as described for source installs: if the value
is \code{"pkglock"} per-package locking will be used.

If package locking is used on Windows with \code{libs\_only = TRUE} and
the installation fails, the package will be restored to its previous
state.

Note that it is possible for the package installation to fail so badly
that the lock directory is not removed: this inhibits any further
installs to the library directory (or for \code{--pkglock}, of the
package) until the lock directory is removed manually.
\end{Section}
%
\begin{Section}{Parallel installs}
Parallel installs are attempted if \code{pkgs} has length greater than
one and \code{Ncpus > 1}.  It makes use of a parallel \command{make},
so the \code{make} specified (default \command{make}) when \R{} was
built must be capable of supporting \code{make -j \var{n}}: GNU make
and \command{dmake} do, but FreeBSD and Solaris \command{make} do not:
if necessary environment variable \env{MAKE} can be set for the
current session to select a suitable \command{make}.

\code{install.packages} needs to be able to compute all the
dependencies of \code{pkgs} from \code{available}, including if one
element of \code{pkgs} depends indirectly on another.  This means that
if for example you are installing \acronym{CRAN} packages which depend
on Bioconductor packages which in turn depend on \acronym{CRAN}
packages, \code{available} needs to cover both \acronym{CRAN} and
Bioconductor packages.
\end{Section}
%
\begin{Note}\relax
\code{install.packages} tries to detect if you have write permission
on the library directories specified, but Windows reports unreliably.
If there is only one library directory (the default), \R{} tries to
find out by creating a test directory, but even this need not be the
whole story.  Under Windows Vista and later you may have permission to
write in a library directory but lack permission to write binary files
(such as \file{.dll} files) there.  See the `R for Windows FAQ'
for workarounds.
\end{Note}
%
\begin{SeeAlso}\relax
\code{\LinkA{update.packages}{update.packages}},
\code{\LinkA{available.packages}{available.packages}},
\code{\LinkA{download.packages}{download.packages}},
\code{\LinkA{installed.packages}{installed.packages}},
\code{\LinkA{contrib.url}{contrib.url}}.

See \code{\LinkA{download.file}{download.file}} for how to handle proxies and
other options to monitor file transfers.

\code{\LinkA{INSTALL}{INSTALL}}, \code{\LinkA{REMOVE}{REMOVE}}, \code{\LinkA{remove.packages}{remove.packages}},
\code{\LinkA{library}{library}}, \code{\LinkA{.packages}{.packages}}, \code{\LinkA{read.dcf}{read.dcf}}

The `R Installation and Administration' manual for how to 
set up a repository.
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}

## Not run: 
install.packages(
    c("XML_0.99-5.tar.gz",
      "../../Interfaces/Perl/RSPerl_0.8-0.tar.gz"),
    repos = NULL,
    configure.args = c(XML = '--with-xml-config=xml-config',
                       RSPerl = "--with-modules='IO Fcntl'"))

## End(Not run)
\end{ExampleCode}
\end{Examples}
\HeaderA{installed.packages}{Find Installed Packages}{installed.packages}
\keyword{utilities}{installed.packages}
%
\begin{Description}\relax
Find (or retrieve) details of all packages installed in the specified
libraries.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
installed.packages(lib.loc = NULL, priority = NULL,
                   noCache = FALSE, fields = NULL,
                   subarch = .Platform$r_arch)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{lib.loc}] 
character vector describing the location of \R{} library trees to
search through, or \code{NULL} for all known trees
(see \code{\LinkA{.libPaths}{.libPaths}}).

\item[\code{priority}] 
character vector or \code{NULL} (default).  If non-null, used to
select packages; \code{"high"} is equivalent to
\code{c("base", "recommended")}.  To select all packages without an
assigned priority use \code{priority = "NA"}.

\item[\code{noCache}] Do not use cached information, nor cache it.

\item[\code{fields}] a character vector giving the fields to extract from
each package's \code{DESCRIPTION} file in addition to the default
ones, or \code{NULL} (default).  Unavailable fields result in
\code{NA} values.
\item[\code{subarch}] character string or \code{NULL}.  If non-null and
non-empty, used to select packages which are installed for that
sub-architecture.

\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
\code{installed.packages} scans the \file{DESCRIPTION} files of each
package found along \code{lib.loc} and returns a matrix of package
names, library paths and version numbers.

The information found is cached (by library) for the \R{} session and
specified \code{fields} argument, and updated only if the top-level
library directory has been altered, for example by installing or
removing a package.  If the cached information becomes confused, it
can be refreshed by running \code{installed.packages(noCache =
  TRUE)}.
\end{Details}
%
\begin{Value}
A matrix with one row per package, row names the package names and
column names (currently)
\code{"Package"}, \code{"LibPath"},
\code{"Version"}, \code{"Priority"},
\code{"Depends"}, \code{"Imports"}, \code{"LinkingTo"},
\code{"Suggests"}, \code{"Enhances"},
\code{"OS\_type"}, \code{"License"} and
\code{"Built"} (the \R{} version the package was built under).
Additional columns can be specified using the \code{fields}
argument.
\end{Value}
%
\begin{Note}\relax
This can be slow when thousands of packages are installed, so do not
use this to find out if a named package is installed (use
\code{\LinkA{system.file}{system.file}} or \code{\LinkA{find.package}{find.package}}) nor to find
out if a package is usable (call \code{\LinkA{require}{require}} and check the
return value) nor to find details of a small number of packages (use
\code{\LinkA{packageDescription}{packageDescription}}).  It needs to read several files per
installed package, which will be slow on Windows and on some
network-mounted file systems.
\end{Note}
%
\begin{SeeAlso}\relax
\code{\LinkA{update.packages}{update.packages}},
\code{\LinkA{install.packages}{install.packages}},
\code{\LinkA{INSTALL}{INSTALL}}, \code{\LinkA{REMOVE}{REMOVE}}.
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}
## confine search to .Library for speed
str(ip <- installed.packages(.Library, priority = "high"))
ip[, c(1,3:5)]
plic <- installed.packages(.Library, priority = "high", fields = "License")
## what licenses are there:
table( plic[, "License"] )
\end{ExampleCode}
\end{Examples}
\HeaderA{localeToCharset}{Select a Suitable Encoding Name from a Locale Name}{localeToCharset}
\keyword{utilities}{localeToCharset}
%
\begin{Description}\relax
This functions aims to find a suitable coding for the locale named, by
default the current locale, and if it is a UTF-8 locale a suitable
single-byte encoding.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
localeToCharset(locale = Sys.getlocale("LC_CTYPE"))
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{locale}] character string naming a locale.
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
The operation differs by OS.
A Windows locale is specified like \code{"English\_United Kingdom.1252"}.
The final component gives the codepage, and this defines the encoding.

In the \code{C} locale the answer will be \code{"ASCII"}.
\end{Details}
%
\begin{Value}
A character vector naming an encoding and possibly a fallback
single-encoding,  \code{NA} if unknown.
\end{Value}
%
\begin{Note}\relax
The encoding names are those used by \code{libiconv}, and ought also
to work with \code{glibc} but maybe not with commercial Unixen.
\end{Note}
%
\begin{SeeAlso}\relax
\code{\LinkA{Sys.getlocale}{Sys.getlocale}}, \code{\LinkA{iconv}{iconv}}.
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}
localeToCharset()
\end{ExampleCode}
\end{Examples}
\HeaderA{ls.str}{List Objects and their Structure}{ls.str}
\aliasA{lsf.str}{ls.str}{lsf.str}
\aliasA{print.ls\_str}{ls.str}{print.ls.Rul.str}
\keyword{print}{ls.str}
\keyword{utilities}{ls.str}
%
\begin{Description}\relax
\code{ls.str} and \code{lsf.str} are variations of \code{\LinkA{ls}{ls}}
applying \code{\LinkA{str}{str}()} to each matched name: see section Value.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
ls.str(pos = -1, name, envir, all.names = FALSE,
       pattern, mode = "any")

lsf.str(pos = -1, envir, ...)

## S3 method for class 'ls_str'
print(x, max.level = 1, give.attr = FALSE, ...,
      digits = max(1, getOption("str")$digits.d))
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{pos}] integer indicating \code{\LinkA{search}{search}} path position.
\item[\code{name}] optional name indicating \code{\LinkA{search}{search}} path
position, see \code{\LinkA{ls}{ls}}.
\item[\code{envir}] environment to use, see \code{\LinkA{ls}{ls}}.
\item[\code{all.names}] logical indicating if names which begin with a
\code{.} are omitted; see \code{\LinkA{ls}{ls}}.
\item[\code{pattern}] a \LinkA{regular expression}{regular expression} passed to \code{\LinkA{ls}{ls}}.
Only names matching \code{pattern} are considered.
\item[\code{max.level}] maximal level of nesting which is applied for
displaying nested structures, e.g., a list containing sub lists.
Default 1: Display only the first nested level.
\item[\code{give.attr}] logical; if \code{TRUE} (default), show attributes
as sub structures.
\item[\code{mode}] character specifying the \code{\LinkA{mode}{mode}} of objects to
consider.  Passed to \code{\LinkA{exists}{exists}} and \code{\LinkA{get}{get}}.
\item[\code{x}] an object of class \code{"ls\_str"}.
\item[\code{...}] further arguments to pass.  \code{lsf.str} passes them to
\code{ls.str} which passes them on to \code{\LinkA{ls}{ls}}.  The
(non-exported) print method \code{print.ls\_str} passes them to
\code{\LinkA{str}{str}}.
\item[\code{digits}] the number of significant digits to use for printing.
\end{ldescription}
\end{Arguments}
%
\begin{Value}
\code{ls.str} and \code{lsf.str} return an object of class
\code{"ls\_str"}, basically the character vector of matching names
(functions only for \code{lsf.str}), similarly to
\code{\LinkA{ls}{ls}}, with a \code{print()} method that calls \code{\LinkA{str}{str}()}
on each object.
\end{Value}
%
\begin{Author}\relax
Martin Maechler
\end{Author}
%
\begin{SeeAlso}\relax
\code{\LinkA{str}{str}}, \code{\LinkA{summary}{summary}}, \code{\LinkA{args}{args}}.
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}
require(stats)

lsf.str()#- how do the functions look like which I am using?
ls.str(mode = "list") #- what are the structured objects I have defined?

## create a few objects
example(glm, echo = FALSE)
ll <- as.list(LETTERS)
print(ls.str(), max.level = 0)# don't show details

## which base functions have "file" in their name ?
lsf.str(pos = length(search()), pattern = "file")

## demonstrating that  ls.str() works inside functions
## ["browser/debug mode"]:
tt <- function(x, y=1) { aa <- 7; r <- x + y; ls.str() }
(nms <- sapply(strsplit(capture.output(tt(2))," *: *"), `[`, 1))
stopifnot(nms == c("aa", "r","x","y"))
\end{ExampleCode}
\end{Examples}
\HeaderA{maintainer}{Show Package Maintainer}{maintainer}
\keyword{utilities}{maintainer}
%
\begin{Description}\relax
Show the name and email address of the maintainer of a package.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
maintainer(pkg)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{pkg}] Character string.  The name of a single package.
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
Accesses the package description to return the name and email address of
the maintainer.  

Questions about contributed packages should often be addressed to
the package maintainer; questions about base packages should
usually be addressed to the R-help or R-devel mailing lists.  Bug
reports should be submitted using the \code{\LinkA{bug.report}{bug.report}}
function.
\end{Details}
%
\begin{Value}
A character string giving the name and email address of the maintainer
of the package, or \code{NA} if no such package is installed.
\end{Value}
%
\begin{Author}\relax
David Scott <d.scott@auckland.ac.nz> from code on R-help originally
due to Charlie Sharpsteen <source@sharpsteen.net>; multiple corrections
by R-core.
\end{Author}
%
\begin{References}\relax
\url{https://stat.ethz.ch/pipermail/r-help/2010-February/230027.html}
\end{References}
%
\begin{SeeAlso}\relax
\code{\LinkA{packageDescription}{packageDescription}}, \code{\LinkA{bug.report}{bug.report}}
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}
maintainer("MASS")
\end{ExampleCode}
\end{Examples}
\HeaderA{make.packages.html}{Update HTML Package List}{make.packages.html}
\keyword{utilities}{make.packages.html}
%
\begin{Description}\relax
Re-create the HTML list of packages.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
make.packages.html(lib.loc = .libPaths(), temp = FALSE,
                   verbose = TRUE, docdir = R.home("doc"))
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{lib.loc}] character vector.  List of libraries to be included.
\item[\code{temp}] logical: should the package indices be created in a
temporary location for use by the HTTP server?
\item[\code{verbose}] logical.  If true, print out a message.
On Windows, show a progress bar.

\item[\code{docdir}] If \code{temp} is false, directory in whose \file{html}
directory the \file{packages.html} file is to be created/updated.
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
This creates the \file{packages.html} file, either a temporary copy
for use by \code{\LinkA{help.start}{help.start}}, or the copy in
\file{\var{\LinkA{R\_HOME}{R.Rul.HOME}}\bsl{}doc\bsl{}html}
(for which you will need write permission).

It can be very slow, as all the package \file{DESCRIPTION} files in
all the library trees are read.

For \code{temp = TRUE} there is some caching of information, so the
file will only be re-created if \code{lib.loc} or any of the
directories it lists have been changed.
\end{Details}
%
\begin{Value}
Invisible logical, with \code{FALSE} indicating a failure to create
the file, probably due to lack of suitable permissions.
\end{Value}
%
\begin{SeeAlso}\relax
\code{\LinkA{help.start}{help.start}}
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}
## Not run: 
make.packages.html()
# this can be slow for large numbers of installed packages.

## End(Not run)
\end{ExampleCode}
\end{Examples}
\HeaderA{make.socket}{Create a Socket Connection}{make.socket}
\aliasA{print.socket}{make.socket}{print.socket}
\keyword{misc}{make.socket}
%
\begin{Description}\relax
With \code{server = FALSE} attempts to open a client socket to the
specified port and host.  With \code{server = TRUE} the \R{} process
listens on the specified port for a connection and then returns a
server socket.  It is a good idea to use \code{\LinkA{on.exit}{on.exit}} to
ensure that a socket is closed, as you only get 64 of them.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
make.socket(host = "localhost", port, fail = TRUE, server = FALSE)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{host}] name of remote host
\item[\code{port}] port to connect to/listen on
\item[\code{fail}] failure to connect is an error?
\item[\code{server}] a server socket?
\end{ldescription}
\end{Arguments}
%
\begin{Value}
An object of class \code{"socket"}, a list with components:
\begin{ldescription}
\item[\code{socket}] socket number.  This is for internal use.  On a
Unix-alike it is a file descriptor.
\item[\code{port}] port number of the connection.
\item[\code{host}] name of remote computer.
\end{ldescription}
\end{Value}
%
\begin{Section}{Warning}
I don't know if the connecting host name returned
when \code{server = TRUE} can be trusted.  I suspect not.
\end{Section}
%
\begin{Author}\relax
Thomas Lumley
\end{Author}
%
\begin{References}\relax
Adapted from Luke Tierney's code for \code{XLISP-Stat}, in turn
based on code from Robbins and Robbins ``Practical UNIX Programming''.
\end{References}
%
\begin{SeeAlso}\relax
\code{\LinkA{close.socket}{close.socket}}, \code{\LinkA{read.socket}{read.socket}}
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}
daytime <- function(host = "localhost"){
    a <- make.socket(host, 13)
    on.exit(close.socket(a))
    read.socket(a)
}
## Official time (UTC) from US Naval Observatory
## Not run: daytime("tick.usno.navy.mil")
\end{ExampleCode}
\end{Examples}
\HeaderA{memory.size}{Report on Memory Allocation}{memory.size}
\aliasA{memory.limit}{memory.size}{memory.limit}
\keyword{utilities}{memory.size}
%
\begin{Description}\relax
\code{memory.size} reports the current or maximum memory allocation of
the \code{malloc} function used in this version of \R{}.

\code{memory.limit} reports or increases the limit in force
on the total allocation.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
memory.size(max = FALSE)

memory.limit(size = NA)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{max}] logical.  If \code{TRUE} the maximum amount of memory
obtained from the OS is reported, if \code{FALSE} the amount
currently in use, if \code{NA} the memory limit.
\item[\code{size}] numeric.  If \code{NA} report the memory limit, otherwise
request a new limit, in Mb.  Only values of up to 4095 are allowed on
32-bit \R{} builds, but see `Details'.
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
Command-line flag \option{--max-mem-size} sets the maximum value of
obtainable memory (including a very small amount of housekeeping
overhead).  This cannot exceed 3Gb on 32-bit Windows, and most
versions are limited to 2Gb.  The minimum is currently 32Mb.

If 32-bit \R{} is run on most 64-bit versions of Windows the maximum
value of obtainable memory is just under 4Gb.  For a 64-bit versions
of \R{} under 64-bit Windows the limit is currently 8Tb.

Memory limits can only be increased.

Environment variable \env{R\_MAX\_MEM\_SIZE} provides another way to
specify the initial limit.
\end{Details}
%
\begin{Value}
Size in Mb (1048576 bytes), rounded to 0.01 Mb for \code{memory.size}
and rounded down for \code{memory.limit}.
\end{Value}
%
\begin{SeeAlso}\relax
\LinkA{Memory-limits}{Memory.Rdash.limits} for other limits.

The rw-FAQ for more details and references.
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}
memory.size()
memory.size(TRUE)
memory.limit()
\end{ExampleCode}
\end{Examples}
\HeaderA{menu}{Menu Interaction Function}{menu}
\keyword{utilities}{menu}
\keyword{programming}{menu}
%
\begin{Description}\relax
\code{menu} presents the user with a menu of choices labelled from 1
to the number of choices.  To exit without choosing an item one can
select \samp{0}.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
menu(choices, graphics = FALSE, title = NULL)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{choices}] a character vector of choices
\item[\code{graphics}] a logical indicating whether a graphics menu should be
used if available.
\item[\code{title}] a character string to be used as the title of the menu.
\code{NULL} is also accepted.
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
If \code{graphics = TRUE} and a windowing system is available
(Windows, Mac OS X or X11 \emph{via} Tcl/Tk) a listbox widget is
used, otherwise a text menu.  It is an error to use \code{menu} in a
non-interactive session.

Ten or fewer items will be displayed in a single column, more in
multiple columns if possible within the current display width.

No title is displayed if \code{title} is \code{NULL} or \code{""}.
\end{Details}
%
\begin{Value}
The number corresponding to the selected item, or 0 if no choice was
made.
\end{Value}
%
\begin{References}\relax
Becker, R. A., Chambers, J. M. and Wilks, A. R. (1988)
\emph{The New S Language}.
Wadsworth \& Brooks/Cole.
\end{References}
%
\begin{SeeAlso}\relax
\code{\LinkA{select.list}{select.list}}, which is used to implement the graphical
menu, and allows multiple selections.
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}
## Not run: 
switch(menu(c("List letters", "List LETTERS")) + 1,
       cat("Nothing done\n"), letters, LETTERS)

## End(Not run)
\end{ExampleCode}
\end{Examples}
\HeaderA{methods}{List Methods for S3 Generic Functions or Classes}{methods}
\aliasA{print.MethodsFunction}{methods}{print.MethodsFunction}
\keyword{methods}{methods}
%
\begin{Description}\relax
List all available methods for an S3 generic function, or all
methods for a class.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
methods(generic.function, class)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{generic.function}] a generic function, or a character string naming a
generic function.
\item[\code{class}] a symbol or character string naming a class: only used if
\code{generic.function} is not supplied.
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
Function \code{methods} can be used to find out about the methods for
a particular generic function or class.  The functions listed are those
which \emph{are named like methods} and may not actually be methods
(known exceptions are discarded in the code).  Note that the listed
methods may not be user-visible objects, but often help will be
available for them.

If \code{class} is used, we check that a matching generic can be found
for each user-visible object named.  If \code{generic.function} is
given, there is a warning if it appears not to be a generic function.
(The check for being generic used can be fooled.)
\end{Details}
%
\begin{Value}
An object of class \code{"MethodsFunction"}, a
character vector of function names with an \code{"info"} attribute.
There is a \code{print} method which marks with an asterisk any
methods which are not visible: such functions can be examined by
\code{\LinkA{getS3method}{getS3method}} or \code{\LinkA{getAnywhere}{getAnywhere}}.

The \code{"info"} attribute is a data frame, currently with a
logical column, \code{visible} and a factor column \code{from}
(indicating where the methods were found).
\end{Value}
%
\begin{Note}\relax
This scheme is called \emph{S3} (S version 3).  For new projects,
it is recommended to use the more flexible and robust \emph{S4} scheme
provided in the \pkg{methods} package.  Functions can have both S3
and S4 methods, and function \code{\LinkA{showMethods}{showMethods}} will
list the S4 methods (possibly none).

The original \code{methods} function was written by Martin Maechler.
\end{Note}
%
\begin{References}\relax
Chambers, J. M. (1992)
\emph{Classes and methods: object-oriented programming in S.}
Appendix A of \emph{Statistical Models in S}
eds J. M. Chambers and T. J. Hastie, Wadsworth \& Brooks/Cole.
\end{References}
%
\begin{SeeAlso}\relax
\code{\LinkA{S3Methods}{S3Methods}}, \code{\LinkA{class}{class}}, \code{\LinkA{getS3method}{getS3method}}.

For S4, \code{\LinkA{showMethods}{showMethods}}, \code{\LinkA{Methods}{Methods}}.
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}
require(stats)

methods(summary)
methods(class = "aov")
methods("[[")    # uses C-internal dispatching
methods("$")
methods("$<-")   # replacement function
methods("+")     # binary operator
methods("Math")  # group generic
require(graphics)
methods("axis")  # looks like it has methods, but not generic
## Not run: 
methods(print)   # over 100

## End(Not run)
## --> help(showMethods) for related examples
\end{ExampleCode}
\end{Examples}
\HeaderA{mirrorAdmin}{Managing Repository Mirrors}{mirrorAdmin}
\aliasA{checkCRAN}{mirrorAdmin}{checkCRAN}
\aliasA{mirror2html}{mirrorAdmin}{mirror2html}
\keyword{misc}{mirrorAdmin}
%
\begin{Description}\relax
Functions helping to maintain CRAN, some of them may also be useful
for administrators of other repository networks.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
mirror2html(mirrors = NULL, file = "mirrors.html",
  head = "mirrors-head.html", foot = "mirrors-foot.html")
checkCRAN(method)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{mirrors}] A data frame, by default the CRAN list of mirrors is used.
\item[\code{file}] A \LinkA{connection}{connection} or a character string.
\item[\code{head}] Name of optional header file.
\item[\code{foot}] Name of optional footer file.
\item[\code{method}] Download method, see \code{download.file}.
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
\code{mirror2html} creates the HTML file for the CRAN list of mirrors
and invisibly returns the HTML text.

\code{checkCRAN} performs a sanity checks on all CRAN mirrors.
\end{Details}
\HeaderA{modifyList}{Recursively Modify Elements of a List}{modifyList}
\keyword{utilities}{modifyList}
%
\begin{Description}\relax
Modifies a possibly nested list recursively by changing a subset of
elements at each level to match a second list.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
modifyList(x, val)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{x}] a named \code{\LinkA{list}{list}}, possibly empty.
\item[\code{val}] a named list with components to replace corresponding
components in \code{x}.
\end{ldescription}
\end{Arguments}
%
\begin{Value}
A modified version of \code{x}, with the modifications determined as
follows (here, list elements are identified by their names).  Elements
in \code{val} which are missing from \code{x} are added to \code{x}.
For elements that are common to both but are not both lists
themselves, the component in \code{x} is replaced by the one in
\code{val}.  For common elements that are both lists, \code{x[[name]]}
is replaced by \code{modifyList(x[[name]], val[[name]])}.
\end{Value}
%
\begin{Author}\relax
 Deepayan Sarkar \email{Deepayan.Sarkar@R-project.org}
\end{Author}
%
\begin{Examples}
\begin{ExampleCode}
foo <- list(a = 1, b = list(c = "a", d = FALSE))
bar <- modifyList(foo, list(e = 2, b = list(d = TRUE)))
str(foo)
str(bar)
\end{ExampleCode}
\end{Examples}
\HeaderA{news}{Build and Query R or Package News Information}{news}
%
\begin{Description}\relax
Build and query the news for R or add-on packages.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
news(query, package = "R", lib.loc = NULL, format = NULL,
     reader = NULL, db = NULL)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{query}] an expression for selecting news entries
\item[\code{package}] a character string giving the name of an installed
add-on package, or \code{"R"}.
\item[\code{lib.loc}] a character vector of directory names of R libraries,
or \code{NULL}.  The default value of \code{NULL} corresponds to all
libraries currently known.
\item[\code{format}] Not yet used.
\item[\code{reader}] Not yet used.
\item[\code{db}] a news db obtained from \code{news()}.
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
If \code{package} is \code{"R"} (default), a news db is built with the
news since the 2.10.0 release of R (corresponding to R's top-level
\file{NEWS} file).  Otherwise, if the given add-on package can be
found in the given libraries, it is attempted to read its news in
structured form from files \file{inst/NEWS.Rd}, \file{NEWS} or
\file{inst/NEWS} (in that order).

File \file{inst/NEWS.Rd} should be an Rd file given the entries as Rd
\AsIs{\bsl{}itemize} lists, grouped according to version using
\AsIs{section} elements with names starting with a suitable prefix
(e.g, ``Changes in version'' followed by a space and the version
number, and optionally followed by a space and a parenthesized ISO
8601 (\%Y-\%m-\%d, see \code{\LinkA{strptime}{strptime}}) format date, and
possibly further grouped according to categories using
\AsIs{\bsl{}subsection} elements named as the categories.

The plain text \file{NEWS} files in add-on packages use a variety of
different formats; the default news reader should be capable to
extract individual news entries from a majority of packages from the
standard repositories, which use (slight variations of) the following
format:

\begin{itemize}

\item Entries are grouped according to version, with version header
``Changes in version'' at the beginning of a line, followed by
a version number, optionally followed by an ISO 8601 format date,
possibly parenthesized.
\item Entries may be grouped according to category, with a category
header (different from a version header) starting at the beginning
of a line.
\item Entries are written as itemize-type lists, using one of
\samp{o}, \samp{*}, \samp{-} or \samp{+} as item tag.  Entries must
be indented, and ideally use a common indentation for the item
texts.

\end{itemize}


Additional formats and readers may be supported in the future.

Package \pkg{tools} provides an (internal) utility function
\code{news2Rd} to convert plain text \file{NEWS} files to Rd.  For
\file{NEWS} files in a format which can successfully be handled by the
default reader, package maintainers can use \code{tools:::news2Rd(dir,
    "NEWS.Rd")}, possibly with additional argument \code{codify = TRUE},
with \code{dir} a character string specifying the path to a package's
root directory.  Upon success, the \file{NEWS.Rd} file can further be
improved and then be moved to the \file{inst} subdirectory of the
package source directory.

The news db built is a character data frame inheriting from
\code{"news\_db"} with variables \code{Version}, \code{Category},
\code{Date} and \code{Text}, where the last contains the entry texts
read, and the other variables may be \code{NA} if they were missing or
could not be determined.

Using \code{query}, one can select news entries from the db.  If
missing or \code{NULL}, the complete db is returned.  Otherwise,
\code{query} should be an expression involving (a subset of) the
variables \code{Version}, \code{Category}, \code{Date} and
\code{Text}, and when evaluated within the db returning a logical
vector with length the number of entries in the db.  The entries for
which evaluation gave \code{TRUE} are selected.  When evaluating,
\code{Version} and \code{Date} are coerced to
\code{\LinkA{numeric\_version}{numeric.Rul.version}} and \code{\LinkA{Date}{Date}} objects,
respectively, so that the comparison operators for these classes can
be employed.
\end{Details}
%
\begin{Value}
An data frame inheriting from class \code{"news\_db"}.
\end{Value}
%
\begin{Examples}
\begin{ExampleCode}

## Build a db of all R news entries.
db <- news()
## Bug fixes with PR number in 2.11.0.
news(Version == "2.11.0" & grepl("^BUG", Category) & grepl("PR#", Text),
     db = db)
## Which categories have been in use? % R-core maybe should standardize a bit more
sort(table(db[,"Category"]), decreasing=TRUE)
## Entries with version >= 2.10.1 (including "2.10.1 patched"):
table(news(Version >= "2.10.1", db = db)$Version)
\end{ExampleCode}
\end{Examples}
\HeaderA{object.size}{Report the Space Allocated for an Object}{object.size}
\aliasA{print.object\_size}{object.size}{print.object.Rul.size}
\keyword{utilities}{object.size}
%
\begin{Description}\relax
Provides an estimate of the memory that is being used to store an \R{} object.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
object.size(x)

## S3 method for class 'object_size'
print(x, quote = FALSE, units = "b", ...)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{x}] An \R{} object.
\item[\code{quote}] logical, indicating whether or not the result should be
printed with surrounding quotes.
\item[\code{units}] The units to be used in printing the size.  Other allowed
values are \code{"Kb"}, \code{"Mb"}, \code{"Gb"} and \code{"auto"}
(see `Details').
As from \R{} 2.14.0, \code{"KB"} etc are also accepted.
\item[\code{...}] Arguments to be passed to or from other methods.
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
Exactly which parts of the memory allocation should be attributed to
which object is not clear-cut.  This function merely provides a rough
indication: it should be reasonably accurate for atomic vectors, but
does not detect if elements of a list are shared, for example.
(Sharing amongst elements of a character vector is taken into account,
but not that between character vectors in a single object.)

The calculation is of the size of the object, and excludes the space
needed to store its name in the symbol table.

Associated space (e.g. the environment of a function and what the
pointer in a \code{EXTPTRSXP} points to) is not included in the
calculation.

Object sizes are larger on 64-bit builds than 32-bit ones, but will
very likely be the same on different platforms with the same word
length and pointer size.

\code{units = "auto"} in the \code{print} method chooses the largest
units in which the result is one or more (before rounding).  Values in
kilobytes, megabytes or gigabytes are rounded to the nearest \code{0.1}.
\end{Details}
%
\begin{Value}
An object of class \code{"object\_size"} with a length-one double value,
an estimate of the memory allocation attributable to the object in bytes.
\end{Value}
%
\begin{SeeAlso}\relax
\code{\LinkA{Memory-limits}{Memory.Rdash.limits}} for the design limitations on object size.
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}
object.size(letters)
object.size(ls)
print(object.size(library), units = "auto")
## find the 10 largest objects in the base package
z <- sapply(ls("package:base"), function(x)
            object.size(get(x, envir = baseenv())))
as.matrix(rev(sort(z))[1:10])
\end{ExampleCode}
\end{Examples}
\HeaderA{package.skeleton}{Create a Skeleton for a New Source Package}{package.skeleton}
\keyword{file}{package.skeleton}
\keyword{utilities}{package.skeleton}
%
\begin{Description}\relax
\code{package.skeleton} automates some of the setup for a new source
package.  It creates directories, saves functions, data, and R code files to
appropriate places, and creates skeleton help files and a
\file{Read-and-delete-me} file describing further steps in packaging.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
package.skeleton(name = "anRpackage", list,
                 environment = .GlobalEnv,
                 path = ".", force = FALSE, namespace = TRUE,
                 code_files = character())
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{name}] character string: the package name and directory name for
your package.
\item[\code{list}] character vector naming the \R{} objects to put in the
package.  Usually, at most one of \code{list}, \code{environment},
or \code{code\_files} will be supplied.  See `Details'.
\item[\code{environment}] an environment where objects are looked for.  See
`Details'.
\item[\code{path}] path to put the package directory in.
\item[\code{force}] If \code{FALSE} will not overwrite an existing directory.
\item[\code{namespace}] a logical, no longer used, and hence deprecated.  A
\code{NAMESPACE} file is always created to export all objects whose
names begin with a letter, plus all S4 methods and classes.
\item[\code{code\_files}] a character vector with the paths to R code files to
build the package around.  See `Details'.
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
The arguments \code{list}, \code{environment}, and \code{code\_files}
provide alternative ways to initialize the package.  If
\code{code\_files} is supplied, the files so named will be sourced to
form the environment, then used to generate the package skeleton.
Otherwise \code{list} defaults to the non-hidden files in
\code{environment} (those whose name does not start with \code{.}),
but can be supplied to select a subset of the objects in that
environment.

Stubs of help files are generated for functions, data objects, and
S4 classes and methods, using the \code{\LinkA{prompt}{prompt}},
\code{\LinkA{promptClass}{promptClass}},  and \code{\LinkA{promptMethods}{promptMethods}} functions.

The package sources are placed in subdirectory \code{name} of
\code{path}.  If \code{code\_files} is supplied, these files are
copied; otherwise, objects will be dumped into individual source
files.
The file names in \code{code\_files} should  have suffix \code{".R"} and
be in the current working directory.

The filenames created for source and documentation try to be valid for
all OSes known to run R.  Invalid characters are replaced by \samp{\_},
invalid names are preceded by \samp{zz}, names are converted to lower
case (to avoid case collisions on case-insensitive file systems) and
finally the converted names are made unique by
\code{\LinkA{make.unique}{make.unique}(sep = "\_")}.  This can be done for code and
help files but not data files (which are looked for by name). Also,
the code and help files should have names starting with an ASCII
letter or digit, and this is checked and if necessary \code{z}
prepended.

When you are done, delete the \file{Read-and-delete-me} file, as it
should not be distributed.
\end{Details}
%
\begin{Value}
Used for its side-effects.
\end{Value}
%
\begin{References}\relax
Read the \emph{Writing R Extensions} manual for more details.

Once you have created a \emph{source} package you need to install it:
see the \emph{R Installation and Administration} manual,
\code{\LinkA{INSTALL}{INSTALL}} and \code{\LinkA{install.packages}{install.packages}}.
\end{References}
%
\begin{SeeAlso}\relax
\code{\LinkA{prompt}{prompt}}, \code{\LinkA{promptClass}{promptClass}}, and
\code{\LinkA{promptMethods}{promptMethods}}.
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}
require(stats)
## two functions and two "data sets" :
f <- function(x,y) x+y
g <- function(x,y) x-y
d <- data.frame(a=1, b=2)
e <- rnorm(1000)

package.skeleton(list=c("f","g","d","e"), name="mypkg")

\end{ExampleCode}
\end{Examples}
\HeaderA{packageDescription}{Package Description}{packageDescription}
\aliasA{packageVersion}{packageDescription}{packageVersion}
\aliasA{print.packageDescription}{packageDescription}{print.packageDescription}
\keyword{utilities}{packageDescription}
%
\begin{Description}\relax
Parses and returns the \file{DESCRIPTION} file of a package.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
packageDescription(pkg, lib.loc = NULL, fields = NULL,
                   drop = TRUE, encoding = "")
packageVersion(pkg, lib.loc = NULL)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{pkg}] a character string with the package name.
\item[\code{lib.loc}] a character vector of directory names of \R{} libraries,
or \code{NULL}.  The default value of \code{NULL} corresponds to all
libraries currently known.  If the default is used, the loaded
packages are searched before the libraries.
\item[\code{fields}] a character vector giving the tags of fields to return
(if other fields occur in the file they are ignored).
\item[\code{drop}] If \code{TRUE} and the length of \code{fields} is 1, then
a single character string with the value of the respective field is
returned instead of an object of class \code{"packageDescription"}.
\item[\code{encoding}] If there is an \code{Encoding} field, to what encoding
should re-encoding be attempted?  If \code{NA}, no re-encoding.  The
other values are as used by \code{\LinkA{iconv}{iconv}}, so the default
\code{""} indicates the encoding of the current locale.
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
A package will not be `found' unless it has a \file{DESCRIPTION} file
which contains a valid \code{Version} field.  Different warnings are
given when no package directory is found and when there is a suitable
directory but no valid \file{DESCRIPTION} file.

An \LinkA{attach}{attach}ed environment named to look like a package
(e.g. \code{package:utils2}) will be ignored.

\code{packageVersion()} is a convenience shortcut, allowing things
like \code{if (packageVersion("MASS") < "7.3") \{ do.things \} }.
\end{Details}
%
\begin{Value}
If a \file{DESCRIPTION} file for the given package is found and can
successfully be read, \code{packageDescription} returns an object of
class \code{"packageDescription"}, which is a named list with the
values of the (given) fields as elements and the tags as names, unless
\code{drop = TRUE}.

If parsing the \file{DESCRIPTION} file was not successful, it returns
a named list of \code{NA}s with the field tags as names if \code{fields}
is not null, and \code{NA} otherwise.

\code{packageVersion()} returns a (length-one) object of class
\code{"\LinkA{package\_version}{package.Rul.version}"}.
\end{Value}
%
\begin{SeeAlso}\relax
\code{\LinkA{read.dcf}{read.dcf}}
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}

packageDescription("stats")
packageDescription("stats", fields = c("Package", "Version"))

packageDescription("stats", fields = "Version")
packageDescription("stats", fields = "Version", drop = FALSE)

if(packageVersion("MASS") < "7.3")
  message("you need to update 'MASS'")
\end{ExampleCode}
\end{Examples}
\HeaderA{packageStatus}{Package Management Tools}{packageStatus}
\aliasA{print.packageStatus}{packageStatus}{print.packageStatus}
\aliasA{summary.packageStatus}{packageStatus}{summary.packageStatus}
\aliasA{update.packageStatus}{packageStatus}{update.packageStatus}
\aliasA{upgrade}{packageStatus}{upgrade}
\methaliasA{upgrade.packageStatus}{packageStatus}{upgrade.packageStatus}
\keyword{utilities}{packageStatus}
%
\begin{Description}\relax
Summarize information about installed packages and packages
available at various repositories, and automatically upgrade outdated
packages.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
packageStatus(lib.loc = NULL, repositories = NULL, method,
              type = getOption("pkgType"))

## S3 method for class 'packageStatus'
summary(object, ...)

## S3 method for class 'packageStatus'
update(object, lib.loc = levels(object$inst$LibPath),
       repositories = levels(object$avail$Repository), ...)

## S3 method for class 'packageStatus'
upgrade(object, ask = TRUE, ...)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{lib.loc}] a character vector describing the location of \R{}
library trees to search through, or \code{NULL}.  The default value
of \code{NULL} corresponds to all libraries currently known.
\item[\code{repositories}] a character vector of URLs describing the location of \R{}
package repositories on the Internet or on the local machine.
\item[\code{method}] Download method, see \code{\LinkA{download.file}{download.file}}.
\item[\code{type}] type of package distribution:
see \code{\LinkA{install.packages}{install.packages}}.
\item[\code{object}] an object of class \code{"packageStatus"} as returned by
\code{packageStatus}.
\item[\code{ask}] if \code{TRUE}, the user is prompted which packages should
be upgraded and which not.
\item[\code{...}] currently not used.
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
The URLs in \code{repositories} should be full paths to the
appropriate contrib sections of the repositories.  The default is
\code{contrib.url(getOption("repos"))}.

There are \code{print} and \code{summary} methods for the
\code{"packageStatus"} objects: the \code{print} method gives a brief
tabular summary and the \code{summary} method prints the results.

The \code{update} method updates the \code{"packageStatus"} object.
The \code{upgrade} method is similar to \code{\LinkA{update.packages}{update.packages}}:
it offers to install the current versions of those packages which are not
currently up-to-date.
\end{Details}
%
\begin{Value}
An object of class \code{"packageStatus"}.  This is a list with two
components

\begin{ldescription}
\item[\code{inst}] a data frame with columns as the \emph{matrix} returned by
\code{\LinkA{installed.packages}{installed.packages}} plus \code{"Status"}, a factor with
levels \code{c("ok", "upgrade")}.  Only the newest version of each
package is reported, in the first repository in which it appears.


\item[\code{avail}] a data frame with columns as the \emph{matrix} returned by
\code{\LinkA{available.packages}{available.packages}} plus \code{"Status"}, a factor with
levels \code{c("installed", "not installed", "unavailable")}..


\end{ldescription}
For the \code{summary} method the result is also of class
\code{"summary.packageStatus"} with additional components

\begin{ldescription}
\item[\code{Libs}] a list with one element for each library
\item[\code{Repos}] a list with one element for each repository

\end{ldescription}
with the elements being lists of character vectors of package name for
each status.
\end{Value}
%
\begin{SeeAlso}\relax
\code{\LinkA{installed.packages}{installed.packages}}, \code{\LinkA{available.packages}{available.packages}}
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}
## Not run: 
x <- packageStatus()
print(x)
summary(x)
upgrade(x)
x <- update(x)
print(x)

## End(Not run)
\end{ExampleCode}
\end{Examples}
\HeaderA{page}{Invoke a Pager on an R Object}{page}
\keyword{utilities}{page}
%
\begin{Description}\relax
Displays a representation of the object named by \code{x} in a pager
\emph{via} \code{\LinkA{file.show}{file.show}}.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
page(x, method = c("dput", "print"), ...)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{x}] An \R{} object, or a character string naming an object.
\item[\code{method}] The default method is to dump the object \emph{via}
\code{\LinkA{dput}{dput}}.  An alternative is to use \code{print} and
capture the output to be shown in the pager.
\item[\code{...}] additional arguments for \code{\LinkA{dput}{dput}},
\code{\LinkA{print}{print}} or \code{\LinkA{file.show}{file.show}} (such as \code{title}).
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
If \code{x} is a length-one character vector, it is used as the name
of an object to look up in the environment from which \code{page} is
called.   All other objects are displayed directly.

A default value of \code{title} is passed to \code{file.show} if one
is not supplied in \code{...}.
\end{Details}
%
\begin{SeeAlso}\relax
\code{\LinkA{file.show}{file.show}}, \code{\LinkA{edit}{edit}}, \code{\LinkA{fix}{fix}}.

To go to a new page when graphing, see \code{\LinkA{frame}{frame}}.
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}
## Not run: ## four ways to look at the code of 'page'
page(page)             # as an object
page("page")           # a character string
v <- "page"; page(v)   # a length-one character vector
page(utils::page)      # a call

## End(Not run)
\end{ExampleCode}
\end{Examples}
\HeaderA{person}{Persons}{person}
\aliasA{\$.person}{person}{.Rdol..person}
\aliasA{as.character.person}{person}{as.character.person}
\aliasA{as.person}{person}{as.person}
\methaliasA{as.person.default}{person}{as.person.default}
\aliasA{as.personList}{person}{as.personList}
\methaliasA{as.personList.default}{person}{as.personList.default}
\methaliasA{as.personList.person}{person}{as.personList.person}
\aliasA{c.person}{person}{c.person}
\aliasA{format.person}{person}{format.person}
\aliasA{personList}{person}{personList}
\aliasA{print.person}{person}{print.person}
\aliasA{toBibtex.person}{person}{toBibtex.person}
\aliasA{[.person}{person}{[.person}
\keyword{misc}{person}
%
\begin{Description}\relax
A class and utility methods for holding information about persons
like name and email address.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
person(given = NULL, family = NULL, middle = NULL,
       email = NULL, role = NULL, comment = NULL,
       first = NULL, last = NULL)
## Default S3 method:
as.person(x)
## S3 method for class 'person'
format(x,
       include = c("given", "family", "email", "role", "comment"),
       braces = list(given = "", family = "", email = c("<", ">"),
                     role = c("[", "]"), comment = c("(", ")")), 
       collapse = list(given = " ", family = " ", email = ", ",
                       role = ", ", comment = ", "),
       ...
       )
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{given}] a character vector with the \emph{given} names,
or a list thereof.
\item[\code{family}] a character string with the \emph{family} name,
or a list thereof.
\item[\code{middle}] a character string with the collapsed middle name(s).
Deprecated, see \bold{Details}.
\item[\code{email}] a character string giving the email address,
or a list thereof.
\item[\code{role}] a character string specifying the role of the person (see
\bold{Details}),
or a list thereof.
\item[\code{comment}] a character string providing a comment,
or a list thereof.
\item[\code{first}] a character string giving the first name.
Deprecated, see \bold{Details}.
\item[\code{last}] a character string giving the last name.
Deprecated, see \bold{Details}.
\item[\code{x}] a character string for the \code{as.person} default method;
an object of class \code{"person"} otherwise.
\item[\code{include}] a character vector giving the fields to be included
when formatting.
\item[\code{braces}] a list of characters (see \bold{Details}).
\item[\code{collapse}] a list of characters (see \bold{Details}).
\item[\code{...}] currently not used. 
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
Objects of class \code{"person"} can hold information about an
arbitrary positive number of persons.  These can be obtained by one
call to \code{person()} with list arguments, or by first creating
objects representing single persons and combining these via
\code{c()}.

The \code{format()} method collapses information about persons into
character vectors (one string for each person): the fields in
\code{include} are selected, each collapsed to a string using the
respective element of \code{collapse} and subsequently
``embraced'' using the respective element of \code{braces}, and
finally collapsed into one string separated by white space.  If
\code{braces} and/or \code{collapse} do not specify characters for all
fields, the defaults shown in the usage are imputed.  The
\code{print()} method calls the \code{format()} method and prints the
result, the \code{toBibtex()} method creates a suitable BibTeX
representation.

Person objects can be subscripted by fields (using \code{\$}) or by
position (using \code{[}).

\code{as.person()} is a generic function.  Its default method tries to
reverse the default person formatting, and can also handle formatted
person entries collapsed by comma or \code{"and"} (with appropriate
white space).

Personal names are rather tricky, e.g.,
\url{http://en.wikipedia.org/wiki/Personal_name}.

The current implementation (starting from R 2.12.0) of the
\code{"person"} class uses the notions of \emph{given} (including
middle names) and \emph{family} names, as specified by \code{given}
and \code{family} respectively.  Earlier versions used a scheme based
on first, middle and last names, as appropriate for most of Western
culture where the given name precedes the family name, but not
universal, as some other cultures place it after the family name, or
use no family name.  To smooth the transition to the new scheme,
arguments \code{first}, \code{middle} and \code{last} are still
supported, but their use is deprecated and they must not be given in
combination with the corresponding new style arguments.

The new scheme also adds the possibility of specifying \emph{roles}
based on a subset of the MARC Value List for Relators and Roles
(\url{http://www.loc.gov/standards/sourcelist/relator-role.html}).
When giving the roles of persons in the context of authoring \R{}
packages, the following usage is suggested.
\begin{description}

\item[\code{"aut"}] (Author) Use for full authors who have made
substantial contributions to the package and should show up in the
package citation.
\item[\code{"com"}] (Compiler) Use for persons who collected code
(potentially in other languages) but did not make further
substantial contributions to the package. 
\item[\code{"ctb"}] (Contributor) Use for authors who have made
smaller contributions (such as code patches etc.) but should not
show up in the package citation.
\item[\code{"cph"}] (Copyright holder) Use for all copyright holders.
\item[\code{"cre"}] (Creator) Use for the package maintainer.
\item[\code{"ths"}] (Thesis advisor) If the package is part of a
thesis, use for the thesis advisor.
\item[\code{"trl"}] (Translator) If the R code is a translation from
another language (typically S), use for the translator to R.

\end{description}


In the old scheme, person objects were used for single persons, and a
separate \code{"personList"} class with corresponding creator
\code{personList()} for collections of these.  The new scheme employs
a single class for information about an arbitrary positive number of
persons, eliminating the need for the \code{personList} mechanism.
\end{Details}
%
\begin{Value}
\code{person()} and \code{as.person()} return objects of class
\code{"person"}.
\end{Value}
%
\begin{SeeAlso}\relax
\code{\LinkA{citation}{citation}}
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}
## Create a person object directly ...
p1 <- person("Karl", "Pearson", email = "pearson@stats.heaven")

## ... or convert a string.
p2 <- as.person("Ronald Aylmer Fisher")

## Combining and subsetting.
p <- c(p1, p2)
p[1]
p[-1]

## Extracting fields.
p$family
p$email
p[1]$email

## Specifying package authors, example from "boot":
## AC is the first author [aut] who wrote the S original.
## BR is the second author [aut], who translated the code to R [trl],
## and maintains the package [cre].
b <- c(person("Angelo", "Canty", role = "aut", comment =
         "S original, http://statwww.epfl.ch/davison/BMA/library.html"),
       person(c("Brian", "D."), "Ripley", role = c("aut", "trl", "cre"),
              comment = "R port", email = "ripley@stats.ox.ac.uk")
     )
b

## Formatting.
format(b)
format(b, include = c("family", "given", "role"),
   braces = list(family = c("", ","), role = c("(Role(s): ", ")")))

## Conversion to BibTeX author field.
paste(format(b, include = c("given", "family")), collapse = " and ")
toBibtex(b)
\end{ExampleCode}
\end{Examples}
\HeaderA{PkgUtils}{Utilities for Building and Checking Add-on Packages}{PkgUtils}
\aliasA{build}{PkgUtils}{build}
\aliasA{check}{PkgUtils}{check}
\keyword{utilities}{PkgUtils}
%
\begin{Description}\relax
Utilities for checking whether the sources of an \R{} add-on package
work correctly, and for building a source package from them.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
R CMD check [options] pkgdirs
R CMD build [options] pkgdirs
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{pkgdirs}] a list of names of directories with sources of \R{}
add-on packages.  For \code{check} these can also be the filenames of
compressed \command{tar} archives with extension \file{.tar.gz},
\file{.tgz}, \file{.tar.bz2} or \file{.tar.xz} (where supported by
\command{tar}).
\item[\code{options}] further options to control the processing, or for
obtaining information about usage and version of the utility.
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
\command{R CMD check}
checks \R{} add-on packages from their sources, performing a wide
variety of diagnostic checks.

\command{R CMD build} builds \R{} source tarballs.  The name(s) of the
packages are taken from the \file{DESCRIPTION} files and not from the
directory names.  As from \R{} 2.13.0 this works entirely on a copy of
the supplied source directories.

Use \command{R CMD \var{foo} --help} to obtain usage information on
utility \code{\var{foo}}.

The defaults for some of the options to \command{R CMD build} can be
set by environment variables \env{\_R\_BUILD\_RESAVE\_DATA\_} and
\env{\_R\_BUILD\_COMPACT\_VIGNETTES\_}: see `Writing \R{} Extensions'.
Many of the checks in \command{R CMD check} can be turned off or on by
environment variables: see Chapter 6 of the `R Internals' manual.

\command{R CMD build} uses the external \command{tar} program given by
the \env{TAR} environment variable (which is set when \R{} was
configured on a Unix-alike).

\command{R CMD check} by default unpacks tarballs by the internal
\code{\LinkA{untar}{untar}} function: if needed an external \command{tar}
command can be specified by the environment variable
\env{R\_INSTALL\_TAR}: please ensure that it can handle the type of
compression used on the tarball.  (This is sometimes needed for
tarballs containing invalid or unsupported sections, and can be faster
on very large tarballs.  Setting \env{R\_INSTALL\_TAR} to \samp{tar.exe}
has been needed to overcome permissions issues on some Windows
systems.)
\end{Details}
%
\begin{Note}\relax
They make use of a temporary directory specified by the environment
variable \code{TMPDIR} and defaulting to \samp{c:/TEMP}.  Do ensure
that if set forward slashes are used.
\end{Note}
%
\begin{SeeAlso}\relax
The sections on ``Checking and building packages'' and
``Processing Rd format'' in ``Writing \R{} Extensions''
(see the Manuals sub-menu of the Help menu on the console).
\end{SeeAlso}
\HeaderA{prompt}{Produce Prototype of an R Documentation File}{prompt}
\methaliasA{prompt.data.frame}{prompt}{prompt.data.frame}
\methaliasA{prompt.default}{prompt}{prompt.default}
\keyword{documentation}{prompt}
%
\begin{Description}\relax
Facilitate the constructing of files documenting \R{} objects.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
prompt(object, filename = NULL, name = NULL, ...)

## Default S3 method:
prompt(object, filename = NULL, name = NULL,
       force.function = FALSE, ...)

## S3 method for class 'data.frame'
prompt(object, filename = NULL, name = NULL, ...)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{object}] an \R{} object, typically a function for the default
method.  Can be \code{\LinkA{missing}{missing}} when \code{name} is specified.
\item[\code{filename}] usually, a \LinkA{connection}{connection} or a character string giving the
name of the file to which the documentation shell should be written.
The default corresponds to a file whose name is \code{name} followed
by \code{".Rd"}.  Can also be \code{NA} (see below).
\item[\code{name}] a character string specifying the name of the object.
\item[\code{force.function}] a logical.  If \code{TRUE}, treat \code{object}
as function in any case.
\item[\code{...}] further arguments passed to or from other methods.
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
Unless \code{filename} is \code{NA}, a documentation shell for
\code{object} is written to the file specified by \code{filename}, and
a message about this is given.  For function objects, this shell
contains the proper function and argument names.  R documentation
files thus created still need to be edited and moved into the
\file{man} subdirectory of the package containing the object to be
documented.

If \code{filename} is \code{NA}, a list-style representation of the
documentation shell is created and returned.  Writing the shell to a
file amounts to \code{cat(unlist(x), file = filename, sep = "\bsl{}n")},
where \code{x} is the list-style representation.

When \code{prompt} is used in \code{\LinkA{for}{for}} loops or scripts, the
explicit \code{name} specification will be useful.
\end{Details}
%
\begin{Value}
If \code{filename} is \code{NA}, a list-style representation of the
documentation shell.  Otherwise, the name of the file written to is
returned invisibly.
\end{Value}
%
\begin{Section}{Warning}
The default filename may not be a valid filename under limited file
systems (e.g. those on Windows).

Currently, calling \code{prompt} on a non-function object assumes that
the object is in fact a data set and hence documents it as such.  This
may change in future versions of \R{}.  Use \code{\LinkA{promptData}{promptData}} to
create documentation skeletons for data sets.
\end{Section}
%
\begin{Note}\relax
The documentation file produced by \code{prompt.data.frame} does not
have the same format as many of the data frame documentation files in
the \pkg{base} package.  We are trying to settle on a preferred
format for the documentation.
\end{Note}
%
\begin{Author}\relax
Douglas Bates for \code{prompt.data.frame}
\end{Author}
%
\begin{References}\relax
Becker, R. A., Chambers, J. M. and Wilks, A. R. (1988)
\emph{The New S Language}.
Wadsworth \& Brooks/Cole.
\end{References}
%
\begin{SeeAlso}\relax
\code{\LinkA{promptData}{promptData}}, \code{\LinkA{help}{help}} and the chapter on
``Writing \R{} documentation'' in ``Writing \R{} Extensions''
(see the \file{doc/manual} subdirectory of the \R{} source tree).

For creation of many help pages (for a package),
see \code{\LinkA{package.skeleton}{package.skeleton}}.

To prompt the user for input, see \code{\LinkA{readline}{readline}}.
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}
require(graphics)
prompt(plot.default)
prompt(interactive, force.function = TRUE)
unlink("plot.default.Rd")
unlink("interactive.Rd")

prompt(women) # data.frame
unlink("women.Rd")

prompt(sunspots) # non-data.frame data
unlink("sunspots.Rd")

## Not run: 
## Create a help file for each function in the .GlobalEnv:
for(f in ls()) if(is.function(get(f))) prompt(name = f)

## End(Not run)

\end{ExampleCode}
\end{Examples}
\HeaderA{promptData}{Generate Outline Documentation for a Data Set}{promptData}
\keyword{documentation}{promptData}
%
\begin{Description}\relax
Generates a shell of documentation for a data set.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
promptData(object, filename = NULL, name = NULL)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{object}] an \R{} object to be documented as a data set.
\item[\code{filename}] usually, a \LinkA{connection}{connection} or a character string giving the
name of the file to which the documentation shell should be written.
The default corresponds to a file whose name is \code{name} followed
by \code{".Rd"}.  Can also be \code{NA} (see below).
\item[\code{name}] a character string specifying the name of the object.
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
Unless \code{filename} is \code{NA}, a documentation shell for
\code{object} is written to the file specified by \code{filename}, and
a message about this is given.

If \code{filename} is \code{NA}, a list-style representation of the
documentation shell is created and returned.  Writing the shell to a
file amounts to \code{cat(unlist(x), file = filename, sep = "\bsl{}n")},
where \code{x} is the list-style representation.

Currently, only data frames are handled explicitly by the code.
\end{Details}
%
\begin{Value}
If \code{filename} is \code{NA}, a list-style representation of the
documentation shell.  Otherwise, the name of the file written to is
returned invisibly.
\end{Value}
%
\begin{SeeAlso}\relax
\code{\LinkA{prompt}{prompt}}
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}
promptData(sunspots)
unlink("sunspots.Rd")
\end{ExampleCode}
\end{Examples}
\HeaderA{promptPackage}{Generate a Shell for Documentation of a Package}{promptPackage}
\keyword{documentation}{promptPackage}
%
\begin{Description}\relax
Generates a shell of documentation for an installed or source package.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
promptPackage(package, lib.loc = NULL, filename = NULL,
              name = NULL, final = FALSE)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{package}] a \code{\LinkA{character}{character}} string with the name of an
\emph{installed} or \emph{source} package to be documented.
\item[\code{lib.loc}] a character vector describing the location of \R{}
library trees to search through, or \code{NULL}.  The default value
of \code{NULL} corresponds to all libraries currently known.  For a
source package this should specify the parent directory of the
package's sources.
\item[\code{filename}] usually, a \LinkA{connection}{connection} or a character string giving the
name of the file to which the documentation shell should be written.
The default corresponds to a file whose name is \code{name} followed
by \code{".Rd"}.  Can also be \code{NA} (see below).
\item[\code{name}] a character string specifying the name of the help topic,
typically of the form \samp{<pkg>-package}.
\item[\code{final}] a logical value indicating whether to attempt to
create a usable version of the help topic, rather than just a shell.
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
Unless \code{filename} is \code{NA}, a documentation shell for
\code{package} is written to the file specified by \code{filename}, and
a message about this is given.

If \code{filename} is \code{NA}, a list-style representation of the
documentation shell is created and returned.  Writing the shell to a
file amounts to \code{cat(unlist(x), file = filename, sep = "\bsl{}n")},
where \code{x} is the list-style representation.

If \code{final} is \code{TRUE}, the generated documentation will not
include the place-holder slots for manual editing, it will be usable
as-is.  In most cases a manually edited file is preferable (but
\code{final = TRUE} is certainly less work).
\end{Details}
%
\begin{Value}
If \code{filename} is \code{NA}, a list-style representation of the
documentation shell.  Otherwise, the name of the file written to is
returned invisibly.
\end{Value}
%
\begin{SeeAlso}\relax
\code{\LinkA{prompt}{prompt}}
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}

filename <- tempfile()
promptPackage("utils", filename = filename)
file.show(filename)
unlink(filename)
\end{ExampleCode}
\end{Examples}
\HeaderA{Question}{Documentation Shortcuts}{Question}
\aliasA{?}{Question}{?}
\keyword{documentation}{Question}
%
\begin{Description}\relax
These functions provide access to documentation.
Documentation on a topic with name \code{name} (typically, an \R{}
object or a data set) can be displayed by either \code{help("name")} or
\code{?name}.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
?topic

type?topic
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{topic}] Usually, a \LinkA{name}{name} or character string specifying the
topic for which help is sought.

Alternatively, a function call to ask for documentation on a
corresponding S4 method: see the section on S4 method documentation.
The calls \code{\var{pkg}::\var{topic}} and
\code{\var{pkg}:::\var{topic}} are treated specially, and look for
help on \code{topic} in package \pkg{\var{pkg}}.

\item[\code{type}] the special type of documentation to use for this topic;
for example, if the type is \code{class}, documentation is
provided for the class with name \code{topic}.
See the Section `S4 Method Documentation' for the uses of
\code{type} to get help on formal methods, including
\code{methods?\var{function}} and \code{method?\var{call}}.

\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
This is a shortcut to \code{\LinkA{help}{help}} and uses its default type of help.

Some topics need to be quoted (by \LinkA{backtick}{backtick}s) or given as a
character string.  There include those which cannot syntactically
appear on their own such as unary and binary operators,
\code{function} and control-flow \LinkA{reserved}{reserved} words (including
\code{if}, \code{else} \code{for}, \code{in}, \code{repeat},
\code{while}, \code{break} and \code{next}.  The other \code{reserved}
words can be used as if they were names, for example \code{TRUE},
\code{NA} and \code{Inf}.
\end{Details}
%
\begin{Section}{S4 Method Documentation}
Authors of formal (`S4') methods can provide documentation
on specific methods, as well as overall documentation on the methods
of a particular function.  The \code{"?"} operator allows access to
this documentation in three ways.

The expression \code{methods?\var{f}} will look for the overall
documentation methods for the function \code{\var{f}}.  Currently,
this means the documentation file containing the alias
\code{\var{f}-methods}.

There are two different ways to look for documentation on a
particular method.  The first is to supply the \code{topic} argument
in the form of a function call, omitting the \code{type} argument.
The effect is to look for documentation on the method that would be
used if this function call were actually evaluated. See the examples
below.  If the function is not a generic (no S4 methods are defined
for it), the help reverts to documentation on the function name.

The \code{"?"} operator can also be called with \code{doc\_type} supplied
as \code{method}; in this case also, the \code{topic} argument is
a function call, but the arguments are now interpreted as specifying
the class of the argument, not the actual expression that will
appear in a real call to the function.  See the examples below.

The first approach will be tedious if the actual call involves
complicated expressions, and may be slow if the arguments take a
long time to evaluate.  The second approach avoids these
issues, but you do have to know what the classes of the actual
arguments will be when they are evaluated.

Both approaches make use of any inherited methods; the signature of
the method to be looked up is found by using \code{selectMethod}
(see the documentation for \code{\LinkA{getMethod}{getMethod}}).
\end{Section}
%
\begin{References}\relax
Becker, R. A., Chambers, J. M. and Wilks, A. R. (1988)
\emph{The New S Language}.
Wadsworth \& Brooks/Cole.
\end{References}
%
\begin{SeeAlso}\relax
\code{\LinkA{help}{help}}

\code{\LinkA{??}{??}} for finding help pages on a vague topic.
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}
?lapply

?"for"                  # but quotes/backticks are needed
?`+`

?women                  # information about data set "women"

## Not run: 
require(methods)
## define a S4 generic function and some methods
combo <- function(x, y) c(x, y)
setGeneric("combo")
setMethod("combo", c("numeric", "numeric"), function(x, y) x+y)

## assume we have written some documentation
## for combo, and its methods ....

?combo  # produces the function documentation

methods?combo  # looks for the overall methods documentation

method?combo("numeric", "numeric")  # documentation for the method above

?combo(1:10, rnorm(10))  # ... the same method, selected according to
                         # the arguments (one integer, the other numeric)

?combo(1:10, letters)    # documentation for the default method

## End(Not run)
\end{ExampleCode}
\end{Examples}
\HeaderA{rcompgen}{A Completion Generator for R}{rcompgen}
\aliasA{.DollarNames}{rcompgen}{.DollarNames}
\methaliasA{.DollarNames.default}{rcompgen}{.DollarNames.default}
\methaliasA{.DollarNames.environment}{rcompgen}{.DollarNames.environment}
\methaliasA{.DollarNames.list}{rcompgen}{.DollarNames.list}
\aliasA{completion}{rcompgen}{completion}
\aliasA{rc.getOption}{rcompgen}{rc.getOption}
\aliasA{rc.options}{rcompgen}{rc.options}
\aliasA{rc.settings}{rcompgen}{rc.settings}
\aliasA{rc.status}{rcompgen}{rc.status}
\keyword{IO}{rcompgen}
\keyword{utilities}{rcompgen}
%
\begin{Description}\relax
This package provides a mechanism to generate relevant completions
from a partially completed command line.  It is not intended to be
useful by itself, but rather in conjunction with other mechanisms that
use it as a backend.  The functions listed in the usage section
provide a simple control and query mechanism.  The actual interface
consists of a few unexported functions described further down.
\end{Description}
%
\begin{Usage}
\begin{verbatim}

rc.settings(ops, ns, args, func, ipck, S3, data, help,
            argdb, files)

rc.status()
rc.getOption(name)
rc.options(...)

.DollarNames(x, pattern)

## Default S3 method:
.DollarNames(x, pattern = "")
## S3 method for class 'list'
.DollarNames(x, pattern = "")
## S3 method for class 'environment'
.DollarNames(x, pattern = "")

\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{ops, ns, args, func, ipck, S3, data, help, argdb, files}] 

logical, turning some optional completion features on and off.

\begin{description}

\item[\code{ops}:] activates completion after the \code{\$} and
\code{@} operators

\item[\code{ns}:] controls namespace related completions

\item[\code{args}:] enables completion of function arguments

\item[\code{func}:] enables detection of functions.  If enabled,
a customizable extension (\code{"("} by default) is appended to
function names.  The process of determining whether a potential
completion is a function requires evaluation, including for lazy
loaded symbols.  This is extremely undesirable for large
objects, because of potentially wasteful use of memory in
addition to the time overhead associated with loading.  For this
reason, this feature is disabled by default. 

\item[\code{S3}:]  when \code{args=TRUE}, activates completion on
arguments of all S3 methods (otherwise just the generic, which
usually has very few arguments) 

\item[\code{ipck}:]  enables completion of installed package names
inside \code{\LinkA{library}{library}} and \code{\LinkA{require}{require}} 

\item[\code{data}:]  enables completion of data sets (including
those already visible) inside \code{\LinkA{data}{data}} 

\item[\code{help}:]  enables completion of help requests starting
with a question mark, by looking inside help index files 

\item[\code{argdb}:]  when \code{args=TRUE}, completion is
attempted on function arguments.  Generally, the list of valid
arguments is determined by dynamic calls to \code{\LinkA{args}{args}}.
While this gives results that are technically correct, the use
of the \code{...} argument often hides some useful arguments.
To give more flexibility in this regard, an optional table of
valid arguments names for specific functions is retained
internally.  Setting \code{argdb=TRUE} enables preferential
lookup in this internal data base for functions with an entry in
it.  Of course, this is useful only when the data base contains
information about the function of interest.  Some functions are
included in the package (the maintainer is happy to add more
upon request), and more can be added by the user through the
unexported function \code{.addFunctionInfo} (see below).


\item[\code{files}:]  enables filename completion in \R{} code.  This
is initially set to \code{FALSE}, in which case the underlying
completion front-end can take over (and hopefully do a better
job than we would have done).  For systems where no such
facilities exist, this can be set to \code{TRUE} if file name
completion is desired.  This is used on Windows (where file
paths including spaces do work): on Unix-alikes
\code{readline}'s filename completion is normally used.



\end{description}


All settings are turned on by default except \code{ipck},
\code{func} and \code{files}.  Turn more off if your CPU cycles are
valuable; you will still retain basic completion on names of objects
in the search list.  See below for additional details.

\item[\code{name, ...}]  user-settable options.  Currently valid names are
\begin{description}

\item[\code{function.suffix}:]  default \code{"("} 
\item[\code{funarg.suffix}:]  default \code{" = "} 
\item[\code{package.suffix}]  default \code{"::"} 

\end{description}

See \code{\LinkA{options}{options}} for detailed usage description.


\item[\code{x}]  An R object for which valid names after \code{"\$"}
are computed and returned.


\item[\code{pattern}]  A regular expression.  Only matching names are
returned.

\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
There are several types of completion, some of which can be disabled
using \code{rc.settings}.  The most basic level, which can not be
turned off once the package is loaded, provides completion on names
visible on the search path, along with a few special keywords
(e.g. \code{TRUE}).  This type of completion is not attempted if the
partial `word' (a.k.a. token) being completed is empty (since
there would be too many completions).  The more advanced types of
completion are described below.

\begin{description}


\item[\bold{Completion after extractors \code{\$} and \code{@}}:] 
When the \code{ops} setting is turned on, completion after
\code{\$} and \code{@} is attempted.  This requires the prefix to
be evaluated, which is attempted unless it involves an explicit
function call (implicit function calls involving the use of
\code{[}, \code{\$}, etc \emph{do not} inhibit evaluation).

Valid completions after the \code{\$} extractor are determined by
the generic function \code{.DollarNames}.  Some basic methods are
provided, and more can be written for custom classes.


\item[\bold{Completion inside namespaces}:] 
When the \code{ns} setting is turned on, completion inside
namespaces is attempted when a token is preceded by the \code{::}
or \code{:::} operators.  Additionally, the basic completion
mechanism is extended to include attached namespaces, or more
precisely, \code{foopkg::} becomes a valid completion of
\code{foo} if the return value of \code{\LinkA{search}{search}()} includes
the string \code{"package:foopkg"}.

The completion of package namespaces applies only to attached
packages, i.e. if \code{MASS} is not attached (whether or not it
is loaded), \code{MAS} will not complete to \code{MASS::}.
However, attempted completion \emph{inside} an apparent namespace
will attempt to load the namespace if it is not already loaded,
e.g. trying to complete on \code{MASS::fr} will load \code{MASS}
(but not necessarily attach it) even if it is not already loaded.


\item[\bold{Completion of function arguments}:] 
When the \code{args} setting is turned on, completion on function
arguments is attempted whenever deemed appropriate.  The mechanism
used will currently fail if the relevant function (at the point
where completion is requested) was entered on a previous prompt
(which implies in particular that the current line is being typed
in response to a continuation prompt, usually \code{+}).  Note
that separation by newlines is fine.

The list of possible argument completions that is generated can be
misleading.  There is no problem for non-generic functions (except
that \code{...} is listed as a completion; this is intentional
as it signals the fact that the function can accept further
arguments).  However, for generic functions, it is practically
impossible to give a reliable argument list without evaluating
arguments (and not even then, in some cases), which is risky (in
addition to being difficult to code, which is the real reason it
hasn't even been tried), especially when that argument is itself
an inline function call.  Our compromise is to consider arguments
of \emph{all} currently available methods of that generic.  This
has two drawbacks.  First, not all listed completions may be
appropriate in the call currently being constructed.  Second, for
generics with many methods (like \code{print} and \code{plot}),
many matches will need to be considered, which may take a
noticeable amount of time.  Despite these drawbacks, we believe
this behaviour to be more useful than the only other practical
alternative, which is to list arguments of the generic only.

Only S3 methods are currently supported in this fashion, and that
can be turned off using the \code{S3} setting.

Since arguments can be unnamed in \R{} function calls, other types
of completion are also appropriate whenever argument completion
is.  Since there are usually many many more visible objects than
formal arguments of any particular function, possible argument
completions are often buried in a bunch of other possibilities.
However, recall that basic completion is suppressed for blank
tokens.  This can be useful to list possible arguments of a
function.  For example, trying to complete \code{seq([TAB]} and
\code{seq(from = 1, [TAB])} will both list only the arguments of
\code{seq} (or any of its methods), whereas trying to complete
\code{seq(length[TAB]} will list both the \code{length.out}
argument and the \code{length(} function as possible completions.
Note that no attempt is made to remove arguments already supplied,
as that would incur a further speed penalty.


\item[\bold{Special functions}:] 
For a few special functions (\code{\LinkA{library}{library}},
\code{\LinkA{data}{data}}, etc), the first argument is treated specially,
in the sense that normal completion is suppressed, and some
function specific completions are enabled if so requested by the
settings.  The \code{ipck} setting, which controls whether
\code{\LinkA{library}{library}} and \code{\LinkA{require}{require}} will complete on
\emph{installed packages}, is disabled by default because the
first call to \code{\LinkA{installed.packages}{installed.packages}} is potentially time
consuming (e.g. when packages are installed on a remote network
file server).  Note, however, that the results of a call to
\code{\LinkA{installed.packages}{installed.packages}} is cached, so subsequent calls
are usually fast, so turning this option on is not particularly
onerous even in such situations.




\end{description}

\end{Details}
%
\begin{Value}
\code{rc.status} returns, as a list, the contents of an internal
(unexported) environment that is used to record the results of the
last completion attempt.  This can be useful for debugging.  For such
use, one must resist the temptation to use completion when typing the
call to \code{rc.status} itself, as that then becomes the last attempt
by the time the call is executed.

The items of primary interest in the returned list are:

\begin{ldescription}
\item[\code{comps}]  the possible completions generated by the last
call to \code{.completeToken}, as a character vector 
\item[\code{token}]  the token that was (or, is to be) completed, as
set by the last call to \code{.assignToken} (possibly inside a call
to \code{.guessTokenFromLine}) 
\item[\code{linebuffer}]  the full line, as set by the last call to
\code{.assignLinebuffer}
\item[\code{start}]  the start position of the token in the line
buffer, as set by the last call to \code{.assignStart} 
\item[\code{end}]  the end position of the token in the line
buffer, as set by the last call to \code{.assignEnd} 
\item[\code{fileName}]  logical, indicating whether the cursor is
currently inside quotes.  If so, no completion is attempted.  A
reasonable default behaviour for the backend in that case is to fall
back to filename completion.  
\item[\code{fguess}]  the name of the function \code{rcompgen} thinks
the cursor is currently inside 
\item[\code{isFirstArg}]  logical.  If cursor is inside a function, is it the
first argument? 

\end{ldescription}
In addition, the components \code{settings} and \code{options} give
the current values of settings and options respectively.

\code{rc.getOption} and \code{rc.options} behave much like
\code{\LinkA{getOption}{getOption}} and \code{\LinkA{options}{options}} respectively.
\end{Value}
%
\begin{Section}{Unexported API}

There are several unexported functions in the package.  Of these, 
a few are special because they provide the API through which other
mechanisms can make use of the facilities provided by this package
(they are unexported because they are not meant to be called directly
by users).  The usage of these functions are:

\begin{alltt}    .assignToken(text)
    .assignLinebuffer(line)
    .assignStart(start)
    .assignEnd(end)

    .completeToken()
    .retrieveCompletions()
    .getFileComp()

    .guessTokenFromLine()
    .win32consoleCompletion(linebuffer, cursorPosition,
                            check.repeat = TRUE, 
                            minlength = -1)

    .addFunctionInfo(...)
\end{alltt}


The first four functions set up a completion attempt by specifying the
token to be completed (\code{text}), and indicating where
(\code{start} and \code{end}, which should be integers) the token is
placed within the complete line typed so far (\code{line}).

Potential completions of the token are generated by
\code{.completeToken}, and the completions can be retrieved as an \R{}
character vector using \code{.retrieveCompletions}.

If the cursor is inside quotes, no completion is attempted.  The
function \code{.getFileComp} can be used after a call to
\code{.completeToken} to determine if this is the case (returns
\code{TRUE}), and alternative completions generated as deemed useful.
In most cases, filename completion is a reasonable fallback.

The \code{.guessTokenFromLine} function is provided for use with
backends that do not already break a line into tokens.  It requires
the linebuffer and endpoint (cursor position) to be already set, and
itself sets the token and the start position.  It returns the token as
a character string.  (This is used by the ESS completion hook example
given in the \code{examples/altesscomp.el} file.)

The \code{.win32consoleCompletion} is similar in spirit, but is more
geared towards the Windows GUI (or rather, any front-end that has no
completion facilities of its own).  It requires the linebuffer
and cursor position as arguments, and returns a list with three
components, \code{addition}, \code{possible} and \code{comps}.  If
there is an unambiguous extension at the current position,
\code{addition} contains the additional text that should be inserted
at the cursor.  If there is more than one possibility, these are
available either as a character vector of preformatted strings in
\code{possible}, or as a single string in \code{comps}.
\code{possible} consists of lines formatted using the current
\code{width} option, so that printing them on the console one line at
a time will be a reasonable way to list them.  \code{comps} is a space
separated (collapsed) list of the same completions, in case the
front-end wishes to display it in some other fashion.

The \code{minlength} argument can be used to suppress completion when
the token is too short (which can be useful if the front-end is set up
to try completion on every keypress).  If \code{check.repeat} is
\code{TRUE}, it is detected if the same completion is being requested
more than once in a row, and ambiguous completions are returned only
in that case.  This is an attempt to emulate GNU Readline behaviour,
where a single TAB completes up to any unambiguous part, and multiple
possibilities are reported only on two consecutive TABs.

As the various front-end interfaces evolve, the details of these
functions are likely to change as well.

The function \code{.addFunctionInfo} can be used to add information
about the permitted argument names for specific functions.  Multiple
named arguments are allowed in calls to it, where the tags are names
of functions and values are character vectors representing valid
arguments.  When the \code{argdb} setting is \code{TRUE}, these are
used as a source of valid argument names for the relevant functions.
\end{Section}
%
\begin{Note}\relax
If you are uncomfortable with unsolicited evaluation of pieces of
code, you should set \code{ops = FALSE}.  Otherwise, trying to
complete \code{foo@ba} will evaluate \code{foo}, trying to complete
\code{foo[i,1:10]\$ba} will evaluate \code{foo[i,1:10]}, etc.  This
should not be too bad, as explicit function calls (involving
parentheses) are not evaluated in this manner.  However, this
\emph{will} affect lazy loaded symbols (and presumably other promise
type thingies).
\end{Note}
%
\begin{Author}\relax
 Deepayan Sarkar, \email{deepayan.sarkar@r-project.org} 
\end{Author}
\HeaderA{read.DIF}{Data Input from Spreadsheet}{read.DIF}
\keyword{file}{read.DIF}
\keyword{connection}{read.DIF}
%
\begin{Description}\relax
Reads a file in Data Interchange Format (DIF) and creates a data frame
from it.  DIF is a format for data matrices such as single spreadsheets.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
read.DIF(file, header = FALSE,
           dec = ".", row.names, col.names,
           as.is = !stringsAsFactors,
           na.strings = "NA", colClasses = NA, nrows = -1,
           skip = 0, check.names = TRUE,
           blank.lines.skip = TRUE,
           stringsAsFactors = default.stringsAsFactors(),
           transpose = FALSE)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{file}] the name of the file which the data are to be read from,
or a \LinkA{connection}{connection}, or a complete URL.

The name \code{"clipboard"} may also be used on Windows, in which
case \code{read.DIF("clipboard")} will look for a DIF format entry
in the Windows clipboard.


\item[\code{header}] a logical value indicating whether the spreadsheet contains the
names of the variables as its first line.  If missing, the value is
determined from the file format: \code{header} is set to \code{TRUE}
if and only if the first row contains only character values and
the top left cell is empty.

\item[\code{dec}] the character used in the file for decimal points.

\item[\code{row.names}] a vector of row names.  This can be a vector giving
the actual row names, or a single number giving the column of the
table which contains the row names, or character string giving the
name of the table column containing the row names.

If there is a header and the first row contains one fewer field than
the number of columns, the first column in the input is used for the
row names.  Otherwise if \code{row.names} is missing, the rows are
numbered.

Using \code{row.names = NULL} forces row numbering.


\item[\code{col.names}] a vector of optional names for the variables.
The default is to use \code{"V"} followed by the column number.

\item[\code{as.is}] the default behavior of \code{read.DIF} is to convert
character variables to factors.  The variable \code{as.is} controls the
conversion of columns not otherwise specified by \code{colClasses}.
Its value is either a vector of logicals (values are recycled if
necessary), or a vector of numeric or character indices which
specify which columns should not be converted to factors.

Note: In releases prior to \R{} 2.12.1, cells marked as being of
character type were converted to logical, numeric or complex using
\code{\LinkA{type.convert}{type.convert}} as in \code{\LinkA{read.table}{read.table}}.

Note: to suppress all conversions including those of numeric
columns, set \code{colClasses = "character"}.

Note that \code{as.is} is specified per column (not per
variable) and so includes the column of row names (if any) and any
columns to be skipped.


\item[\code{na.strings}] a character vector of strings which are to be
interpreted as \code{\LinkA{NA}{NA}} values.  Blank fields are also
considered to be missing values in logical, integer, numeric and
complex fields.

\item[\code{colClasses}] character.  A vector of classes to be assumed for
the columns.  Recycled as necessary, or if the character vector is
named, unspecified values are taken to be \code{NA}.

Possible values are \code{NA} (when \code{\LinkA{type.convert}{type.convert}} is
used), \code{"NULL"} (when the column is skipped), one of the atomic
vector classes (logical, integer, numeric, complex, character, raw),
or \code{"factor"}, \code{"Date"} or \code{"POSIXct"}.  Otherwise
there needs to be an \code{as} method (from package \pkg{methods})
for conversion from \code{"character"} to the specified formal
class.

Note that \code{colClasses} is specified per column (not per
variable) and so includes the column of row names (if any).


\item[\code{nrows}] the maximum number of rows to read in.  Negative values
are ignored.

\item[\code{skip}] the number of lines of the data file to skip before
beginning to read data.

\item[\code{check.names}] logical.  If \code{TRUE} then the names of the
variables in the data frame are checked to ensure that they are
syntactically valid variable names.  If necessary they are adjusted
(by \code{\LinkA{make.names}{make.names}}) so that they are, and also to ensure
that there are no duplicates.

\item[\code{blank.lines.skip}] logical: if \code{TRUE} blank lines in the
input are ignored.

\item[\code{stringsAsFactors}] logical: should character vectors be converted
to factors?

\item[\code{transpose}] logical, indicating if the row and column
interpretation should be transposed.  Microsoft's Excel has been
known to produce (non-standard conforming) DIF files which would
need \code{transpose = TRUE} to be read correctly.
\end{ldescription}
\end{Arguments}
%
\begin{Value}
A data frame (\code{\LinkA{data.frame}{data.frame}}) containing a representation of
the data in the file.  Empty input is an error unless \code{col.names}
is specified, when a 0-row data frame is returned: similarly giving
just a header line if \code{header = TRUE} results in a 0-row data frame.
\end{Value}
%
\begin{Note}\relax
The columns referred to in \code{as.is} and \code{colClasses} include
the column of row names (if any).

Less memory will be used if \code{colClasses} is specified as one of
the six atomic vector classes.
\end{Note}
%
\begin{Author}\relax
R Core; \code{transpose} option by
Christoph Buser, ETH Zurich
\end{Author}
%
\begin{References}\relax
The DIF format specification can be found by searching on
\url{http://www.wotsit.org/}; the optional header fields are ignored.
See also
\url{http://en.wikipedia.org/wiki/Data_Interchange_Format}.

The term is likely to lead to confusion: Windows will have a
`Windows Data Interchange Format (DIF) data format' as part of
its WinFX system, which may or may not be compatible.
\end{References}
%
\begin{SeeAlso}\relax
The \emph{R Data Import/Export} manual.

\code{\LinkA{scan}{scan}}, \code{\LinkA{type.convert}{type.convert}},
\code{\LinkA{read.fwf}{read.fwf}} for reading \emph{f}ixed \emph{w}idth
\emph{f}ormatted input;
\code{\LinkA{read.table}{read.table}};
\code{\LinkA{data.frame}{data.frame}}.
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}
## read.DIF() needs transpose=TRUE for file exported from Excel
udir <- system.file("misc", package="utils")
dd <- read.DIF(file.path(udir, "exDIF.dif"), header= TRUE, transpose=TRUE)
dc <- read.csv(file.path(udir, "exDIF.csv"), header= TRUE)
stopifnot(identical(dd,dc), dim(dd) == c(4,2))
\end{ExampleCode}
\end{Examples}
\HeaderA{read.fortran}{Read Fixed-Format Data}{read.fortran}
\keyword{file}{read.fortran}
\keyword{connection}{read.fortran}
%
\begin{Description}\relax
Read fixed-format data files using Fortran-style format specifications.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
read.fortran(file, format, ..., as.is = TRUE, colClasses = NA)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{file}] File or \LinkA{connection}{connection} to read from
\item[\code{format}] Character vector or list of vectors.  See
`Details' below.
\item[\code{...}] Other arguments for \code{\LinkA{read.fwf}{read.fwf}}
\item[\code{as.is}] Keep characters as characters?
\item[\code{colClasses}] Variable classes to override defaults. See
\code{\LinkA{read.table}{read.table}} for details.
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
The format for a field is of one of the following forms: \code{rFl.d},
\code{rDl.d}, \code{rXl}, \code{rAl}, \code{rIl}, where \code{l} is
the number of columns, \code{d} is the number of decimal places, and
\code{r} is the number of repeats. \code{F} and \code{D} are numeric
formats, \code{A} is character, \code{I} is integer, and \code{X}
indicates columns to be skipped. The repeat code \code{r} and decimal
place code \code{d} are always optional. The length code \code{l} is
required except for \code{X} formats when \code{r} is present.

For a single-line record, \code{format} should be a character
vector. For a multiline record it should be a list with a character
vector for each line.

Skipped (\code{X}) columns are not passed to \code{read.fwf}, so
\code{colClasses}, \code{col.names}, and similar arguments passed to
\code{read.fwf} should not reference these columns.
\end{Details}
%
\begin{Value}
A data frame
\end{Value}
%
\begin{Note}\relax
\code{read.fortran} does not use actual Fortran input routines, so
the formats are at best rough approximations to the Fortran ones.
In particular, specifying \code{d > 0} in the \code{F} or \code{D}
format will shift the decimal \code{d} places to the left, even if
it is explicitly specified in the input file.
\end{Note}
%
\begin{SeeAlso}\relax
\code{\LinkA{read.fwf}{read.fwf}}, \code{\LinkA{read.table}{read.table}}, \code{\LinkA{read.csv}{read.csv}}
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}
ff <- tempfile()
cat(file=ff, "123456", "987654", sep="\n")
read.fortran(ff, c("F2.1","F2.0","I2"))
read.fortran(ff, c("2F1.0","2X","2A1"))
unlink(ff)
cat(file=ff, "123456AB", "987654CD", sep="\n")
read.fortran(ff, list(c("2F3.1","A2"), c("3I2","2X")))
unlink(ff)
# Note that the first number is read differently than Fortran would
# read it:
cat(file=ff, "12.3456", "1234567", sep="\n")
read.fortran(ff, "F7.4")
unlink(ff)
\end{ExampleCode}
\end{Examples}
\HeaderA{read.fwf}{Read Fixed Width Format Files}{read.fwf}
\keyword{file}{read.fwf}
\keyword{connection}{read.fwf}
%
\begin{Description}\relax
Read a table of \bold{f}ixed \bold{w}idth \bold{f}ormatted
data into a \code{\LinkA{data.frame}{data.frame}}.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
read.fwf(file, widths, header = FALSE, sep = "\t",
         skip = 0, row.names, col.names, n = -1,
         buffersize = 2000, ...)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{file}] 
the name of the file which the data are to be read from.

Alternatively, \code{file} can be a \LinkA{connection}{connection}, which
will be opened if necessary, and if so closed at the end of the
function call.

\item[\code{widths}] integer vector, giving the widths of the fixed-width
fields (of one line), or list of integer vectors giving widths for
multiline records.
\item[\code{header}] a logical value indicating whether the file contains the
names of the variables as its first line.  If present, the names
must be delimited by \code{sep}.
\item[\code{sep}] character; the separator used internally; should be a
character that does not occur in the file (except in the header).
\item[\code{skip}] number of initial lines to skip; see
\code{\LinkA{read.table}{read.table}}.
\item[\code{row.names}] see \code{\LinkA{read.table}{read.table}}.
\item[\code{col.names}] see \code{\LinkA{read.table}{read.table}}.
\item[\code{n}] the maximum number of records (lines) to be read, defaulting
to no limit.
\item[\code{buffersize}] Maximum number of lines to read at one time
\item[\code{...}] further arguments to be passed to
\code{\LinkA{read.table}{read.table}}.  Useful further arguments include
\code{as.is}, \code{na.strings}, \code{colClasses} and \code{strip.white}.
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
Multiline records are concatenated to a single line before processing.
Fields that are of zero-width or are wholly beyond the end of the line
in \code{file} are replaced by \code{NA}.

Negative-width fields are used to indicate columns to be skipped, e.g.,
\code{-5} to skip 5 columns.  These fields are not seen by
\code{read.table} and so should not be included in a \code{col.names}
or \code{colClasses} argument (nor in the header line, if present).

Reducing the \code{buffersize} argument may reduce memory use when
reading large files with long lines.  Increasing \code{buffersize} may
result in faster processing when enough memory is available.
\end{Details}
%
\begin{Value}
A \code{\LinkA{data.frame}{data.frame}} as produced by \code{\LinkA{read.table}{read.table}}
which is called internally.
\end{Value}
%
\begin{Author}\relax
Brian Ripley for \R{} version: original \code{Perl} by Kurt Hornik.
\end{Author}
%
\begin{SeeAlso}\relax
\code{\LinkA{scan}{scan}} and \code{\LinkA{read.table}{read.table}}.
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}
ff <- tempfile()
cat(file=ff, "123456", "987654", sep="\n")
read.fwf(ff, widths=c(1,2,3))    #> 1 23 456 \ 9 87 654
read.fwf(ff, widths=c(1,-2,3))   #> 1 456 \ 9 654
unlink(ff)
cat(file=ff, "123", "987654", sep="\n")
read.fwf(ff, widths=c(1,0, 2,3))    #> 1 NA 23 NA \ 9 NA 87 654
unlink(ff)
cat(file=ff, "123456", "987654", sep="\n")
read.fwf(ff, widths=list(c(1,0, 2,3), c(2,2,2))) #> 1 NA 23 456 98 76 54
unlink(ff)
\end{ExampleCode}
\end{Examples}
\HeaderA{read.socket}{ Read from or Write to a Socket}{read.socket}
\aliasA{write.socket}{read.socket}{write.socket}
\keyword{misc}{read.socket}
%
\begin{Description}\relax
\code{read.socket} reads a string from the specified socket,
\code{write.socket} writes to the specified socket.  There is very
little error checking done by either.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
read.socket(socket, maxlen = 256L, loop = FALSE)
write.socket(socket, string)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{socket}] a socket object.
\item[\code{maxlen}] maximum length (in bytes) of string to read.
\item[\code{loop}] wait for ever if there is nothing to read?
\item[\code{string}] string to write to socket.
\end{ldescription}
\end{Arguments}
%
\begin{Value}
\code{read.socket} returns the string read as a length-one character vector.

\code{write.socket} returns the number of bytes written.

\end{Value}
%
\begin{Author}\relax
Thomas Lumley
\end{Author}
%
\begin{SeeAlso}\relax
\code{\LinkA{close.socket}{close.socket}}, \code{\LinkA{make.socket}{make.socket}}
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}
finger <- function(user, host = "localhost", port = 79, print = TRUE)
{
    if (!is.character(user))
        stop("user name must be a string")
    user <- paste(user,"\r\n")
    socket <- make.socket(host, port)
    on.exit(close.socket(socket))
    write.socket(socket, user)
    output <- character(0)
    repeat{
        ss <- read.socket(socket)
        if (ss == "") break
        output <- paste(output, ss)
    }
    close.socket(socket)
    if (print) cat(output)
    invisible(output)
}
## Not run: 
finger("root")  ## only works if your site provides a finger daemon
## End(Not run)
\end{ExampleCode}
\end{Examples}
\HeaderA{read.table}{Data Input}{read.table}
\aliasA{read.csv}{read.table}{read.csv}
\aliasA{read.csv2}{read.table}{read.csv2}
\aliasA{read.delim}{read.table}{read.delim}
\aliasA{read.delim2}{read.table}{read.delim2}
\keyword{file}{read.table}
\keyword{connection}{read.table}
%
\begin{Description}\relax
Reads a file in table format and creates a data frame from it, with
cases corresponding to lines and variables to fields in the file.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
read.table(file, header = FALSE, sep = "", quote = "\"'",
           dec = ".", row.names, col.names,
           as.is = !stringsAsFactors,
           na.strings = "NA", colClasses = NA, nrows = -1,
           skip = 0, check.names = TRUE, fill = !blank.lines.skip,
           strip.white = FALSE, blank.lines.skip = TRUE,
           comment.char = "#",
           allowEscapes = FALSE, flush = FALSE,
           stringsAsFactors = default.stringsAsFactors(),
           fileEncoding = "", encoding = "unknown", text)

read.csv(file, header = TRUE, sep = ",", quote="\"", dec=".",
         fill = TRUE, comment.char="", ...)

read.csv2(file, header = TRUE, sep = ";", quote="\"", dec=",",
          fill = TRUE, comment.char="", ...)

read.delim(file, header = TRUE, sep = "\t", quote="\"", dec=".",
           fill = TRUE, comment.char="", ...)

read.delim2(file, header = TRUE, sep = "\t", quote="\"", dec=",",
            fill = TRUE, comment.char="", ...)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{file}] the name of the file which the data are to be read from.
Each row of the table appears as one line of the file.  If it does
not contain an \emph{absolute} path, the file name is
\emph{relative} to the current working directory,
\code{\LinkA{getwd}{getwd}()}. Tilde-expansion is performed where supported.
As from \R{} 2.10.0 this can be a compressed file (see \code{\LinkA{file}{file}}).

Alternatively, \code{file} can be a readable text-mode
\LinkA{connection}{connection} (which will be opened for reading if
necessary, and if so \code{\LinkA{close}{close}}d (and hence destroyed) at
the end of the function call).  (If \code{\LinkA{stdin}{stdin}()} is used,
the prompts for lines may be somewhat confusing.  Terminate input
with a blank line or an EOF signal, \code{Ctrl-D} on Unix and
\code{Ctrl-Z} on Windows.  Any pushback on \code{stdin()} will be
cleared before return.)

\code{file} can also be a complete URL.  (For the supported URL
schemes, see the `URLs' section of the help for
\code{\LinkA{url}{url}}.)


\item[\code{header}] a logical value indicating whether the file contains the
names of the variables as its first line.  If missing, the value is
determined from the file format: \code{header} is set to \code{TRUE}
if and only if the first row contains one fewer field than the
number of columns.

\item[\code{sep}] the field separator character.  Values on each line of the
file are separated by this character.  If \code{sep = ""} (the
default for \code{read.table}) the separator is `white space',
that is one or more spaces, tabs, newlines or carriage returns.

\item[\code{quote}] the set of quoting characters. To disable quoting
altogether, use \code{quote = ""}.  See \code{\LinkA{scan}{scan}} for the
behaviour on quotes embedded in quotes.  Quoting is only considered
for columns read as character, which is all of them unless
\code{colClasses} is specified.

\item[\code{dec}] the character used in the file for decimal points.

\item[\code{row.names}] a vector of row names.  This can be a vector giving
the actual row names, or a single number giving the column of the
table which contains the row names, or character string giving the
name of the table column containing the row names.

If there is a header and the first row contains one fewer field than
the number of columns, the first column in the input is used for the
row names.  Otherwise if \code{row.names} is missing, the rows are
numbered.

Using \code{row.names = NULL} forces row numbering. Missing or
\code{NULL} \code{row.names} generate row names that are considered
to be `automatic' (and not preserved by \code{\LinkA{as.matrix}{as.matrix}}).


\item[\code{col.names}] a vector of optional names for the variables.
The default is to use \code{"V"} followed by the column number.

\item[\code{as.is}] the default behavior of \code{read.table} is to convert
character variables (which are not converted to logical, numeric or
complex) to factors.  The variable \code{as.is} controls the
conversion of columns not otherwise specified by \code{colClasses}.
Its value is either a vector of logicals (values are recycled if
necessary), or a vector of numeric or character indices which
specify which columns should not be converted to factors.

Note: to suppress all conversions including those of numeric
columns, set \code{colClasses = "character"}.

Note that \code{as.is} is specified per column (not per
variable) and so includes the column of row names (if any) and any
columns to be skipped.


\item[\code{na.strings}] a character vector of strings which are to be
interpreted as \code{\LinkA{NA}{NA}} values.  Blank fields are also
considered to be missing values in logical, integer, numeric and
complex fields.

\item[\code{colClasses}] character.  A vector of classes to be assumed for
the columns.  Recycled as necessary, or if the character vector is
named, unspecified values are taken to be \code{NA}.

Possible values are \code{NA} (the default, when
\code{\LinkA{type.convert}{type.convert}} is used), \code{"NULL"} (when the column
is skipped), one of the atomic vector classes (logical, integer,
numeric, complex, character, raw), or \code{"factor"}, \code{"Date"}
or \code{"POSIXct"}.  Otherwise there needs to be an \code{as}
method (from package \pkg{methods}) for conversion from
\code{"character"} to the specified formal class.

Note that \code{colClasses} is specified per column (not per
variable) and so includes the column of row names (if any).


\item[\code{nrows}] integer: the maximum number of rows to read in.  Negative
and other invalid values are ignored.

\item[\code{skip}] integer: the number of lines of the data file to skip before
beginning to read data.

\item[\code{check.names}] logical.  If \code{TRUE} then the names of the
variables in the data frame are checked to ensure that they are
syntactically valid variable names.  If necessary they are adjusted
(by \code{\LinkA{make.names}{make.names}}) so that they are, and also to ensure
that there are no duplicates.

\item[\code{fill}] logical. If \code{TRUE} then in case the rows have unequal
length, blank fields are implicitly added.  See `Details'.

\item[\code{strip.white}] logical. Used only when \code{sep} has
been specified, and allows the stripping of leading and trailing
white space from unquoted \code{character} fields (\code{numeric} fields
are always stripped).  See \code{\LinkA{scan}{scan}} for further details
(including the exact meaning of `white space'),
remembering that the columns may include the row names.

\item[\code{blank.lines.skip}] logical: if \code{TRUE} blank lines in the
input are ignored.

\item[\code{comment.char}] character: a character vector of length one
containing a single character or an empty string.  Use \code{""} to
turn off the interpretation of comments altogether.

\item[\code{allowEscapes}] logical.  Should C-style escapes such as
\samp{\bsl{}n} be processed or read verbatim (the default)?   Note that if
not within quotes these could be interpreted as a delimiter (but not
as a comment character).  For more details see \code{\LinkA{scan}{scan}}.

\item[\code{flush}] logical: if \code{TRUE}, \code{scan} will flush to the
end of the line after reading the last of the fields requested.
This allows putting comments after the last field.

\item[\code{stringsAsFactors}] logical: should character vectors be converted
to factors?  Note that this is overridden by \code{as.is} and
\code{colClasses}, both of which allow finer control.

\item[\code{fileEncoding}] character string: if non-empty declares the
encoding used on a file (not a connection) so the character data can
be re-encoded.  See the `Encoding' section of the help for
\code{\LinkA{file}{file}}, the `R Data Import/Export Manual' and
`Note'.


\item[\code{encoding}] encoding to be assumed for input strings.  It is
used to mark character strings as known to be in
Latin-1 or UTF-8 (see \code{\LinkA{Encoding}{Encoding}}): it is not used to
re-encode the input, but allows \R{} to handle encoded strings in
their native encoding (if one of those two).  See `Value'.


\item[\code{text}] character string: if \code{file} is not supplied and this is, 
then data are read from the value of \code{text} via a text connection.
Notice that a literal string can be used to include (small) data sets 
within R code. 


\item[\code{...}] Further arguments to be passed to \code{read.table}.
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
This function is the principal means of reading tabular data into \R{}.

Unless \code{colClasses} is specified, all columns are read as
character columns and then converted using \code{\LinkA{type.convert}{type.convert}}
to logical, integer, numeric, complex or (depending on \code{as.is})
factor as appropriate.  Quotes are (by default) interpreted in all
fields, so a column of values like \code{"42"} will result in an
integer column.

A field or line is `blank' if it contains nothing (except
whitespace if no separator is specified) before a comment character or
the end of the field or line.

If \code{row.names} is not specified and the header line has one less
entry than the number of columns, the first column is taken to be the
row names.  This allows data frames to be read in from the format in
which they are printed.  If \code{row.names} is specified and does
not refer to the first column, that column is discarded from such files.

The number of data columns is determined by looking at the first five lines
of input (or the whole file if it has less than five lines), or from
the length of \code{col.names} if it is specified and
is longer.  This could conceivably be wrong if \code{fill} or
\code{blank.lines.skip} are true, so specify \code{col.names} if
necessary (as in the `Examples').

\code{read.csv} and \code{read.csv2} are identical to
\code{read.table} except for the defaults.  They are intended for
reading `comma separated value' files (\file{.csv}) or
(\code{read.csv2}) the variant used in countries that use a comma as
decimal point and a semicolon as field separator.  Similarly,
\code{read.delim} and \code{read.delim2} are for reading delimited
files, defaulting to the TAB character for the delimiter.  Notice that
\code{header = TRUE} and \code{fill = TRUE} in these variants, and
that the comment character is disabled.

The rest of the line after a comment character is skipped; quotes
are not processed in comments.  Complete comment lines are allowed
provided \code{blank.lines.skip = TRUE}; however, comment lines prior
to the header must have the comment character in the first non-blank
column.

Quoted fields with embedded newlines are supported except after a
comment character.
\end{Details}
%
\begin{Value}
A data frame (\code{\LinkA{data.frame}{data.frame}}) containing a representation of
the data in the file.

Empty input is an error unless \code{col.names} is specified, when a
0-row data frame is returned: similarly giving just a header line if
\code{header = TRUE} results in a 0-row data frame.  Note that in
either case the columns will be logical unless \code{colClasses} was
supplied.

Character strings in the result (including factor levels) will have a
declared encoding if \code{encoding} is \code{"latin1"} or
\code{"UTF-8"}.
\end{Value}
%
\begin{Section}{Memory usage}
These functions can use a surprising amount of memory when reading
large files.  There is extensive discussion in the `R Data
Import/Export' manual, supplementing the notes here.

Less memory will be used if \code{colClasses} is specified as one of
the six \LinkA{atomic}{atomic} vector classes.  This can be particularly so when
reading a column that takes many distinct numeric values, as storing
each distinct value as a character string can take up to 14 times as
much memory as storing it as an integer.

Using \code{nrows}, even as a mild over-estimate, will help memory
usage.

Using \code{comment.char = ""} will be appreciably faster than the
\code{read.table} default.

\code{read.table} is not the right tool for reading large matrices,
especially those with many columns: it is designed to read
\emph{data frames} which may have columns of very different classes.
Use \code{\LinkA{scan}{scan}} instead for matrices.
\end{Section}
%
\begin{Note}\relax
The columns referred to in \code{as.is} and \code{colClasses} include
the column of row names (if any).

Because this function uses \code{\LinkA{pushBack}{pushBack}} it can only handle
character strings which can be represented in the current locale.  So
although \code{fileEncoding} can be used to specify the encoding of
the input file (or a connection can be specified which re-encodes),
the implied re-encoding must be possible.  This is not a problem in
UTF-8 locales, but it can be on Windows --- \code{\LinkA{readLines}{readLines}} or
\code{\LinkA{scan}{scan}} can be used to avoid this limitation since they have
special provisions to convert input to UTF-8.
\end{Note}
%
\begin{References}\relax
Chambers, J. M. (1992)
\emph{Data for models.}
Chapter 3 of \emph{Statistical Models in S}
eds J. M. Chambers and T. J. Hastie, Wadsworth \& Brooks/Cole.
\end{References}
%
\begin{SeeAlso}\relax
The `R Data Import/Export' manual.

\code{\LinkA{scan}{scan}}, \code{\LinkA{type.convert}{type.convert}},
\code{\LinkA{read.fwf}{read.fwf}} for reading \emph{f}ixed \emph{w}idth
\emph{f}ormatted input;
\code{\LinkA{write.table}{write.table}};
\code{\LinkA{data.frame}{data.frame}}.

\code{\LinkA{count.fields}{count.fields}} can be useful to determine problems with
reading files which result in reports of incorrect record lengths (see
the `Examples' below).

\url{http://tools.ietf.org/html/rfc4180} for the IANA definition of
CSV files (which requires comma as separator and CRLF line endings).
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}
## using count.fields to handle unknown maximum number of fields
## when fill=TRUE
test1 <- c(1:5, "6,7", "8,9,10")
tf <- tempfile()
writeLines(test1, tf)

read.csv(tf, fill = TRUE) # 1 column
ncol <- max(count.fields(tf, sep = ","))
read.csv(tf, fill = TRUE, header = FALSE,
         col.names = paste("V", seq_len(ncol), sep = ""))
unlink(tf)

## "Inline" data set, using text=
## Notice that leading and trailing empty lines are auto-trimmed

read.table(header=TRUE, text="
a b
1 2
3 4
")
\end{ExampleCode}
\end{Examples}
\HeaderA{readRegistry}{Read a Windows Registy Hive}{readRegistry}
\keyword{utilities}{readRegistry}
%
\begin{Description}\relax
Read values of keys in the Windows Registry, and optionally whole hives.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
readRegistry(key, hive = c("HLM", "HCR", "HCU", "HU", "HCC", "HPD"),
             maxdepth = 1, view = c("default", "32-bit", "64-bit"))
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{key}] character string, the path to the key in the Windows Registry.
\item[\code{hive}] The `hive' containing the key.  The abbreviations
are for \code{HKEY\_LOCAL\_MACHINE},
\code{HKEY\_CLASSES\_ROOT}. \code{HKEY\_CURRENT\_USER},
\code{HKEY\_USERS}, \code{HKEY\_CURRENT\_CONFIG} and
\code{HKEY\_PERFORMANCE\_DATA}
\item[\code{maxdepth}] How far to recurse into the subkeys of the key.  By
default only the values of the key and the names of subkeys are
returned.
\item[\code{view}] On 64-bit Windows, the view of the Registry to be used:
see `Details'.
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
Registry access is done using the security settings of the current \R{}
session: this means that some Registry keys may not be accessible even
if they exist.  This may result in \code{NULL} values in the object
returned, and, possibly, empty element names.

On 64-bit Windows, this will by default read the 32-bit view of the
Registry when run from 32-bit \R{}, and the 64-bit view when run from
64-bit \R{}: see
\url{http://msdn.microsoft.com/en-us/library/aa384232(VS.85).aspx}.
\end{Details}
%
\begin{Value}
A named list of values and subkeys (which may themselves be named
lists).  The default value (if any) precedes named values which
precede subkeys, and both the latter sets are sorted alphabetically.
\end{Value}
%
\begin{Examples}
\begin{ExampleCode}

## only in HLM if set in an admin-mode install.
readRegistry("SOFTWARE\\R-core", maxdepth = 3)

gmt <- file.path("SOFTWARE", "Microsoft", "Windows NT",
                 "CurrentVersion", "Time Zones",
                 "GMT Standard Time", fsep="\\")
readRegistry(gmt, "HLM")

## on a 64-bit R need this to find 32-bit JAGS
readRegistry("SOFTWARE\\JAGS-1.0.3", maxdepth = 3, view="32")

## See if there is a 64-bit user install
readRegistry("SOFTWARE\\R-core\\R64", "HCU", maxdepth = 2)
\end{ExampleCode}
\end{Examples}
\HeaderA{recover}{Browsing after an Error}{recover}
\aliasA{limitedLabels}{recover}{limitedLabels}
\keyword{programming}{recover}
\keyword{debugging}{recover}
%
\begin{Description}\relax
This function allows the user to browse directly on any of the
currently active function calls, and is suitable as an error option.
The expression \code{options(error=recover)} will make this
the error option.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
recover()
\end{verbatim}
\end{Usage}
%
\begin{Details}\relax
When called, \code{recover} prints the list of current calls, and
prompts the user to select one of them.  The standard \R{}
\code{\LinkA{browser}{browser}} is then invoked from the corresponding
environment; the user can type ordinary \R{} language expressions to be
evaluated in that environment.

When finished browsing in this call, type \code{c} to return to
\code{recover} from the browser.  Type another frame number to browse
some more, or type \code{0} to exit \code{recover}.

The use of \code{recover} largely supersedes \code{\LinkA{dump.frames}{dump.frames}}
as an error option, unless you really want to wait to look at the
error.  If \code{recover} is called in non-interactive mode, it
behaves like \code{dump.frames}.  For computations involving large
amounts of data, \code{recover} has the advantage that it does not
need to copy out all the environments in order to browse in them.  If
you do decide to quit interactive debugging, call
\code{\LinkA{dump.frames}{dump.frames}} directly while browsing in any frame (see
the examples).
\end{Details}
%
\begin{Value}
Nothing useful is returned.  However, you \emph{can} invoke
\code{recover} directly from a function, rather than through the error
option shown in the examples.  In this case, execution continues
after you type \code{0} to exit \code{recover}.
\end{Value}
%
\begin{Section}{Compatibility Note}
The \R{} \code{recover} function can be used in the same way as the
S function of the same name; therefore, the error option shown is
a compatible way to specify the error action.  However, the actual
functions are essentially unrelated and interact quite differently
with the user.  The navigating commands \code{up} and \code{down} do
not exist in the \R{} version; instead, exit the browser and select
another frame.
\end{Section}
%
\begin{References}\relax
John M. Chambers (1998).
\emph{Programming with Data}; Springer. \\{}
See the compatibility note above, however.
\end{References}
%
\begin{SeeAlso}\relax
\code{\LinkA{browser}{browser}} for details about the interactive computations;
\code{\LinkA{options}{options}} for setting the error option;
\code{\LinkA{dump.frames}{dump.frames}} to save the current environments for later
debugging.
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}
## Not run: 

options(error = recover) # setting the error option

### Example of interaction

> myFit <- lm(y ~ x, data = xy, weights = w)
Error in lm.wfit(x, y, w, offset = offset, ...) :
        missing or negative weights not allowed

Enter a frame number, or 0 to exit
1:lm(y ~ x, data = xy, weights = w)
2:lm.wfit(x, y, w, offset = offset, ...)
Selection: 2
Called from: eval(expr, envir, enclos)
Browse[1]> objects() # all the objects in this frame
[1] "method" "n"      "ny"     "offset" "tol"    "w"
[7] "x"      "y"
Browse[1]> w
[1] -0.5013844  1.3112515  0.2939348 -0.8983705 -0.1538642
[6] -0.9772989  0.7888790 -0.1919154 -0.3026882
Browse[1]> dump.frames() # save for offline debugging
Browse[1]> c # exit the browser

Enter a frame number, or 0 to exit
1:lm(y ~ x, data = xy, weights = w)
2:lm.wfit(x, y, w, offset = offset, ...)
Selection: 0 # exit recover
>


## End(Not run)
\end{ExampleCode}
\end{Examples}
\HeaderA{relist}{Allow Re-Listing an unlist()ed Object}{relist}
\aliasA{as.relistable}{relist}{as.relistable}
\aliasA{is.relistable}{relist}{is.relistable}
\methaliasA{relist.default}{relist}{relist.default}
\methaliasA{relist.factor}{relist}{relist.factor}
\methaliasA{relist.list}{relist}{relist.list}
\methaliasA{relist.matrix}{relist}{relist.matrix}
\aliasA{unlist.relistable}{relist}{unlist.relistable}
\keyword{list}{relist}
\keyword{manip}{relist}
%
\begin{Description}\relax
\code{relist()} is an S3 generic function with a few methods in order
to allow easy inversion of \code{\LinkA{unlist}{unlist}(obj)} when that is used
with an object \code{obj} of (S3) class \code{"relistable"}.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
relist(flesh, skeleton)
## Default S3 method:
relist(flesh, skeleton = attr(flesh, "skeleton"))
## S3 method for class 'factor'
relist(flesh, skeleton = attr(flesh, "skeleton"))
## S3 method for class 'list'
relist(flesh, skeleton = attr(flesh, "skeleton"))
## S3 method for class 'matrix'
relist(flesh, skeleton = attr(flesh, "skeleton"))

as.relistable(x)
is.relistable(x)

## S3 method for class 'relistable'
unlist(x, recursive = TRUE, use.names = TRUE)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{flesh}] a vector to be relisted
\item[\code{skeleton}] a list, the structure of which determines the structure
of the result
\item[\code{x}] an \R{} object, typically a list (or vector).
\item[\code{recursive}] logical.  Should unlisting be applied to list
components of \code{x}?
\item[\code{use.names}] logical.  Should names be preserved?
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
Some functions need many parameters, which are most easily represented in
complex structures, e.g., nested lists.  Unfortunately, many
mathematical functions in \R{}, including \code{\LinkA{optim}{optim}} and
\code{\LinkA{nlm}{nlm}} can only operate on functions whose domain is
a vector.  \R{} has \code{\LinkA{unlist}{unlist}()} to convert nested list
objects into a vector representation.  \code{relist()}, its methods and
the functionality mentioned here provide the inverse operation to convert
vectors back to the convenient structural representation.
This allows structured functions (such as \code{optim()}) to have simple
mathematical interfaces.

For example, a likelihood function for a multivariate normal model needs a
variance-covariance matrix and a mean vector.  It would be most convenient to
represent it as a list containing a vector and a matrix.  A typical parameter
might look like
\begin{alltt}      list(mean=c(0, 1), vcov=cbind(c(1, 1), c(1, 0))).\end{alltt}

However, \code{\LinkA{optim}{optim}} cannot operate on functions that take
lists as input; it only likes numeric vectors.  The solution is
conversion. Given a function \code{mvdnorm(x, mean, vcov, log=FALSE)}
which computes the required probability density, then
\begin{alltt}        ipar <- list(mean=c(0, 1), vcov=cbind(c(1, 1), c(1, 0)))
        initial.param <- as.relistable(ipar)

        ll <- function(param.vector)
        \{
           param <- relist(param.vector, skeleton=ipar))
           -sum(mvdnorm(x, mean = param$mean, vcov = param$vcov,
                        log = TRUE))
        \}

        optim(unlist(initial.param), ll)
\end{alltt}

\code{relist} takes two parameters: skeleton and flesh.  Skeleton is a sample
object that has the right \code{shape} but the wrong content.  \code{flesh}
is a vector with the right content but the wrong shape.  Invoking
\begin{alltt}    relist(flesh, skeleton)\end{alltt}

will put the content of flesh on the skeleton.  You don't need to specify
skeleton explicitly if the skeleton is stored as an attribute inside flesh.
In particular, if flesh was created from some object obj with
\code{unlist(as.relistable(obj))}
then the skeleton attribute is automatically set.  (Note that this
does not apply to the example here, as \code{\LinkA{optim}{optim}} is creating
a new vector to pass to \code{ll} and not its \code{par} argument.)

As long as \code{skeleton} has the right shape, it should be a precise inverse
of \code{\LinkA{unlist}{unlist}}.  These equalities hold:
\begin{alltt}   relist(unlist(x), x) == x
   unlist(relist(y, skeleton)) == y

   x <- as.relistable(x)
   relist(unlist(x)) == x
\end{alltt}

\end{Details}
%
\begin{Value}
an object of (S3) class \code{"relistable"} (and \code{"\LinkA{list}{list}"}).
\end{Value}
%
\begin{Author}\relax
R Core, based on a code proposal by Andrew Clausen.
\end{Author}
%
\begin{SeeAlso}\relax
\code{\LinkA{unlist}{unlist}}
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}
 ipar <- list(mean=c(0, 1), vcov=cbind(c(1, 1), c(1, 0)))
 initial.param <- as.relistable(ipar)
 ul <- unlist(initial.param)
 relist(ul)
 stopifnot(identical(relist(ul), initial.param))
\end{ExampleCode}
\end{Examples}
\HeaderA{REMOVE}{Remove Add-on Packages}{REMOVE}
\keyword{utilities}{REMOVE}
%
\begin{Description}\relax
Utility for removing add-on packages.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
R CMD REMOVE [options] [-l lib] pkgs
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{pkgs}] a space-separated list with the names of the packages to
be removed.
\item[\code{lib}] the path name of the \R{} library tree to remove from.  May
be absolute or relative.  Also accepted in the form \samp{--library=lib}.
\item[\code{options}] further options for help or version.
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
If used as \command{R CMD REMOVE pkgs} without explicitly specifying
\code{lib}, packages are removed from the library tree rooted at the
first directory in the library path which would be used by \R{} run in
the current environment.

To remove from the library tree \code{\var{lib}} instead of the default
one, use \command{R CMD REMOVE -l lib \var{pkgs}}.

Use \command{R CMD REMOVE --help} for more usage information.  
\end{Details}
%
\begin{SeeAlso}\relax
\code{\LinkA{INSTALL}{INSTALL}}, \code{\LinkA{remove.packages}{remove.packages}}
\end{SeeAlso}
\HeaderA{remove.packages}{Remove Installed Packages}{remove.packages}
\keyword{utilities}{remove.packages}
%
\begin{Description}\relax
Removes installed packages/bundles and updates index information
as necessary.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
remove.packages(pkgs, lib)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{pkgs}] a character vector with the names of the packages to be removed.
\item[\code{lib}] a character vector giving the library directories to remove the
packages from.  If missing, defaults to the first element in
\code{\LinkA{.libPaths}{.libPaths}()}.
\end{ldescription}
\end{Arguments}
%
\begin{SeeAlso}\relax
\code{\LinkA{install.packages}{install.packages}} for installing packages.
\end{SeeAlso}
\HeaderA{removeSource}{Remove Stored Source from a Function.}{removeSource}
\keyword{utility}{removeSource}
%
\begin{Description}\relax
When \code{options("keep.source")} is \code{TRUE}, a copy of the
original source code to a function is stored with it.  This function
removes that copy.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
removeSource(fn)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{fn}] 
A single function from which to remove the source.

\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
This removes both the \code{"source"} attribute (from \R{} version
2.13.x or earlier) and the \code{"srcref"} and related attributes.
\end{Details}
%
\begin{Value}
A copy of the function with the source removed.
\end{Value}
%
\begin{SeeAlso}\relax
\code{\LinkA{srcref}{srcref}} for a description of source reference records,
\code{\LinkA{deparse}{deparse}} for a description of how functions are deparsed.
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}
fn <- function(x) {
  x + 1 # A comment, kept as part of the source
}
fn
fn <- removeSource(fn)
fn
\end{ExampleCode}
\end{Examples}
\HeaderA{roman}{Roman Numerals}{roman}
\aliasA{as.roman}{roman}{as.roman}
\keyword{arith}{roman}
%
\begin{Description}\relax
Manipulate integers as roman numerals.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
as.roman(x)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{x}] a numeric vector, or a character vector of arabic or roman
numerals.
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
\code{as.roman} creates objects of class \code{"roman"} which are
internally represented as integers, and have suitable methods for
printing, formatting, subsetting, and coercion to \code{character}.

Only numbers between 1 and 3899 have a unique representation as roman
numbers.
\end{Details}
%
\begin{References}\relax
Wikipedia contributors (2006). Roman numerals.
Wikipedia, The Free Encyclopedia.
\url{http://en.wikipedia.org/w/index.php?title=Roman_numerals&oldid=78252134}.
Accessed September 29, 2006.
\end{References}
%
\begin{Examples}
\begin{ExampleCode}
## First five roman 'numbers'.
(y <- as.roman(1 : 5))
## Middle one.
y[3]
## Current year as a roman number.
(y <- as.roman(format(Sys.Date(), "%Y")))
## 10 years ago ...
y - 10
\end{ExampleCode}
\end{Examples}
\HeaderA{Rprof}{Enable Profiling of R's Execution}{Rprof}
\keyword{utilities}{Rprof}
%
\begin{Description}\relax
Enable or disable profiling of the execution of \R{} expressions.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
Rprof(filename = "Rprof.out", append = FALSE, interval = 0.02,
       memory.profiling=FALSE)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{filename}] 
The file to be used for recording the profiling results.
Set to \code{NULL} or \code{""} to disable profiling.

\item[\code{append}] 
logical: should the file be over-written or appended to?

\item[\code{interval}] 
real: time interval between samples.

\item[\code{memory.profiling}] logical: write memory use information to the file?
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
Enabling profiling automatically disables any existing profiling to
another or the same file.

Profiling works by writing out the call stack every \code{interval}
seconds, to the file specified.  Either the \code{\LinkA{summaryRprof}{summaryRprof}}
function or the wrapper script \command{R CMD Rprof} can be used to
process the output file to produce a summary of the usage; use
\command{R CMD Rprof --help} for usage information.

Exactly what the time interval measures is subtle: it is time that the
\R{} process is running and executing an \R{} command.  It is not however just
CPU time, for if \code{readline()} is waiting for input, that counts
(on Windows, but not on a Unix-alike).

Note that the timing interval cannot be too small, for the time spent
in each profiling step is added to the interval.  What is feasible is
machine-dependent, but 10ms seemed as small as advisable on a 1GHz machine.

Functions will only be recorded in the profile log if they put a
context on the call stack (see \code{\LinkA{sys.calls}{sys.calls}}).  Some
\LinkA{primitive}{primitive} functions do not do so: specifically those which are
of \LinkA{type}{type} \code{"special"} (see the `R Internals' manual
for more details).
\end{Details}
%
\begin{Note}\relax
\code{filename} can be a UTF-8-encoded filepath that cannot be translated to
the current locale.
\end{Note}
%
\begin{SeeAlso}\relax
The chapter on ``Tidying and profiling R code'' in
``Writing \R{} Extensions'' (see the \file{doc/manual} subdirectory
of the \R{} source tree).

\code{\LinkA{summaryRprof}{summaryRprof}}

\code{\LinkA{tracemem}{tracemem}}, \code{\LinkA{Rprofmem}{Rprofmem}} for other ways to track
memory use.
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}
## Not run: Rprof()
## some code to be profiled
Rprof(NULL)
## some code NOT to be profiled
Rprof(append=TRUE)
## some code to be profiled
Rprof(NULL)
...
## Now post-process the output as described in Details

## End(Not run)
\end{ExampleCode}
\end{Examples}
\HeaderA{Rprofmem}{Enable Profiling of R's Memory Use}{Rprofmem}
\keyword{utilities}{Rprofmem}
%
\begin{Description}\relax
Enable or disable reporting of memory allocation in R.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
Rprofmem(filename = "Rprofmem.out", append = FALSE, threshold = 0)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{filename}] The file to be used for recording the memory
allocations. Set to \code{NULL} or \code{""} to disable reporting. 
\item[\code{append}] logical: should the file be over-written or appended to? 
\item[\code{threshold}] numeric: allocations on R's "large vector" heap
larger than this number of bytes will be reported.

\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
Enabling profiling automatically disables any existing profiling to
another or the same file.

Profiling writes the call stack to the specified file every time
\code{malloc} is called to allocate a large vector object or to
allocate a page of memory for small objects. The size of a page of
memory and the size above which \code{malloc} is used for vectors are
compile-time constants, by default 2000 and 128 bytes respectively.

The profiler tracks allocations, some of which will be to previously
used memory and will not increase the total memory use of R.
\end{Details}
%
\begin{Value}
None  
\end{Value}
%
\begin{Note}\relax
The memory profiler slows down R even when not in use, and so is a
compile-time option.
The memory profiler can be used at the same time as other \R{} and C profilers.

\end{Note}
%
\begin{SeeAlso}\relax
The R sampling profiler, \code{\LinkA{Rprof}{Rprof}} also collects
memory information.

\code{\LinkA{tracemem}{tracemem}} traces duplications of specific objects.

The "Writing R Extensions" manual section on "Tidying and profiling R code"
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}
## Not run: 
## not supported unless R is compiled to support it.
Rprofmem("Rprofmem.out", threshold=1000)
example(glm)
Rprofmem(NULL)
noquote(readLines("Rprofmem.out", n=5))

## End(Not run)
\end{ExampleCode}
\end{Examples}
\HeaderA{Rscript}{Scripting Front-End for R}{Rscript}
\keyword{utilities}{Rscript}
%
\begin{Description}\relax
This is an alternative front end for use in \samp{\#!} scripts and
other scripting applications.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
Rscript [options] [-e expression] file [args]
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{options}] A list of options beginning with \samp{--}.  These can
be any of the options of the standard \R{} front-end, and also those
described in the details.
\item[\code{expression}] a \R{} expression.
\item[\code{file}] The name of a file containing \R{} commands.  \samp{-}
indicates \file{stdin}.
\item[\code{args}] Arguments to be passed to the script in \code{file}.
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
\command{Rscript --help} gives details of usage, and
\command{Rscript --version} gives the version of \command{Rscript}.

Other invocations invoke the \R{} front-end with selected options.  This
front-end is convenient for writing \samp{\#!} scripts since it is an
executable and takes \code{file} directly as an argument.  Options
\option{--slave --no-restore} are always supplied: these imply
\option{--no-save}.  (The standard Windows command line has no concept
of \samp{\#!} scripts, but Cygwin shells do.)

\emph{Either} one or more \option{-e} options or \code{file} should
be supplied.  When using \option{-e} options be aware of the quoting
rules in the shell used: see the examples.

Additional options accepted (before \code{file} or \code{args}) are
\begin{description}

\item[\option{--verbose}] gives details of what \command{Rscript} is
doing.  Also passed on to \R{}.
\item[\option{--default-packages=list}] where \code{list} is a
comma-separated list of package names or \code{NULL}.  Sets the
environment variable \env{R\_DEFAULT\_PACKAGES} which determines the
packages loaded on startup.  The default for \command{Rscript}
omits \pkg{methods} as it takes about 60\% of the startup time.


\end{description}


Spaces are allowed in \code{expression} and \code{file} (but will need
to be protected from the shell in use, if any, for example by
enclosing the argument in quotes).

The \R{} files are found from the location of the \file{Rscript.exe}
executable.   If this is copied elsewhere, the environment variable
\env{RHOME} should be set to the top directory of the \R{} installation.

Unlike Unix-alikes, this links directly to \file{R.dll} rather than
running a separate process.

\code{\LinkA{stdin}{stdin}()} refers to the input file, and
\code{\LinkA{file}{file}("stdin")} to the \code{stdin} file stream of the
process.
\end{Details}
%
\begin{Examples}
\begin{ExampleCode}
## Not run: 
# Note that Rscript is not by default in the PATH on Windows, so
# either put it there or use an explicit path to Rscript.

# at the standard Windows command line
Rscript -e "date()" -e "format(Sys.time(), \"%a %b %d %X %Y\")"
# in other shells, e.g. bash or tcsh, prefer
Rscript -e 'date()' -e 'format(Sys.time(), "%a %b %d %X %Y")'

## example #! script for a Unix-alike

#! /path/to/Rscript --vanilla --default-packages=utils
args <- commandArgs(TRUE)
res <- try(install.packages(args))
if(inherits(res, "try-error")) q(status=1) else q()


## End(Not run)
\end{ExampleCode}
\end{Examples}
\HeaderA{RShowDoc}{Show R Manuals and Other Documentation}{RShowDoc}
\keyword{documentation}{RShowDoc}
%
\begin{Description}\relax
Utility function to find and display \R{} documentation.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
RShowDoc(what, type = c("pdf", "html", "txt"), package)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{what}] a character string: see `Details'.
\item[\code{type}] an optional character string giving the preferred format.
\item[\code{package}] an optional character string specifying the name of a
package within which to look for documentation.
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
\code{what} can specify one of several different sources of documentation,
including the \R{} manuals (\code{R-admin}, \code{R-data}, \code{R-exts},
\code{R-intro}, \code{R-ints}, \code{R-lang}), \code{NEWS},
\code{COPYING} (the GPL licence), any of the licenses in
\file{share/licenses}, \code{FAQ} (also available as
\code{R-FAQ}), and the files in \file{\var{\LinkA{R\_HOME}{R.Rul.HOME}}/doc}.
The \R{} for Windows FAQ is specified by \code{rw-FAQ}.

If \code{package} is supplied, documentation is looked for in the
\file{doc} and top-level directories of an installed package of that name.

If \code{what} is missing a brief usage message is printed.

The documentation types are tried in turn starting with the first
specified in \code{type} (or \code{"pdf"} if none is specified).
\end{Details}
%
\begin{Value}
A invisible character string given the path to the file found.
\end{Value}
%
\begin{Examples}
\begin{ExampleCode}
## Not run: 
RShowDoc("R-lang")
RShowDoc("FAQ", type="html")
RShowDoc("frame", package="grid")
RShowDoc("changes.txt", package="grid")
RShowDoc("NEWS", package="MASS")

## End(Not run)
\end{ExampleCode}
\end{Examples}
\HeaderA{RSiteSearch}{Search for Key Words or Phrases in Documentation}{RSiteSearch}
\keyword{utilities}{RSiteSearch}
\keyword{documentation}{RSiteSearch}
%
\begin{Description}\relax
Search for key words or phrases in
help pages, vignettes or task views, using the search engine
at \url{http://search.r-project.org} and view them in a web browser.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
RSiteSearch(string,
            restrict = c("functions", "vignettes", "views"),
            format = c("normal", "short"),
            sortby = c("score", "date:late", "date:early",
                       "subject", "subject:descending",
                       "from", "from:descending",
                       "size", "size:descending"),
            matchesPerPage = 20)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{string}] A character string specifying word(s) or a phrase to
search.  If the words are to be searched as one entity, enclose all
words in braces (see the first example).
\item[\code{restrict}] a character vector, typically of length greater than one.
Possible areas to search in:
\code{functions} for help pages,
\code{views} for task views and
\code{vignettes} for package vignettes.
\item[\code{format}] \code{normal} or \code{short} (no excerpts); can be
abbreviated.
\item[\code{sortby}] character string (can be abbreviated) indicating how to
sort the search results:\\{}
(\code{score},
\code{date:late} for sorting by date with latest results first,
\code{date:early} for earliest first,
\code{subject} for subject in alphabetical order,
\code{subject:descending} for reverse alphabetical order,
\code{from} or \code{from:descending} for sender (when applicable),
\code{size} or \code{size:descending} for size.)
\item[\code{matchesPerPage}] How many items to show per page.
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
This function is designed to work with the search site at
\url{http://search.r-project.org}, and depends on that site
continuing to be made available (thanks to Jonathan Baron and the
School of Arts and Sciences of the University of Pennsylvania).

Unique partial matches will work for all arguments.  Each new
browser window will stay open unless you close it.
\end{Details}
%
\begin{Value}
(Invisibly) the complete URL passed to the browser,
including the query string.
\end{Value}
%
\begin{Author}\relax
Andy Liaw and Jonathan Baron
\end{Author}
%
\begin{SeeAlso}\relax
\code{\LinkA{help.search}{help.search}}, \code{\LinkA{help.start}{help.start}} for local searches.

\code{\LinkA{browseURL}{browseURL}} for how the help file is displayed.
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}
# need Internet connection
RSiteSearch("{logistic regression}") # matches exact phrase
Sys.sleep(5) # allow browser to open, take a quick look
## Search in vignettes and store the query-string:
fullquery <- RSiteSearch("lattice", restrict = "vignettes")
fullquery # a string of ~ 110 characters

\end{ExampleCode}
\end{Examples}
\HeaderA{rtags}{ An Etags-like Tagging Utility for R }{rtags}
\keyword{programming}{rtags}
\keyword{utilities}{rtags}
%
\begin{Description}\relax
\code{rtags} provides etags-like indexing capabilities for R code,
using R's own parser.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
rtags(path = ".", pattern = "\\.[RrSs]$",
      recursive = FALSE,
      src = list.files(path = path, pattern = pattern,
                       full.names = TRUE,
                       recursive = recursive),
      keep.re = NULL,
      ofile = "", append = FALSE,
      verbose = getOption("verbose"))
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{path, pattern, recursive}] 
Arguments passed on to \code{\LinkA{list.files}{list.files}} to determine the
files to be tagged.  By default, these are all files with extension
\code{.R}, \code{.r}, \code{.S}, and \code{.s} in the current
directory.  These arguments are ignored if \code{src} is specified.

\item[\code{src}] 
A vector of file names to be indexed.

\item[\code{keep.re}]  A regular expression further restricting \code{src}
(the files to be indexed).  For example, specifying
\code{keep.re="/R/[\textasciicircum{}/]*\bsl{}\bsl{}.R\$"} will only retain files with
extension \code{.R} inside a directory named \code{R}.

\item[\code{ofile}]  Passed on to \code{\LinkA{cat}{cat}} as the \code{file}
argument; typically the output file where the tags will be written
(\code{"TAGS"} by convention).  By default, the output is written to
the R console (unless redirected).

\item[\code{append}]  Logical, indicating whether the output should overwrite
an existing file, or append to it.

\item[\code{verbose}]  Logical.  If \code{TRUE}, file names are echoed to the
R console as they are processed.

\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax

Many text editors allow definitions of functions and other language
objects to be quickly and easily located in source files through a
tagging utility.  This functionality requires the relevant source
files to be preprocessed, producing an index (or tag) file containing
the names and their corresponding locations.  There are multiple tag
file formats, the most popular being the vi-style ctags format and the
and emacs-style etags format.  Tag files in these formats are usually
generated by the \code{ctags} and \code{etags} utilities respectively.
Unfortunately, these programs do not recognize R code syntax.  They do
allow tagging of arbitrary language files through regular expressions,
but this too is insufficient.

The \code{rtags} function is intended to be a tagging utility for R
code.  It parses R code files (using R's parser) and produces tags in
Emacs' etags format.  Support for vi-style tags is currently absent,
but should not be difficult to add.
\end{Details}
%
\begin{Author}\relax
Deepayan Sarkar
\end{Author}
%
\begin{References}\relax
\url{http://en.wikipedia.org/wiki/Ctags},
\url{http://www.gnu.org/software/emacs/emacs-lisp-intro/html_node/emacs.html#Tags}
\end{References}
%
\begin{SeeAlso}\relax
 \code{\LinkA{list.files}{list.files}}, \code{\LinkA{cat}{cat}} 
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}

## Not run: 
rtags("/path/to/src/repository",
      pattern = "[.]*\\.[RrSs]$",
      keep.re = "/R/",
      verbose = TRUE,
      ofile = "TAGS",
      append = FALSE,
      recursive = TRUE)

## End(Not run)

\end{ExampleCode}
\end{Examples}
\HeaderA{Rtangle}{R Driver for Stangle}{Rtangle}
\aliasA{RtangleSetup}{Rtangle}{RtangleSetup}
\keyword{utilities}{Rtangle}
%
\begin{Description}\relax
A driver for \code{\LinkA{Stangle}{Stangle}} that extracts \R{} code chunks.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
Rtangle()
RtangleSetup(file, syntax, output = NULL, annotate = TRUE,
             split = FALSE, quiet = FALSE, ...)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{file}] Name of Sweave source file.  See the description of the
corresponding argument of \code{\LinkA{Sweave}{Sweave}}.
\item[\code{syntax}] An object of class \code{SweaveSyntax}.
\item[\code{output}] Name of output file used unless \code{split = TRUE}:
see `Details'.
\item[\code{annotate}] By default, code chunks are separated by comment
lines specifying the names and numbers of the code chunks.  If
\code{FALSE} the decorating comments are omitted.
\item[\code{split}] Split output into a file for each code chunk?
\item[\code{quiet}] If \code{TRUE} all progress messages are suppressed.
\item[\code{...}] Additional named arguments setting defaults for further
options.
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
Unless \code{split = TRUE}, the default name of the output file is
\code{basename(file)} with an extension corresponding to the Sweave
syntax (e.g. \file{Rnw}, \file{Stex}) replaced by \file{R}.  File
names \code{"stdout"} and \code{"stderr"} are interpreted as the
output and message connection respectively.

If splitting is selected (including by the options in the file), each
chunk is written to a separate file with extension the name of the
`engine' (default \file{.R}).

The annotation is of one of the forms
\begin{alltt}###################################################
### code chunk number 3: viewport
###################################################

###################################################
### code chunk number 18: grid.Rnw:647-648
###################################################

###################################################
### code chunk number 19: trellisdata (eval = FALSE)
###################################################
\end{alltt}

using either the chunk label or the file name and line numbers.

Note that this driver does not simple extract the code chunks verbatim
because code chunks can re-use earlier chunks.
\end{Details}
%
\begin{Section}{Supported Options}
\code{Rtangle} supports the following options for code chunks (the
values in parentheses show the default values):
\begin{description}

\item[engine:] character string (\code{"R"}).  Only chunks with
\code{engine} equal to \code{"R"} or \code{"S"} are processed.

\item[keep.source:] logical (\code{TRUE}).  If \code{keep.source ==
      TRUE} the original source is copied to the file.  Otherwise,
deparsed source is output.

\item[eval:] logical (\code{TRUE}).  If \code{FALSE}, the code chunk
is copied across but commented out.

\item[prefix] Used if \code{split = TRUE}.  See \code{prefix.string}.

\item[prefix.string:] a character string, default is the name of the
source file (without extension).  Used if \code{split = TRUE} as
the prefix for the filename if the chunk has no label, or if it
has a label and \code{prefix = TRUE}.  Note that this is used as
part of filenames, so needs to be portable.

\item[show.line.nos] logical (\code{FALSE}).  Should the output be
annotated with comments showing the line number of the first code line
of the chunk?

\end{description}

\end{Section}
%
\begin{Author}\relax
Friedrich Leisch and R-core.
\end{Author}
%
\begin{SeeAlso}\relax
`\Rhref{../doc/Sweave.pdf}{Sweave User Manual}', a vignette in
the \pkg{utils} package.

\code{\LinkA{Sweave}{Sweave}}, \code{\LinkA{RweaveLatex}{RweaveLatex}}
\end{SeeAlso}
\HeaderA{RweaveLatex}{R/LaTeX Driver for Sweave}{RweaveLatex}
\aliasA{RweaveLatexSetup}{RweaveLatex}{RweaveLatexSetup}
\keyword{utilities}{RweaveLatex}
%
\begin{Description}\relax
A driver for \code{\LinkA{Sweave}{Sweave}} that translates R code chunks in
LaTeX files.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
RweaveLatex()

RweaveLatexSetup(file, syntax, output = NULL, quiet = FALSE,
                 debug = FALSE, stylepath, ...)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{file}] Name of Sweave source file.  See the description of the
corresponding argument of \code{\LinkA{Sweave}{Sweave}}.
\item[\code{syntax}] An object of class \code{SweaveSyntax}.
\item[\code{output}] Name of output file.  The default is to remove extension
\file{.nw}, \file{.Rnw} or \file{.Snw} and to add
extension \file{.tex}.  Any directory paths in
\code{file} are also removed such that the output is
created in the current working directory.
\item[\code{quiet}] If \code{TRUE} all progress messages are suppressed.
\item[\code{debug}] If \code{TRUE}, input and output of all code
chunks is copied to the console.
\item[\code{stylepath}] See `Details'.
\item[\code{...}] named values for the options listed in `Supported
Options'.
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
The LaTeX file generated needs to contain the line
\samp{\bsl{}usepackage\{Sweave\}}, and if this is not present in the
Sweave source file (possibly in a comment), it is inserted by the
\code{RweaveLatex} driver.  If \code{stylepath = TRUE}, a hard-coded
path to the file \file{Sweave.sty} in the \R{} installation is set in
place of \code{Sweave}.  The hard-coded path makes the LaTeX file less
portable, but avoids the problem of installing the current version of
\file{Sweave.sty} to some place in your TeX input path.  However, TeX
may not be able to process the hard-coded path if it contains spaces
(as it often will under Windows) or TeX special characters.

The default for \code{stylepath} is now taken from the environment
variable \env{SWEAVE\_STYLEPATH\_DEFAULT}, or is \code{FALSE} it that is
unset or empty.  If set, it should be exactly \code{TRUE} or
\code{FALSE}: any other values are taken as \code{FALSE}.

As from \R{} 2.12.0, the simplest way for frequent Sweave users to ensure
that \file{Sweave.sty} is in the TeX input path is to add
\file{\var{R\_HOME}/share/texmf} as a `texmf tree' (`root
directory' in the parlance of the `MiKTeX settings' utility).

By default, \file{Sweave.sty} sets the width of all included graphics to:\\{}
\samp{\bsl{}setkeys\{Gin\}\{width=0.8\bsl{}textwidth\}}.

This setting affects the width size option passed to the
\samp{\bsl{}includegraphics\{\}} directive for each plot file and in turn
impacts the scaling of your plot files as they will appear in your
final document.

Thus, for example, you may set \code{width=3} in your figure chunk and
the generated graphics files will be set to 3 inches in
width.  However, the width of your graphic in your final document will
be set to \samp{0.8\bsl{}textwidth} and the height dimension will be
scaled accordingly.  Fonts and symbols will be similarly scaled in the
final document. 

You can adjust the default value by including the
\samp{\bsl{}setkeys\{Gin\}\{width=...\}} directive in your \file{.Rnw} file
after the \samp{\bsl{}begin\{document\}} directive and changing the
\code{width} option value as you prefer, using standard LaTeX
measurement values.

If you wish to override this default behavior entirely, you can add a
\samp{\bsl{}usepackage[nogin]\{Sweave\}} directive in your preamble.  In this
case, no size/scaling options will be passed to the
\samp{\bsl{}includegraphics\{\}} directive and the \code{height} and
\code{width} options will determine both the runtime generated graphic
file sizes and the size of the graphics in your final document.

\file{Sweave.sty} also supports the \samp{[noae]} option, which
suppresses the use of the \samp{ae} package, the use of which may
interfere with certain encoding and typeface selections.  If you have
problems in the rendering of certain character sets, try this option.

The use of fancy quotes (see \code{\LinkA{sQuote}{sQuote}}) can cause problems
when setting \R{} output.  Either set
\code{\LinkA{options}{options}(useFancyQuotes = FALSE)} or arrange that LaTeX is
aware of the encoding used (by a \samp{\bsl{}usepackage[utf8]\{inputenc\}}
declaration: Windows users of \code{Sweave} from \command{Rgui.exe}
will need to replace \samp{utf8} by \samp{cp1252} or similar) and
ensure that typewriter fonts containing directional quotes are used.

Some LaTeX graphics drivers do not include \samp{.png} or \samp{.jpg}
in the list of known extensions.  To enable them, add something like
\samp{\bsl{}DeclareGraphicsExtensions\{.png,.pdf,.jpg\}} to the preamble of
your document or check the behavior of your graphics driver.  When
both \code{pdf} and \code{png} are \code{TRUE} both files will be
produced by \code{Sweave}, and their order in the
\samp{DeclareGraphicsExtensions} list determines which will be used by
\command{pdflatex}.
\end{Details}
%
\begin{Section}{Supported Options}
\code{RweaveLatex} supports the following options for code chunks (the
values in parentheses show the default values).  Character string
values should be quoted when passed from \code{\LinkA{Sweave}{Sweave}} through
\code{...} but not when use in the header of a code chunk.
\begin{description}
    
\item[engine:] character string (\code{"R"}).  Only chunks with
\code{engine} equal to \code{"R"} or \code{"S"} are processed.

\item[echo:] logical (\code{TRUE}). Include \R{} code in the output
file?

\item[keep.source:] logical (\code{TRUE}).  When echoing, if
\code{keep.source == TRUE} the original source is copied to the
file.  Otherwise, deparsed source is echoed.

\item[eval:] logical (\code{TRUE}).  If \code{FALSE}, the code chunk
is not evaluated, and hence no text nor graphical output
produced.

\item[results:] character string (\code{"verbatim"}).  If
\code{"verbatim"}, the output of \R{} commands is included in the
verbatim-like \samp{Soutput} environment.  If \code{"tex"}, the
output is taken to be already proper LaTeX markup and included as
is.  If \code{"hide"} then all output is completely suppressed
(but the code executed during the weave).

\item[print:] logical (\code{FALSE}).  If \code{TRUE}, this forces
auto-printing of all expressions.

\item[term:] logical (\code{TRUE}).  If \code{TRUE}, visibility of
values emulates an interactive \R{} session: values of assignments
are not printed, values of single objects are printed.  If
\code{FALSE}, output comes only from explicit \code{\LinkA{print}{print}}
or similar statements.

\item[split:] logical (\code{FALSE}).  If \code{TRUE}, text output
is written to separate files for each code chunk.

\item[strip.white:] character string (\code{"true"}).  If
\code{"true"}, blank lines at the beginning and end of output are
removed.  If \code{"all"}, then all blank lines are removed from
the output.  If \code{"false"} then blank lines are retained.

A `blank line' is one that is empty or includes only
whitespace (spaces and tabs).

Note that blank lines in a code chunk will usually produce a
prompt string rather than a blank line on output.


\item[prefix:] logical (\code{TRUE}).  If \code{TRUE} generated
filenames of figures and output all have the common prefix given
by the \code{prefix.string} option: otherwise only unlabelled
chunks use the prefix.

\item[prefix.string:] a character string, default is the name of the
source file (without extension).  Note that this is used as part
of filenames, so needs to be portable.

\item[include:] logical (\code{TRUE}), indicating whether input
statements for text output (if \code{split = TRUE}) and
\samp{\bsl{}includegraphics} statements for figures should be
auto-generated.  Use \code{include = FALSE} if the output should
appear in a different place than the code chunk (by placing the
input line manually).

\item[fig:] logical (\code{FALSE}), indicating whether the code
chunk produces graphical output.  Note that only one figure per
code chunk can be processed this way.  The labels for figure
chunks are used as part of the file names, so should preferably be
alphanumeric.

\item[eps:] logical (\code{FALSE}), indicating whether EPS figures
should be generated.  Ignored if \code{fig = FALSE}.

\item[pdf:] logical (\code{TRUE}), indicating whether PDF figures
should be generated.  Ignored if \code{fig = FALSE}.

\item[pdf.version, pdf.encoding, pdf.compress:] passed to
\code{\LinkA{pdf}{pdf}} to set the version, encoding and compression (or
not).  Defaults taken from \code{pdf.options()}.

\item[png:] logical (\code{FALSE}), indicating whether PNG figures
should be generated.  Ignored if \code{fig = FALSE}.  Only
available in \R{} >= 2.13.0.

\item[jpeg:] logical (\code{FALSE}), indicating whether JPEG figures
should be generated.  Ignored if \code{fig = FALSE}.  Only
available in \R{} >= 2.13.0.

\item[grdevice:] character (\code{NULL}): see section `Custom
Graphics Devices'.  Ignored if \code{fig = FALSE}.  Only
available in \R{} >= 2.13.0.

\item[width:] numeric (6), width of figures in inches.  See
`Details'.

\item[height:] numeric (6), height of figures in inches.  See
`Details'.

\item[resolution:] numeric (300), resolution in pixels per inch:
used for PNG and JPEG graphics.  Note that the default is a fairly
high value, appropriate for high-quality plots.  Something like
\code{100} is a better choice for package vignettes.

\item[concordance:] logical (\code{FALSE}).  Write a concordance
file to link the input line numbers to the output line numbers.
This is an experimental feature; see the source code for the
output format, which is subject to change in future releases.

\item[figs.only:] logical (\code{FALSE}).
By default each figure chunk is run once, then re-run for each
selected type of graphics.  That will open a default graphics
device for the first figure chunk and use that device for the first
evaluation of all subsequent chunks.  If this option is true, the
figure chunk is run only for each selected type of graphics, for
which a new graphics device is opened and then closed.

\end{description}


In addition, users can specify further options, either in the header
of an individual code section or in a \samp{\bsl{}SweaveOpts\{\}} line in
the document. Prior to \R{} 2.14.0 unknown options were taken as
logical: now their type is set at first use.
\end{Section}
%
\begin{Section}{Custom Graphics Devices}
If option \code{grdevice} is supplied for a code chunk with both
\code{fig} and \code{eval} true, the following call is made
\begin{alltt}  get(options$grdevice, envir = .GlobalEnv)(name=, width=,
                                              height=, options)
\end{alltt}

which should open a graphics device.  The chunk's code is then
evaluated and \code{\LinkA{dev.off}{dev.off}} is called.  Normally a function of
the name given will have been defined earlier in the Sweave document, e.g.
\begin{alltt}<<results=hide>>=
my.Swd <- function(name, width, height, ...)
  grDevices::png(filename = paste(name, "png", sep = "."),
                 width = width, height = height, res = 100,
                 units = "in", type = "quartz", bg = "transparent")
@
\end{alltt}

Currently only one custom device can be used for each chunk, but
different devices can be used for different chunks.

A replacement for \code{\LinkA{dev.off}{dev.off}} can be provided as a function
with suffix \code{.off}, e.g. \code{my.Swd.off()}.
\end{Section}
%
\begin{Section}{Hook Functions}
Before each code chunk is evaluated, zero or more hook functions can
be executed.  If \code{getOption("SweaveHooks")} is set, it is taken
to be a named list of hook functions.  For each \emph{logical} option of a
code chunk (\code{echo}, \code{print}, \ldots) a hook can be
specified, which is executed if and only if the respective option is
\code{TRUE}.  Hooks must be named elements of the list returned by
\code{getOption("SweaveHooks")} and be functions taking no arguments.
E.g., if option \code{"SweaveHooks"} is defined as \code{list(fig =
  foo)}, and \code{foo} is a function, then it would be executed before
the code in each figure chunk.  This is especially useful to set
defaults for the graphical parameters in a series of figure chunks.

Note that the user is free to define new Sweave logical options and
associate arbitrary hooks with them.  E.g., one could define a hook
function for a new option called \code{clean} that removes all objects
in the workspace.  Then all code chunks specified with \code{clean =
    TRUE} would start operating on an empty workspace.
\end{Section}
%
\begin{Author}\relax
Friedrich Leisch and R-core
\end{Author}
%
\begin{SeeAlso}\relax
`\Rhref{../doc/Sweave.pdf}{Sweave User Manual}', a vignette in
the \pkg{utils} package.

\code{\LinkA{Sweave}{Sweave}}, \code{\LinkA{Rtangle}{Rtangle}}
\end{SeeAlso}
\HeaderA{Rwin configuration}{R for Windows Configuration}{Rwin configuration}
\aliasA{loadRconsole}{Rwin configuration}{loadRconsole}
\aliasA{Rconsole}{Rwin configuration}{Rconsole}
\aliasA{Rdevga}{Rwin configuration}{Rdevga}
\keyword{utilities}{Rwin configuration}
%
\begin{Description}\relax
The file \file{Rconsole} configures the R GUI console in this
Windows port. The \code{loadRconsole} function loads a new 
configuration.

The file \file{Rdevga} configures the graphics devices
\code{\LinkA{windows}{windows}}, \code{win.graph}, \code{win.metafile} and
\code{win.print}, as well as the bitmap devices \code{\LinkA{bmp}{bmp}},
\code{jpeg}, \code{png} and \code{tiff} (which use for \code{type =
  "windows"} use \code{windows} internally).
\end{Description}
%
\begin{Usage}
\begin{verbatim}
  loadRconsole(file)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{file}] The file from which to load a new \file{Rconsole} configuration.
By default a file dialog is used to select a file. 
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
There are system copies of these files in
\file{\var{\LinkA{R\_HOME}{R.Rul.HOME}}\bsl{}etc}.  Users can have personal copies of
the files: these are looked for in the location given by the
environment variable \env{R\_USER}. The system files are read only if a
corresponding personal file is not found.

If the environment variable \env{R\_USER} is not set, the \R{} system
sets it to \env{HOME} if that is set (stripping any trailing slash),
otherwise to the Windows `personal'  directory, 
otherwise to \code{\{HOMEDRIVE\}\{HOMEPATH\}} if \code{HOMEDRIVE} and
\code{HOMEDRIVE} are both set
otherwise to the working directory.  This is as described in the file
\file{rw-FAQ}.
\end{Details}
%
\begin{Value}
Each of the files contains details in its comments of how to set the
values.

At the time of writing \file{Rdevga} configured the mapping of font
numbers to fonts, and \file{Rconsole} configured the appearance
(single or multiple document interface, toolbar, statusbar on MDI),
size, font and colours of the GUI console, and whether resizing the
console sets \code{\LinkA{options}{options}("width")}.

The file \file{Rconsole} also configures the internal pager.  This
shares the font and colours of the console, but can be sized
separately.

\file{Rconsole} can also set the initial positions of the console and
the graphics device, as well as the size and position of the MDI
workspace in MDI mode.

\code{loadRconsole} is called for its side effect of loading new 
defaults.  It returns no useful value.
\end{Value}
%
\begin{Section}{Chinese/Japanese/Korean}
Users of these languages will need to select a suitable font for the
console (perhaps \code{MS Mincho}) and for the graphics device
(although the default \code{Arial} has many CJK characters).  It is
essential that the font selected for the console has double-width CJK
characters -- many monospaced fonts do not.
\end{Section}
%
\begin{Note}\relax
The \code{GUI preferences} item on the \code{Edit} menu brings up an
dialog box which can be used to edit the console settings, and to save them
to a file.
\end{Note}
%
\begin{Author}\relax
Guido Masarotto and R-core members
\end{Author}
%
\begin{SeeAlso}\relax
\code{\LinkA{windows}{windows}}
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}
ruser <- Sys.getenv("R_USER")
cat("\n\nLocation for personal configuration files is\n   R_USER = ",
    ruser, "\n\n", sep="")
## see if there are personal configuration files
file.exists(file.path(ruser, c("Rconsole", "Rdevga")))

## show the configuration files used
showConfig <- function(file)
{
    ruser <- Sys.getenv("R_USER")
    path <- file.path(ruser, file)
    if(!file.exists(path)) path <- file.path(R.home(), "etc", file)
    file.show(path, header=path)
}
showConfig("Rconsole")
\end{ExampleCode}
\end{Examples}
\HeaderA{savehistory}{Load or Save or Display the Commands History}{savehistory}
\aliasA{history}{savehistory}{history}
\aliasA{loadhistory}{savehistory}{loadhistory}
\aliasA{timestamp}{savehistory}{timestamp}
\keyword{utilities}{savehistory}
%
\begin{Description}\relax
Load or save or display the commands history.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
loadhistory(file = ".Rhistory")
savehistory(file = ".Rhistory")

history(max.show = 25, reverse = FALSE, pattern, ...)

timestamp(stamp = date(),
          prefix = "##------ ", suffix = " ------##",
          quiet = FALSE)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{file}] The name of the file in which to save the history, or
from which to load it. The path is relative to the current
working directory.
\item[\code{max.show}] The maximum number of lines to show. \code{Inf} will
give all of the currently available history.
\item[\code{reverse}] logical. If true, the lines are shown in reverse
order. Note: this is not useful when there are continuation lines.
\item[\code{pattern}] A character string to be matched against the lines of
the history
\item[\code{...}] Arguments to be passed to \code{\LinkA{grep}{grep}} when doing
the matching.
\item[\code{stamp}] A value or vector of values to be written into the history.
\item[\code{prefix}] A prefix to apply to each line.
\item[\code{suffix}] A suffix to apply to each line.
\item[\code{quiet}] If \code{TRUE}, suppress printing timestamp to the console.
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
There are several history mechanisms available for the different \R{}
consoles, which work in similar but not identical ways.  Other uses of
\R{}, in particular embedded uses, may have no history.
This works in Rgui and interactive Rterm but not in batch use of Rterm
nor in embedded/DCOM versions.

The history mechanism is controlled by two environment
variables: \env{R\_HISTSIZE} controls the number of lines that are
saved (default 512), and \env{R\_HISTFILE} sets the filename used for
the loading/saving of history if requested at the beginning/end of a
session (but not the default for these functions).  There is no limit
on the number of lines of history retained during a session, so
setting \env{R\_HISTSIZE} to a large value has no penalty unless a
large file is actually generated.

These variables are read at the time of saving, so can be altered
within a session by the use of \code{\LinkA{Sys.setenv}{Sys.setenv}}.


\code{history} shows only unique matching lines if \code{pattern} is
supplied.

The \code{timestamp} function writes a timestamp (or other message)
into the history and echos it to the console.  On platforms that do not
support a history mechanism (where the mechanism does not support
timestamps) only the console message is printed.
\end{Details}
%
\begin{Note}\relax
If you want to save the history at the end of (almost) every
interactive session (even those in which you do not save the
workspace), you can put a call to \code{savehistory()} in
\code{\LinkA{.Last}{.Last}}.  See the examples.
\end{Note}
%
\begin{Examples}
\begin{ExampleCode}
## Not run: 
## save the history in the home directory: note that it is not
## (by default) read from there.
.Last <- function()
    if(interactive()) try(savehistory("~/.Rhistory"))

## End(Not run)
\end{ExampleCode}
\end{Examples}
\HeaderA{select.list}{Select Items from a List}{select.list}
\keyword{utilities}{select.list}
%
\begin{Description}\relax
Select item(s) from a character vector.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
select.list(choices, preselect = NULL, multiple = FALSE, title = NULL,
             graphics = getOption("menu.graphics"))
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{choices}] a character vector of items.
\item[\code{preselect}] a character vector, or \code{NULL}.  If non-null and
if the string(s) appear in the list, the item(s) are selected
initially.
\item[\code{multiple}] logical: can more than one item be selected?
\item[\code{title}] optional character string for window title, or
\code{NULL} for no title.
\item[\code{graphics}] logical: should a graphical widget be used?
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
The normal default is \code{graphics = TRUE}.
This  brings up a modal dialog box with a (scrollable) list
of items, which can be selected by the mouse.  If \code{multiple} is
true, further items can be selected or deselected by holding the
control key down whilst selecting, and shift-clicking can be used to
select ranges.

Normal termination is via the `OK' button or by hitting Enter or
double-clicking an item.  Selection can be aborted via the
`Cancel' button or pressing Escape.

If \code{graphics} is FALSE or no graphical widget is available it
displays a text list from which the user can choose by number(s). The
\code{multiple = FALSE} case uses \code{\LinkA{menu}{menu}}.  Preselection is
only supported for \code{multiple = TRUE}, where it is indicated by a
\code{"+"} preceding the item.

It is an error to use \code{select.list} in a non-interactive session. 
\end{Details}
%
\begin{Value}
A character vector of selected items.  If \code{multiple} is false and
no item was selected (or \code{Cancel} was used), \code{""} is
returned.   If \code{multiple} is true and no item was selected (or
\code{Cancel} was used) then a character vector of length 0 is returned.
\end{Value}
%
\begin{SeeAlso}\relax
\code{\LinkA{menu}{menu}}, \code{\LinkA{tk\_select.list}{tk.Rul.select.list}} for a graphical
version using Tcl/Tk.
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}
## Not run: 
select.list(sort(.packages(all.available = TRUE)))

## End(Not run)
\end{ExampleCode}
\end{Examples}
\HeaderA{sessionInfo}{Collect Information About the Current R Session}{sessionInfo}
\aliasA{print.sessionInfo}{sessionInfo}{print.sessionInfo}
\aliasA{toLatex.sessionInfo}{sessionInfo}{toLatex.sessionInfo}
\keyword{misc}{sessionInfo}
%
\begin{Description}\relax
Print version information about \R{} and attached or loaded packages.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
sessionInfo(package = NULL)
## S3 method for class 'sessionInfo'
print(x, locale = TRUE, ...)
## S3 method for class 'sessionInfo'
toLatex(object, locale = TRUE, ...)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{package}] a character vector naming installed packages, or \code{NULL}
(the default) meaning all attached packages.
\item[\code{x}] an object of class \code{"sessionInfo"}.
\item[\code{object}] an object of class \code{"sessionInfo"}.
\item[\code{locale}] show locale information?
\item[\code{...}] currently not used.
\end{ldescription}
\end{Arguments}
%
\begin{Value}
An object of class \code{"sessionInfo"}, which has a \code{print}
method. This is a list with components
\begin{ldescription}
\item[\code{R.version}] a list, the result of calling \code{\LinkA{R.Version}{R.Version}()}.
\item[\code{platform}] a character string describing the platform.  For recent
versions where sub-architectures are in use this is of the form
\samp{platform/sub-arch (nn-bit)}.
\item[\code{locale}] a character string, the result of calling
\code{\LinkA{Sys.getlocale}{Sys.getlocale}()}.
\item[\code{basePkgs}] a character vector of base packages which are attached.
\item[\code{otherPkgs}] (not always present): a character vector of other
attached packages.
\item[\code{loadedOnly}] (not always present): a named list of the results of
calling \code{\LinkA{packageDescription}{packageDescription}} on packages whose
namespaces are loaded but are not attached.
\end{ldescription}
\end{Value}
%
\begin{Note}\relax
The information on `loaded' packages and namespaces is the
\emph{current} version installed at the location the package was
loaded from: it can be wrong if another process has been changing
packages during the session.
\end{Note}
%
\begin{SeeAlso}\relax
\code{\LinkA{R.version}{R.version}}
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}

sessionInfo()
toLatex(sessionInfo(), locale=FALSE)
\end{ExampleCode}
\end{Examples}
\HeaderA{setInternet2}{Set or disable the use of Internet Explorer for Internet access.}{setInternet2}
\keyword{utilities}{setInternet2}
%
\begin{Description}\relax
With the \option{--internet2} startup option, or \emph{via}
environment variable \env{R\_WIN\_INTERNET2} or by calling this
function, R will make use of the \file{internet2.dll} library for
Internet access, which makes use of Internet Explorer functions.  This
allows specification of proxies, etc., in the ``Internet
Options'' applet in ``Control Panel''.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
setInternet2(use = TRUE)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{use}] Whether to use \file{internet2.dll}.  If \code{NA}, just
return the current setting.

\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
R does not load either \file{internet.dll} or \file{internet2.dll}
until needed, so it is certainly safe to call this function before
making any calls that access the Internet
(e.g. \code{\LinkA{download.file}{download.file}}).  If one of the DLLs has already
been loaded, this function will switch to the other one without
unloading the first one, so there is a potential resource leak.
\end{Details}
%
\begin{Value}
The previous setting is returned, invisibly if \code{use} is not \code{NA}.
\end{Value}
%
\begin{Author}\relax
Duncan Murdoch
\end{Author}
%
\begin{SeeAlso}\relax
\code{\LinkA{download.file}{download.file}}, \code{\LinkA{url}{url}}
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}
setInternet2(NA)
\end{ExampleCode}
\end{Examples}
\HeaderA{setRepositories}{Select Package Repositories}{setRepositories}
\keyword{utilities}{setRepositories}
%
\begin{Description}\relax
Interact with the user to choose the package repositories to be used.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
setRepositories(graphics = getOption("menu.graphics"),
                ind = NULL, addURLs = character())
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{graphics}] Logical. If true, use a graphical list: on Windows or
Mac OS X GUI use a list box, and on a Unix-alike if \pkg{tcltk} and an X
server are available, use Tk widget. Otherwise use a text
\code{\LinkA{menu}{menu}}.
\item[\code{ind}] \code{NULL} or a vector of integer indices, which have the
same effect as if they were entered at the prompt for
\code{graphics = FALSE}.
\item[\code{addURLs}] A character vector of additional URLs: it is often
helpful to use a named vector.
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
The default list of known repositories is stored in the file
\file{\var{\LinkA{R\_HOME}{R.Rul.HOME}}/etc/repositories}.
That file can be edited for a site, or a user can have a personal copy
in \file{\var{HOME}/.R/repositories} which will take precedence.

A Bioconductor mirror can be selected by setting
\code{\LinkA{options}{options}("BioC\_mirror")}: the default value is
\samp{"http://www.bioconductor.org"}.

The items that are preselected are those that are currently in
\code{options("repos")} plus those marked as default in the
list of known repositories.

The list of repositories offered depends on the setting of option
\code{"pkgType"} as some repositories only offer a subset of types
(e.g. only source packages or not Mac OS X binary packages).
Further, for binary packages some repositories (notably R-Forge) only
offer packages for the current or recent versions of \R{}.

Repository \samp{CRAN} is treated specially: the value is taken from
the current setting of \code{getOption("repos")} if this has an
element \code{"CRAN"}: this ensures mirror selection is sticky.

This function requires the \R{} session to be interactive unless
\code{ind} is supplied.
\end{Details}
%
\begin{Value}
This function is invoked mainly for its side effect of updating
\code{options("repos")}.  It returns (invisibly) the previous
\code{repos} options setting (as a \code{\LinkA{list}{list}} with component
\code{repos}) or \code{\LinkA{NULL}{NULL}} if no changes were applied.
\end{Value}
%
\begin{Note}\relax
This does \strong{not} set the list of repositories at startup: to do
so set \code{\LinkA{options}{options}(repos=)} in a start up file (see help topic
\LinkA{Startup}{Startup}).
\end{Note}
%
\begin{SeeAlso}\relax
\code{\LinkA{chooseCRANmirror}{chooseCRANmirror}}, \code{\LinkA{install.packages}{install.packages}}.
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}
## Not run: 
setRepositories(addURLs =
                c(CRANxtras = "http://www.stats.ox.ac.uk/pub/RWin"))

## End(Not run)
\end{ExampleCode}
\end{Examples}
\HeaderA{setWindowTitle}{Set or get the Window Title, or Set the Statusbar}{setWindowTitle}
\aliasA{getIdentification}{setWindowTitle}{getIdentification}
\aliasA{getWindowTitle}{setWindowTitle}{getWindowTitle}
\aliasA{setStatusBar}{setWindowTitle}{setStatusBar}
\keyword{utilities}{setWindowTitle}
%
\begin{Description}\relax
Set the title of the R window which will appear in the task bar, or of
the statusbar (if in use).
\end{Description}
%
\begin{Usage}
\begin{verbatim}
setWindowTitle(suffix, title = paste(getIdentification(), suffix))

getWindowTitle()

getIdentification()

setStatusBar(text)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{suffix}] a character string to form part of the title
\item[\code{title}] a character string forming the complete new title
\item[\code{text}] a character string of up to 255 characters, to be
displayed in the status bar.
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
\code{setWindowTitle} appends \code{suffix} to the normal window
identification (\code{RGui}, \code{R Console} or \code{Rterm}).  Use
\code{suffix = ""} to reset the title.

\code{getWindowTitle} gets the current title.

This sets the title of the frame in MDI mode, the title of the console
for \code{RGui --sdi}, and the title of the window from which it was
launched for \code{Rterm}.
It has no effect in embedded uses of \R{}.

\code{getIdentification} returns the normal window identification.

\code{setStatusBar} sets the text in the statusbar of an MDI
frame: if this is not currently shown it is selected and shown.
\end{Details}
%
\begin{Value}
The first three functions return a length 1 character vector.

\code{setWindowTitle} returns the previous window title (invisibly).  

\code{getWindowTitle} and \code{getIdentification} return the current
window title and the normal window identification, respectively.
\end{Value}
%
\begin{Examples}
\begin{ExampleCode}
## show the current working directory in the title, saving the old one
oldtitle <- setWindowTitle(getwd())
Sys.sleep(0.5)
## reset the title
setWindowTitle("")
Sys.sleep(0.5)
## restore the original title
setWindowTitle(title = oldtitle)
\end{ExampleCode}
\end{Examples}
\HeaderA{SHLIB}{Build Shared Object/DLL for Dynamic Loading}{SHLIB}
\keyword{utilities}{SHLIB}
%
\begin{Description}\relax
Compile the given source files and then link all specified object
files into a shared object aka DLL which can be loaded into \R{} using
\code{dyn.load} or \code{library.dynam}.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
R CMD SHLIB [options] [-o dllname] files
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{files}] a list specifying the object files to be included in the
shared object/DLL.  You can also include the name of source files (for
which the object files are automagically made from their sources)
and library linking commands.

\item[\code{dllname}] the full name of the shared object/DLL to be built,
including the extension (typically \file{.so} on Unix systems, and
\file{.dll} on Windows).  If not given, the basename of the object
is taken from the basename of the first file.
\item[\code{options}] Further options to control the processing.  Use
\command{R CMD SHLIB --help} for a current list.
The most useful one is \code{-d} to build a debug DLL.

\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
\command{R CMD SHLIB} is the mechanism used by \code{\LinkA{INSTALL}{INSTALL}} to
compile source code in packages.  It will generate suitable
compilation commands for C, C++, ObjC(++) and Fortran sources: Fortran
90/95 sources can also be used but it may not be possible to mix these
with other languages (on most platforms it is possible to mix with C,
but mixing with C++ rarely works).

Please consult section `Creating shared objects' in the manual
`Writing R Extensions' for how to customize it (for example to
add \code{cpp} flags and to add libraries to the link step) and for
details of some of its quirks.

Items in \code{files} with extensions \file{.c}, \file{.cpp},
\file{.cc}, \file{.C}, \file{.f}, \file{.f90}, \file{.f95}, \file{.m}
(ObjC), \file{.M} and \file{.mm} (ObjC++) are regarded as source
files, and those with extension \file{.o} as object files.  All other
items are passed to the linker.

Option \option{-n} (also known as \option{--dry-run}) will show the
commands that would be run without actually executing them.

If there is an exports file \file{dllname-win.def} in the current
directory it will be used, otherwise all entry points in objects (but
not libraries) will be exported from the DLL.
\end{Details}
%
\begin{SeeAlso}\relax
\code{\LinkA{dyn.load}{dyn.load}},
\code{\LinkA{library.dynam}{library.dynam}}.

The section on ``Customizing compilation'' in the ``R
Administration and Installation'' manual (see the \file{doc/manual}
subdirectory of the \R{} source tree).

The `R Installation and Administration' and `Writing R 
Extensions' manuals.
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}
## Not run: 
rcmd SHLIB -o my.dll a.f b.f -L/AMD/acml3.5.0/gnu32/lib -lacml

## End(Not run)
\end{ExampleCode}
\end{Examples}
\HeaderA{shortPathName}{Express File Paths in Short Form}{shortPathName}
\keyword{utilities}{shortPathName}
%
\begin{Description}\relax
Convert file paths to the short (DOS) form, with 8+3 path components
and no spaces.  This is an interface to the Windows API call
\code{GetShortPathName}.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
shortPathName(path)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{path}] character vector of file paths.
\end{ldescription}
\end{Arguments}
%
\begin{Value}
A character vector.  The path separator will be \code{\bsl{}}.  If the
file does not exist, the supplied path will be returned with slashes
replaced by backslashes.
\end{Value}
%
\begin{SeeAlso}\relax
\code{\LinkA{normalizePath}{normalizePath}}.
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}

cat(shortPathName(c(R.home(), tempdir())), sep = "\n")

\end{ExampleCode}
\end{Examples}
\HeaderA{sourceutils}{Source Reference Utilities}{sourceutils}
\aliasA{getSrcDirectory}{sourceutils}{getSrcDirectory}
\aliasA{getSrcFilename}{sourceutils}{getSrcFilename}
\aliasA{getSrcLocation}{sourceutils}{getSrcLocation}
\aliasA{getSrcref}{sourceutils}{getSrcref}
\keyword{utilities}{sourceutils}
%
\begin{Description}\relax
These functions extract information from source references.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
getSrcFilename(x, full.names = FALSE, unique = TRUE)
getSrcDirectory(x, unique=TRUE) 
getSrcref(x)
getSrcLocation(x, which = c("line", "column", "byte", "parse"),
               first = TRUE)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{x}] 
An object (typically a function) containing source references.

\item[\code{full.names}] 
Whether to include the full path in the filename result.

\item[\code{unique}] 
Whether to list only unique filenames/directories.

\item[\code{which}] 
Which part of a source reference to extract.

\item[\code{first}] 
Whether to show the first (or last) location of the object.

\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
Each statement of a function will have its own source reference if
\code{options(keep.source=TRUE)}.  These functions retrieve all of them.

The components are as follows:
\begin{description}

\item[line] The line number where the object starts or ends.
\item[column] The column number where the object starts or ends.
\item[byte] As for \code{"column"}, but counting bytes, which may
differ in case of multibyte characters.
\item[parse] As for \code{"line"}, but this ignores \code{\#line} directives.

\end{description}

\end{Details}
%
\begin{Value}
\code{getSrcFilename} and \code{getSrcDirectory} return character vectors 
holding the filename/directory.

\code{getSrcref} returns a list of \code{"srcref"} objects or
\code{NULL} if there are none.

\code{getSrcLocation} returns an integer vector of the requested type
of locations.
\end{Value}
%
\begin{SeeAlso}\relax
\code{\LinkA{srcref}{srcref}}
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}
fn <- function(x) {
  x + 1 # A comment, kept as part of the source
}			    

# Show the temporary file directory
# where the example was saved

getSrcDirectory(fn)  
getSrcLocation(fn, "line")
\end{ExampleCode}
\end{Examples}
\HeaderA{stack}{Stack or Unstack Vectors from a Data Frame or List}{stack}
\methaliasA{stack.data.frame}{stack}{stack.data.frame}
\methaliasA{stack.default}{stack}{stack.default}
\aliasA{unstack}{stack}{unstack}
\methaliasA{unstack.data.frame}{stack}{unstack.data.frame}
\methaliasA{unstack.default}{stack}{unstack.default}
\keyword{manip}{stack}
%
\begin{Description}\relax
Stacking vectors concatenates multiple vectors into a single vector
along with a factor indicating where each observation originated.
Unstacking reverses this operation.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
stack(x, ...)
## Default S3 method:
stack(x, ...)
## S3 method for class 'data.frame'
stack(x, select, ...)

unstack(x, ...)
## Default S3 method:
unstack(x, form, ...)
## S3 method for class 'data.frame'
unstack(x, form, ...)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{x}] a list or data frame to be stacked or unstacked.
\item[\code{select}] an expression, indicating which variable(s) to select from a
data frame.
\item[\code{form}] a two-sided formula whose left side evaluates to the
vector to be unstacked and whose right side evaluates to the
indicator of the groups to create.  Defaults to \code{\LinkA{formula}{formula}(x)}
in the data frame method for \code{unstack}.
\item[\code{...}] further arguments passed to or from other methods.
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
The \code{stack} function is used to transform data available as
separate columns in a data frame or list into a single column that can
be used in an analysis of variance model or other linear model.  The
\code{unstack} function reverses this operation.

Note that \code{stack} applies to \emph{vectors} (as determined by
\code{\LinkA{is.vector}{is.vector}}): non-vector columns (e.g., factors) will be
ignored (with a warning as from \R{} 2.15.0).  Where vectors of
different types are selected they are concatenated by
\code{\LinkA{unlist}{unlist}} whose help page explains how the type of the
result is chosen.

These functions are generic: the supplied methods handle data frames
and objects coercible to lists by \code{\LinkA{as.list}{as.list}}.
\end{Details}
%
\begin{Value}
\code{unstack} produces a list of columns according to the formula
\code{form}.  If all the columns have the same length, the resulting
list is coerced to a data frame.

\code{stack} produces a data frame with two columns:
\begin{ldescription}
\item[\code{values}] the result of concatenating the selected vectors in
\code{x}.
\item[\code{ind}] a factor indicating from which vector in \code{x} the
observation originated.
\end{ldescription}
\end{Value}
%
\begin{Author}\relax
Douglas Bates
\end{Author}
%
\begin{SeeAlso}\relax
\code{\LinkA{lm}{lm}}, \code{\LinkA{reshape}{reshape}}
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}
require(stats)
formula(PlantGrowth)         # check the default formula
pg <- unstack(PlantGrowth)   # unstack according to this formula
pg
stack(pg)                    # now put it back together
stack(pg, select = -ctrl)    # omitting one vector
\end{ExampleCode}
\end{Examples}
\HeaderA{str}{Compactly Display the Structure of an Arbitrary R Object}{str}
\methaliasA{str.data.frame}{str}{str.data.frame}
\methaliasA{str.default}{str}{str.default}
\aliasA{strOptions}{str}{strOptions}
\keyword{print}{str}
\keyword{documentation}{str}
\keyword{utilities}{str}
%
\begin{Description}\relax
Compactly display the internal \bold{str}ucture of an \R{} object, a
diagnostic function and an alternative to \code{\LinkA{summary}{summary}}
(and to some extent, \code{\LinkA{dput}{dput}}).  Ideally, only one line for
each `basic' structure is displayed.  It is especially well suited
to compactly display the (abbreviated) contents of (possibly nested)
lists.  The idea is to give reasonable output for \bold{any} \R{}
object.  It calls \code{\LinkA{args}{args}} for (non-primitive) function objects.

\code{strOptions()} is a convenience function for setting
\code{\LinkA{options}{options}(str = .)}, see the examples.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
str(object, ...)

## S3 method for class 'data.frame'
str(object, ...)

## Default S3 method:
str(object, max.level = NA,
    vec.len  = strO$vec.len, digits.d = strO$digits.d,
    nchar.max = 128, give.attr = TRUE,
    give.head = TRUE, give.length = give.head,
    width = getOption("width"), nest.lev = 0,
    indent.str = paste(rep.int(" ", max(0, nest.lev + 1)),
                       collapse = ".."),
    comp.str="$ ", no.list = FALSE, envir = baseenv(),
    strict.width = strO$strict.width,
    formatNum = strO$formatNum, list.len = 99, ...)

strOptions(strict.width = "no", digits.d = 3, vec.len = 4,
           formatNum = function(x, ...)
                       format(x, trim=TRUE, drop0trailing=TRUE, ...))
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{object}] any \R{} object about which you want to have some
information.
\item[\code{max.level}] maximal level of nesting which is applied for
displaying nested structures, e.g., a list containing sub lists.
Default NA: Display all nesting levels.
\item[\code{vec.len}] numeric (>= 0) indicating how many `first few' elements
are displayed of each vector.  The number is multiplied by different
factors (from .5 to 3) depending on the kind of vector.  Defaults to
the \code{vec.len} component of option \code{"str"} (see
\code{\LinkA{options}{options}}) which defaults to 4.
\item[\code{digits.d}] number of digits for numerical components (as for
\code{\LinkA{print}{print}}).  Defaults to the \code{digits.d} component of
option \code{"str"} which defaults to 3.
\item[\code{nchar.max}] maximal number of characters to show for
\code{\LinkA{character}{character}} strings.  Longer strings are truncated, see
\code{longch} example below.
\item[\code{give.attr}] logical; if \code{TRUE} (default), show attributes
as sub structures.
\item[\code{give.length}] logical; if \code{TRUE} (default), indicate
length (as \code{[1:...]}).
\item[\code{give.head}] logical; if \code{TRUE} (default), give (possibly
abbreviated) mode/class and length (as \code{<type>[1:...]}).
\item[\code{width}] the page width to be used.  The default is the currently
active \code{\LinkA{options}{options}("width")}; note that this has only a
weak effect, unless \code{strict.width} is not \code{"no"}.
\item[\code{nest.lev}] current nesting level in the recursive calls to
\code{str}.
\item[\code{indent.str}] the indentation string to use.
\item[\code{comp.str}] string to be used for separating list components.
\item[\code{no.list}] logical; if true, no `list of \dots' nor the
class are printed.
\item[\code{envir}] the environment to be used for \emph{promise} (see
\code{\LinkA{delayedAssign}{delayedAssign}}) objects only.
\item[\code{strict.width}] string indicating if the \code{width} argument's
specification should be followed strictly, one of the values
\code{c("no", "cut", "wrap")}.
Defaults to the \code{strict.width} component of option \code{"str"}
(see \code{\LinkA{options}{options}}) which defaults to \code{"no"} for back
compatibility reasons; \code{"wrap"} uses
\code{\LinkA{strwrap}{strwrap}(*, width=width)} whereas \code{"cut"} cuts
directly to \code{width}.  Note that a small \code{vec.length}
may be better than setting \code{strict.width = "wrap"}.
\item[\code{formatNum}] a function such as \code{\LinkA{format}{format}} for
formatting numeric vectors.  It defaults to the \code{formatNum}
component of option \code{"str"}, see ``Usage'' of
\code{strOptions()} above, which is almost back compatible to \R{}
<= 2.7.x, however, using \code{\LinkA{formatC}{formatC}} may be slightly better.
\item[\code{list.len}] numeric; maximum number of list elements to display
within a level.
\item[\code{...}] potential further arguments (required for Method/Generic
reasons).
\end{ldescription}
\end{Arguments}
%
\begin{Value}
\code{str} does not return anything, for efficiency reasons.
The obvious side effect is output to the terminal.
\end{Value}
%
\begin{Author}\relax
Martin Maechler \email{maechler@stat.math.ethz.ch} since 1990.
\end{Author}
%
\begin{SeeAlso}\relax
\code{\LinkA{ls.str}{ls.str}} for \emph{listing} objects with their structure;
\code{\LinkA{summary}{summary}}, \code{\LinkA{args}{args}}.
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}
require(stats); require(grDevices); require(graphics)
## The following examples show some of 'str' capabilities
str(1:12)
str(ls)
str(args) #- more useful than  args(args) !
str(freeny)
str(str)
str(.Machine, digits.d = 20)# extra digits for identification of binary numbers
str( lsfit(1:9,1:9))
str( lsfit(1:9,1:9), max.level = 1)
str( lsfit(1:9,1:9), width = 60, strict.width = "cut")
str( lsfit(1:9,1:9), width = 60, strict.width = "wrap")
op <- options(); str(op) # save first;
                         # otherwise internal options() is used.
need.dev <-
  !exists(".Device") || is.null(.Device) || .Device == "null device"
{ if(need.dev) postscript()
  str(par())
  if(need.dev) graphics.off()
}
ch <- letters[1:12]; is.na(ch) <- 3:5
str(ch) # character NA's

str(list(a="A", L = as.list(1:100)), list.len = 9)
nchar(longch <- paste(rep(letters,100), collapse=""))
str(longch)
str(longch, nchar.max = 52)

str(longch, strict.width = "wrap")

## Settings for narrow transcript :
op <- options(width = 60,
              str = strOptions(strict.width = "wrap"))
str(lsfit(1:9,1:9))
str(options())
## reset to previous:
options(op)



str(quote( { A+B; list(C,D) } ))



## S4 classes :
require(stats4)
x <- 0:10; y <- c(26, 17, 13, 12, 20, 5, 9, 8, 5, 4, 8)
ll <- function(ymax=15, xh=6)
      -sum(dpois(y, lambda=ymax/(1+x/xh), log=TRUE))
fit <- mle(ll)
str(fit)

\end{ExampleCode}
\end{Examples}
\HeaderA{summaryRprof}{Summarise Output of R Sampling Profiler}{summaryRprof}
\keyword{utilities}{summaryRprof}
%
\begin{Description}\relax
Summarise the output of the \code{\LinkA{Rprof}{Rprof}} function to show the
amount of time used by different \R{} functions.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
summaryRprof(filename = "Rprof.out", chunksize = 5000,
              memory=c("none","both","tseries","stats"),
              index=2, diff=TRUE, exclude=NULL)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{filename}] Name of a file produced by \code{Rprof()}
\item[\code{chunksize}] Number of lines to read at a time
\item[\code{memory}] Summaries for memory information.  See `Details' below
\item[\code{index}] How to summarize the stack trace for memory
information.  See `Details' below.
\item[\code{diff}] If \code{TRUE} memory summaries use change in memory
rather than current memory
\item[\code{exclude}] Functions to exclude when summarizing the stack trace
for memory summaries

\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
This function provides the analysis code for \code{\LinkA{Rprof}{Rprof}} files
used by \command{R CMD Rprof}.

As the profiling output file could be larger than available memory, it
is read in blocks of \code{chunksize} lines.  Increasing \code{chunksize}
will make the function run faster if sufficient memory is available.

When called with \code{memory.profiling = TRUE}, the profiler writes
information on three aspects of memory use: vector memory in small
blocks on the R heap, vector memory in large blocks (from
\code{malloc}), memory in nodes on the R heap.  It also records the number of
calls to the internal function \code{duplicate} in the time
interval.  \code{duplicate} is called by C code when arguments need to be
copied.  Note that the profiler does not track which function actually
allocated the memory.

With \code{memory = "both"} the change in total memory (truncated at zero)
is reported in addition to timing data. 

With \code{memory = "tseries"} or \code{memory = "stats"} the \code{index}
argument specifies how to summarize the stack trace.  A positive number
specifies that many calls from the bottom of the stack; a negative
number specifies the number of calls from the top of the stack.  With
\code{memory = "tseries"} the index is used to construct labels and may be
a vector to give multiple sets of labels.  With \code{memory = "stats"} the
index must be a single number and specifies how to aggregate the data to
the maximum and average of the memory statistics.  With both
\code{memory = "tseries"} and \code{memory = "stats"} the argument
\code{diff = TRUE} asks for summaries of the increase in memory use over
the sampling interval and \code{diff = FALSE} asks for the memory use at
the end of the interval.
\end{Details}
%
\begin{Value}
If \code{memory = "none"}, a list with components
\begin{ldescription}
\item[\code{by.self}] Timings sorted by `self' time
\item[\code{by.total}] Timings sorted by `total' time
\item[\code{sample.interval}] The sampling interval
\item[\code{sampling.time}] Total length of profiling run

\end{ldescription}
If \code{memory = "both"} the same list but with memory consumption in Mb
in addition to the timings.  

If \code{memory = "tseries"} a data frame giving memory statistics over
time

If \code{memory = "stats"} a \code{\LinkA{by}{by}} object giving memory statistics
by function.
\end{Value}
%
\begin{SeeAlso}\relax
The chapter on ``Tidying and profiling R code'' in
``Writing \R{} Extensions'' (see the \file{doc/manual} subdirectory
of the \R{} source tree).

\code{\LinkA{Rprof}{Rprof}}

\code{\LinkA{tracemem}{tracemem}} traces copying of an object via the C function
\code{duplicate}.

\code{\LinkA{Rprofmem}{Rprofmem}} is a non-sampling memory-use profiler.

\url{http://developer.r-project.org/memory-profiling.html}
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}
## Not run: 
## Rprof() is not available on all platforms
Rprof(tmp <- tempfile())
example(glm)
Rprof()
summaryRprof(tmp)
unlink(tmp)

## End(Not run)
\end{ExampleCode}
\end{Examples}
\HeaderA{Sweave}{Automatic Generation of Reports}{Sweave}
\aliasA{Stangle}{Sweave}{Stangle}
\aliasA{SweaveSyntaxLatex}{Sweave}{SweaveSyntaxLatex}
\aliasA{SweaveSyntaxNoweb}{Sweave}{SweaveSyntaxNoweb}
\keyword{utilities}{Sweave}
%
\begin{Description}\relax
\code{Sweave} provides a flexible framework for mixing text and R/S code
for automatic report generation.  The basic idea is to replace the
code with its output, such that the final document only contains the
text and the output of the statistical analysis: however, the source
code can also be included.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
Sweave(file, driver = RweaveLatex(),
       syntax = getOption("SweaveSyntax"), encoding = "", ...)

Stangle(file, driver = Rtangle(),
        syntax = getOption("SweaveSyntax"), encoding = "", ...)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{file}] Path to Sweave source file.  Note that this can be
supplied without the extension, but the function will only proceed
if there is exactly one Sweave file in the directory whose
basename matches \code{file}.
\item[\code{driver}] The actual workhorse, see `Details'.
\item[\code{syntax}] \code{NULL} or an object of class \code{SweaveSyntax} or
a character string with its name.
See the section `Syntax Definition'.
\item[\code{encoding}] The default encoding to assume for \code{file}.
\item[\code{...}] Further arguments passed to the driver's setup function:
see section `Drivers', \code{\LinkA{RweaveLatex}{RweaveLatex}} and
\code{\LinkA{Rtangle}{Rtangle}}.
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
Automatic generation of reports by mixing word processing markup (like
latex) and S code.  The S code gets replaced by its output (text or
graphs) in the final markup file.  This allows a report to be re-generated
if the input data change and documents the code to reproduce the
analysis in the same file that also produces the report.

\code{Sweave} combines the documentation and code chunks together (or
their output) into a single document.  \code{Stangle} extracts only
the code from the Sweave file creating an S source file that can be
run using \code{\LinkA{source}{source}}.  (Code inside \code{\bsl{}Sexpr\{\}}
statements is ignored by \code{Stangle}.)

\code{Stangle} is just a wrapper to \code{Sweave} specifying a
different default driver.  Alternative drivers can be used: the CRAN
package \Rhref{http://CRAN.R-project.org/package=cacheSweave}{\pkg{cacheSweave}} and the Bioconductor package \pkg{weaver}
both provide drivers based on the default driver
\code{\LinkA{RweaveLatex}{RweaveLatex}} which incorporate ideas of \emph{caching}
the results of computations on code chunks.

Environment variable \env{SWEAVE\_OPTIONS} can be used to override the
initial options set by the driver: it should be a comma-separated set
of \code{key=value} items, as would be used in a \samp{\bsl{}SweaveOpts}
statement in a document.

Non-ASCII source files must contain a line of the form
\begin{alltt}\bsl{}usepackage[foo]\{inputenc\}\end{alltt}

(where \samp{foo} is typically \samp{latin1}, \samp{latin2}, \samp{utf8} or
\samp{cp1252} or \samp{cp1250}) or they will give an error.
Re-encoding can be turned off completely with argument \code{encoding
    = "bytes"}.
\end{Details}
%
\begin{Section}{Syntax Definition}
Sweave allows a flexible syntax framework for marking
documentation and text chunks. The default is a noweb-style syntax, as
alternative a latex-style syntax can be used.  (See the user manual for
further details.)

If \code{syntax = NULL} (the default) then the available syntax
objects are consulted in turn, and selected if their \code{extension}
component matches (as a regexp) the file name.  Objects
\code{SweaveSyntaxNoweb} (with \code{extension = "\bsl{}\bsl{}.[rsRS]nw\$"}) and
\code{SweaveSyntaxLatex} (with \code{extension = "\bsl{}\bsl{}.[rsRS]tex\$"}) are
supplied, but users or packages can supply others with names matching
the pattern \code{SweaveSyntax.*}.
\end{Section}
%
\begin{Author}\relax
Friedrich Leisch and R-core.
\end{Author}
%
\begin{References}\relax
Friedrich Leisch (2002)
Dynamic generation of statistical reports using literate data analysis.
In W. Hrdle and B. Rnz, editors,
\emph{Compstat 2002 - Proceedings in Computational Statistics},
pages 575--580. Physika Verlag, Heidelberg, Germany, ISBN 3-7908-1517-9.
\end{References}
%
\begin{SeeAlso}\relax
`\Rhref{../doc/Sweave.pdf}{Sweave User Manual}', a vignette in
the \pkg{utils} package.

\code{\LinkA{RweaveLatex}{RweaveLatex}}, \code{\LinkA{Rtangle}{Rtangle}}.

Packages \Rhref{http://CRAN.R-project.org/package=cacheSweave}{\pkg{cacheSweave}}, \pkg{weaver} (Bioconductor) and
\Rhref{http://CRAN.R-project.org/package=SweaveListingUtils}{\pkg{SweaveListingUtils}}.

Further Sweave drivers are in, for example, packages \Rhref{http://CRAN.R-project.org/package=R2HTML}{\pkg{R2HTML}},
\Rhref{http://CRAN.R-project.org/package=ascii}{\pkg{ascii}}, \Rhref{http://CRAN.R-project.org/package=odfWeave}{\pkg{odfWeave}} and \Rhref{http://CRAN.R-project.org/package=pgfSweave}{\pkg{pgfSweave}}.
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}
testfile <- system.file("Sweave", "Sweave-test-1.Rnw", package = "utils")

## enforce par(ask=FALSE)
options(device.ask.default=FALSE)

## create a LaTeX file
Sweave(testfile)

## This can be compiled to PDF by
## tools::texi2pdf("Sweave-test-1.tex")
## or outside R by
## Rcmd texify --pdf Sweave-test-1.tex
## if MiKTeX is available.

## create an R source file from the code chunks
Stangle(testfile)
## which can be sourced, e.g.
source("Sweave-test-1.R")


\end{ExampleCode}
\end{Examples}
\HeaderA{SweaveSyntConv}{Convert Sweave Syntax}{SweaveSyntConv}
\keyword{utilities}{SweaveSyntConv}
%
\begin{Description}\relax
This function converts the syntax of files in \code{\LinkA{Sweave}{Sweave}}
format to another Sweave syntax definition. 
\end{Description}
%
\begin{Usage}
\begin{verbatim}
SweaveSyntConv(file, syntax, output = NULL)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{file}] Name of Sweave source file.
\item[\code{syntax}] An object of class \code{SweaveSyntax} or a character
string with its name giving the target syntax to which the file is
converted.
\item[\code{output}] Name of output file, default is to remove the extension
from the input file and to add the default extension of the target
syntax. Any directory names in \code{file} are also removed such
that the output is created in the current working directory.
\end{ldescription}
\end{Arguments}
%
\begin{Author}\relax
Friedrich Leisch
\end{Author}
%
\begin{SeeAlso}\relax
`\Rhref{../doc/Sweave.pdf}{Sweave User Manual}', a vignette in
the \pkg{utils} package.

\code{\LinkA{RweaveLatex}{RweaveLatex}}, \code{\LinkA{Rtangle}{Rtangle}}
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}
testfile <- system.file("Sweave", "Sweave-test-1.Rnw", package = "utils")

## convert the file to latex syntax
SweaveSyntConv(testfile, SweaveSyntaxLatex)

## and run it through Sweave
Sweave("Sweave-test-1.Stex")


\end{ExampleCode}
\end{Examples}
\HeaderA{tar}{Create a Tar Archive}{tar}
\keyword{file}{tar}
\keyword{utilities}{tar}
%
\begin{Description}\relax
Create a tar archive.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
tar(tarfile, files = NULL,
    compression = c("none", "gzip", "bzip2", "xz"),
    compression_level = 6, tar = Sys.getenv("tar"),
    extra_flags = "")
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{tarfile}] The pathname of the tar file: tilde expansion (see
\code{\LinkA{path.expand}{path.expand}}) will be performed.  Alternatively, a
\LinkA{connection}{connection} that can be used for binary writes.

\item[\code{files}] A character vector of filepaths to be archived:
the default is to archive all files under the current directory.

\item[\code{compression}] character string giving the type of compression to
be used (default none).  Can be abbreviated.

\item[\code{compression\_level}] integer: the level of compression.  Only used
for the internal method.

\item[\code{tar}] character string: the path to the command to be used.  If
the command itself contains spaces it needs to be quoted -- but
\code{tar} can also contain flags separated from the command by
spaces.

\item[\code{extra\_flags}] any extra flags for an external \command{tar}.
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
This is either a wrapper for a \command{tar} command or uses an
internal implementation in \R{}.  The latter is used if \code{tarfile}
is a connection or if the argument \code{tar} is \code{"internal"} or
\code{""}.  Note that whereas Unix-alike versions of \R{} set the
environment variable \env{TAR}, its value is not the default for this
function.

Argument \code{extra\_flags} is passed to an external \command{tar} and
so is platform-dependent.  Possibly useful values include \option{-h}
(follow symbolic links, also \option{-L} on some platforms),
\samp{--acls}, \option{--exclude-backups}, \option{--exclude-vcs} (and
similar) and on Windows \option{--force-local} (so drives can be
included in filepaths: this is the default for the \command{Rtools}
\command{tar}.
\end{Details}
%
\begin{Value}
The return code from \code{\LinkA{system}{system}} or \code{0} for the internal
version, invisibly.
\end{Value}
%
\begin{Section}{Portability}
The `tar' format no longer has an agreed standard!
`Unix Standard Tar' was part of POSIX 1003.1:1998 but has been
removed in favour of \command{pax}, and in any case many common
implementations diverged from the former standard.  Most \R{} platforms
use a version of GNU \command{tar} (including \command{Rtools} on
Windows, but the behaviour seems to be changed with each version), Mac
OS 10.6 and FreeBSD use \command{bsdttar} from the \samp{libarchive
  project}, and commercial Unixes will have their own versions.

Known problems arise from
\begin{itemize}

\item The handling of file names of more than 100 bytes.  These were
unsupported in early versions of \command{tar}, and supported in one
way by POSIX \command{tar} and in another by GNU \command{tar}.  The
internal implementation uses the POSIX way which supports up to 255
bytes (depending on the path), and warns on paths of more than 100
bytes.

\item (File) links.  \command{tar} was developed on an OS that used
hard links, and physical files that were referred to more than one
in the list of files to be included were included only once, the
remaining instance being added as links.  Later a means to include
symbolic links was added.  The internal implementation supports
symbolic links (on OSes that support them), only.  Of course, the
question arises as to how links should be unpacked on OSes that do
not support them: for files at least file copies can be used.

\item Header fields, in particular the padding to be used when
fields are not full or not used.  POSIX did define the correct
behaviour but commonly used implementations did (and still do)
not comply.

\end{itemize}

For portability, avoid file paths of more than 100 bytes, and links
(or at least, hard links and symbolic links to directories).

The internal implementation writes only the blocks of 512 bytes
required, unlike GNU \command{tar} which by default pads with
\samp{nul} to a multiple of 20 blocks (10KB).  Implementations differ
on whether the block padding should occur before or after compression
(or both).
\end{Section}
%
\begin{SeeAlso}\relax
\url{http://en.wikipedia.org/wiki/Tar_(file_format)},
\url{http://pubs.opengroup.org/onlinepubs/9699919799/utilities/pax.html#tag_20_92_13_06}
for the way the POSIX utility \command{pax} handles \command{tar} formats.

\url{http://code.google.com/p/libarchive/wiki/ManPageTar5}.

\code{\LinkA{untar}{untar}}.
\end{SeeAlso}
\HeaderA{toLatex}{Converting R Objects to BibTeX or LaTeX}{toLatex}
\aliasA{print.Bibtex}{toLatex}{print.Bibtex}
\aliasA{print.Latex}{toLatex}{print.Latex}
\aliasA{toBibtex}{toLatex}{toBibtex}
\keyword{misc}{toLatex}
%
\begin{Description}\relax
These methods convert R objects to character vectors with
BibTeX or LaTeX markup.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
toBibtex(object, ...)
toLatex(object, ...)
## S3 method for class 'Bibtex'
print(x, prefix="", ...)
## S3 method for class 'Latex'
print(x, prefix="", ...)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{object}] object of a class for which a \code{toBibtex} or
\code{toLatex} method exists.
\item[\code{x}] object of class \code{"Bibtex"} or
\code{"Latex"}.
\item[\code{prefix}] a character string which is printed at the beginning of
each line, mostly used to insert whitespace for indentation.
\item[\code{...}] currently not used in the print methods.
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
Objects of class \code{"Bibtex"} or \code{"Latex"} are simply
character vectors where each element holds one line of the
corresponding BibTeX or LaTeX file.
\end{Details}
%
\begin{SeeAlso}\relax
\code{\LinkA{citEntry}{citEntry}} and \code{\LinkA{sessionInfo}{sessionInfo}} for examples
\end{SeeAlso}
\HeaderA{txtProgressBar}{Text Progress Bar}{txtProgressBar}
\aliasA{close.txtProgressBar}{txtProgressBar}{close.txtProgressBar}
\aliasA{getTxtProgressBar}{txtProgressBar}{getTxtProgressBar}
\aliasA{setTxtProgressBar}{txtProgressBar}{setTxtProgressBar}
\keyword{utilities}{txtProgressBar}
%
\begin{Description}\relax
Text progress bar in the \R{} console.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
txtProgressBar(min = 0, max = 1, initial = 0, char = "=",
               width = NA, title, label, style = 1, file = "")

getTxtProgressBar(pb)
setTxtProgressBar(pb, value, title = NULL, label = NULL)
## S3 method for class 'txtProgressBar'
close(con, ...)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{min, max}] (finite) numeric values for the extremes of the
progress bar. Must have \code{min < max}.
\item[\code{initial, value}] initial or new value for the progress bar.  See
`Details' for what happens with invalid values.
\item[\code{char}] the character (or character string) to form the progress bar.
\item[\code{width}] the width of the progress bar, as a multiple of the width
of \code{char}.  If \code{NA}, the default, the number of characters
is that which fits into \code{getOption("width")}.
\item[\code{style}] the `style' of the bar -- see `Details'.
\item[\code{file}] an open connection object or \code{""} which indicates
the console: \code{\LinkA{stderr}{stderr}()} might be useful here.
\item[\code{pb, con}] an object of class \code{"txtProgressBar"}.
\item[\code{title, label}] ignored, for compatibility with other progress bars.
\item[\code{...}] for consistency with the generic.
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
\code{txtProgressBar} will display a progress bar on the \R{} console
(or a connection) via a text representation.

\code{setTxtProgessBar} will update the value.  Missing
(\code{\LinkA{NA}{NA}}) and out-of-range values of \code{value} will be
(silently) ignored.  (Such values of \code{initial} cause the progress
bar not to be displayed until a valid value is set.)

The progress bar should be \code{close}d when finished with: this
outputs the final newline character.

\code{style = 1} and \code{style = 2} just shows a line of
\code{char}. They differ in that \code{style = 2} redraws the line
each time, which is useful if other code might be writing to the \R{}
console.  \code{style = 3} marks the end of the range by \code{|} and
gives a percentage to the right of the bar.
\end{Details}
%
\begin{Value}
For \code{txtProgressBar} an object of class \code{"txtProgressBar"}.

For \code{getTxtProgressBar} and \code{setTxtProgressBar}, a
length-one numeric vector giving the previous value (invisibly for
\code{setTxtProgressBar}).
\end{Value}
%
\begin{Note}\relax
Using \code{style} 2 or 3 or reducing the value with \code{style = 1}
uses \samp{\bsl{}r} to return to the left margin -- the interpretation of
carriage return is up to the terminal or console in which \R{} is
running, and this is liable to produce ugly output on a connection
other than a terminal, including when \code{stdout()} is
redirected to a file.
\end{Note}
%
\begin{SeeAlso}\relax
\code{\LinkA{winProgressBar}{winProgressBar}},
\code{\LinkA{tkProgressBar}{tkProgressBar}}.
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}
 # slow
testit <- function(x = sort(runif(20)), ...)
{
    pb <- txtProgressBar(...)
    for(i in c(0, x, 1)) {Sys.sleep(0.5); setTxtProgressBar(pb, i)}
    Sys.sleep(1)
    close(pb)
}
testit()
testit(runif(10))
testit(style=3)
\end{ExampleCode}
\end{Examples}
\HeaderA{type.convert}{Type Conversion on Character Variables}{type.convert}
\keyword{manip}{type.convert}
%
\begin{Description}\relax
Convert a character vector to logical, integer, numeric, complex or
factor as appropriate.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
type.convert(x, na.strings = "NA", as.is = FALSE, dec = ".")
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{x}] a character vector.

\item[\code{na.strings}] a vector of strings which are to be interpreted as
\code{\LinkA{NA}{NA}} values.  Blank fields are also considered to be
missing values in logical, integer, numeric or complex vectors.

\item[\code{as.is}] logical.  See `Details'.

\item[\code{dec}] the character to be assumed for decimal points.
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
This is principally a helper function for \code{\LinkA{read.table}{read.table}}.
Given a character vector, it attempts to convert it to logical,
integer, numeric or complex, and failing that converts it to factor
unless \code{as.is = TRUE}.  The first type that can accept all the
non-missing values is chosen.

Vectors which are entirely missing values are converted to logical,
since \code{NA} is primarily logical.

Vectors containing \code{F}, \code{T}, \code{FALSE}, \code{TRUE} or
values from \code{na.strings} are converted to logical.  Vectors
containing optional whitespace followed by decimal constants
representable as \R{} integers or values from \code{na.strings} are
converted to integer.  Other vectors containing optional whitespace
followed by other decimal or hexadecimal constants (see
\LinkA{NumericConstants}{NumericConstants}), or \code{NaN}, \code{Inf} or \code{infinity}
(ignoring case) or values from \code{na.strings} are converted to
numeric.

Since this is a helper function, the caller should always pass an
appropriate value of \code{as.is}.
\end{Details}
%
\begin{Value}
A vector of the selected class, or a factor.
\end{Value}
%
\begin{SeeAlso}\relax
\code{\LinkA{read.table}{read.table}}
\end{SeeAlso}
\HeaderA{untar}{Extract or List Tar Archives}{untar}
\keyword{file}{untar}
\keyword{utilities}{untar}
%
\begin{Description}\relax
Extract files from or list a tar archive.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
untar(tarfile, files = NULL, list = FALSE, exdir = ".",
      compressed = NA, extras = NULL, verbose = FALSE,
      tar = Sys.getenv("TAR"))
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{tarfile}] The pathname of the tar file: tilde expansion (see
\code{\LinkA{path.expand}{path.expand}}) will be performed.  Alternatively, a
\LinkA{connection}{connection} that can be used for binary reads.

\item[\code{files}] A character vector of recorded filepaths to be extracted:
the default is to extract all files.

\item[\code{list}] If \code{TRUE}, just list the files.  The equivalent of
\command{tar -tf}.  Otherwise extract the files (the equivalent of
\command{tar -xf}).

\item[\code{exdir}] The directory to extract files to (the equivalent of
\command{tar -C}).  It will be created if necessary.

\item[\code{compressed}] logical or character.  Values \code{"gzip"},
\code{"bzip2"} and \code{"xz"} select that form of compression (and
may be abbreviated to the first letter).  \code{TRUE} indicates gzip
compression, \code{FALSE} no known compression (but the
\command{tar} command may detect compression automagically), and
\code{NA} (the default) that the type is inferred from the file
header.

\item[\code{extras}] \code{NULL} or a character string: further command-line
flags such as \option{-p} to be passed to the \command{tar} program.

\item[\code{verbose}] logical: if true echo the command used.

\item[\code{tar}] character string: the path to the command to be used.  If
the command itself contains spaces it needs to be quoted -- but
\code{tar} can also contain flags separated from the command by spaces.
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
This is either a wrapper for a \command{tar} command or for an
internal implementation written in \R{}.  The latter is used if
\code{tarfile} is a connection or if the argument \code{tar} is
\code{"internal"} or \code{""} (except on Windows, when
\command{tar.exe} is tried first).

What options are supported will depend on the \command{tar} used.
Modern GNU flavours of \command{tar} will support compressed archives,
and since 1.15 are able to detect the type of compression
automatically: version 1.20 added support for \command{lzma} and
version 1.22 for \command{xz} compression using LZMA2.  For other
flavours of \command{tar}, environment variable \env{R\_GZIPCMD} gives
the command to decompress \command{gzip} and \command{compress} files,
and \command{R\_BZIPCMD} for its files.  (There is a \command{bsdtar}
command from the \samp{libarchive} project used by Mac OS 10.6
(`Snow Leopard') which can also detect \command{gzip} and
\command{bzip2} compression automatically, as can the \command{tar}
from the `Heirloom Toolchest' project.)

Arguments \code{compressed}, \code{extras} and \code{verbose} are only
used when an external \command{tar} is used.

The internal implementation restores symbolic links as links on a
Unix-alike, and as file copies on Windows (which works only for
existing files, not for directories), and hard links as links.  If the
linking operation fails (as it may on a FAT file system), a file copy
is tried.  Since it uses \code{\LinkA{gzfile}{gzfile}} to read a file it can
handle files compressed by any of the methods that function can
handle: at least \command{compress}, \command{gzip}, \command{bzip2}
and \command{xz} compression, and some types of \command{lzma}
compression.  It does not guard against restoring absolute file paths,
as some \command{tar} implementations do.  It will create the parent
directories for directories or files in the archive if necessary.  It
handles both the standard (USTAR/POSIX) and GNU ways of handling file
paths of more than 100 bytes.

You may see warnings from the internal implementation such as
\begin{alltt}unsupported entry type 'x'\end{alltt}

This often indicates an invalid archive: entry types \code{"A-Z"} are
allowed as extensions, but other types are reserved (this example is
from Mac OS 10.6.3).  The only thing you can do with such an archive
is to find a \code{tar} program that handles it, and look carefully at
the resulting files.

The standards only support ASCII filenames (indeed, only alphanumeric
plus period, underscore and hyphen).  \code{untar} makes no attempt to map
filenames to those acceptable on the current system, and treats the
filenames in the archive as applicable without any re-encoding in the
current locale.
\end{Details}
%
\begin{Value}
If \code{list = TRUE}, a character vector of (relative or absolute)
paths of files contained in the tar archive.

Otherwise the return code from \code{\LinkA{system}{system}}, invisibly.
\end{Value}
%
\begin{SeeAlso}\relax
\code{\LinkA{tar}{tar}}, \code{\LinkA{unzip}{unzip}}.  
\end{SeeAlso}
\HeaderA{unzip}{Extract or List Zip Archives}{unzip}
\keyword{file}{unzip}
\keyword{utilities}{unzip}
%
\begin{Description}\relax
Extract files from or list a zip archive.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
unzip(zipfile, files = NULL, list = FALSE, overwrite = TRUE,
      junkpaths = FALSE, exdir = ".", unzip = "internal", setTimes = FALSE)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{zipfile}] The pathname of the zip file: tilde expansion (see
\code{\LinkA{path.expand}{path.expand}}) will be performed.

\item[\code{files}] A character vector of recorded filepaths to be extracted:
the default is to extract all files.

\item[\code{list}] If \code{TRUE}, list the files and extract none.  The
equivalent of \command{unzip -l}.

\item[\code{overwrite}] If \code{TRUE}, overwrite existing files, otherwise
ignore such files.  The equivalent of \command{unzip -o}.

\item[\code{junkpaths}] If \code{TRUE}, use only the basename of the stored
filepath when extracting.  The equivalent of \command{unzip -j}.

\item[\code{exdir}] The directory to extract files to (the equivalent of
\code{unzip -d}).  It will be created if necessary.

\item[\code{unzip}] The method to be used.  An alternative is to use
\code{getOption("unzip"}), which on a Unix-alike may be set to the
path to a \command{unzip} program.

\item[\code{setTimes}] logical.  For the internal method only, should the
file time be set based on the times in the zip file?  (NB: this
applies to files, not to directories.
\end{ldescription}
\end{Arguments}
%
\begin{Value}
If \code{list = TRUE}, a data frame with columns \code{Name}
(character) \code{Length} (the size of the uncompressed file, numeric)
and \code{Date} (of class \code{"\LinkA{POSIXct}{POSIXct}"}).

Otherwise for the \code{"internal"} method, a character vector of the
filepaths extracted to, invisibly.
\end{Value}
%
\begin{Note}\relax
The default internal method is a minimal implementation, principally
designed for Windows' users to be able to unpack Windows binary
packages without external software.  It does not (for example) support
Unicode filenames as introduced in \command{zip 3.0}: for that use
\code{unzip = "unzip"} with \command{unzip 6.00} or later.  (As from
\R{} 2.14.0 it does have support for files of more than 4GB and
\command{bzip2} compression.)

If \code{unzip} specifies a program, the format of the dates listed
with \code{list = TRUE} is unknown (on Windows it can even depend on
the current locale) and the return values could be \code{NA} or
expressed in the wrong timezone or misinterpreted (the latter being
far less likely as from \command{unzip 6.00}).

File times in zip files are stored in the style of MS-DOS, as local times
to an accuracy of 2 seconds.  This is not very useful when
transferring zip files between machines (even across continents), so
we chose not to restore them by default.
\end{Note}
%
\begin{Source}\relax
The internal C code uses \code{zlib} and is in particular based on the
contributed \samp{minizip} application in the \code{zlib} sources
(from \url{http://zlib.net}) by Gilles Vollant.
\end{Source}
%
\begin{SeeAlso}\relax
\code{\LinkA{unz}{unz}} to read a single component from a zip file.

\code{\LinkA{zip}{zip}}.
\end{SeeAlso}
\HeaderA{update.packages}{Compare Installed Packages with CRAN-like Repositories}{update.packages}
\aliasA{new.packages}{update.packages}{new.packages}
\aliasA{old.packages}{update.packages}{old.packages}
\keyword{utilities}{update.packages}
%
\begin{Description}\relax
\code{old.packages} indicates packages which have a (suitable) later
version on the repositories whereas \code{update.packages} offers to
download and install such packages.

\code{new.packages} looks for (suitable) packages on the repositories
that are not already installed, and optionally offers them for
installation.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
update.packages(lib.loc = NULL, repos = getOption("repos"),
                contriburl = contrib.url(repos, type),
                method, instlib = NULL,
                ask = TRUE, available = NULL,
                oldPkgs = NULL, ..., checkBuilt = FALSE,
                type = getOption("pkgType"))

old.packages(lib.loc = NULL, repos = getOption("repos"),
             contriburl = contrib.url(repos, type),
             instPkgs = installed.packages(lib.loc = lib.loc),
             method, available = NULL, checkBuilt = FALSE,
             type = getOption("pkgType"))

new.packages(lib.loc = NULL, repos = getOption("repos"),
             contriburl = contrib.url(repos, type),
             instPkgs = installed.packages(lib.loc = lib.loc),
             method, available = NULL, ask = FALSE, ...,
             type = getOption("pkgType"))
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{lib.loc}] character vector describing the location of R
library trees to search through (and update packages therein), or
\code{NULL} for all known trees (see \code{\LinkA{.libPaths}{.libPaths}}).
\item[\code{repos}] character vector, the base URL(s) of the repositories
to use, i.e., the URL of the CRAN master such as
\code{"http://cran.r-project.org"} or its Statlib mirror,
\code{"http://lib.stat.cmu.edu/R/CRAN"}.
Can be \code{NULL} to install from local files
(\file{.tar.gz} for source packages).

\item[\code{contriburl}] URL(s) of the contrib sections of the
repositories.  Use this argument only if your repository mirror is
incomplete, e.g., because you burned only the \file{contrib} section on a
CD.  Overrides argument \code{repos}.  As with \code{repos}, can
also be \code{NULL} to install from local files.

\item[\code{method}] Download method, see \code{\LinkA{download.file}{download.file}}.
\item[\code{instlib}] character string giving the library directory where to
install the packages.
\item[\code{ask}] logical indicating whether to ask user before packages are
actually downloaded and installed, or the character string
\code{"graphics"}, which brings up a widget to allow the
user to (de-)select from the list of packages which could
be updated or added.  The latter value only works on
systems with a GUI version of \code{\LinkA{select.list}{select.list}},
and is otherwise equivalent to \code{ask = TRUE}.     

\item[\code{available}] 
an object as returned by \code{\LinkA{available.packages}{available.packages}}
listing packages available at the repositories, or \code{NULL} which
makes an internal call to \code{available.packages}.

\item[\code{checkBuilt}] If \code{TRUE}, a package built under an earlier
minor version of \R{} is considered to be `old'.
\item[\code{oldPkgs}] 
if specified as non-NULL, \code{update.packages()} only considers
these packages for updating. This may be a character vector
of package names or a matrix as returned by \code{old.packages()}.

\item[\code{instPkgs}] 
by default all installed packages,
\code{\LinkA{installed.packages}{installed.packages}(lib.loc=lib.loc)}.  A subset can be 
specified; currently this must be in the same (character matrix)
format as returned by \code{installed.packages()}.

\item[\code{...}] 
Arguments such as \code{destdir} and \code{dependencies} to be
passed to \code{\LinkA{install.packages}{install.packages}}.

\item[\code{type}] character, indicating the type of package to download and
install.  See \code{\LinkA{install.packages}{install.packages}}.

\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
\code{old.packages} compares the information from
\code{\LinkA{available.packages}{available.packages}} with that from \code{instPkgs} (computed by
\code{\LinkA{installed.packages}{installed.packages}} by default) and reports installed
packages that have newer versions on the repositories or, if
\code{checkBuilt = TRUE}, that were built under an earlier minor
version of \R{} (for example built under 2.14.x when running \R{} 2.15.0).
(For binary package types here is no check that the version on the
repository was built under the current minor version of \R{},
but it is advertised as being suitable for this version.) 

\code{new.packages} does the same comparison but reports uninstalled
packages that are available at the repositories.  If \code{ask !=
  FALSE} it asks which packages should be installed in the first element
of \code{lib.loc}.

The main function of the set is \code{update.packages}.  First a list
of all packages found in \code{lib.loc} is created and compared with
those available at the repositories.  If \code{ask = TRUE} (the
default) packages with a newer version are reported and for each one
the user can specify if it should be updated.  If so the packages are
downloaded from the repositories and installed in the respective
library path (or \code{instlib} if specified).

For how the list of suitable available packages is determined see
\code{\LinkA{available.packages}{available.packages}}.  \code{available = NULL} make a call
to \code{available.packages(contriburl = contriburl, method = method)}
and hence by default filters on \R{} version, OS type and removes
duplicates.
\end{Details}
%
\begin{Value}
\code{update.packages} returns \code{NULL} invisibly.

For \code{old.packages}, \code{NULL} or a matrix with one row per
package, row names the package names and column names
\code{"Package"}, \code{"LibPath"}, \code{"Installed"} (the version),
\code{"Built"} (the version built under), \code{"ReposVer"} and
\code{"Repository"}.

For \code{new.packages} a character vector of package names,
\emph{after} any selected \emph{via} \code{ask} have been installed.
\end{Value}
%
\begin{Section}{Warning}
Take care when using \code{dependencies} (passed to
\code{\LinkA{install.packages}{install.packages}}) with \code{update.packages},
for it is unclear where new dependencies should be installed.  The
current implementation will only allow it if all the packages to be
updated are in a single library, when that library will be used.
\end{Section}
%
\begin{SeeAlso}\relax
\code{\LinkA{install.packages}{install.packages}},
\code{\LinkA{available.packages}{available.packages}}, \code{\LinkA{download.packages}{download.packages}},
\code{\LinkA{installed.packages}{installed.packages}}, \code{\LinkA{contrib.url}{contrib.url}}.

See \code{\LinkA{download.file}{download.file}} for how to handle proxies and
other options to monitor file transfers.

\code{\LinkA{INSTALL}{INSTALL}}, \code{\LinkA{REMOVE}{REMOVE}}, \code{\LinkA{remove.packages}{remove.packages}},
\code{\LinkA{library}{library}}, \code{\LinkA{.packages}{.packages}}, \code{\LinkA{read.dcf}{read.dcf}}

The `R Installation and Administration' manual for how to 
set up a repository.
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}

## Not run: 
install.packages(
    c("XML_0.99-5.tar.gz",
      "../../Interfaces/Perl/RSPerl_0.8-0.tar.gz"),
    repos = NULL,
    configure.args = c(XML = '--with-xml-config=xml-config',
                       RSPerl = "--with-modules='IO Fcntl'"))

## End(Not run)
\end{ExampleCode}
\end{Examples}
\HeaderA{url.show}{Display a text URL}{url.show}
\keyword{file}{url.show}
\keyword{misc}{url.show}
%
\begin{Description}\relax
Extension of \code{\LinkA{file.show}{file.show}} to display text files from a remote 
server.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
url.show(url, title = url, file = tempfile(),
         delete.file = TRUE, method, ...)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{url}] The URL to read from.
\item[\code{title}] Title for the browser.
\item[\code{file}] File to copy to.
\item[\code{delete.file}] Delete the file afterwards?
\item[\code{method}] File transfer method: see \code{\LinkA{download.file}{download.file}}
\item[\code{...}] Arguments to pass to \code{\LinkA{file.show}{file.show}}.
\end{ldescription}
\end{Arguments}
%
\begin{Note}\relax
Since this is for text files, it will convert to CRLF line endings on
Windows.
\end{Note}
%
\begin{SeeAlso}\relax
\code{\LinkA{url}{url}}, \code{\LinkA{file.show}{file.show}}, \code{\LinkA{download.file}{download.file}}
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}
## Not run: url.show("http://lib.stat.cmu.edu/datasets/csb/ch3a.txt")
\end{ExampleCode}
\end{Examples}
\HeaderA{URLencode}{Encode or Decode a (partial) URL}{URLencode}
\aliasA{URLdecode}{URLencode}{URLdecode}
\keyword{utilities}{URLencode}
%
\begin{Description}\relax
Functions to encode or decode characters in URLs.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
URLencode(URL, reserved = FALSE)
URLdecode(URL)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{URL}] A character string.
\item[\code{reserved}] should reserved characters be encoded?  See
`Details'.
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
Characters in a URL other than the English alphanumeric characters and
\samp{\$ - \_ . + ! * ' ( ) ,} should be encoded as \code{\%}
plus a two-digit hexadecimal representation, and any single-byte
character can be so encoded. (Multi-byte characters are encoded as
byte-by-byte.)

In addition, \samp{; / ? : @ = \&} are reserved characters, and should
be encoded unless used in their reserved sense, which is scheme
specific.  The default in \code{URLencode} is to leave them alone, which
is appropriate for \samp{file://} URLs, but probably not for
\samp{http://} ones.
\end{Details}
%
\begin{Value}
A character string.
\end{Value}
%
\begin{References}\relax
RFC1738, \url{http://www.rfc-editor.org/rfc/rfc1738.txt}
\end{References}
%
\begin{Examples}
\begin{ExampleCode}
(y <- URLencode("a url with spaces and / and @"))
URLdecode(y)
(y <- URLencode("a url with spaces and / and @", reserved=TRUE))
URLdecode(y)
URLdecode("ab%20cd")
\end{ExampleCode}
\end{Examples}
\HeaderA{utils-deprecated}{Deprecated Functions in Package \pkg{utils}}{utils.Rdash.deprecated}
\aliasA{CRAN.packages}{utils-deprecated}{CRAN.packages}
\keyword{misc}{utils-deprecated}
%
\begin{Description}\relax
These functions are provided for compatibility with older versions of
\R{} only, and may be defunct as soon as of the next release.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
CRAN.packages(CRAN = getOption("repos"), method,
              contriburl = contrib.url(CRAN))

\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{CRAN}] character, an earlier way to specify a repository.
\item[\code{method}] Download method, see \code{\LinkA{download.file}{download.file}}.
\item[\code{contriburl}] URL(s) of the contrib section of the
repositories. Use this argument only if your CRAN mirror is
incomplete, e.g., because you burned only the \file{contrib} section on a
CD.  Overrides argument \code{repos}.
 
\end{ldescription}
\end{Arguments}
%
\begin{SeeAlso}\relax
\code{\LinkA{Deprecated}{Deprecated}}, \code{\LinkA{Defunct}{Defunct}}
\end{SeeAlso}
\HeaderA{View}{Invoke a Data Viewer}{View}
\keyword{utilities}{View}
%
\begin{Description}\relax
Invoke a spreadsheet-style data viewer on a matrix-like \R{} object.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
View(x, title)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{x}] an \R{} object which can be coerced to a data frame with
non-zero numbers of rows and columns.
\item[\code{title}] title for viewer window.  Defaults to name of \code{x}
prefixed by \code{Data:}.
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
Object \code{x} is coerced (if possible) to a data frame, and all
non-numeric columns are then coerced to character.   The object is
then viewed in a spreadsheet-like data viewer, a read-only version of
\code{\LinkA{data.entry}{data.entry}}.

If there are row names on the data frame that are not \code{1:nrow},
they are displayed in a separate first column called \code{row.names}.

Objects with zero columns or zero rows are not accepted.

The array of cells can be navigated \emph{via} the scrollbars and
by the cursor keys, Home, End, Page Up and Page Down.

The initial size of the data viewer window is taken from the default
dimensions of a pager (see \code{\LinkA{Rconsole}{Rconsole}}), but adjusted
downwards to show a whole number of rows and columns.  
\end{Details}
%
\begin{Value}
Invisible \code{NULL}.  The functions puts up a window and returns
immediately: the window can be closed via its controls or menus.
\end{Value}
%
\begin{SeeAlso}\relax
\code{\LinkA{edit.data.frame}{edit.data.frame}},
\code{\LinkA{data.entry}{data.entry}}.
\end{SeeAlso}
\HeaderA{vignette}{View or List Vignettes}{vignette}
\aliasA{edit.vignette}{vignette}{edit.vignette}
\aliasA{print.vignette}{vignette}{print.vignette}
\aliasA{vignettes}{vignette}{vignettes}
\keyword{documentation}{vignette}
%
\begin{Description}\relax
View a specified vignette, or list the available ones.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
vignette(topic, package = NULL, lib.loc = NULL, all = TRUE)

## S3 method for class 'vignette'
print(x, ...)
## S3 method for class 'vignette'
edit(name, ...)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{topic}] a character string giving the (base) name of the vignette
to view. If omitted, all vignettes from all installed packages are listed.
\item[\code{package}] a character vector with the names of packages to
search through, or \code{NULL} in which "all" packages (as defined
by argument \code{all}) are searched.
\item[\code{lib.loc}] a character vector of directory names of \R{} libraries,
or \code{NULL}.  The default value of \code{NULL} corresponds to all
libraries currently known.
\item[\code{all}] logical; if \code{TRUE} search
all available packages in the library trees specified by \code{lib.loc}, 
and if \code{FALSE}, search only attached packages.
\item[\code{x, name}] Object of class \code{vignette}.
\item[\code{...}] Ignored by the \code{print} method, passed on to
\code{\LinkA{file.edit}{file.edit}} by the \code{edit} method.
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
Function \code{vignette} returns an object of the same class, the
print method opens a viewer for it.
Currently, only PDF versions of vignettes can be viewed.
If several vignettes have PDF versions with base name identical to
\code{topic}, the first one found is used.

If no topics are given, all available vignettes are listed.  The
corresponding information is returned in an object of class
\code{"packageIQR"}.

The \code{edit} method
extracts the \R{} code from the vignette to a temporary file and
opens the file in an editor (see \code{\LinkA{edit}{edit}}). This makes it
very easy to execute the commands line by line, modify them in any way
you want to help you test variants, etc.. An alternative way of
extracting the \R{} code from the vignette is to run
\code{\LinkA{Stangle}{Stangle}} on the source code of the vignette,
see the examples below.
\end{Details}
%
\begin{SeeAlso}\relax
\code{\LinkA{browseVignettes}{browseVignettes}} for an HTML-based vignette browser.
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}
## List vignettes from all *attached* packages
vignette(all = FALSE)

## List vignettes from all *installed* packages (can take a long time!):
vignette(all = TRUE)

## Not run: 
## Open the grid intro vignette
vignette("grid")

## The same
v1 <- vignette("grid")
print(v1)

## Now let us have a closer look at the code
edit(v1)

## An alternative way of extracting the code,
## R file is written to current working directory
Stangle(v1$file)

## A package can have more than one vignette (package grid has several):
vignette(package="grid")
vignette("rotated")
## The same, but without searching for it:
vignette("rotated", package="grid")

## End(Not run)
\end{ExampleCode}
\end{Examples}
\HeaderA{winDialog}{Dialog Boxes under Windows}{winDialog}
\aliasA{winDialogString}{winDialog}{winDialogString}
\keyword{utilities}{winDialog}
%
\begin{Description}\relax
Put up a Windows dialog box to communicate with the user. There are
various types, either for the user to select from a set of buttons or
to edit a string.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
winDialog(type = c("ok", "okcancel", "yesno", "yesnocancel"),
          message)

winDialogString(message, default)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{type}] character. The type of dialog box. It will have the
buttons implied by its name.
\item[\code{message}] character. The information field of the dialog
box. Limited to 255 chars (by Windows, checked by R).
\item[\code{default}] character. The default string.
\end{ldescription}
\end{Arguments}
%
\begin{Value}
For \code{winDialog} a character string giving the name of the button
pressed (in capitals) or \code{NULL} (invisibly) if the user had no
choice.

For \code{winDialogString} a string giving the contents of the text
box when \code{Ok} was pressed, or \code{NULL} if \code{Cancel} was pressed.
\end{Value}
%
\begin{Note}\relax
The standard keyboard accelerators work with these dialog boxes:
where appropriate \code{Return} accepts the default action,
\code{Esc} cancels and the underlined initial letter (\code{Y} or
\code{N}) can be used.
\end{Note}
%
\begin{SeeAlso}\relax
\code{\LinkA{winMenuAdd}{winMenuAdd}}\\{}
\code{\LinkA{file.choose}{file.choose}} to select a file\\{}
package \code{windlgs} in the package source distribution for ways to
program dialogs in C in the \code{GraphApp} toolkit.
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}
## Not run: winDialog("yesno", "Is it OK to delete file blah")
\end{ExampleCode}
\end{Examples}
\HeaderA{winextras}{Auxiliary Functions for the Windows Port}{winextras}
\aliasA{win.version}{winextras}{win.version}
\keyword{utilities}{winextras}
%
\begin{Description}\relax
Auxiliary functions for the Windows port
\end{Description}
%
\begin{Usage}
\begin{verbatim}
win.version()
\end{verbatim}
\end{Usage}
%
\begin{Details}\relax
\code{win.version} is an auxiliary function for
\code{\LinkA{bug.report}{bug.report}} which returns a character string describing
the version of Windows in use.
\end{Details}
\HeaderA{winMenus}{User Menus under Windows}{winMenus}
\aliasA{winMenuAdd}{winMenus}{winMenuAdd}
\aliasA{winMenuAddItem}{winMenus}{winMenuAddItem}
\aliasA{winMenuDel}{winMenus}{winMenuDel}
\aliasA{winMenuDelItem}{winMenus}{winMenuDelItem}
\aliasA{winMenuItems}{winMenus}{winMenuItems}
\aliasA{winMenuNames}{winMenus}{winMenuNames}
\keyword{utilities}{winMenus}
%
\begin{Description}\relax
Enables users to add, delete and program menus under Windows.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
winMenuAdd(menuname)
winMenuAddItem(menuname, itemname, action)
winMenuDel(menuname)
winMenuDelItem(menuname, itemname)
winMenuNames()
winMenuItems(menuname)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{menuname}] a character string naming a menu.
\item[\code{itemname}] a character string naming a menu item on an existing menu.
\item[\code{action}] a character string describing the action when that menu
is selected, or \code{"enable"} or \code{"disable"}.
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
User menus are added to the right of existing menus, and items are
added at the bottom of the menu.

By default the action character string is treated as \R{} input, being
echoed on the command line and parsed and executed as usual.

If the \code{menuname} parameter of \code{winMenuAddItem} does not
already exist, it will be created automatically.

Normally new submenus and menu items are added to the main console
menu. They may be added elsewhere using the following special names:
\begin{description}

\item[\code{\$ConsoleMain}] The console menu (the default)
\item[\code{\$ConsolePopup}] The console popup menu
\item[\code{\$Graph<n>Main}] The menu for graphics window \code{<n>}
\item[\code{\$Graph<n>Popup}] The popup menu for graphics window 
\code{<n>}

\end{description}


Specifying an existing item in \code{winMenuAddItem} enables the
action to be changed.

Submenus can be specified by separating the elements in
\code{menuname} by slashes: as a consequence menu names may not
contain slashes.

If the \code{action} is specified as \code{"none"} no action is taken:
this can be useful to reserve items for future expansion.

The function \code{winMenuNames} can be used to find out what menus
have been created by the user and returns a vector of the existing
menu names.

The \code{winMenuItems} function will take the name of a menu and
return the items that exist in that menu.  The return value is a named
vector where the names correspond to the names of the items and the
values of the vector are the corresponding actions.

The \code{winMenuDel} function will delete a menu and all of its items
and submenus.  \code{winMenuDelItem} just deletes one menu item.

The total path to an item (menu string plus item string) cannot exceed
1000 bytes, and the menu string cannot exceed 500 bytes.
\end{Details}
%
\begin{Value}
\code{NULL}, invisibly.  If an error occurs, an informative error
message will be given.
\end{Value}
%
\begin{SeeAlso}\relax
\code{\LinkA{winDialog}{winDialog}}
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}
## Not run: 
winMenuAdd("Testit")
winMenuAddItem("Testit", "one", "aaaa")
winMenuAddItem("Testit", "two", "bbbb")
winMenuAdd("Testit/extras")
winMenuAddItem("Testit", "-", "")
winMenuAddItem("Testit", "two", "disable")
winMenuAddItem("Testit", "three", "cccc")
winMenuAddItem("Testit/extras", "one more", "ddd")
winMenuAddItem("Testit/extras", "and another", "eee")
winMenuAdd("$ConsolePopup/Testit")
winMenuAddItem("$ConsolePopup/Testit", "six", "fff")
winMenuNames()
winMenuItems("Testit")

## End(Not run)
\end{ExampleCode}
\end{Examples}
\HeaderA{winProgressBar}{Progress Bars under Windows}{winProgressBar}
\aliasA{close.winProgressBar}{winProgressBar}{close.winProgressBar}
\aliasA{getWinProgressBar}{winProgressBar}{getWinProgressBar}
\aliasA{setWinProgressBar}{winProgressBar}{setWinProgressBar}
\keyword{utilities}{winProgressBar}
%
\begin{Description}\relax
Put up a Windows progress bar widget.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
winProgressBar(title = "R progress bar", label = "",
               min = 0, max = 1, initial = 0, width = 300)

getWinProgressBar(pb)
setWinProgressBar(pb, value, title = NULL, label = NULL)
## S3 method for class 'winProgressBar'
close(con, ...)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{title, label}] character strings, giving the window title and the
label on the dialog box respectively.
\item[\code{min, max}] (finite) numeric values for the extremes of the
progress bar.
\item[\code{initial, value}] initial or new value for the progress bar.
\item[\code{width}] the width of the progress bar in pixels: the dialog box
will be 40 pixels wider (plus frame).
\item[\code{pb, con}] an object of class \code{"winProgressBar"}.
\item[\code{...}] for consistency with the generic.
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
\code{winProgressBar} will display a progress bar centred on the
screen.  Space will be allocated for the label only if it is non-empty.

\code{setWinProgessBar} will update the value and for non-\code{NULL}
values, the title and label (provided there was one when the widget
was created).  Missing (\code{\LinkA{NA}{NA}}) and out-of-range values of
\code{value} will be (silently) ignored.

The progress bar should be \code{close}d when finished with, but it
will be garbage-collected once no \R{} object refers to it. 
\end{Details}
%
\begin{Value}
For \code{winProgressBar} an object of class \code{"winProgressBar"}.

For \code{getWinProgressBar} and \code{setWinProgressBar}, a
length-one numeric vector giving the previous value (invisibly for
\code{setWinProgressBar}).
\end{Value}
%
\begin{SeeAlso}\relax
\code{\LinkA{txtProgressBar}{txtProgressBar}}, \code{\LinkA{tkProgressBar}{tkProgressBar}}
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}

pb <- winProgressBar("test progress bar", "Some information in %",
                     0, 100, 50)
Sys.sleep(0.5)
u <- c(0, sort(runif(20, 0 ,100)), 100)
for(i in u) {
    Sys.sleep(0.1)
    info <- sprintf("%d%% done", round(i))
    setWinProgressBar(pb, i, sprintf("test (%s)", info), info)
}
Sys.sleep(5)
close(pb)
\end{ExampleCode}
\end{Examples}
\HeaderA{write.table}{Data Output}{write.table}
\aliasA{write.csv}{write.table}{write.csv}
\aliasA{write.csv2}{write.table}{write.csv2}
\keyword{print}{write.table}
\keyword{file}{write.table}
%
\begin{Description}\relax
\code{write.table} prints its required argument \code{x} (after
converting it to a data frame if it is not one nor a matrix) to
a file or \LinkA{connection}{connection}.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
write.table(x, file = "", append = FALSE, quote = TRUE, sep = " ",
            eol = "\n", na = "NA", dec = ".", row.names = TRUE,
            col.names = TRUE, qmethod = c("escape", "double"),
            fileEncoding = "")

write.csv(...)
write.csv2(...)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{x}] the object to be written, preferably a matrix or data frame.
If not, it is attempted to coerce \code{x} to a data frame.
\item[\code{file}] either a character string naming a file or a \LinkA{connection}{connection}
open for writing.  \code{""} indicates output to the console.
\item[\code{append}] logical. Only relevant if \code{file} is a character
string.  If \code{TRUE}, the output is appended to the
file.  If \code{FALSE}, any existing file of the name is destroyed.
\item[\code{quote}] a logical value (\code{TRUE} or \code{FALSE}) or a
numeric vector.  If \code{TRUE}, any character or factor columns
will be surrounded by double quotes.  If a numeric vector, its
elements are taken as the indices of columns to quote.  In both
cases, row and column names are quoted if they are written.  If
\code{FALSE}, nothing is quoted.
\item[\code{sep}] the field separator string.  Values within each row of
\code{x} are separated by this string.
\item[\code{eol}] the character(s) to print at the end of each line (row).
For example, \code{eol="\bsl{}r\bsl{}n"} will produce Windows' line endings on
a Unix-alike OS, and \code{eol="\bsl{}r"} will produce files as expected by
Excel:mac 2004.
\item[\code{na}] the string to use for missing values in the data.
\item[\code{dec}] the string to use for decimal points in numeric or complex
columns: must be a single character.
\item[\code{row.names}] either a logical value indicating whether the row
names of \code{x} are to be written along with \code{x}, or a
character vector of row names to be written.
\item[\code{col.names}] either a logical value indicating whether the column
names of \code{x} are to be written along with \code{x}, or a
character vector of column names to be written.  See the section on
`CSV files' for the meaning of \code{col.names = NA}.
\item[\code{qmethod}] a character string specifying how to deal with embedded
double quote characters when quoting strings.  Must be one of
\code{"escape"} (default for \code{write.table}), in which case the
quote character is escaped in C style by a backslash, or
\code{"double"} (default for \code{write.csv} and
\code{write.csv2}), in which case it is doubled.  You can specify
just the initial letter.
\item[\code{fileEncoding}] character string: if non-empty declares the
encoding to be used on a file (not a connection) so the character data can
be re-encoded as they are written.  See \code{\LinkA{file}{file}}.

\item[\code{...}] arguments to \code{write.table}: \code{append},
\code{col.names}, \code{sep}, \code{dec} and \code{qmethod}
cannot be altered.

\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
If the table has no columns the rownames will be written only if
\code{row.names=TRUE}, and \emph{vice versa}.

Real and complex numbers are written to the maximal possible precision.

If a data frame has matrix-like columns these will be converted to
multiple columns in the result (\emph{via} \code{\LinkA{as.matrix}{as.matrix}})
and so a character \code{col.names} or a numeric \code{quote} should
refer to the columns in the result, not the input.  Such matrix-like
columns are unquoted by default.

Any columns in a data frame which are lists or have a class
(e.g. dates) will be converted by the appropriate \code{as.character}
method: such columns are unquoted by default.  On the other hand,
any class information for a matrix is discarded and non-atomic
(e.g. list) matrices are coerced to character.

Only columns which have been converted to character will be quoted if
specified by \code{quote}.

The \code{dec} argument only applies to columns that are not subject
to conversion to character because they have a class or are part of a
matrix-like column (or matrix), in particular to columns protected by
\code{\LinkA{I}{I}()}.  Use \code{\LinkA{options}{options}("OutDec")} to control
such conversions.

In almost all cases the conversion of numeric quantities is governed
by the option \code{"scipen"} (see \code{\LinkA{options}{options}}), but with
the internal equivalent of \code{digits=15}.  For finer control, use
\code{\LinkA{format}{format}} to make a character matrix/data frame, and call
\code{write.table} on that.

These functions check for a user interrupt every 1000 lines of output.

If \code{file} is a non-open connection, an attempt is made to open it
and then close it after use.

To write a Unix-style file on Windows, use a binary connection
e.g. \code{file = file("filename", "wb")}.
\end{Details}
%
\begin{Section}{CSV files}
By default there is no column name for a column of row names.  If
\code{col.names = NA} and \code{row.names = TRUE} a blank column name
is added, which is the convention used for CSV files to be read by
spreadsheets.  Note that such CSV files can be read in \R{} by
\begin{alltt}  read.csv(file = "<filename>", row.names = 1)\end{alltt}


\code{write.csv} and \code{write.csv2} provide convenience wrappers
for writing CSV files.  They set \code{sep} and \code{dec} (see
below), \code{qmethod = "double"}, and \code{col.names} to \code{NA}
if \code{row.names = TRUE} (the default) and to \code{TRUE} otherwise.

\code{write.csv} uses \code{"."} for the decimal point and a comma for
the separator.

\code{write.csv2} uses a comma for the decimal point and a semicolon for
the separator, the Excel convention for CSV files in some Western
European locales.

These wrappers are deliberately inflexible: they are designed to
ensure that the correct conventions are used to write a valid file.
Attempts to change \code{append}, \code{col.names}, \code{sep},
\code{dec} or \code{qmethod} are ignored, with a warning.

CSV files do not record an encoding, and this causes problems if they
are not ASCII for many other applications.  Windows Excel 2007/10 will
open files (e.g. by the file association mechanism) correctly if they
are ASCII or UTF-16 (use \code{fileEncoding = "UTF-16LE"}) or perhaps in
the current Windows codepage (e.g. \code{"CP1252"}), but the
`Text Import Wizard' (from the `Data' tab) allows far
more choice of encodings.  Excel:mac 2004/8 can \emph{import} only
Macintosh (which seems to mean MacRoman), Windows (perhaps Latin-1)
and `PC-8' files.  OpenOffice 3.x asks for the character set
when opening the file.

There is an IETF RFC4180 (\url{http://tools.ietf.org/html/rfc4180})
for CSV files, which mandates comma as the separator and CRLF line
endings.  \code{write.csv} writes compliant files on Windows: use
\code{eol="\bsl{}r\bsl{}n"} on other platforms.
\end{Section}
%
\begin{Note}\relax
\code{write.table} can be slow for data frames with large numbers
(hundreds or more) of columns: this is inevitable as each column could
be of a different class and so must be handled separately.  If they
are all of the same class, consider using a matrix instead.
\end{Note}
%
\begin{SeeAlso}\relax
The `R Data Import/Export' manual.

\code{\LinkA{read.table}{read.table}}, \code{\LinkA{write}{write}}.

\code{\LinkA{write.matrix}{write.matrix}} in package \Rhref{http://CRAN.R-project.org/package=MASS}{\pkg{MASS}}.
\end{SeeAlso}
%
\begin{Examples}
\begin{ExampleCode}
## Not run: 
## To write a CSV file for input to Excel one might use
x <- data.frame(a = I("a \" quote"), b = pi)
write.table(x, file = "foo.csv", sep = ",", col.names = NA,
            qmethod = "double")
## and to read this file back into R one needs
read.table("foo.csv", header = TRUE, sep = ",", row.names = 1)
## NB: you do need to specify a separator if qmethod = "double".

### Alternatively
write.csv(x, file = "foo.csv")
read.csv("foo.csv", row.names = 1)
## or without row names
write.csv(x, file = "foo.csv", row.names = FALSE)
read.csv("foo.csv")

## To write a file in MacRoman for simple use in Mac Excel 2004/8
write.csv(x, file = "foo.csv", fileEncoding = "macroman")
## or for Windows Excel 2007/10
write.csv(x, file = "foo.csv", fileEncoding = "UTF-16LE")

## End(Not run)
\end{ExampleCode}
\end{Examples}
\HeaderA{zip}{Create Zip archives}{zip}
\keyword{file}{zip}
\keyword{utilities}{zip}
%
\begin{Description}\relax
A wrapper for an external \command{zip} command to create zip archives.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
zip(zipfile, files, flags = "-r9X", extras = "",
    zip = Sys.getenv("R_ZIPCMD", "zip"))
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{zipfile}] The pathname of the zip file: tilde expansion (see
\code{\LinkA{path.expand}{path.expand}}) will be performed.
\item[\code{files}] A character vector of recorded filepaths to be included.
\item[\code{flags}] A character string of flags to be passed to the command:
see `Details'.
\item[\code{extras}] An optional character vector: see `Details'.
\item[\code{zip}] A character string specifying the external command to be used.
\end{ldescription}
\end{Arguments}
%
\begin{Details}\relax
On a Unix-alike, the default for \code{zip} will by default use the
value of \env{R\_ZIPCMD}, which is set in \file{etc/Renviron} if an
\code{unzip} command was found during configuration.  On Windows, the
default relies on a \command{zip} program (for example that from
Rtools) being in the path.

The default for \code{flags} is that appropriate for zipping up a
directory tree in a portable way: see the system-specific help for the
\command{zip} command for other possibilities.

Argument \code{extras} can be used to specify \code{-x} or \code{-i}
followed by a list of filepaths to exclude or include.
\end{Details}
%
\begin{Value}
The status value returned by the external command, invisibly.
\end{Value}
%
\begin{SeeAlso}\relax
\code{\LinkA{unzip}{unzip}}, \code{\LinkA{unz}{unz}}.
\end{SeeAlso}
\clearpage
